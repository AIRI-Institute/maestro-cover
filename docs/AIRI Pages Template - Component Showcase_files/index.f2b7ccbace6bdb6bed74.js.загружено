(()=>{var e,t,n,i,r={5618:(e,t,n)=>{"use strict";n.d(t,{qZ:()=>xe,fL:()=>Ze,kJ:()=>ge,Sy:()=>be,u0:()=>Ue,yk:()=>Te,Vy:()=>fe,ae:()=>ve});n(8668),n(9837),n(7293),n(2195),n(4401),n(3867),n(7821),n(752);var i=n(8091);function r(){r=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function h(e,t,n,i){var r=t&&t.prototype instanceof y?t:y,a=Object.create(r.prototype),o=new x(i||[]);return s(a,"_invoke",{value:T(e,n,o)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var v="suspendedStart",m="suspendedYield",_="executing",f="completed",g={};function y(){}function b(){}function E(){}var w={};d(w,l,(function(){return this}));var S=Object.getPrototypeOf,A=S&&S(S(O([])));A&&A!==n&&a.call(A,l)&&(w=A);var k=E.prototype=y.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(r,s,o,l){var u=p(e[r],e,s);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==(0,i.A)(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,l)}))}l(u.arg)}var r;s(this,"_invoke",{value:function(e,i){function a(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(a,a):a()}})}function T(t,n,i){var r=v;return function(a,s){if(r===_)throw Error("Generator is already running");if(r===f){if("throw"===a)throw s;return{value:e,done:!0}}for(i.method=a,i.arg=s;;){var o=i.delegate;if(o){var l=I(o,i);if(l){if(l===g)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===v)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=_;var u=p(t,n,i);if("normal"===u.type){if(r=i.done?f:m,u.arg===g)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=f,i.method="throw",i.arg=u.arg)}}}function I(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var a=p(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var s=a.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function n(){for(;++r<t.length;)if(a.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}throw new TypeError((0,i.A)(t)+" is not iterable")}return b.prototype=E,s(k,"constructor",{value:E,configurable:!0}),s(E,"constructor",{value:b,configurable:!0}),b.displayName=d(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,d(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},C(P.prototype),d(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var s=new P(h(e,n,i,r),a);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},C(k),d(k,c,"Generator"),d(k,l,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=O,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(i,r){return o.type="throw",o.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=a.call(s,"catchLoc"),u=a.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;L(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:O(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function a(e,t,n,i,r,a,s){try{var o=e[a](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(i,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function o(e){a(s,i,r,o,l,"next",e)}function l(e){a(s,i,r,o,l,"throw",e)}o(void 0)}))}}n(8995),n(5745),n(4233),n(1557),n(2358),n(9419),n(135),n(7863),n(5506),n(1399),n(2472),n(8898),n(3642),n(509),n(6986),n(1433),n(1e3),n(9020),n(8956),n(4924);var o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};function l(e,t,n,i){return new(n||(n=Promise))((function(r,a){function s(e){try{l(i.next(e))}catch(e){a(e)}}function o(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))}function u(e,t){var n,i,r,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}Object.create;function c(e,t,n){if(n||2===arguments.length)for(var i,r=0,a=t.length;r<a;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var d="3.4.2";function h(e,t){return new Promise((function(n){return setTimeout(n,e,t)}))}function p(e){return!!e&&"function"==typeof e.then}function v(e,t){try{var n=e();p(n)?n.then((function(e){return t(!0,e)}),(function(e){return t(!1,e)})):t(!0,n)}catch(e){t(!1,e)}}function m(e,t,n){return void 0===n&&(n=16),l(this,void 0,void 0,(function(){var i,r,a,s;return u(this,(function(o){switch(o.label){case 0:i=Array(e.length),r=Date.now(),a=0,o.label=1;case 1:return a<e.length?(i[a]=t(e[a],a),(s=Date.now())>=r+n?(r=s,[4,h(0)]):[3,3]):[3,4];case 2:o.sent(),o.label=3;case 3:return++a,[3,1];case 4:return[2,i]}}))}))}function _(e){e.then(void 0,(function(){}))}function f(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function g(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function y(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function b(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function E(e,t){return[e[0]^t[0],e[1]^t[1]]}function w(e){return e=E(e,[0,e[0]>>>1]),e=E(e=g(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=E(e=g(e,[3301882366,444984403]),[0,e[0]>>>1])}function S(e,t){t=t||0;var n,i=(e=e||"").length%16,r=e.length-i,a=[0,t],s=[0,t],o=[0,0],l=[0,0],u=[2277735313,289559509],c=[1291169091,658871167];for(n=0;n<r;n+=16)o=[255&e.charCodeAt(n+4)|(255&e.charCodeAt(n+5))<<8|(255&e.charCodeAt(n+6))<<16|(255&e.charCodeAt(n+7))<<24,255&e.charCodeAt(n)|(255&e.charCodeAt(n+1))<<8|(255&e.charCodeAt(n+2))<<16|(255&e.charCodeAt(n+3))<<24],l=[255&e.charCodeAt(n+12)|(255&e.charCodeAt(n+13))<<8|(255&e.charCodeAt(n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e.charCodeAt(n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e.charCodeAt(n+11))<<24],o=y(o=g(o,u),31),a=f(a=y(a=E(a,o=g(o,c)),27),s),a=f(g(a,[0,5]),[0,1390208809]),l=y(l=g(l,c),33),s=f(s=y(s=E(s,l=g(l,u)),31),a),s=f(g(s,[0,5]),[0,944331445]);switch(o=[0,0],l=[0,0],i){case 15:l=E(l,b([0,e.charCodeAt(n+14)],48));case 14:l=E(l,b([0,e.charCodeAt(n+13)],40));case 13:l=E(l,b([0,e.charCodeAt(n+12)],32));case 12:l=E(l,b([0,e.charCodeAt(n+11)],24));case 11:l=E(l,b([0,e.charCodeAt(n+10)],16));case 10:l=E(l,b([0,e.charCodeAt(n+9)],8));case 9:l=g(l=E(l,[0,e.charCodeAt(n+8)]),c),s=E(s,l=g(l=y(l,33),u));case 8:o=E(o,b([0,e.charCodeAt(n+7)],56));case 7:o=E(o,b([0,e.charCodeAt(n+6)],48));case 6:o=E(o,b([0,e.charCodeAt(n+5)],40));case 5:o=E(o,b([0,e.charCodeAt(n+4)],32));case 4:o=E(o,b([0,e.charCodeAt(n+3)],24));case 3:o=E(o,b([0,e.charCodeAt(n+2)],16));case 2:o=E(o,b([0,e.charCodeAt(n+1)],8));case 1:o=g(o=E(o,[0,e.charCodeAt(n)]),u),a=E(a,o=g(o=y(o,31),c))}return a=f(a=E(a,[0,e.length]),s=E(s,[0,e.length])),s=f(s,a),a=f(a=w(a),s=w(s)),s=f(s,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)}function A(e){return parseInt(e)}function k(e){return parseFloat(e)}function C(e,t){return"number"==typeof e&&isNaN(e)?t:e}function P(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}function T(e,t){if(void 0===t&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function I(e){return e&&"object"==typeof e&&"message"in e?e:{message:e}}function R(e){return"function"!=typeof e}function L(e,t,n){var i=Object.keys(e).filter((function(e){return!function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return!0;return!1}(n,e)})),r=m(i,(function(n){return function(e,t){var n=new Promise((function(n){var i=Date.now();v(e.bind(null,t),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Date.now()-i;if(!e[0])return n((function(){return{error:I(e[1]),duration:r}}));var a=e[1];if(R(a))return n((function(){return{value:a,duration:r}}));n((function(){return new Promise((function(e){var t=Date.now();v(a,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=r+Date.now()-t;if(!n[0])return e({error:I(n[1]),duration:a});e({value:n[1],duration:a})}))}))}))}))}));return _(n),function(){return n.then((function(e){return e()}))}}(e[n],t)}));return _(r),function(){return l(this,void 0,void 0,(function(){var e,t,n,a;return u(this,(function(s){switch(s.label){case 0:return[4,r];case 1:return[4,m(s.sent(),(function(e){var t=e();return _(t),t}))];case 2:return e=s.sent(),[4,Promise.all(e)];case 3:for(t=s.sent(),n={},a=0;a<i.length;++a)n[i[a]]=t[a];return[2,n]}}))}))}}function x(){var e=window,t=navigator;return P(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function O(){var e=window,t=navigator;return P(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function N(){var e=window,t=navigator;return P(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function D(){var e=window;return P(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function M(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function B(){var e=O(),t=function(){var e,t,n=window;return P(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}();if(!e&&!t)return!1;var n=window;return P(["onorientationchange"in n,"orientation"in n,e&&!("SharedWorker"in n),t&&/android/i.test(navigator.appVersion)])>=2}function F(e){var t=new Error(e);return t.name=e,t}function H(e,t,n){var i,r,a;return void 0===n&&(n=50),l(this,void 0,void 0,(function(){var s,o;return u(this,(function(l){switch(l.label){case 0:s=document,l.label=1;case 1:return s.body?[3,3]:[4,h(n)];case 2:return l.sent(),[3,1];case 3:o=s.createElement("iframe"),l.label=4;case 4:return l.trys.push([4,,10,11]),[4,new Promise((function(e,n){var i=!1,r=function(){i=!0,e()};o.onload=r,o.onerror=function(e){i=!0,n(e)};var a=o.style;a.setProperty("display","block","important"),a.position="absolute",a.top="0",a.left="0",a.visibility="hidden",t&&"srcdoc"in o?o.srcdoc=t:o.src="about:blank",s.body.appendChild(o);var l=function(){var e,t;i||("complete"===(null===(t=null===(e=o.contentWindow)||void 0===e?void 0:e.document)||void 0===t?void 0:t.readyState)?r():setTimeout(l,10))};l()}))];case 5:l.sent(),l.label=6;case 6:return(null===(r=null===(i=o.contentWindow)||void 0===i?void 0:i.document)||void 0===r?void 0:r.body)?[3,8]:[4,h(n)];case 7:return l.sent(),[3,6];case 8:return[4,e(o,o.contentWindow)];case 9:return[2,l.sent()];case 10:return null===(a=o.parentNode)||void 0===a||a.removeChild(o),[7];case 11:return[2]}}))}))}function V(e){for(var t=function(e){for(var t,n,i="Unexpected syntax '".concat(e,"'"),r=/^\s*([a-z-]*)(.*)$/i.exec(e),a=r[1]||void 0,s={},o=/([.:#][\w-]+|\[.+?\])/gi,l=function(e,t){s[e]=s[e]||[],s[e].push(t)};;){var u=o.exec(r[2]);if(!u)break;var c=u[0];switch(c[0]){case".":l("class",c.slice(1));break;case"#":l("id",c.slice(1));break;case"[":var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(c);if(!d)throw new Error(i);l(d[1],null!==(n=null!==(t=d[4])&&void 0!==t?t:d[5])&&void 0!==n?n:"");break;default:throw new Error(i)}}return[a,s]}(e),n=t[0],i=t[1],r=document.createElement(null!=n?n:"div"),a=0,s=Object.keys(i);a<s.length;a++){var o=s[a],l=i[o].join(" ");"style"===o?U(r.style,l):r.setAttribute(o,l)}return r}function U(e,t){for(var n=0,i=t.split(";");n<i.length;n++){var r=i[n],a=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(r);if(a){var s=a[1],o=a[2],l=a[4];e.setProperty(s,o,l||"")}}}var j=["monospace","sans-serif","serif"],W=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function z(e){return e.toDataURL()}var $,G;function q(){var e=this;return function(){if(void 0===G){var e=function(){var t=K();Y(t)?G=setTimeout(e,2500):($=t,G=void 0)};e()}}(),function(){return l(e,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return Y(e=K())?$?[2,c([],$,!0)]:(n=document).fullscreenElement||n.msFullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement?[4,M()]:[3,2]:[3,2];case 1:t.sent(),e=K(),t.label=2;case 2:return Y(e)||($=e),[2,e]}var n}))}))}}function K(){var e=screen;return[C(k(e.availTop),null),C(k(e.width)-k(e.availWidth)-C(k(e.availLeft),0),null),C(k(e.height)-k(e.availHeight)-C(k(e.availTop),0),null),C(k(e.availLeft),null)]}function Y(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function Q(e){var t;return l(this,void 0,void 0,(function(){var n,i,r,a,s,o,l;return u(this,(function(u){switch(u.label){case 0:for(n=document,i=n.createElement("div"),r=new Array(e.length),a={},X(i),l=0;l<e.length;++l)"DIALOG"===(s=V(e[l])).tagName&&s.show(),X(o=n.createElement("div")),o.appendChild(s),i.appendChild(o),r[l]=s;u.label=1;case 1:return n.body?[3,3]:[4,h(50)];case 2:return u.sent(),[3,1];case 3:n.body.appendChild(i);try{for(l=0;l<e.length;++l)r[l].offsetParent||(a[e[l]]=!0)}finally{null===(t=i.parentNode)||void 0===t||t.removeChild(i)}return[2,a]}}))}))}function X(e){e.style.setProperty("display","block","important")}function Z(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function J(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}function ee(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function te(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function ne(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var ie=Math,re=function(){return 0};var ae={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};var se={fonts:function(){return H((function(e,t){var n=t.document,i=n.body;i.style.fontSize="48px";var r=n.createElement("div"),a={},s={},o=function(e){var t=n.createElement("span"),i=t.style;return i.position="absolute",i.top="0",i.left="0",i.fontFamily=e,t.textContent="mmMwWLliI0O&1",r.appendChild(t),t},l=j.map(o),u=function(){for(var e={},t=function(t){e[t]=j.map((function(e){return function(e,t){return o("'".concat(e,"',").concat(t))}(t,e)}))},n=0,i=W;n<i.length;n++){t(i[n])}return e}();i.appendChild(r);for(var c=0;c<j.length;c++)a[j[c]]=l[c].offsetWidth,s[j[c]]=l[c].offsetHeight;return W.filter((function(e){return t=u[e],j.some((function(e,n){return t[n].offsetWidth!==a[e]||t[n].offsetHeight!==s[e]}));var t}))}))},domBlockers:function(e){var t=(void 0===e?{}:e).debug;return l(this,void 0,void 0,(function(){var e,n,i,r,a;return u(this,(function(s){switch(s.label){case 0:return N()||B()?(o=atob,e={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',o("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",o("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",o("LnNwb25zb3JpdA=="),".ylamainos",o("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),o("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",o("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",o("LmhlYWRlci1ibG9ja2VkLWFk"),o("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",o("I2FkXzMwMFgyNTA="),o("I2Jhbm5lcmZsb2F0MjI="),o("I2NhbXBhaWduLWJhbm5lcg=="),o("I0FkLUNvbnRlbnQ=")],adGuardChinese:[o("LlppX2FkX2FfSA=="),o("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",o("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),o("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",o("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",o("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",o("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),o("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),o("LmFkZ29vZ2xl"),o("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[o("YW1wLWF1dG8tYWRz"),o("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",o("I2FkX2ludmlld19hcmVh")],adGuardRussian:[o("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),o("LnJlY2xhbWE="),'div[id^="smi2adblock"]',o("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[o("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),o("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",o("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),o("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),o("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",o("I3Jla2xhbWk="),o("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),o("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),o("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[o("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",o("LndpZGdldF9wb19hZHNfd2lkZ2V0"),o("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",o("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[o("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),o("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",o("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",o("I3Jla2xhbW5pLWJveA=="),o("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",o("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[o("I2FkdmVydGVudGll"),o("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",o("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",o("LnNwb25zb3JsaW5rZ3J1ZW4="),o("I3dlcmJ1bmdza3k="),o("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),o("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[o("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",o("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),o("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),o("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[o("LnJla2xhbW9zX3RhcnBhcw=="),o("LnJla2xhbW9zX251b3JvZG9z"),o("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),o("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),o("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[o("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[o("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),o("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",o("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[o("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),o("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),o("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",o("LmFkX19tYWlu"),o("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[o("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[o("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),o("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[o("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),o("I2xpdmVyZUFkV3JhcHBlcg=="),o("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),o("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[o("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",o("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),o("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),o("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[o("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),o("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),o("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",o("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),o("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),o("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),o("ZGl2I3NrYXBpZWNfYWQ=")],ro:[o("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),o("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),o("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),o("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[o("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),o("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),o("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",o("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),o("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",o("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]},n=Object.keys(e),[4,Q((a=[]).concat.apply(a,n.map((function(t){return e[t]}))))]):[2,void 0];case 1:return i=s.sent(),t&&function(e,t){for(var n="DOM blockers debug:\n```",i=0,r=Object.keys(e);i<r.length;i++){var a=r[i];n+="\n".concat(a,":");for(var s=0,o=e[a];s<o.length;s++){var l=o[s];n+="\n  ".concat(t[l]?"ðŸš«":"âž¡ï¸"," ").concat(l)}}console.log("".concat(n,"\n```"))}(e,i),(r=n.filter((function(t){var n=e[t];return P(n.map((function(e){return i[e]})))>.6*n.length}))).sort(),[2,r]}var o}))}))},fontPreferences:function(){return function(e,t){void 0===t&&(t=4e3);return H((function(n,i){var r=i.document,a=r.body,s=a.style;s.width="".concat(t,"px"),s.webkitTextSizeAdjust=s.textSizeAdjust="none",O()?a.style.zoom="".concat(1/i.devicePixelRatio):N()&&(a.style.zoom="reset");var o=r.createElement("div");return o.textContent=c([],Array(t/20|0),!0).map((function(){return"word"})).join(" "),a.appendChild(o),e(r,a)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}((function(e,t){for(var n={},i={},r=0,a=Object.keys(ae);r<a.length;r++){var s=a[r],o=ae[s],l=o[0],u=void 0===l?{}:l,c=o[1],d=void 0===c?"mmMwWLliI0fiflO&1":c,h=e.createElement("span");h.textContent=d,h.style.whiteSpace="nowrap";for(var p=0,v=Object.keys(u);p<v.length;p++){var m=v[p],_=u[m];void 0!==_&&(h.style[m]=_)}n[s]=h,t.appendChild(e.createElement("br")),t.appendChild(h)}for(var f=0,g=Object.keys(ae);f<g.length;f++){i[s=g[f]]=n[s].getBoundingClientRect().width}return i}))},audio:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(N()&&!D()&&!function(){var e=window;return P(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}())return-1;var n=new t(1,5e3,44100),i=n.createOscillator();i.type="triangle",i.frequency.value=1e4;var r=n.createDynamicsCompressor();r.threshold.value=-50,r.knee.value=40,r.ratio.value=12,r.attack.value=0,r.release.value=.25,i.connect(r),r.connect(n.destination),i.start(0);var a=function(e){var t=3,n=500,i=500,r=5e3,a=function(){},s=new Promise((function(s,o){var l=!1,u=0,c=0;e.oncomplete=function(e){return s(e.renderedBuffer)};var d=function(){setTimeout((function(){return o(F("timeout"))}),Math.min(i,c+r-Date.now()))},h=function(){try{var i=e.startRendering();switch(p(i)&&_(i),e.state){case"running":c=Date.now(),l&&d();break;case"suspended":document.hidden||u++,l&&u>=t?o(F("suspended")):setTimeout(h,n)}}catch(e){o(e)}};h(),a=function(){l||(l=!0,c>0&&d())}}));return[s,a]}(n),s=a[0],o=a[1],l=s.then((function(e){return function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}(e.getChannelData(0).subarray(4500))}),(function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e}));return _(l),function(){return o(),l}},screenFrame:function(){var e=this,t=q();return function(){return l(e,void 0,void 0,(function(){var e,n;return u(this,(function(i){switch(i.label){case 0:return[4,t()];case 1:return e=i.sent(),[2,[(n=function(e){return null===e?null:T(e,10)})(e[0]),n(e[1]),n(e[2]),n(e[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var e,t=navigator,n=[],i=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(void 0!==i&&n.push([i]),Array.isArray(t.languages))O()&&P([!("MediaSettingsRange"in(e=window)),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3||n.push(t.languages);else if("string"==typeof t.languages){var r=t.languages;r&&n.push(r.split(","))}return n},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return C(k(navigator.deviceMemory),void 0)},screenResolution:function(){var e=screen,t=function(e){return C(A(e),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n},hardwareConcurrency:function(){return C(A(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var n=(new t).resolvedOptions().timeZone;if(n)return n}var i,r=(i=(new Date).getFullYear(),-Math.max(k(new Date(i,0,1).getTimezoneOffset()),k(new Date(i,6,1).getTimezoneOffset())));return"UTC".concat(r>=0?"+":"").concat(Math.abs(r))},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){var e,t;if(!(x()||(e=window,t=navigator,P(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!x())))try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&N()&&!D()?function(){if("iPad"===navigator.platform)return!0;var e=screen,t=e.width/e.height;return P(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];if(i){for(var r=[],a=0;a<i.length;++a){var s=i[a];r.push({type:s.type,suffixes:s.suffixes})}t.push({name:i.name,description:i.description,mimeTypes:r})}}return t}},canvas:function(){var e,t,n=!1,i=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}(),r=i[0],a=i[1];if(function(e,t){return!(!t||!e.toDataURL)}(r,a)){n=function(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}(a),function(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}(r,a);var s=z(r);s!==z(r)?e=t="unstable":(t=s,function(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,i=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<i.length;n++){var r=i[n],a=r[0],s=r[1],o=r[2];t.fillStyle=a,t.beginPath(),t.arc(s,o,40,0,2*Math.PI,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd")}(r,a),e=z(r))}else e=t="";return{winding:n,geometry:e,text:t}},touchSupport:function(){var e,t=navigator,n=0;void 0!==t.maxTouchPoints?n=A(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(n=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var i=n[t],r=window[i];r&&"object"==typeof r&&e.push(i)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}},invertedColors:function(){return!!Z("inverted")||!Z("none")&&void 0},forcedColors:function(){return!!J("active")||!J("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}},contrast:function(){return ee("no-preference")?0:ee("high")||ee("more")?1:ee("low")||ee("less")?-1:ee("forced")?10:void 0},reducedMotion:function(){return!!te("reduce")||!te("no-preference")&&void 0},hdr:function(){return!!ne("high")||!ne("standard")&&void 0},math:function(){var e,t=ie.acos||re,n=ie.acosh||re,i=ie.asin||re,r=ie.asinh||re,a=ie.atanh||re,s=ie.atan||re,o=ie.sin||re,l=ie.sinh||re,u=ie.cos||re,c=ie.cosh||re,d=ie.tan||re,h=ie.tanh||re,p=ie.exp||re,v=ie.expm1||re,m=ie.log1p||re;return{acos:t(.12312423423423424),acosh:n(1e308),acoshPf:(e=1e154,ie.log(e+ie.sqrt(e*e-1))),asin:i(.12312423423423424),asinh:r(1),asinhPf:function(e){return ie.log(e+ie.sqrt(e*e+1))}(1),atanh:a(.5),atanhPf:function(e){return ie.log((1+e)/(1-e))/2}(.5),atan:s(.5),sin:o(-1e300),sinh:l(1),sinhPf:function(e){return ie.exp(e)-1/ie.exp(e)/2}(1),cos:u(10.000000000123),cosh:c(1),coshPf:function(e){return(ie.exp(e)+1/ie.exp(e))/2}(1),tan:d(-1e300),tanh:h(1),tanhPf:function(e){return(ie.exp(2*e)-1)/(ie.exp(2*e)+1)}(1),exp:p(1),expm1:v(1),expm1Pf:function(e){return ie.exp(e)-1}(1),log1p:m(10),log1pPf:function(e){return ie.log(1+e)}(10),powPI:function(e){return ie.pow(ie.PI,e)}(-100)}},videoCard:function(){var e,t=document.createElement("canvas"),n=null!==(e=t.getContext("webgl"))&&void 0!==e?e:t.getContext("experimental-webgl");if(n&&"getExtension"in n){var i=n.getExtension("WEBGL_debug_renderer_info");if(i)return{vendor:(n.getParameter(i.UNMASKED_VENDOR_WEBGL)||"").toString(),renderer:(n.getParameter(i.UNMASKED_RENDERER_WEBGL)||"").toString()}}},pdfViewerEnabled:function(){return navigator.pdfViewerEnabled},architecture:function(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}};function oe(e){var t=function(e){if(B())return.4;if(N())return D()?.5:.3;var t=e.platform.value||"";if(/^Win/.test(t))return.6;if(/^Mac/.test(t))return.5;return.7}(e),n=function(e){return T(.99+.01*e,1e-4)}(t);return{score:t,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,"".concat(n))}}function le(e){return JSON.stringify(e,(function(e,t){return t instanceof Error?o({name:(n=t).name,message:n.message,stack:null===(i=n.stack)||void 0===i?void 0:i.split("\n")},n):t;var n,i}),2)}function ue(e){return S(function(e){for(var t="",n=0,i=Object.keys(e).sort();n<i.length;n++){var r=i[n],a=e[r],s=a.error?"error":JSON.stringify(a.value);t+="".concat(t?"|":"").concat(r.replace(/([:|\\])/g,"\\$1"),":").concat(s)}return t}(e))}function ce(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise((function(e){return n.call(window,(function(){return e()}),{timeout:t})})):h(Math.min(e,t))}(e,2*e)}function de(e,t){var n=Date.now();return{get:function(i){return l(this,void 0,void 0,(function(){var r,a,s;return u(this,(function(o){switch(o.label){case 0:return r=Date.now(),[4,e()];case 1:return a=o.sent(),s=function(e){var t,n=oe(e);return{get visitorId(){return void 0===t&&(t=ue(this.components)),t},set visitorId(e){t=e},confidence:n,components:e,version:d}}(a),(t||(null==i?void 0:i.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(s.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(r-n,"\nvisitorId: ").concat(s.visitorId,"\ncomponents: ").concat(le(a),"\n```")),[2,s]}}))}))}}}var he,pe={load:function(e){var t=void 0===e?{}:e,n=t.delayFallback,i=t.debug,r=t.monitoring,a=void 0===r||r;return l(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return a&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(d,"/npm-monitoring"),!0),e.send()}catch(e){console.error(e)}}(),[4,ce(n)];case 1:return e.sent(),[2,de(L(se,{debug:i},[]),i)]}}))}))},hashComponents:ue,componentsToDebugString:le},ve={getItem:function(e){try{return localStorage.getItem(e)}catch(e){console.error(e)}},setItem:function(e,t){try{return localStorage.setItem(e,String(t))}catch(e){console.error(e)}}},me="fingerprintId",_e="fingerprint-not-initialized",fe=function(){var e=s(r().mark((function e(){var t,n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=ve.getItem(me))){e.next=4;break}return _e=t,e.abrupt("return");case 4:return e.next=6,pe.load();case 6:return n=e.sent,e.next=9,n.get();case 9:i=e.sent,_e=i.visitorId,ve.setItem(me,_e);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){return ve.getItem(me)||_e},ye=(n(8471),n(8894)),be=function(e){if(!e)return 0;var t=e.trim().split(":").reverse(),n=(0,ye.A)(t,3),i=n[0],r=n[1],a=n[2];return+i+60*+r+(a?3600*+a:0)},Ee=n(7180),we=n(4766),Se=n(4853),Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rutube.ru",t="undefined"!=typeof location&&location.hostname?location.hostname:e,n=t.split(".");return n.length>2?[""].concat((0,Se.A)(n.slice(-2))).join("."):".".concat(t)},ke=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}},Ce=function(e){var t=Ae(),n=!0;Ee.A.set("uuid",e,{expires:400,path:"/",secure:n,sameSite:"none",domain:t})},Pe=ke(Ce),Te=function(){var e=Ee.A.get("uuid");return e?(Pe(e),e):(e=(0,we.A)(),Ce(e),e)},Ie=["pub_300x250","pub_300x250m","pub_728x90","text-ad","textAd","text_ad","text_ads","text-ads","text-ad-links","ad-text","adSense","adBlock","adContent","adBanner"],Re=function(){return fetch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/static/img/png/adsdkbanner.png").then((function(){return!1})).catch((function(){return!0}))},Le=function(){var e,t=((e=document.createElement("div")).setAttribute("class",Ie.join(" ")),e.setAttribute("style","width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"),e);window.document.body.appendChild(t);var n=function(e){if(null===e.offsetParent||0===e.offsetHeight||0===e.offsetLeft||0===e.offsetTop||0===e.offsetWidth||0===e.clientHeight||0===e.clientWidth)return!0;if(void 0!==window.getComputedStyle){var t=window.getComputedStyle(e,null);if(t&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility")))return!0}return!1}(t);return window.document.body.removeChild(t),n},xe=function(){var e=s(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Le()){e.next=3;break}return e.abrupt("return",Re(t));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=n(6598),Ne=n(3408),De=n(2412),Me=n.n(De),Be=function(){function e(t){(0,Oe.A)(this,e),this.name=t}return(0,Ne.A)(e,[{key:"read",value:function(){return Ee.A.get(this.name)}},{key:"write",value:function(e,t){var n=Ae();Ee.A.set(this.name,e,{expires:t,sameSite:"None",secure:!0,domain:n})}}]),e}(),Fe=function(){function e(t){(0,Oe.A)(this,e),this.name=t}return(0,Ne.A)(e,[{key:"safeGet",value:function(){try{return localStorage.getItem(this.name)}catch(e){return null}}},{key:"read",value:function(){var t=e.parseValue(this.safeGet());if(null!=t){var n=Me()(t.expires);if(!(!n.isValid()||n.isBefore(new Date)))return t.value}}},{key:"write",value:function(t,n){ve.setItem(this.name,e.stringifyValue({value:t,expires:n.toISOString()}))}},{key:"getExpires",value:function(){var t;return null===(t=e.parseValue(this.safeGet()))||void 0===t?void 0:t.expires}}],[{key:"parseValue",value:function(e){if(null==e)return null;try{var t=JSON.parse(e);return null!=t&&"string"==typeof t.value&&"string"==typeof t.expires?{value:t.value,expires:t.expires}:null}catch(e){return null}}},{key:"stringifyValue",value:function(e){return JSON.stringify(e)}}]),e}(),He=function(e,t){var n=function(e){return"".concat(e,"_").concat(Date.now())}(e);return t(n),n},Ve="session_id",Ue=(he=new(function(){function e(t){(0,Oe.A)(this,e),this._value=void 0,this._expires=null,this.name=t}return(0,Ne.A)(e,[{key:"read",value:function(){var e=Me()(this._expires);if(!(!e.isValid()||e.isBefore(new Date)))return this._value}},{key:"write",value:function(e,t){this._value=e,this._expires=t}}]),e}())(Ve),function(e,t){var n,i=[new Be(Ve),new Fe(Ve),he],r=i.map((function(e){return e.read()})).find((function(e){return e})),a=null!=r?r:He(e,t),s=(n=1800,Me()().add(n,"second").toDate());return i.forEach((function(e){e.write(a,s)})),a}),je="cid",We=/^\d{20}$/,ze=function(){var e="undefined"!=typeof document&&document.cookie||"",t=e.split("; ").filter((function(e){return e.trim().startsWith("".concat(je,"="))})).map((function(e){return e.split("=")[1]})).filter((function(e){return We.test(e)}));if(t.length){var n=Ae(),i=n.substring(1);if(Ee.A.remove(je),Ee.A.remove(je,{domain:i}),t.length>1){var r=function(e){return e.reduce((function(e,t){var n=Number(e.substring(e.length-10));return Number(t.substring(t.length-10))<n?t:e}))}(t);Ee.A.set(je,r,{expires:400,sameSite:"None",secure:!0,domain:n})}}},$e="cid",Ge=function(){function e(t){(0,Oe.A)(this,e),this.name=t}return(0,Ne.A)(e,[{key:"read",value:function(){return Ee.A.get(this.name)}},{key:"write",value:function(e){var t=Ae();Ee.A.set(this.name,e,{expires:400,sameSite:"None",secure:!0,domain:t})}}]),e}(),qe=function(){function e(t){(0,Oe.A)(this,e),this.name=t}return(0,Ne.A)(e,[{key:"read",value:function(){var e;return null!==(e=ve.getItem(this.name))&&void 0!==e?e:void 0}},{key:"write",value:function(e){ve.setItem(this.name,e)}}]),e}(),Ke=function(){function e(t){(0,Oe.A)(this,e),this._value=void 0,this.name=t}return(0,Ne.A)(e,[{key:"read",value:function(){var e;return null!==(e=this._value)&&void 0!==e?e:void 0}},{key:"write",value:function(e){this._value=e}}]),e}(),Ye=function(e){var t=[Math.trunc(Math.random()*Math.pow(10,10)),Math.trunc(Date.now()/1e3)].join("");return"function"==typeof e&&e(t),t},Qe=function(){var e=new Ke($e);return function(t){ze();var n=new Ge($e),i=new qe($e),r=n.read(),a=i.read(),s=e.read();if(!r&&!a&&!s){var o=Ye(t);return i.write(o),n.write(o),e.write(o),o}return!s||r||a?r&&a&&r!==a?(i.write(r),e.write(r),r):a&&!r?(n.write(a),e.write(a),a):r&&!a?(i.write(r),e.write(r),r):r:s}}(),Xe=ke((function(e){var t=Ae();Ee.A.set($e,e,{expires:400,sameSite:"None",secure:!0,domain:t})})),Ze=function(){var e=Qe();return Xe(e),e};n(9067),n(8717)},1871:(e,t,n)=>{"use strict";n.d(t,{e0:()=>Be,m0:()=>Le});var i=n(9067),r=(n(7293),n(2195),n(752),n(9845)),a=n(451),s=n.n(a),o=n(8717),l=n(8572);n(4401),n(3867),n(7821);function u(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function c(e){return e instanceof u(e).Element||e instanceof Element}function d(e){return e instanceof u(e).HTMLElement||e instanceof HTMLElement}function h(e){return"undefined"!=typeof ShadowRoot&&(e instanceof u(e).ShadowRoot||e instanceof ShadowRoot)}var p=Math.max,v=Math.min,m=Math.round;n(2358);function _(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function f(){return!/^((?!chrome|android).)*safari/i.test(_())}function g(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),r=1,a=1;t&&d(e)&&(r=e.offsetWidth>0&&m(i.width)/e.offsetWidth||1,a=e.offsetHeight>0&&m(i.height)/e.offsetHeight||1);var s=(c(e)?u(e):window).visualViewport,o=!f()&&n,l=(i.left+(o&&s?s.offsetLeft:0))/r,h=(i.top+(o&&s?s.offsetTop:0))/a,p=i.width/r,v=i.height/a;return{width:p,height:v,top:h,right:l+p,bottom:h+v,left:l,x:l,y:h}}function y(e){var t=u(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function b(e){return e?(e.nodeName||"").toLowerCase():null}function E(e){return((c(e)?e.ownerDocument:e.document)||window.document).documentElement}function w(e){return g(E(e)).left+y(e).scrollLeft}function S(e){return u(e).getComputedStyle(e)}function A(e){var t=S(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function k(e,t,n){void 0===n&&(n=!1);var i,r,a=d(t),s=d(t)&&function(e){var t=e.getBoundingClientRect(),n=m(t.width)/e.offsetWidth||1,i=m(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),o=E(t),l=g(e,s,n),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(a||!a&&!n)&&(("body"!==b(t)||A(o))&&(c=(i=t)!==u(i)&&d(i)?{scrollLeft:(r=i).scrollLeft,scrollTop:r.scrollTop}:y(i)),d(t)?((h=g(t,!0)).x+=t.clientLeft,h.y+=t.clientTop):o&&(h.x=w(o))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function C(e){var t=g(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function P(e){return"html"===b(e)?e:e.assignedSlot||e.parentNode||(h(e)?e.host:null)||E(e)}function T(e){return["html","body","#document"].indexOf(b(e))>=0?e.ownerDocument.body:d(e)&&A(e)?e:T(P(e))}function I(e,t){var n;void 0===t&&(t=[]);var i=T(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),a=u(i),s=r?[a].concat(a.visualViewport||[],A(i)?i:[]):i,o=t.concat(s);return r?o:o.concat(I(P(s)))}function R(e){return["table","td","th"].indexOf(b(e))>=0}function L(e){return d(e)&&"fixed"!==S(e).position?e.offsetParent:null}function x(e){for(var t=u(e),n=L(e);n&&R(n)&&"static"===S(n).position;)n=L(n);return n&&("html"===b(n)||"body"===b(n)&&"static"===S(n).position)?t:n||function(e){var t=/firefox/i.test(_());if(/Trident/i.test(_())&&d(e)&&"fixed"===S(e).position)return null;var n=P(e);for(h(n)&&(n=n.host);d(n)&&["html","body"].indexOf(b(n))<0;){var i=S(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}n(8995),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446);var O="top",N="bottom",D="right",M="left",B="auto",F=[O,N,D,M],H="start",V="end",U="viewport",j="popper",W=F.reduce((function(e,t){return e.concat([t+"-"+H,t+"-"+V])}),[]),z=[].concat(F,[B]).reduce((function(e,t){return e.concat([t,t+"-"+H,t+"-"+V])}),[]),$=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function G(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),i}var q={placement:"bottom",modifiers:[],strategy:"absolute"};function K(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Y(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,a=void 0===r?q:r;return function(e,t,n){void 0===n&&(n=a);var r,s,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},q,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,d={state:o,setOptions:function(n){var r="function"==typeof n?n(o.options):n;h(),o.options=Object.assign({},a,o.options,r),o.scrollParents={reference:c(e)?I(e):e.contextElement?I(e.contextElement):[],popper:I(t)};var s,u,p=function(e){var t=G(e);return $.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(i,o.options.modifiers),u=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return o.orderedModifiers=p.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var a=r({state:o,name:t,instance:d,options:i}),s=function(){};l.push(a||s)}})),d.update()},forceUpdate:function(){if(!u){var e=o.elements,t=e.reference,n=e.popper;if(K(t,n)){o.rects={reference:k(t,x(n),"fixed"===o.options.strategy),popper:C(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<o.orderedModifiers.length;i++)if(!0!==o.reset){var r=o.orderedModifiers[i],a=r.fn,s=r.options,l=void 0===s?{}:s,c=r.name;"function"==typeof a&&(o=a({state:o,options:l,name:c,instance:d})||o)}else o.reset=!1,i=-1}}},update:(r=function(){return new Promise((function(e){d.forceUpdate(),e(o)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(r())}))}))),s}),destroy:function(){h(),u=!0}};if(!K(e,t))return d;function h(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var Q={passive:!0};const X={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,a=void 0===r||r,s=i.resize,o=void 0===s||s,l=u(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,Q)})),o&&l.addEventListener("resize",n.update,Q),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Q)})),o&&l.removeEventListener("resize",n.update,Q)}},data:{}};function Z(e){return e.split("-")[0]}function J(e){return e.split("-")[1]}function ee(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function te(e){var t,n=e.reference,i=e.element,r=e.placement,a=r?Z(r):null,s=r?J(r):null,o=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(a){case O:t={x:o,y:n.y-i.height};break;case N:t={x:o,y:n.y+n.height};break;case D:t={x:n.x+n.width,y:l};break;case M:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var u=a?ee(a):null;if(null!=u){var c="y"===u?"height":"width";switch(s){case H:t[u]=t[u]-(n[c]/2-i[c]/2);break;case V:t[u]=t[u]+(n[c]/2-i[c]/2)}}return t}const ne={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=te({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var ie={top:"auto",right:"auto",bottom:"auto",left:"auto"};function re(e){var t,n=e.popper,i=e.popperRect,r=e.placement,a=e.variation,s=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,h=e.isFixed,p=s.x,v=void 0===p?0:p,_=s.y,f=void 0===_?0:_,g="function"==typeof d?d({x:v,y:f}):{x:v,y:f};v=g.x,f=g.y;var y=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),w=M,A=O,k=window;if(c){var C=x(n),P="clientHeight",T="clientWidth";if(C===u(n)&&"static"!==S(C=E(n)).position&&"absolute"===o&&(P="scrollHeight",T="scrollWidth"),r===O||(r===M||r===D)&&a===V)A=N,f-=(h&&C===k&&k.visualViewport?k.visualViewport.height:C[P])-i.height,f*=l?1:-1;if(r===M||(r===O||r===N)&&a===V)w=D,v-=(h&&C===k&&k.visualViewport?k.visualViewport.width:C[T])-i.width,v*=l?1:-1}var I,R=Object.assign({position:o},c&&ie),L=!0===d?function(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:m(n*r)/r||0,y:m(i*r)/r||0}}({x:v,y:f},u(n)):{x:v,y:f};return v=L.x,f=L.y,l?Object.assign({},R,((I={})[A]=b?"0":"",I[w]=y?"0":"",I.transform=(k.devicePixelRatio||1)<=1?"translate("+v+"px, "+f+"px)":"translate3d("+v+"px, "+f+"px, 0)",I)):Object.assign({},R,((t={})[A]=b?f+"px":"",t[w]=y?v+"px":"",t.transform="",t))}const ae={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,a=n.adaptive,s=void 0===a||a,o=n.roundOffsets,l=void 0===o||o,u={placement:Z(t.placement),variation:J(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,re(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,re(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};const se={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];d(r)&&b(r)&&(Object.assign(r.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],r=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});d(i)&&b(i)&&(Object.assign(i.style,a),Object.keys(r).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]};const oe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,a=void 0===r?[0,0]:r,s=z.reduce((function(e,n){return e[n]=function(e,t,n){var i=Z(e),r=[M,O].indexOf(i)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=a[0],o=a[1];return s=s||0,o=(o||0)*r,[M,D].indexOf(i)>=0?{x:o,y:s}:{x:s,y:o}}(n,t.rects,a),e}),{}),o=s[t.placement],l=o.x,u=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[i]=s}};n(9419);var le={left:"right",right:"left",bottom:"top",top:"bottom"};function ue(e){return e.replace(/left|right|bottom|top/g,(function(e){return le[e]}))}var ce={start:"end",end:"start"};function de(e){return e.replace(/start|end/g,(function(e){return ce[e]}))}function he(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&h(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function pe(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ve(e,t,n){return t===U?pe(function(e,t){var n=u(e),i=E(e),r=n.visualViewport,a=i.clientWidth,s=i.clientHeight,o=0,l=0;if(r){a=r.width,s=r.height;var c=f();(c||!c&&"fixed"===t)&&(o=r.offsetLeft,l=r.offsetTop)}return{width:a,height:s,x:o+w(e),y:l}}(e,n)):c(t)?function(e,t){var n=g(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):pe(function(e){var t,n=E(e),i=y(e),r=null==(t=e.ownerDocument)?void 0:t.body,a=p(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=p(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-i.scrollLeft+w(e),l=-i.scrollTop;return"rtl"===S(r||n).direction&&(o+=p(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}(E(e)))}function me(e,t,n,i){var r="clippingParents"===t?function(e){var t=I(P(e)),n=["absolute","fixed"].indexOf(S(e).position)>=0&&d(e)?x(e):e;return c(n)?t.filter((function(e){return c(e)&&he(e,n)&&"body"!==b(e)})):[]}(e):[].concat(t),a=[].concat(r,[n]),s=a[0],o=a.reduce((function(t,n){var r=ve(e,n,i);return t.top=p(r.top,t.top),t.right=v(r.right,t.right),t.bottom=v(r.bottom,t.bottom),t.left=p(r.left,t.left),t}),ve(e,s,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function _e(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function fe(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ge(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=void 0===i?e.placement:i,a=n.strategy,s=void 0===a?e.strategy:a,o=n.boundary,l=void 0===o?"clippingParents":o,u=n.rootBoundary,d=void 0===u?U:u,h=n.elementContext,p=void 0===h?j:h,v=n.altBoundary,m=void 0!==v&&v,_=n.padding,f=void 0===_?0:_,y=_e("number"!=typeof f?f:fe(f,F)),b=p===j?"reference":j,w=e.rects.popper,S=e.elements[m?b:p],A=me(c(S)?S:S.contextElement||E(e.elements.popper),l,d,s),k=g(e.elements.reference),C=te({reference:k,element:w,strategy:"absolute",placement:r}),P=pe(Object.assign({},w,C)),T=p===j?P:k,I={top:A.top-T.top+y.top,bottom:T.bottom-A.bottom+y.bottom,left:A.left-T.left+y.left,right:T.right-A.right+y.right},R=e.modifiersData.offset;if(p===j&&R){var L=R[r];Object.keys(I).forEach((function(e){var t=[D,N].indexOf(e)>=0?1:-1,n=[O,N].indexOf(e)>=0?"y":"x";I[e]+=L[n]*t}))}return I}n(5745);function ye(e,t,n){return p(e,v(t,n))}const be={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,a=void 0===r||r,s=n.altAxis,o=void 0!==s&&s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,m=void 0===h||h,_=n.tetherOffset,f=void 0===_?0:_,g=ge(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),y=Z(t.placement),b=J(t.placement),E=!b,w=ee(y),S="x"===w?"y":"x",A=t.modifiersData.popperOffsets,k=t.rects.reference,P=t.rects.popper,T="function"==typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,I="number"==typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,L={x:0,y:0};if(A){if(a){var B,F="y"===w?O:M,V="y"===w?N:D,U="y"===w?"height":"width",j=A[w],W=j+g[F],z=j-g[V],$=m?-P[U]/2:0,G=b===H?k[U]:P[U],q=b===H?-P[U]:-k[U],K=t.elements.arrow,Y=m&&K?C(K):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},X=Q[F],te=Q[V],ne=ye(0,k[U],Y[U]),ie=E?k[U]/2-$-ne-X-I.mainAxis:G-ne-X-I.mainAxis,re=E?-k[U]/2+$+ne+te+I.mainAxis:q+ne+te+I.mainAxis,ae=t.elements.arrow&&x(t.elements.arrow),se=ae?"y"===w?ae.clientTop||0:ae.clientLeft||0:0,oe=null!=(B=null==R?void 0:R[w])?B:0,le=j+re-oe,ue=ye(m?v(W,j+ie-oe-se):W,j,m?p(z,le):z);A[w]=ue,L[w]=ue-j}if(o){var ce,de="x"===w?O:M,he="x"===w?N:D,pe=A[S],ve="y"===S?"height":"width",me=pe+g[de],_e=pe-g[he],fe=-1!==[O,M].indexOf(y),be=null!=(ce=null==R?void 0:R[S])?ce:0,Ee=fe?me:pe-k[ve]-P[ve]-be+I.altAxis,we=fe?pe+k[ve]+P[ve]-be-I.altAxis:_e,Se=m&&fe?function(e,t,n){var i=ye(e,t,n);return i>n?n:i}(Ee,pe,we):ye(m?Ee:me,pe,m?we:_e);A[S]=Se,L[S]=Se-pe}t.modifiersData[i]=L}},requiresIfExists:["offset"]};const Ee={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=e.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,o=Z(n.placement),l=ee(o),u=[M,D].indexOf(o)>=0?"height":"width";if(a&&s){var c=function(e,t){return _e("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:fe(e,F))}(r.padding,n),d=C(a),h="y"===l?O:M,p="y"===l?N:D,v=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],m=s[l]-n.rects.reference[l],_=x(a),f=_?"y"===l?_.clientHeight||0:_.clientWidth||0:0,g=v/2-m/2,y=c[h],b=f-d[u]-c[p],E=f/2-d[u]/2+g,w=ye(y,E,b),S=l;n.modifiersData[i]=((t={})[S]=w,t.centerOffset=w-E,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&he(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function we(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Se(e){return[O,D,N,M].some((function(t){return e[t]>=0}))}var Ae=Y({defaultModifiers:[X,ne,ae,se,oe,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,a=void 0===r||r,s=n.altAxis,o=void 0===s||s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,v=void 0===p||p,m=n.allowedAutoPlacements,_=t.options.placement,f=Z(_),g=l||(f===_||!v?[ue(_)]:function(e){if(Z(e)===B)return[];var t=ue(e);return[de(e),t,de(t)]}(_)),y=[_].concat(g).reduce((function(e,n){return e.concat(Z(n)===B?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,a=n.rootBoundary,s=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?z:l,c=J(i),d=c?o?W:W.filter((function(e){return J(e)===c})):F,h=d.filter((function(e){return u.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=ge(e,{placement:n,boundary:r,rootBoundary:a,padding:s})[Z(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:v,allowedAutoPlacements:m}):n)}),[]),b=t.rects.reference,E=t.rects.popper,w=new Map,S=!0,A=y[0],k=0;k<y.length;k++){var C=y[k],P=Z(C),T=J(C)===H,I=[O,N].indexOf(P)>=0,R=I?"width":"height",L=ge(t,{placement:C,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),x=I?T?D:M:T?N:O;b[R]>E[R]&&(x=ue(x));var V=ue(x),U=[];if(a&&U.push(L[P]<=0),o&&U.push(L[x]<=0,L[V]<=0),U.every((function(e){return e}))){A=C,S=!1;break}w.set(C,U)}if(S)for(var j=function(e){var t=y.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return A=t,"break"},$=v?3:1;$>0;$--){if("break"===j($))break}t.placement!==A&&(t.modifiersData[i]._skip=!0,t.placement=A,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},be,Ee,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,a=t.modifiersData.preventOverflow,s=ge(t,{elementContext:"reference"}),o=ge(t,{altBoundary:!0}),l=we(s,i),u=we(o,r,a),c=Se(l),d=Se(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]}),ke=n(9712),Ce=n.n(ke),Pe=function(e){return e.reduce((function(e,t){var n=t[0],i=t[1];return e[n]=i,e}),{})},Te="undefined"!=typeof window&&window.document&&window.document.createElement?o.useLayoutEffect:o.useEffect,Ie=[],Re="freyja_char-popper-portal__popperWrapper_LgNXT";const Le={dropdown:"dropdown",tooltip:"tooltip"},xe={dropdown:200,tooltip:300},Oe={charPopperZIndexMap:xe,visibleTooltip:{},showTooltip:e=>{},hideTooltip:e=>{}},Ne=o.createContext(Oe),De={position:"fixed",top:0,right:0,bottom:0,left:0,display:"flex",justifyContent:"space-around",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.7)"},Me=e=>{let{children:t,container:n}=e;const i=(0,o.useMemo)((()=>document.createElement("div")),[]);return(0,o.useEffect)((()=>{const e=n||document.body;return e.appendChild(i),()=>{e.removeChild(i)}}),[i,n]),(0,l.createPortal)(t,i)},Be=e=>{let{renderPopperElements:t,popperElements:n,isPopperShown:a,children:u,popperOptions:c,hidePopperOnHidingElement:d=!0,popperKey:h,customPopperZIndex:p,anchorRef:v,anchorElement:m,portal:_=!0,portalContainer:f,instanceRef:g,centered:y}=e;const[b,E]=(0,o.useState)(null),w=function(e,t,n){void 0===n&&(n={});var i=o.useRef(null),r={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Ie},a=o.useState({styles:{popper:{position:r.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=a[0],u=a[1],c=o.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);l.flushSync((function(){u({styles:Pe(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:Pe(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),d=o.useMemo((function(){var e={onFirstUpdate:r.onFirstUpdate,placement:r.placement,strategy:r.strategy,modifiers:[].concat(r.modifiers,[c,{name:"applyStyles",enabled:!1}])};return Ce()(i.current,e)?i.current||e:(i.current=e,e)}),[r.onFirstUpdate,r.placement,r.strategy,r.modifiers,c]),h=o.useRef();return Te((function(){h.current&&h.current.setOptions(d)}),[d]),Te((function(){if(null!=e&&null!=t){var i=(n.createPopper||Ae)(e,t,d);return h.current=i,function(){i.destroy(),h.current=null}}}),[e,t,n.createPopper]),{state:h.current?h.current.state:null,styles:s.styles,attributes:s.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}}(m||(null==v?void 0:v.current),b,c),{styles:S,attributes:A}=w,{charPopperZIndexMap:k}=(0,o.useContext)(Ne);(0,o.useImperativeHandle)(g,(()=>w),[w]);let C=(0,i.A)((0,i.A)({},S.popper),{},{zIndex:null!=p?p:null==k?void 0:k[h]});y&&(C=(0,i.A)((0,i.A)({},C),De));const P=()=>{var e;return o.createElement("div",(0,r.A)({className:s()({[Re]:d}),ref:E,style:C},A.popper),!!n&&n,!!t&&t({placement:null===(e=w.state)||void 0===e?void 0:e.placement,styles:S,attributes:A}))};return o.createElement(o.Fragment,null,u,a&&(_?o.createElement(Me,{container:f},P()):P()))}},7283:(e,t,n)=>{"use strict";n.d(t,{a3:()=>l,fU:()=>o});n(4401),n(5564),n(2358),n(9419),n(8471);var i=n(2412),r=n.n(i),a=n(6187),s=n.n(a);r().extend(s());const o=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return t?`${t} Ñ‡. ${n} Ð¼Ð¸Ð½.`:`${n} Ð¼Ð¸Ð½.`};const l=e=>{let{value:t}=e;const n=t>=0?t:0,i=[1,60,3600];let r=Math.floor(n);const a=[0,0,0];for(let e=i.length-1;e>=0;e--)a[e]=Math.floor(r/i[e]),r%=i[e];return 0===a[2]&&a.pop(),a.reduceRight(((e,t)=>(e.push((e=>e>9?e.toString():`0${e}`)(t)),e)),[]).join(":")}},3052:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});n(2358);const i=new class{constructor(e){this.externalUserAgent=e}get userAgent(){return this.externalUserAgent?this.externalUserAgent:"object"==typeof window?navigator.userAgent:""}get isAndroid(){return/Android/i.test(this.userAgent)}get isBlackBerry(){return/BlackBerry/i.test(this.userAgent)}get isiOSMobile(){const e="object"==typeof window&&navigator.maxTouchPoints>2;return/iPhone|iPad|iPod/i.test(this.userAgent)||/Macintosh/i.test(this.userAgent)&&e}get isOperaMini(){return/Opera Mini/i.test(this.userAgent)}get isHarmony(){return/HarmonyOS|Harmony|Huawei|HUAWEI|HuaweiBrowser|haowangzhi/i.test(this.userAgent)}get isFirefox(){return/Firefox/i.test(this.userAgent)}get isMobile(){return this.isAndroid||this.isBlackBerry||this.isiOSMobile||this.isHarmony||this.isOperaMini}}},5126:(e,t,n)=>{"use strict";n.d(t,{L0:()=>s,Ju:()=>a,Qf:()=>r,Wr:()=>o,cV:()=>l});n(2195),n(752);var i=n(8717);const r=e=>{const t=e=>"object"==typeof window&&window.matchMedia(e).matches,[n,r]=(0,i.useState)(t(e));return(0,i.useEffect)((()=>{const n=()=>{r(t(e))};if(n(),"object"==typeof window)return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[e]),n},a=()=>(0,i.useMemo)((()=>"ontouchstart"in window||navigator.maxTouchPoints>0),[]),s=()=>r("(max-width: 1023px)");function o(e,t,n){i.useEffect((()=>{const i=i=>{!e.current||e.current.contains(i.target)||null!=n&&n(i)||t(i)};return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}}),[e,t,n])}const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;const n=(0,i.useRef)(),[r,a]=(0,i.useState)(e);(0,i.useEffect)((()=>()=>(null==n?void 0:n.current)&&clearTimeout(n.current)),[]);return[r,i=>(null!=n&&n.current&&clearTimeout(n.current),n.current=setTimeout((()=>a(e)),t),a(i))]}},2412:function(e,t,n){n(9928),n(2358),n(9419),n(3154),e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,i="millisecond",r="second",a="minute",s="hour",o="day",l="week",u="month",c="quarter",d="year",h="date",p="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},g={s:f,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+f(i,2,"0")+":"+f(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,u),a=n-r<0,s=t.clone().add(i+(a?-1:1),u);return+(-(i+(n-r)/(a?r-s:s-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:l,d:o,D:h,h:s,m:a,s:r,ms:i,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",b={};b[y]=_;var E=function(e){return e instanceof k},w=function(e,t,n){var i;if(!e)return y;if("string"==typeof e)b[e]&&(i=e),t&&(b[e]=t,i=e);else{var r=e.name;b[r]=e,i=r}return!n&&i&&(y=i),i||!n&&y},S=function(e,t){if(E(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},A=g;A.l=w,A.i=E,A.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function _(e){this.$L=w(e.locale,null,!0),this.parse(e)}var f=_.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(A.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(v);if(i){var r=i[2]-1||0,a=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return A},f.isValid=function(){return!(this.$d.toString()===p)},f.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},f.isAfter=function(e,t){return S(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<S(e)},f.$g=function(e,t,n){return A.u(e)?this[t]:this.set(n,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,t){var n=this,i=!!A.u(t)||t,c=A.p(e),p=function(e,t){var r=A.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?r:r.endOf(o)},v=function(e,t){return A.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,_=this.$M,f=this.$D,g="set"+(this.$u?"UTC":"");switch(c){case d:return i?p(1,0):p(31,11);case u:return i?p(1,_):p(0,_+1);case l:var y=this.$locale().weekStart||0,b=(m<y?m+7:m)-y;return p(i?f-b:f+(6-b),_);case o:case h:return v(g+"Hours",0);case s:return v(g+"Minutes",1);case a:return v(g+"Seconds",2);case r:return v(g+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(e,t){var n,l=A.p(e),c="set"+(this.$u?"UTC":""),p=(n={},n[o]=c+"Date",n[h]=c+"Date",n[u]=c+"Month",n[d]=c+"FullYear",n[s]=c+"Hours",n[a]=c+"Minutes",n[r]=c+"Seconds",n[i]=c+"Milliseconds",n)[l],v=l===o?this.$D+(t-this.$W):t;if(l===u||l===d){var m=this.clone().set(h,1);m.$d[p](v),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](v);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[A.p(e)]()},f.add=function(i,c){var h,p=this;i=Number(i);var v=A.p(c),m=function(e){var t=S(p);return A.w(t.date(t.date()+Math.round(e*i)),p)};if(v===u)return this.set(u,this.$M+i);if(v===d)return this.set(d,this.$y+i);if(v===o)return m(1);if(v===l)return m(7);var _=(h={},h[a]=t,h[s]=n,h[r]=e,h)[v]||1,f=this.$d.getTime()+i*_;return A.w(f,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this;if(!this.isValid())return p;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=A.z(this),r=this.$locale(),a=this.$H,s=this.$m,o=this.$M,l=r.weekdays,u=r.months,c=function(e,i,r,a){return e&&(e[i]||e(t,n))||r[i].substr(0,a)},d=function(e){return A.s(a%12||12,e,"0")},h=r.meridiem||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i},v={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:A.s(o+1,2,"0"),MMM:c(r.monthsShort,o,u,3),MMMM:c(u,o),D:this.$D,DD:A.s(this.$D,2,"0"),d:String(this.$W),dd:c(r.weekdaysMin,this.$W,l,2),ddd:c(r.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(a),HH:A.s(a,2,"0"),h:d(1),hh:d(2),a:h(a,s,!0),A:h(a,s,!1),m:String(s),mm:A.s(s,2,"0"),s:String(this.$s),ss:A.s(this.$s,2,"0"),SSS:A.s(this.$ms,3,"0"),Z:i};return n.replace(m,(function(e,t){return t||v[e]||i.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(i,h,p){var v,m=A.p(h),_=S(i),f=(_.utcOffset()-this.utcOffset())*t,g=this-_,y=A.m(this,_);return y=(v={},v[d]=y/12,v[u]=y,v[c]=y/3,v[l]=(g-f)/6048e5,v[o]=(g-f)/864e5,v[s]=g/n,v[a]=g/t,v[r]=g/e,v)[m]||g,p?y:A.a(y)},f.daysInMonth=function(){return this.endOf(u).$D},f.$locale=function(){return b[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=w(e,t,!0);return i&&(n.$L=i),n},f.clone=function(){return A.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},_}(),C=k.prototype;return S.prototype=C,[["$ms",i],["$s",r],["$m",a],["$H",s],["$W",o],["$M",u],["$y",d],["$D",h]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,k,S),e.$i=!0),S},S.locale=w,S.isDayjs=E,S.unix=function(e){return S(1e3*e)},S.en=b[y],S.Ls=b,S.p={},S}()},6187:function(e,t,n){n(8995),n(9928),n(2358),n(9419),n(7821),n(3154),e.exports=function(){"use strict";var e,t,n=1e3,i=6e4,r=36e5,a=864e5,s=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,o=31536e6,l=2592e6,u=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,c={years:o,months:l,days:a,hours:r,minutes:i,seconds:n,milliseconds:1,weeks:6048e5},d=function(e){return e instanceof g},h=function(e,t,n){return new g(e,n,t.$l)},p=function(e){return t.p(e)+"s"},v=function(e){return e<0},m=function(e){return v(e)?Math.ceil(e):Math.floor(e)},_=function(e){return Math.abs(e)},f=function(e,t){return e?v(e)?{negative:!0,format:""+_(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},g=function(){function v(e,t,n){var i=this;if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return h(e*c[p(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((function(t){i.$d[p(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){var r=e.match(u);if(r){var a=r.slice(2).map((function(e){return Number(e)}));return this.$d.years=a[0],this.$d.months=a[1],this.$d.weeks=a[2],this.$d.days=a[3],this.$d.hours=a[4],this.$d.minutes=a[5],this.$d.seconds=a[6],this.calMilliseconds(),this}}return this}var _=v.prototype;return _.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce((function(t,n){return t+(e.$d[n]||0)*c[n]}),0)},_.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=m(e/o),e%=o,this.$d.months=m(e/l),e%=l,this.$d.days=m(e/a),e%=a,this.$d.hours=m(e/r),e%=r,this.$d.minutes=m(e/i),e%=i,this.$d.seconds=m(e/n),e%=n,this.$d.milliseconds=e},_.toISOString=function(){var e=f(this.$d.years,"Y"),t=f(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var i=f(n,"D"),r=f(this.$d.hours,"H"),a=f(this.$d.minutes,"M"),s=this.$d.seconds||0;this.$d.milliseconds&&(s+=this.$d.milliseconds/1e3);var o=f(s,"S"),l=e.negative||t.negative||i.negative||r.negative||a.negative||o.negative,u=r.format||a.format||o.format?"T":"",c=(l?"-":"")+"P"+e.format+t.format+i.format+u+r.format+a.format+o.format;return"P"===c||"-P"===c?"P0D":c},_.toJSON=function(){return this.toISOString()},_.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",i={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return n.replace(s,(function(e,t){return t||String(i[e])}))},_.as=function(e){return this.$ms/c[p(e)]},_.get=function(e){var t=this.$ms,n=p(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?m(t/c[n]):this.$d[n],0===t?0:t},_.add=function(e,t,n){var i;return i=t?e*c[p(t)]:d(e)?e.$ms:h(e,this).$ms,h(this.$ms+i*(n?-1:1),this)},_.subtract=function(e,t){return this.add(e,t,!0)},_.locale=function(e){var t=this.clone();return t.$l=e,t},_.clone=function(){return h(this.$ms,this)},_.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},_.milliseconds=function(){return this.get("milliseconds")},_.asMilliseconds=function(){return this.as("milliseconds")},_.seconds=function(){return this.get("seconds")},_.asSeconds=function(){return this.as("seconds")},_.minutes=function(){return this.get("minutes")},_.asMinutes=function(){return this.as("minutes")},_.hours=function(){return this.get("hours")},_.asHours=function(){return this.as("hours")},_.days=function(){return this.get("days")},_.asDays=function(){return this.as("days")},_.weeks=function(){return this.get("weeks")},_.asWeeks=function(){return this.as("weeks")},_.months=function(){return this.get("months")},_.asMonths=function(){return this.as("months")},_.years=function(){return this.get("years")},_.asYears=function(){return this.as("years")},v}();return function(n,i,r){e=r,t=r().$utils(),r.duration=function(e,t){var n=r.locale();return h(e,{$l:n},t)},r.isDuration=d;var a=i.prototype.add,s=i.prototype.subtract;i.prototype.add=function(e,t){return d(e)&&(e=e.asMilliseconds()),a.bind(this)(e,t)},i.prototype.subtract=function(e,t){return d(e)&&(e=e.asMilliseconds()),s.bind(this)(e,t)}}}()},5374:function(e,t,n){var i;e=n.nmd(e),n(9024),n(9139),n(2946),n(7877),n(2195),n(4401),n(8995),n(5564),n(5745),n(1086),n(3867),n(1631),n(914),n(2358),n(4),n(2034),n(975),n(9419),n(8471),n(3923),n(4270),n(1433),n(1e3),n(9020),n(7821),n(752),n(3154),function(){var r,a="Expected a function",s="__lodash_hash_undefined__",o="__lodash_placeholder__",l=16,u=32,c=64,d=128,h=256,p=1/0,v=9007199254740991,m=NaN,_=4294967295,f=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",h]],g="[object Arguments]",y="[object Array]",b="[object Boolean]",E="[object Date]",w="[object Error]",S="[object Function]",A="[object GeneratorFunction]",k="[object Map]",C="[object Number]",P="[object Object]",T="[object Promise]",I="[object RegExp]",R="[object Set]",L="[object String]",x="[object Symbol]",O="[object WeakMap]",N="[object ArrayBuffer]",D="[object DataView]",M="[object Float32Array]",B="[object Float64Array]",F="[object Int8Array]",H="[object Int16Array]",V="[object Int32Array]",U="[object Uint8Array]",j="[object Uint8ClampedArray]",W="[object Uint16Array]",z="[object Uint32Array]",$=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,Q=RegExp(K.source),X=RegExp(Y.source),Z=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(re.source),se=/^\s+/,oe=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,_e=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,Ee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Ae="\\ud800-\\udfff",ke="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Pe="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Ie="\\ufe0e\\ufe0f",Re="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Le="['â€™]",xe="["+Ae+"]",Oe="["+Re+"]",Ne="["+ke+"]",De="\\d+",Me="["+Ce+"]",Be="["+Pe+"]",Fe="[^"+Ae+Re+De+Ce+Pe+Te+"]",He="\\ud83c[\\udffb-\\udfff]",Ve="[^"+Ae+"]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",je="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+Te+"]",ze="\\u200d",$e="(?:"+Be+"|"+Fe+")",Ge="(?:"+We+"|"+Fe+")",qe="(?:['â€™](?:d|ll|m|re|s|t|ve))?",Ke="(?:['â€™](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Ne+"|"+He+")"+"?",Qe="["+Ie+"]?",Xe=Qe+Ye+("(?:"+ze+"(?:"+[Ve,Ue,je].join("|")+")"+Qe+Ye+")*"),Ze="(?:"+[Me,Ue,je].join("|")+")"+Xe,Je="(?:"+[Ve+Ne+"?",Ne,Ue,je,xe].join("|")+")",et=RegExp(Le,"g"),tt=RegExp(Ne,"g"),nt=RegExp(He+"(?="+He+")|"+Je+Xe,"g"),it=RegExp([We+"?"+Be+"+"+qe+"(?="+[Oe,We,"$"].join("|")+")",Ge+"+"+Ke+"(?="+[Oe,We+$e,"$"].join("|")+")",We+"?"+$e+"+"+qe,We+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Ze].join("|"),"g"),rt=RegExp("["+ze+Ae+ke+Ie+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,lt={};lt[M]=lt[B]=lt[F]=lt[H]=lt[V]=lt[U]=lt[j]=lt[W]=lt[z]=!0,lt[g]=lt[y]=lt[N]=lt[b]=lt[D]=lt[E]=lt[w]=lt[S]=lt[k]=lt[C]=lt[P]=lt[I]=lt[R]=lt[L]=lt[O]=!1;var ut={};ut[g]=ut[y]=ut[N]=ut[D]=ut[b]=ut[E]=ut[M]=ut[B]=ut[F]=ut[H]=ut[V]=ut[k]=ut[C]=ut[P]=ut[I]=ut[R]=ut[L]=ut[x]=ut[U]=ut[j]=ut[W]=ut[z]=!0,ut[w]=ut[S]=ut[O]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ht=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,vt="object"==typeof self&&self&&self.Object===Object&&self,mt=pt||vt||Function("return this")(),_t=t&&!t.nodeType&&t,ft=_t&&e&&!e.nodeType&&e,gt=ft&&ft.exports===_t,yt=gt&&pt.process,bt=function(){try{var e=ft&&ft.require&&ft.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(e){}}(),Et=bt&&bt.isArrayBuffer,wt=bt&&bt.isDate,St=bt&&bt.isMap,At=bt&&bt.isRegExp,kt=bt&&bt.isSet,Ct=bt&&bt.isTypedArray;function Pt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,i){for(var r=-1,a=null==e?0:e.length;++r<a;){var s=e[r];t(i,s,n(s),e)}return i}function It(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Lt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function xt(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var s=e[n];t(s,n,e)&&(a[r++]=s)}return a}function Ot(e,t){return!!(null==e?0:e.length)&&Wt(e,t,0)>-1}function Nt(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function Dt(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function Mt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function Bt(e,t,n,i){var r=-1,a=null==e?0:e.length;for(i&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}function Ft(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Ht(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var Vt=qt("length");function Ut(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function jt(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}function Wt(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):jt(e,$t,n)}function zt(e,t,n,i){for(var r=n-1,a=e.length;++r<a;)if(i(e[r],t))return r;return-1}function $t(e){return e!=e}function Gt(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:m}function qt(e){return function(t){return null==t?r:t[e]}}function Kt(e){return function(t){return null==e?r:e[t]}}function Yt(e,t,n,i,r){return r(e,(function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)})),n}function Qt(e,t){for(var n,i=-1,a=e.length;++i<a;){var s=t(e[i]);s!==r&&(n=n===r?s:n+s)}return n}function Xt(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Zt(e){return e?e.slice(0,_n(e)+1).replace(se,""):e}function Jt(e){return function(t){return e(t)}}function en(e,t){return Dt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,i=e.length;++n<i&&Wt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}var an=Kt({"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"s"}),sn=Kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+ct[e]}function ln(e){return rt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var s=e[n];s!==t&&s!==o||(e[n]=o,a[r++]=n)}return a}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function vn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Vt(e)}function mn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function _n(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var fn=Kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function e(t){var n,i=(t=null==t?mt:gn.defaults(mt.Object(),t,gn.pick(mt,st))).Array,oe=t.Date,Ae=t.Error,ke=t.Function,Ce=t.Math,Pe=t.Object,Te=t.RegExp,Ie=t.String,Re=t.TypeError,Le=i.prototype,xe=ke.prototype,Oe=Pe.prototype,Ne=t["__core-js_shared__"],De=xe.toString,Me=Oe.hasOwnProperty,Be=0,Fe=(n=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",He=Oe.toString,Ve=De.call(Pe),Ue=mt._,je=Te("^"+De.call(Me).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=gt?t.Buffer:r,ze=t.Symbol,$e=t.Uint8Array,Ge=We?We.allocUnsafe:r,qe=cn(Pe.getPrototypeOf,Pe),Ke=Pe.create,Ye=Oe.propertyIsEnumerable,Qe=Le.splice,Xe=ze?ze.isConcatSpreadable:r,Ze=ze?ze.iterator:r,Je=ze?ze.toStringTag:r,nt=function(){try{var e=ha(Pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),rt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,ct=oe&&oe.now!==mt.Date.now&&oe.now,pt=t.setTimeout!==mt.setTimeout&&t.setTimeout,vt=Ce.ceil,_t=Ce.floor,ft=Pe.getOwnPropertySymbols,yt=We?We.isBuffer:r,bt=t.isFinite,Vt=Le.join,Kt=cn(Pe.keys,Pe),yn=Ce.max,bn=Ce.min,En=oe.now,wn=t.parseInt,Sn=Ce.random,An=Le.reverse,kn=ha(t,"DataView"),Cn=ha(t,"Map"),Pn=ha(t,"Promise"),Tn=ha(t,"Set"),In=ha(t,"WeakMap"),Rn=ha(Pe,"create"),Ln=In&&new In,xn={},On=Fa(kn),Nn=Fa(Cn),Dn=Fa(Pn),Mn=Fa(Tn),Bn=Fa(In),Fn=ze?ze.prototype:r,Hn=Fn?Fn.valueOf:r,Vn=Fn?Fn.toString:r;function Un(e){if(to(e)&&!zs(e)&&!(e instanceof $n)){if(e instanceof zn)return e;if(Me.call(e,"__wrapped__"))return Ha(e)}return new zn(e)}var jn=function(){function e(){}return function(t){if(!eo(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function Wn(){}function zn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function $n(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new qn(e);this.size=t.size}function Xn(e,t){var n=zs(e),i=!n&&Ws(e),r=!n&&!i&&Ks(e),a=!n&&!i&&!r&&uo(e),s=n||i||r||a,o=s?Xt(e.length,Ie):[],l=o.length;for(var u in e)!t&&!Me.call(e,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ya(u,l))||o.push(u);return o}function Zn(e){var t=e.length;return t?e[Yi(0,t-1)]:r}function Jn(e,t){return Da(Rr(e),li(t,0,e.length))}function ei(e){return Da(Rr(e))}function ti(e,t,n){(n!==r&&!Vs(e[t],n)||n===r&&!(t in e))&&si(e,t,n)}function ni(e,t,n){var i=e[t];Me.call(e,t)&&Vs(i,n)&&(n!==r||t in e)||si(e,t,n)}function ii(e,t){for(var n=e.length;n--;)if(Vs(e[n][0],t))return n;return-1}function ri(e,t,n,i){return pi(e,(function(e,r,a){t(i,e,n(e),a)})),i}function ai(e,t){return e&&Lr(t,xo(t),e)}function si(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function oi(e,t){for(var n=-1,a=t.length,s=i(a),o=null==e;++n<a;)s[n]=o?r:Po(e,t[n]);return s}function li(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function ui(e,t,n,i,a,s){var o,l=1&t,u=2&t,c=4&t;if(n&&(o=a?n(e,i,a,s):n(e)),o!==r)return o;if(!eo(e))return e;var d=zs(e);if(d){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Rr(e,o)}else{var h=ma(e),p=h==S||h==A;if(Ks(e))return Ar(e,l);if(h==P||h==g||p&&!a){if(o=u||p?{}:fa(e),!l)return u?function(e,t){return Lr(e,va(e),t)}(e,function(e,t){return e&&Lr(t,Oo(t),e)}(o,e)):function(e,t){return Lr(e,pa(e),t)}(e,ai(o,e))}else{if(!ut[h])return a?e:{};o=function(e,t,n){var i=e.constructor;switch(t){case N:return kr(e);case b:case E:return new i(+e);case D:return function(e,t){var n=t?kr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case B:case F:case H:case V:case U:case j:case W:case z:return Cr(e,n);case k:return new i;case C:case L:return new i(e);case I:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case R:return new i;case x:return r=e,Hn?Pe(Hn.call(r)):{}}var r}(e,h,l)}}s||(s=new Qn);var v=s.get(e);if(v)return v;s.set(e,o),so(e)?e.forEach((function(i){o.add(ui(i,t,n,i,e,s))})):no(e)&&e.forEach((function(i,r){o.set(r,ui(i,t,n,r,e,s))}));var m=d?r:(c?u?aa:ra:u?Oo:xo)(e);return It(m||e,(function(i,r){m&&(i=e[r=i]),ni(o,r,ui(i,t,n,r,e,s))})),o}function ci(e,t,n){var i=n.length;if(null==e)return!i;for(e=Pe(e);i--;){var a=n[i],s=t[a],o=e[a];if(o===r&&!(a in e)||!s(o))return!1}return!0}function di(e,t,n){if("function"!=typeof e)throw new Re(a);return La((function(){e.apply(r,n)}),t)}function hi(e,t,n,i){var r=-1,a=Ot,s=!0,o=e.length,l=[],u=t.length;if(!o)return l;n&&(t=Dt(t,Jt(n))),i?(a=Nt,s=!1):t.length>=200&&(a=tn,s=!1,t=new Yn(t));e:for(;++r<o;){var c=e[r],d=null==n?c:n(c);if(c=i||0!==c?c:0,s&&d==d){for(var h=u;h--;)if(t[h]===d)continue e;l.push(c)}else a(t,d,i)||l.push(c)}return l}Un.templateSettings={escape:Z,evaluate:J,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=Wn.prototype,Un.prototype.constructor=Un,zn.prototype=jn(Wn.prototype),zn.prototype.constructor=zn,$n.prototype=jn(Wn.prototype),$n.prototype.constructor=$n,Gn.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(Rn){var n=t[e];return n===s?r:n}return Me.call(t,e)?t[e]:r},Gn.prototype.has=function(e){var t=this.__data__;return Rn?t[e]!==r:Me.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Rn&&t===r?s:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=ii(t,e);return!(n<0)&&(n==t.length-1?t.pop():Qe.call(t,n,1),--this.size,!0)},qn.prototype.get=function(e){var t=this.__data__,n=ii(t,e);return n<0?r:t[n][1]},qn.prototype.has=function(e){return ii(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,i=ii(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(Cn||qn),string:new Gn}},Kn.prototype.delete=function(e){var t=ca(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return ca(this,e).get(e)},Kn.prototype.has=function(e){return ca(this,e).has(e)},Kn.prototype.set=function(e,t){var n=ca(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Yn.prototype.add=Yn.prototype.push=function(e){return this.__data__.set(e,s),this},Yn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new qn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var i=n.__data__;if(!Cn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(i)}return n.set(e,t),this.size=n.size,this};var pi=Nr(Ei),vi=Nr(wi,!0);function mi(e,t){var n=!0;return pi(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function _i(e,t,n){for(var i=-1,a=e.length;++i<a;){var s=e[i],o=t(s);if(null!=o&&(l===r?o==o&&!lo(o):n(o,l)))var l=o,u=s}return u}function fi(e,t){var n=[];return pi(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function gi(e,t,n,i,r){var a=-1,s=e.length;for(n||(n=ga),r||(r=[]);++a<s;){var o=e[a];t>0&&n(o)?t>1?gi(o,t-1,n,i,r):Mt(r,o):i||(r[r.length]=o)}return r}var yi=Dr(),bi=Dr(!0);function Ei(e,t){return e&&yi(e,t,xo)}function wi(e,t){return e&&bi(e,t,xo)}function Si(e,t){return xt(t,(function(t){return Xs(e[t])}))}function Ai(e,t){for(var n=0,i=(t=br(t,e)).length;null!=e&&n<i;)e=e[Ba(t[n++])];return n&&n==i?e:r}function ki(e,t,n){var i=t(e);return zs(e)?i:Mt(i,n(e))}function Ci(e){return null==e?e===r?"[object Undefined]":"[object Null]":Je&&Je in Pe(e)?function(e){var t=Me.call(e,Je),n=e[Je];try{e[Je]=r;var i=!0}catch(e){}var a=He.call(e);i&&(t?e[Je]=n:delete e[Je]);return a}(e):function(e){return He.call(e)}(e)}function Pi(e,t){return e>t}function Ti(e,t){return null!=e&&Me.call(e,t)}function Ii(e,t){return null!=e&&t in Pe(e)}function Ri(e,t,n){for(var a=n?Nt:Ot,s=e[0].length,o=e.length,l=o,u=i(o),c=1/0,d=[];l--;){var h=e[l];l&&t&&(h=Dt(h,Jt(t))),c=bn(h.length,c),u[l]=!n&&(t||s>=120&&h.length>=120)?new Yn(l&&h):r}h=e[0];var p=-1,v=u[0];e:for(;++p<s&&d.length<c;){var m=h[p],_=t?t(m):m;if(m=n||0!==m?m:0,!(v?tn(v,_):a(d,_,n))){for(l=o;--l;){var f=u[l];if(!(f?tn(f,_):a(e[l],_,n)))continue e}v&&v.push(_),d.push(m)}}return d}function Li(e,t,n){var i=null==(e=Ta(e,t=br(t,e)))?e:e[Ba(Qa(t))];return null==i?r:Pt(i,e,n)}function xi(e){return to(e)&&Ci(e)==g}function Oi(e,t,n,i,a){return e===t||(null==e||null==t||!to(e)&&!to(t)?e!=e&&t!=t:function(e,t,n,i,a,s){var o=zs(e),l=zs(t),u=o?y:ma(e),c=l?y:ma(t),d=(u=u==g?P:u)==P,h=(c=c==g?P:c)==P,p=u==c;if(p&&Ks(e)){if(!Ks(t))return!1;o=!0,d=!1}if(p&&!d)return s||(s=new Qn),o||uo(e)?na(e,t,n,i,a,s):function(e,t,n,i,r,a,s){switch(n){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!a(new $e(e),new $e(t)));case b:case E:case C:return Vs(+e,+t);case w:return e.name==t.name&&e.message==t.message;case I:case L:return e==t+"";case k:var o=un;case R:var l=1&i;if(o||(o=hn),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;i|=2,s.set(e,t);var c=na(o(e),o(t),i,r,a,s);return s.delete(e),c;case x:if(Hn)return Hn.call(e)==Hn.call(t)}return!1}(e,t,u,n,i,a,s);if(!(1&n)){var v=d&&Me.call(e,"__wrapped__"),m=h&&Me.call(t,"__wrapped__");if(v||m){var _=v?e.value():e,f=m?t.value():t;return s||(s=new Qn),a(_,f,n,i,s)}}if(!p)return!1;return s||(s=new Qn),function(e,t,n,i,a,s){var o=1&n,l=ra(e),u=l.length,c=ra(t),d=c.length;if(u!=d&&!o)return!1;var h=u;for(;h--;){var p=l[h];if(!(o?p in t:Me.call(t,p)))return!1}var v=s.get(e),m=s.get(t);if(v&&m)return v==t&&m==e;var _=!0;s.set(e,t),s.set(t,e);var f=o;for(;++h<u;){var g=e[p=l[h]],y=t[p];if(i)var b=o?i(y,g,p,t,e,s):i(g,y,p,e,t,s);if(!(b===r?g===y||a(g,y,n,i,s):b)){_=!1;break}f||(f="constructor"==p)}if(_&&!f){var E=e.constructor,w=t.constructor;E==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof E&&E instanceof E&&"function"==typeof w&&w instanceof w||(_=!1)}return s.delete(e),s.delete(t),_}(e,t,n,i,a,s)}(e,t,n,i,Oi,a))}function Ni(e,t,n,i){var a=n.length,s=a,o=!i;if(null==e)return!s;for(e=Pe(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var u=(l=n[a])[0],c=e[u],d=l[1];if(o&&l[2]){if(c===r&&!(u in e))return!1}else{var h=new Qn;if(i)var p=i(c,d,u,e,t,h);if(!(p===r?Oi(d,c,3,i,h):p))return!1}}return!0}function Di(e){return!(!eo(e)||(t=e,Fe&&Fe in t))&&(Xs(e)?je:ge).test(Fa(e));var t}function Mi(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?zs(e)?ji(e[0],e[1]):Ui(e):pl(e)}function Bi(e){if(!Aa(e))return Kt(e);var t=[];for(var n in Pe(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fi(e){if(!eo(e))return function(e){var t=[];if(null!=e)for(var n in Pe(e))t.push(n);return t}(e);var t=Aa(e),n=[];for(var i in e)("constructor"!=i||!t&&Me.call(e,i))&&n.push(i);return n}function Hi(e,t){return e<t}function Vi(e,t){var n=-1,r=Gs(e)?i(e.length):[];return pi(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}function Ui(e){var t=da(e);return 1==t.length&&t[0][2]?Ca(t[0][0],t[0][1]):function(n){return n===e||Ni(n,e,t)}}function ji(e,t){return Ea(e)&&ka(t)?Ca(Ba(e),t):function(n){var i=Po(n,e);return i===r&&i===t?To(n,e):Oi(t,i,3)}}function Wi(e,t,n,i,a){e!==t&&yi(t,(function(s,o){if(a||(a=new Qn),eo(s))!function(e,t,n,i,a,s,o){var l=Ia(e,n),u=Ia(t,n),c=o.get(u);if(c)return void ti(e,n,c);var d=s?s(l,u,n+"",e,t,o):r,h=d===r;if(h){var p=zs(u),v=!p&&Ks(u),m=!p&&!v&&uo(u);d=u,p||v||m?zs(l)?d=l:qs(l)?d=Rr(l):v?(h=!1,d=Ar(u,!0)):m?(h=!1,d=Cr(u,!0)):d=[]:ro(u)||Ws(u)?(d=l,Ws(l)?d=go(l):eo(l)&&!Xs(l)||(d=fa(u))):h=!1}h&&(o.set(u,d),a(d,u,i,s,o),o.delete(u));ti(e,n,d)}(e,t,o,n,Wi,i,a);else{var l=i?i(Ia(e,o),s,o+"",e,t,a):r;l===r&&(l=s),ti(e,o,l)}}),Oo)}function zi(e,t){var n=e.length;if(n)return ya(t+=t<0?n:0,n)?e[t]:r}function $i(e,t,n){t=t.length?Dt(t,(function(e){return zs(e)?function(t){return Ai(t,1===e.length?e[0]:e)}:e})):[rl];var i=-1;t=Dt(t,Jt(ua()));var r=Vi(e,(function(e,n,r){var a=Dt(t,(function(t){return t(e)}));return{criteria:a,index:++i,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(r,(function(e,t){return function(e,t,n){var i=-1,r=e.criteria,a=t.criteria,s=r.length,o=n.length;for(;++i<s;){var l=Pr(r[i],a[i]);if(l)return i>=o?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gi(e,t,n){for(var i=-1,r=t.length,a={};++i<r;){var s=t[i],o=Ai(e,s);n(o,s)&&er(a,br(s,e),o)}return a}function qi(e,t,n,i){var r=i?zt:Wt,a=-1,s=t.length,o=e;for(e===t&&(t=Rr(t)),n&&(o=Dt(e,Jt(n)));++a<s;)for(var l=0,u=t[a],c=n?n(u):u;(l=r(o,c,l,i))>-1;)o!==e&&Qe.call(o,l,1),Qe.call(e,l,1);return e}function Ki(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==a){var a=r;ya(r)?Qe.call(e,r,1):hr(e,r)}}return e}function Yi(e,t){return e+_t(Sn()*(t-e+1))}function Qi(e,t){var n="";if(!e||t<1||t>v)return n;do{t%2&&(n+=e),(t=_t(t/2))&&(e+=e)}while(t);return n}function Xi(e,t){return xa(Pa(e,t,rl),e+"")}function Zi(e){return Zn(Uo(e))}function Ji(e,t){var n=Uo(e);return Da(n,li(t,0,n.length))}function er(e,t,n,i){if(!eo(e))return e;for(var a=-1,s=(t=br(t,e)).length,o=s-1,l=e;null!=l&&++a<s;){var u=Ba(t[a]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(a!=o){var d=l[u];(c=i?i(d,u,l):r)===r&&(c=eo(d)?d:ya(t[a+1])?[]:{})}ni(l,u,c),l=l[u]}return e}var tr=Ln?function(e,t){return Ln.set(e,t),e}:rl,nr=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:rl;function ir(e){return Da(Uo(e))}function rr(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var s=i(a);++r<a;)s[r]=e[r+t];return s}function ar(e,t){var n;return pi(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function sr(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var a=i+r>>>1,s=e[a];null!==s&&!lo(s)&&(n?s<=t:s<t)?i=a+1:r=a}return r}return or(e,t,rl,n)}function or(e,t,n,i){var a=0,s=null==e?0:e.length;if(0===s)return 0;for(var o=(t=n(t))!=t,l=null===t,u=lo(t),c=t===r;a<s;){var d=_t((a+s)/2),h=n(e[d]),p=h!==r,v=null===h,m=h==h,_=lo(h);if(o)var f=i||m;else f=c?m&&(i||p):l?m&&p&&(i||!v):u?m&&p&&!v&&(i||!_):!v&&!_&&(i?h<=t:h<t);f?a=d+1:s=d}return bn(s,4294967294)}function lr(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var s=e[n],o=t?t(s):s;if(!n||!Vs(o,l)){var l=o;a[r++]=0===s?0:s}}return a}function ur(e){return"number"==typeof e?e:lo(e)?m:+e}function cr(e){if("string"==typeof e)return e;if(zs(e))return Dt(e,cr)+"";if(lo(e))return Vn?Vn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function dr(e,t,n){var i=-1,r=Ot,a=e.length,s=!0,o=[],l=o;if(n)s=!1,r=Nt;else if(a>=200){var u=t?null:Qr(e);if(u)return hn(u);s=!1,r=tn,l=new Yn}else l=t?[]:o;e:for(;++i<a;){var c=e[i],d=t?t(c):c;if(c=n||0!==c?c:0,s&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),o.push(c)}else r(l,d,n)||(l!==o&&l.push(d),o.push(c))}return o}function hr(e,t){return null==(e=Ta(e,t=br(t,e)))||delete e[Ba(Qa(t))]}function pr(e,t,n,i){return er(e,t,n(Ai(e,t)),i)}function vr(e,t,n,i){for(var r=e.length,a=i?r:-1;(i?a--:++a<r)&&t(e[a],a,e););return n?rr(e,i?0:a,i?a+1:r):rr(e,i?a+1:0,i?r:a)}function mr(e,t){var n=e;return n instanceof $n&&(n=n.value()),Bt(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),n)}function _r(e,t,n){var r=e.length;if(r<2)return r?dr(e[0]):[];for(var a=-1,s=i(r);++a<r;)for(var o=e[a],l=-1;++l<r;)l!=a&&(s[a]=hi(s[a]||o,e[l],t,n));return dr(gi(s,1),t,n)}function fr(e,t,n){for(var i=-1,a=e.length,s=t.length,o={};++i<a;){var l=i<s?t[i]:r;n(o,e[i],l)}return o}function gr(e){return qs(e)?e:[]}function yr(e){return"function"==typeof e?e:rl}function br(e,t){return zs(e)?e:Ea(e,t)?[e]:Ma(yo(e))}var Er=Xi;function wr(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:rr(e,t,n)}var Sr=rt||function(e){return mt.clearTimeout(e)};function Ar(e,t){if(t)return e.slice();var n=e.length,i=Ge?Ge(n):new e.constructor(n);return e.copy(i),i}function kr(e){var t=new e.constructor(e.byteLength);return new $e(t).set(new $e(e)),t}function Cr(e,t){var n=t?kr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Pr(e,t){if(e!==t){var n=e!==r,i=null===e,a=e==e,s=lo(e),o=t!==r,l=null===t,u=t==t,c=lo(t);if(!l&&!c&&!s&&e>t||s&&o&&u&&!l&&!c||i&&o&&u||!n&&u||!a)return 1;if(!i&&!s&&!c&&e<t||c&&n&&a&&!i&&!s||l&&n&&a||!o&&a||!u)return-1}return 0}function Tr(e,t,n,r){for(var a=-1,s=e.length,o=n.length,l=-1,u=t.length,c=yn(s-o,0),d=i(u+c),h=!r;++l<u;)d[l]=t[l];for(;++a<o;)(h||a<s)&&(d[n[a]]=e[a]);for(;c--;)d[l++]=e[a++];return d}function Ir(e,t,n,r){for(var a=-1,s=e.length,o=-1,l=n.length,u=-1,c=t.length,d=yn(s-l,0),h=i(d+c),p=!r;++a<d;)h[a]=e[a];for(var v=a;++u<c;)h[v+u]=t[u];for(;++o<l;)(p||a<s)&&(h[v+n[o]]=e[a++]);return h}function Rr(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function Lr(e,t,n,i){var a=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var l=t[s],u=i?i(n[l],e[l],l,n,e):r;u===r&&(u=e[l]),a?si(n,l,u):ni(n,l,u)}return n}function xr(e,t){return function(n,i){var r=zs(n)?Tt:ri,a=t?t():{};return r(n,e,ua(i,2),a)}}function Or(e){return Xi((function(t,n){var i=-1,a=n.length,s=a>1?n[a-1]:r,o=a>2?n[2]:r;for(s=e.length>3&&"function"==typeof s?(a--,s):r,o&&ba(n[0],n[1],o)&&(s=a<3?r:s,a=1),t=Pe(t);++i<a;){var l=n[i];l&&e(t,l,i,s)}return t}))}function Nr(e,t){return function(n,i){if(null==n)return n;if(!Gs(n))return e(n,i);for(var r=n.length,a=t?r:-1,s=Pe(n);(t?a--:++a<r)&&!1!==i(s[a],a,s););return n}}function Dr(e){return function(t,n,i){for(var r=-1,a=Pe(t),s=i(t),o=s.length;o--;){var l=s[e?o:++r];if(!1===n(a[l],l,a))break}return t}}function Mr(e){return function(t){var n=ln(t=yo(t))?mn(t):r,i=n?n[0]:t.charAt(0),a=n?wr(n,1).join(""):t.slice(1);return i[e]()+a}}function Br(e){return function(t){return Bt(Zo(zo(t).replace(et,"")),e,"")}}function Fr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=jn(e.prototype),i=e.apply(n,t);return eo(i)?i:n}}function Hr(e){return function(t,n,i){var a=Pe(t);if(!Gs(t)){var s=ua(n,3);t=xo(t),n=function(e){return s(a[e],e,a)}}var o=e(t,n,i);return o>-1?a[s?t[o]:o]:r}}function Vr(e){return ia((function(t){var n=t.length,i=n,s=zn.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new Re(a);if(s&&!l&&"wrapper"==oa(o))var l=new zn([],!0)}for(i=l?i:n;++i<n;){var u=oa(o=t[i]),c="wrapper"==u?sa(o):r;l=c&&wa(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[oa(c[0])].apply(l,c[3]):1==o.length&&wa(o)?l[u]():l.thru(o)}return function(){var e=arguments,i=e[0];if(l&&1==e.length&&zs(i))return l.plant(i).value();for(var r=0,a=n?t[r].apply(this,e):i;++r<n;)a=t[r].call(this,a);return a}}))}function Ur(e,t,n,a,s,o,l,u,c,h){var p=t&d,v=1&t,m=2&t,_=24&t,f=512&t,g=m?r:Fr(e);return function d(){for(var y=arguments.length,b=i(y),E=y;E--;)b[E]=arguments[E];if(_)var w=la(d),S=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(b,w);if(a&&(b=Tr(b,a,s,_)),o&&(b=Ir(b,o,l,_)),y-=S,_&&y<h){var A=dn(b,w);return Kr(e,t,Ur,d.placeholder,n,b,A,u,c,h-y)}var k=v?n:this,C=m?k[e]:e;return y=b.length,u?b=function(e,t){var n=e.length,i=bn(t.length,n),a=Rr(e);for(;i--;){var s=t[i];e[i]=ya(s,n)?a[s]:r}return e}(b,u):f&&y>1&&b.reverse(),p&&c<y&&(b.length=c),this&&this!==mt&&this instanceof d&&(C=g||Fr(C)),C.apply(k,b)}}function jr(e,t){return function(n,i){return function(e,t,n,i){return Ei(e,(function(e,r,a){t(i,n(e),r,a)})),i}(n,e,t(i),{})}}function Wr(e,t){return function(n,i){var a;if(n===r&&i===r)return t;if(n!==r&&(a=n),i!==r){if(a===r)return i;"string"==typeof n||"string"==typeof i?(n=cr(n),i=cr(i)):(n=ur(n),i=ur(i)),a=e(n,i)}return a}}function zr(e){return ia((function(t){return t=Dt(t,Jt(ua())),Xi((function(n){var i=this;return e(t,(function(e){return Pt(e,i,n)}))}))}))}function $r(e,t){var n=(t=t===r?" ":cr(t)).length;if(n<2)return n?Qi(t,e):t;var i=Qi(t,vt(e/vn(t)));return ln(t)?wr(mn(i),0,e).join(""):i.slice(0,e)}function Gr(e){return function(t,n,a){return a&&"number"!=typeof a&&ba(t,n,a)&&(n=a=r),t=vo(t),n===r?(n=t,t=0):n=vo(n),function(e,t,n,r){for(var a=-1,s=yn(vt((t-e)/(n||1)),0),o=i(s);s--;)o[r?s:++a]=e,e+=n;return o}(t,n,a=a===r?t<n?1:-1:vo(a),e)}}function qr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=fo(t),n=fo(n)),e(t,n)}}function Kr(e,t,n,i,a,s,o,l,d,h){var p=8&t;t|=p?u:c,4&(t&=~(p?c:u))||(t&=-4);var v=[e,t,a,p?s:r,p?o:r,p?r:s,p?r:o,l,d,h],m=n.apply(r,v);return wa(e)&&Ra(m,v),m.placeholder=i,Oa(m,e,t)}function Yr(e){var t=Ce[e];return function(e,n){if(e=fo(e),(n=null==n?0:bn(mo(n),292))&&bt(e)){var i=(yo(e)+"e").split("e");return+((i=(yo(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Qr=Tn&&1/hn(new Tn([,-0]))[1]==p?function(e){return new Tn(e)}:ul;function Xr(e){return function(t){var n=ma(t);return n==k?un(t):n==R?pn(t):function(e,t){return Dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zr(e,t,n,s,p,v,m,_){var f=2&t;if(!f&&"function"!=typeof e)throw new Re(a);var g=s?s.length:0;if(g||(t&=-97,s=p=r),m=m===r?m:yn(mo(m),0),_=_===r?_:mo(_),g-=p?p.length:0,t&c){var y=s,b=p;s=p=r}var E=f?r:sa(e),w=[e,t,n,s,p,y,b,v,m,_];if(E&&function(e,t){var n=e[1],i=t[1],r=n|i,a=r<131,s=i==d&&8==n||i==d&&n==h&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!a&&!s)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?Tr(u,l,t[4]):l,e[4]=u?dn(e[3],o):t[4]}(l=t[5])&&(u=e[5],e[5]=u?Ir(u,l,t[6]):l,e[6]=u?dn(e[5],o):t[6]);(l=t[7])&&(e[7]=l);i&d&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(w,E),e=w[0],t=w[1],n=w[2],s=w[3],p=w[4],!(_=w[9]=w[9]===r?f?0:e.length:yn(w[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==l?function(e,t,n){var a=Fr(e);return function s(){for(var o=arguments.length,l=i(o),u=o,c=la(s);u--;)l[u]=arguments[u];var d=o<3&&l[0]!==c&&l[o-1]!==c?[]:dn(l,c);return(o-=d.length)<n?Kr(e,t,Ur,s.placeholder,r,l,d,r,r,n-o):Pt(this&&this!==mt&&this instanceof s?a:e,this,l)}}(e,t,_):t!=u&&33!=t||p.length?Ur.apply(r,w):function(e,t,n,r){var a=1&t,s=Fr(e);return function t(){for(var o=-1,l=arguments.length,u=-1,c=r.length,d=i(c+l),h=this&&this!==mt&&this instanceof t?s:e;++u<c;)d[u]=r[u];for(;l--;)d[u++]=arguments[++o];return Pt(h,a?n:this,d)}}(e,t,n,s);else var S=function(e,t,n){var i=1&t,r=Fr(e);return function t(){return(this&&this!==mt&&this instanceof t?r:e).apply(i?n:this,arguments)}}(e,t,n);return Oa((E?tr:Ra)(S,w),e,t)}function Jr(e,t,n,i){return e===r||Vs(e,Oe[n])&&!Me.call(i,n)?t:e}function ea(e,t,n,i,a,s){return eo(e)&&eo(t)&&(s.set(t,e),Wi(e,t,r,ea,s),s.delete(t)),e}function ta(e){return ro(e)?r:e}function na(e,t,n,i,a,s){var o=1&n,l=e.length,u=t.length;if(l!=u&&!(o&&u>l))return!1;var c=s.get(e),d=s.get(t);if(c&&d)return c==t&&d==e;var h=-1,p=!0,v=2&n?new Yn:r;for(s.set(e,t),s.set(t,e);++h<l;){var m=e[h],_=t[h];if(i)var f=o?i(_,m,h,t,e,s):i(m,_,h,e,t,s);if(f!==r){if(f)continue;p=!1;break}if(v){if(!Ht(t,(function(e,t){if(!tn(v,t)&&(m===e||a(m,e,n,i,s)))return v.push(t)}))){p=!1;break}}else if(m!==_&&!a(m,_,n,i,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function ia(e){return xa(Pa(e,r,$a),e+"")}function ra(e){return ki(e,xo,pa)}function aa(e){return ki(e,Oo,va)}var sa=Ln?function(e){return Ln.get(e)}:ul;function oa(e){for(var t=e.name+"",n=xn[t],i=Me.call(xn,t)?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==e)return r.name}return t}function la(e){return(Me.call(Un,"placeholder")?Un:e).placeholder}function ua(){var e=Un.iteratee||al;return e=e===al?Mi:e,arguments.length?e(arguments[0],arguments[1]):e}function ca(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function da(e){for(var t=xo(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,ka(r)]}return t}function ha(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return Di(n)?n:r}var pa=ft?function(e){return null==e?[]:(e=Pe(e),xt(ft(e),(function(t){return Ye.call(e,t)})))}:_l,va=ft?function(e){for(var t=[];e;)Mt(t,pa(e)),e=qe(e);return t}:_l,ma=Ci;function _a(e,t,n){for(var i=-1,r=(t=br(t,e)).length,a=!1;++i<r;){var s=Ba(t[i]);if(!(a=null!=e&&n(e,s)))break;e=e[s]}return a||++i!=r?a:!!(r=null==e?0:e.length)&&Js(r)&&ya(s,r)&&(zs(e)||Ws(e))}function fa(e){return"function"!=typeof e.constructor||Aa(e)?{}:jn(qe(e))}function ga(e){return zs(e)||Ws(e)||!!(Xe&&e&&e[Xe])}function ya(e,t){var n=typeof e;return!!(t=null==t?v:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function ba(e,t,n){if(!eo(n))return!1;var i=typeof t;return!!("number"==i?Gs(n)&&ya(t,n.length):"string"==i&&t in n)&&Vs(n[t],e)}function Ea(e,t){if(zs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!lo(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Pe(t))}function wa(e){var t=oa(e),n=Un[t];if("function"!=typeof n||!(t in $n.prototype))return!1;if(e===n)return!0;var i=sa(n);return!!i&&e===i[0]}(kn&&ma(new kn(new ArrayBuffer(1)))!=D||Cn&&ma(new Cn)!=k||Pn&&ma(Pn.resolve())!=T||Tn&&ma(new Tn)!=R||In&&ma(new In)!=O)&&(ma=function(e){var t=Ci(e),n=t==P?e.constructor:r,i=n?Fa(n):"";if(i)switch(i){case On:return D;case Nn:return k;case Dn:return T;case Mn:return R;case Bn:return O}return t});var Sa=Ne?Xs:fl;function Aa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function ka(e){return e==e&&!eo(e)}function Ca(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==r||e in Pe(n)))}}function Pa(e,t,n){return t=yn(t===r?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=yn(r.length-t,0),o=i(s);++a<s;)o[a]=r[t+a];a=-1;for(var l=i(t+1);++a<t;)l[a]=r[a];return l[t]=n(o),Pt(e,this,l)}}function Ta(e,t){return t.length<2?e:Ai(e,rr(t,0,-1))}function Ia(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ra=Na(tr),La=pt||function(e,t){return mt.setTimeout(e,t)},xa=Na(nr);function Oa(e,t,n){var i=t+"";return xa(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return It(f,(function(n){var i="_."+n[0];t&n[1]&&!Ot(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(i),n)))}function Na(e){var t=0,n=0;return function(){var i=En(),a=16-(i-n);if(n=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Da(e,t){var n=-1,i=e.length,a=i-1;for(t=t===r?i:t;++n<t;){var s=Yi(n,a),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}var Ma=function(e){var t=Ns(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ie,(function(e,n,i,r){t.push(i?r.replace(pe,"$1"):n||e)})),t}));function Ba(e){if("string"==typeof e||lo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fa(e){if(null!=e){try{return De.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ha(e){if(e instanceof $n)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=Rr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Va=Xi((function(e,t){return qs(e)?hi(e,gi(t,1,qs,!0)):[]})),Ua=Xi((function(e,t){var n=Qa(t);return qs(n)&&(n=r),qs(e)?hi(e,gi(t,1,qs,!0),ua(n,2)):[]})),ja=Xi((function(e,t){var n=Qa(t);return qs(n)&&(n=r),qs(e)?hi(e,gi(t,1,qs,!0),r,n):[]}));function Wa(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:mo(n);return r<0&&(r=yn(i+r,0)),jt(e,ua(t,3),r)}function za(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return n!==r&&(a=mo(n),a=n<0?yn(i+a,0):bn(a,i-1)),jt(e,ua(t,3),a,!0)}function $a(e){return(null==e?0:e.length)?gi(e,1):[]}function Ga(e){return e&&e.length?e[0]:r}var qa=Xi((function(e){var t=Dt(e,gr);return t.length&&t[0]===e[0]?Ri(t):[]})),Ka=Xi((function(e){var t=Qa(e),n=Dt(e,gr);return t===Qa(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Ri(n,ua(t,2)):[]})),Ya=Xi((function(e){var t=Qa(e),n=Dt(e,gr);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?Ri(n,r,t):[]}));function Qa(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Xa=Xi(Za);function Za(e,t){return e&&e.length&&t&&t.length?qi(e,t):e}var Ja=ia((function(e,t){var n=null==e?0:e.length,i=oi(e,t);return Ki(e,Dt(t,(function(e){return ya(e,n)?+e:e})).sort(Pr)),i}));function es(e){return null==e?e:An.call(e)}var ts=Xi((function(e){return dr(gi(e,1,qs,!0))})),ns=Xi((function(e){var t=Qa(e);return qs(t)&&(t=r),dr(gi(e,1,qs,!0),ua(t,2))})),is=Xi((function(e){var t=Qa(e);return t="function"==typeof t?t:r,dr(gi(e,1,qs,!0),r,t)}));function rs(e){if(!e||!e.length)return[];var t=0;return e=xt(e,(function(e){if(qs(e))return t=yn(e.length,t),!0})),Xt(t,(function(t){return Dt(e,qt(t))}))}function as(e,t){if(!e||!e.length)return[];var n=rs(e);return null==t?n:Dt(n,(function(e){return Pt(t,r,e)}))}var ss=Xi((function(e,t){return qs(e)?hi(e,t):[]})),os=Xi((function(e){return _r(xt(e,qs))})),ls=Xi((function(e){var t=Qa(e);return qs(t)&&(t=r),_r(xt(e,qs),ua(t,2))})),us=Xi((function(e){var t=Qa(e);return t="function"==typeof t?t:r,_r(xt(e,qs),r,t)})),cs=Xi(rs);var ds=Xi((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,as(e,n)}));function hs(e){var t=Un(e);return t.__chain__=!0,t}function ps(e,t){return t(e)}var vs=ia((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,a=function(t){return oi(t,e)};return!(t>1||this.__actions__.length)&&i instanceof $n&&ya(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:ps,args:[a],thisArg:r}),new zn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(a)}));var ms=xr((function(e,t,n){Me.call(e,n)?++e[n]:si(e,n,1)}));var _s=Hr(Wa),fs=Hr(za);function gs(e,t){return(zs(e)?It:pi)(e,ua(t,3))}function ys(e,t){return(zs(e)?Rt:vi)(e,ua(t,3))}var bs=xr((function(e,t,n){Me.call(e,n)?e[n].push(t):si(e,n,[t])}));var Es=Xi((function(e,t,n){var r=-1,a="function"==typeof t,s=Gs(e)?i(e.length):[];return pi(e,(function(e){s[++r]=a?Pt(t,e,n):Li(e,t,n)})),s})),ws=xr((function(e,t,n){si(e,n,t)}));function Ss(e,t){return(zs(e)?Dt:Vi)(e,ua(t,3))}var As=xr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ks=Xi((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ba(e,t[0],t[1])?t=[]:n>2&&ba(t[0],t[1],t[2])&&(t=[t[0]]),$i(e,gi(t,1),[])})),Cs=ct||function(){return mt.Date.now()};function Ps(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Zr(e,d,r,r,r,r,t)}function Ts(e,t){var n;if("function"!=typeof t)throw new Re(a);return e=mo(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var Is=Xi((function(e,t,n){var i=1;if(n.length){var r=dn(n,la(Is));i|=u}return Zr(e,i,t,n,r)})),Rs=Xi((function(e,t,n){var i=3;if(n.length){var r=dn(n,la(Rs));i|=u}return Zr(t,i,e,n,r)}));function Ls(e,t,n){var i,s,o,l,u,c,d=0,h=!1,p=!1,v=!0;if("function"!=typeof e)throw new Re(a);function m(t){var n=i,a=s;return i=s=r,d=t,l=e.apply(a,n)}function _(e){var n=e-c;return c===r||n>=t||n<0||p&&e-d>=o}function f(){var e=Cs();if(_(e))return g(e);u=La(f,function(e){var n=t-(e-c);return p?bn(n,o-(e-d)):n}(e))}function g(e){return u=r,v&&i?m(e):(i=s=r,l)}function y(){var e=Cs(),n=_(e);if(i=arguments,s=this,c=e,n){if(u===r)return function(e){return d=e,u=La(f,t),h?m(e):l}(c);if(p)return Sr(u),u=La(f,t),m(c)}return u===r&&(u=La(f,t)),l}return t=fo(t)||0,eo(n)&&(h=!!n.leading,o=(p="maxWait"in n)?yn(fo(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),y.cancel=function(){u!==r&&Sr(u),d=0,i=c=s=u=r},y.flush=function(){return u===r?l:g(Cs())},y}var xs=Xi((function(e,t){return di(e,1,t)})),Os=Xi((function(e,t,n){return di(e,fo(t)||0,n)}));function Ns(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Re(a);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var s=e.apply(this,i);return n.cache=a.set(r,s)||a,s};return n.cache=new(Ns.Cache||Kn),n}function Ds(e){if("function"!=typeof e)throw new Re(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ns.Cache=Kn;var Ms=Er((function(e,t){var n=(t=1==t.length&&zs(t[0])?Dt(t[0],Jt(ua())):Dt(gi(t,1),Jt(ua()))).length;return Xi((function(i){for(var r=-1,a=bn(i.length,n);++r<a;)i[r]=t[r].call(this,i[r]);return Pt(e,this,i)}))})),Bs=Xi((function(e,t){var n=dn(t,la(Bs));return Zr(e,u,r,t,n)})),Fs=Xi((function(e,t){var n=dn(t,la(Fs));return Zr(e,c,r,t,n)})),Hs=ia((function(e,t){return Zr(e,h,r,r,r,t)}));function Vs(e,t){return e===t||e!=e&&t!=t}var Us=qr(Pi),js=qr((function(e,t){return e>=t})),Ws=xi(function(){return arguments}())?xi:function(e){return to(e)&&Me.call(e,"callee")&&!Ye.call(e,"callee")},zs=i.isArray,$s=Et?Jt(Et):function(e){return to(e)&&Ci(e)==N};function Gs(e){return null!=e&&Js(e.length)&&!Xs(e)}function qs(e){return to(e)&&Gs(e)}var Ks=yt||fl,Ys=wt?Jt(wt):function(e){return to(e)&&Ci(e)==E};function Qs(e){if(!to(e))return!1;var t=Ci(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ro(e)}function Xs(e){if(!eo(e))return!1;var t=Ci(e);return t==S||t==A||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zs(e){return"number"==typeof e&&e==mo(e)}function Js(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=v}function eo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function to(e){return null!=e&&"object"==typeof e}var no=St?Jt(St):function(e){return to(e)&&ma(e)==k};function io(e){return"number"==typeof e||to(e)&&Ci(e)==C}function ro(e){if(!to(e)||Ci(e)!=P)return!1;var t=qe(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Ve}var ao=At?Jt(At):function(e){return to(e)&&Ci(e)==I};var so=kt?Jt(kt):function(e){return to(e)&&ma(e)==R};function oo(e){return"string"==typeof e||!zs(e)&&to(e)&&Ci(e)==L}function lo(e){return"symbol"==typeof e||to(e)&&Ci(e)==x}var uo=Ct?Jt(Ct):function(e){return to(e)&&Js(e.length)&&!!lt[Ci(e)]};var co=qr(Hi),ho=qr((function(e,t){return e<=t}));function po(e){if(!e)return[];if(Gs(e))return oo(e)?mn(e):Rr(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=ma(e);return(t==k?un:t==R?hn:Uo)(e)}function vo(e){return e?(e=fo(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function mo(e){var t=vo(e),n=t%1;return t==t?n?t-n:t:0}function _o(e){return e?li(mo(e),0,_):0}function fo(e){if("number"==typeof e)return e;if(lo(e))return m;if(eo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=eo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var n=fe.test(e);return n||ye.test(e)?ht(e.slice(2),n?2:8):_e.test(e)?m:+e}function go(e){return Lr(e,Oo(e))}function yo(e){return null==e?"":cr(e)}var bo=Or((function(e,t){if(Aa(t)||Gs(t))Lr(t,xo(t),e);else for(var n in t)Me.call(t,n)&&ni(e,n,t[n])})),Eo=Or((function(e,t){Lr(t,Oo(t),e)})),wo=Or((function(e,t,n,i){Lr(t,Oo(t),e,i)})),So=Or((function(e,t,n,i){Lr(t,xo(t),e,i)})),Ao=ia(oi);var ko=Xi((function(e,t){e=Pe(e);var n=-1,i=t.length,a=i>2?t[2]:r;for(a&&ba(t[0],t[1],a)&&(i=1);++n<i;)for(var s=t[n],o=Oo(s),l=-1,u=o.length;++l<u;){var c=o[l],d=e[c];(d===r||Vs(d,Oe[c])&&!Me.call(e,c))&&(e[c]=s[c])}return e})),Co=Xi((function(e){return e.push(r,ea),Pt(Do,r,e)}));function Po(e,t,n){var i=null==e?r:Ai(e,t);return i===r?n:i}function To(e,t){return null!=e&&_a(e,t,Ii)}var Io=jr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=He.call(t)),e[t]=n}),tl(rl)),Ro=jr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=He.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),ua),Lo=Xi(Li);function xo(e){return Gs(e)?Xn(e):Bi(e)}function Oo(e){return Gs(e)?Xn(e,!0):Fi(e)}var No=Or((function(e,t,n){Wi(e,t,n)})),Do=Or((function(e,t,n,i){Wi(e,t,n,i)})),Mo=ia((function(e,t){var n={};if(null==e)return n;var i=!1;t=Dt(t,(function(t){return t=br(t,e),i||(i=t.length>1),t})),Lr(e,aa(e),n),i&&(n=ui(n,7,ta));for(var r=t.length;r--;)hr(n,t[r]);return n}));var Bo=ia((function(e,t){return null==e?{}:function(e,t){return Gi(e,t,(function(t,n){return To(e,n)}))}(e,t)}));function Fo(e,t){if(null==e)return{};var n=Dt(aa(e),(function(e){return[e]}));return t=ua(t),Gi(e,n,(function(e,n){return t(e,n[0])}))}var Ho=Xr(xo),Vo=Xr(Oo);function Uo(e){return null==e?[]:en(e,xo(e))}var jo=Br((function(e,t,n){return t=t.toLowerCase(),e+(n?Wo(t):t)}));function Wo(e){return Xo(yo(e).toLowerCase())}function zo(e){return(e=yo(e))&&e.replace(Ee,an).replace(tt,"")}var $o=Br((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Go=Br((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qo=Mr("toLowerCase");var Ko=Br((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Yo=Br((function(e,t,n){return e+(n?" ":"")+Xo(t)}));var Qo=Br((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xo=Mr("toUpperCase");function Zo(e,t,n){return e=yo(e),(t=n?r:t)===r?function(e){return at.test(e)}(e)?function(e){return e.match(it)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Jo=Xi((function(e,t){try{return Pt(e,r,t)}catch(e){return Qs(e)?e:new Ae(e)}})),el=ia((function(e,t){return It(t,(function(t){t=Ba(t),si(e,t,Is(e[t],e))})),e}));function tl(e){return function(){return e}}var nl=Vr(),il=Vr(!0);function rl(e){return e}function al(e){return Mi("function"==typeof e?e:ui(e,1))}var sl=Xi((function(e,t){return function(n){return Li(n,e,t)}})),ol=Xi((function(e,t){return function(n){return Li(e,n,t)}}));function ll(e,t,n){var i=xo(t),r=Si(t,i);null!=n||eo(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=Si(t,xo(t)));var a=!(eo(n)&&"chain"in n&&!n.chain),s=Xs(e);return It(r,(function(n){var i=t[n];e[n]=i,s&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Rr(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,Mt([this.value()],arguments))})})),e}function ul(){}var cl=zr(Dt),dl=zr(Lt),hl=zr(Ht);function pl(e){return Ea(e)?qt(Ba(e)):function(e){return function(t){return Ai(t,e)}}(e)}var vl=Gr(),ml=Gr(!0);function _l(){return[]}function fl(){return!1}var gl=Wr((function(e,t){return e+t}),0),yl=Yr("ceil"),bl=Wr((function(e,t){return e/t}),1),El=Yr("floor");var wl,Sl=Wr((function(e,t){return e*t}),1),Al=Yr("round"),kl=Wr((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Re(a);return e=mo(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Ps,Un.assign=bo,Un.assignIn=Eo,Un.assignInWith=wo,Un.assignWith=So,Un.at=Ao,Un.before=Ts,Un.bind=Is,Un.bindAll=el,Un.bindKey=Rs,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return zs(e)?e:[e]},Un.chain=hs,Un.chunk=function(e,t,n){t=(n?ba(e,t,n):t===r)?1:yn(mo(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var s=0,o=0,l=i(vt(a/t));s<a;)l[o++]=rr(e,s,s+=t);return l},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var a=e[t];a&&(r[i++]=a)}return r},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Mt(zs(n)?Rr(n):[n],gi(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=ua();return e=t?Dt(e,(function(e){if("function"!=typeof e[1])throw new Re(a);return[n(e[0]),e[1]]})):[],Xi((function(n){for(var i=-1;++i<t;){var r=e[i];if(Pt(r[0],this,n))return Pt(r[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=xo(e);return function(n){return ci(n,e,t)}}(ui(e,1))},Un.constant=tl,Un.countBy=ms,Un.create=function(e,t){var n=jn(e);return null==t?n:ai(n,t)},Un.curry=function e(t,n,i){var a=Zr(t,8,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Un.curryRight=function e(t,n,i){var a=Zr(t,l,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Un.debounce=Ls,Un.defaults=ko,Un.defaultsDeep=Co,Un.defer=xs,Un.delay=Os,Un.difference=Va,Un.differenceBy=Ua,Un.differenceWith=ja,Un.drop=function(e,t,n){var i=null==e?0:e.length;return i?rr(e,(t=n||t===r?1:mo(t))<0?0:t,i):[]},Un.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?rr(e,0,(t=i-(t=n||t===r?1:mo(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?vr(e,ua(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?vr(e,ua(t,3),!0):[]},Un.fill=function(e,t,n,i){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ba(e,t,n)&&(n=0,i=a),function(e,t,n,i){var a=e.length;for((n=mo(n))<0&&(n=-n>a?0:a+n),(i=i===r||i>a?a:mo(i))<0&&(i+=a),i=n>i?0:_o(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Un.filter=function(e,t){return(zs(e)?xt:fi)(e,ua(t,3))},Un.flatMap=function(e,t){return gi(Ss(e,t),1)},Un.flatMapDeep=function(e,t){return gi(Ss(e,t),p)},Un.flatMapDepth=function(e,t,n){return n=n===r?1:mo(n),gi(Ss(e,t),n)},Un.flatten=$a,Un.flattenDeep=function(e){return(null==e?0:e.length)?gi(e,p):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?gi(e,t=t===r?1:mo(t)):[]},Un.flip=function(e){return Zr(e,512)},Un.flow=nl,Un.flowRight=il,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},Un.functions=function(e){return null==e?[]:Si(e,xo(e))},Un.functionsIn=function(e){return null==e?[]:Si(e,Oo(e))},Un.groupBy=bs,Un.initial=function(e){return(null==e?0:e.length)?rr(e,0,-1):[]},Un.intersection=qa,Un.intersectionBy=Ka,Un.intersectionWith=Ya,Un.invert=Io,Un.invertBy=Ro,Un.invokeMap=Es,Un.iteratee=al,Un.keyBy=ws,Un.keys=xo,Un.keysIn=Oo,Un.map=Ss,Un.mapKeys=function(e,t){var n={};return t=ua(t,3),Ei(e,(function(e,i,r){si(n,t(e,i,r),e)})),n},Un.mapValues=function(e,t){var n={};return t=ua(t,3),Ei(e,(function(e,i,r){si(n,i,t(e,i,r))})),n},Un.matches=function(e){return Ui(ui(e,1))},Un.matchesProperty=function(e,t){return ji(e,ui(t,1))},Un.memoize=Ns,Un.merge=No,Un.mergeWith=Do,Un.method=sl,Un.methodOf=ol,Un.mixin=ll,Un.negate=Ds,Un.nthArg=function(e){return e=mo(e),Xi((function(t){return zi(t,e)}))},Un.omit=Mo,Un.omitBy=function(e,t){return Fo(e,Ds(ua(t)))},Un.once=function(e){return Ts(2,e)},Un.orderBy=function(e,t,n,i){return null==e?[]:(zs(t)||(t=null==t?[]:[t]),zs(n=i?r:n)||(n=null==n?[]:[n]),$i(e,t,n))},Un.over=cl,Un.overArgs=Ms,Un.overEvery=dl,Un.overSome=hl,Un.partial=Bs,Un.partialRight=Fs,Un.partition=As,Un.pick=Bo,Un.pickBy=Fo,Un.property=pl,Un.propertyOf=function(e){return function(t){return null==e?r:Ai(e,t)}},Un.pull=Xa,Un.pullAll=Za,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qi(e,t,ua(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?qi(e,t,r,n):e},Un.pullAt=Ja,Un.range=vl,Un.rangeRight=ml,Un.rearg=Hs,Un.reject=function(e,t){return(zs(e)?xt:fi)(e,Ds(ua(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],a=e.length;for(t=ua(t,3);++i<a;){var s=e[i];t(s,i,e)&&(n.push(s),r.push(i))}return Ki(e,r),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Re(a);return Xi(e,t=t===r?t:mo(t))},Un.reverse=es,Un.sampleSize=function(e,t,n){return t=(n?ba(e,t,n):t===r)?1:mo(t),(zs(e)?Jn:Ji)(e,t)},Un.set=function(e,t,n){return null==e?e:er(e,t,n)},Un.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:er(e,t,n,i)},Un.shuffle=function(e){return(zs(e)?ei:ir)(e)},Un.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ba(e,t,n)?(t=0,n=i):(t=null==t?0:mo(t),n=n===r?i:mo(n)),rr(e,t,n)):[]},Un.sortBy=ks,Un.sortedUniq=function(e){return e&&e.length?lr(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?lr(e,ua(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&ba(e,t,n)&&(t=n=r),(n=n===r?_:n>>>0)?(e=yo(e))&&("string"==typeof t||null!=t&&!ao(t))&&!(t=cr(t))&&ln(e)?wr(mn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Re(a);return t=null==t?0:yn(mo(t),0),Xi((function(n){var i=n[t],r=wr(n,0,t);return i&&Mt(r,i),Pt(e,this,r)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?rr(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?rr(e,0,(t=n||t===r?1:mo(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?rr(e,(t=i-(t=n||t===r?1:mo(t)))<0?0:t,i):[]},Un.takeRightWhile=function(e,t){return e&&e.length?vr(e,ua(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?vr(e,ua(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new Re(a);return eo(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Ls(e,t,{leading:i,maxWait:t,trailing:r})},Un.thru=ps,Un.toArray=po,Un.toPairs=Ho,Un.toPairsIn=Vo,Un.toPath=function(e){return zs(e)?Dt(e,Ba):lo(e)?[e]:Rr(Ma(yo(e)))},Un.toPlainObject=go,Un.transform=function(e,t,n){var i=zs(e),r=i||Ks(e)||uo(e);if(t=ua(t,4),null==n){var a=e&&e.constructor;n=r?i?new a:[]:eo(e)&&Xs(a)?jn(qe(e)):{}}return(r?It:Ei)(e,(function(e,i,r){return t(n,e,i,r)})),n},Un.unary=function(e){return Ps(e,1)},Un.union=ts,Un.unionBy=ns,Un.unionWith=is,Un.uniq=function(e){return e&&e.length?dr(e):[]},Un.uniqBy=function(e,t){return e&&e.length?dr(e,ua(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?dr(e,r,t):[]},Un.unset=function(e,t){return null==e||hr(e,t)},Un.unzip=rs,Un.unzipWith=as,Un.update=function(e,t,n){return null==e?e:pr(e,t,yr(n))},Un.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:pr(e,t,yr(n),i)},Un.values=Uo,Un.valuesIn=function(e){return null==e?[]:en(e,Oo(e))},Un.without=ss,Un.words=Zo,Un.wrap=function(e,t){return Bs(yr(t),e)},Un.xor=os,Un.xorBy=ls,Un.xorWith=us,Un.zip=cs,Un.zipObject=function(e,t){return fr(e||[],t||[],ni)},Un.zipObjectDeep=function(e,t){return fr(e||[],t||[],er)},Un.zipWith=ds,Un.entries=Ho,Un.entriesIn=Vo,Un.extend=Eo,Un.extendWith=wo,ll(Un,Un),Un.add=gl,Un.attempt=Jo,Un.camelCase=jo,Un.capitalize=Wo,Un.ceil=yl,Un.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=fo(n))==n?n:0),t!==r&&(t=(t=fo(t))==t?t:0),li(fo(e),t,n)},Un.clone=function(e){return ui(e,4)},Un.cloneDeep=function(e){return ui(e,5)},Un.cloneDeepWith=function(e,t){return ui(e,5,t="function"==typeof t?t:r)},Un.cloneWith=function(e,t){return ui(e,4,t="function"==typeof t?t:r)},Un.conformsTo=function(e,t){return null==t||ci(e,t,xo(t))},Un.deburr=zo,Un.defaultTo=function(e,t){return null==e||e!=e?t:e},Un.divide=bl,Un.endsWith=function(e,t,n){e=yo(e),t=cr(t);var i=e.length,a=n=n===r?i:li(mo(n),0,i);return(n-=t.length)>=0&&e.slice(n,a)==t},Un.eq=Vs,Un.escape=function(e){return(e=yo(e))&&X.test(e)?e.replace(Y,sn):e},Un.escapeRegExp=function(e){return(e=yo(e))&&ae.test(e)?e.replace(re,"\\$&"):e},Un.every=function(e,t,n){var i=zs(e)?Lt:mi;return n&&ba(e,t,n)&&(t=r),i(e,ua(t,3))},Un.find=_s,Un.findIndex=Wa,Un.findKey=function(e,t){return Ut(e,ua(t,3),Ei)},Un.findLast=fs,Un.findLastIndex=za,Un.findLastKey=function(e,t){return Ut(e,ua(t,3),wi)},Un.floor=El,Un.forEach=gs,Un.forEachRight=ys,Un.forIn=function(e,t){return null==e?e:yi(e,ua(t,3),Oo)},Un.forInRight=function(e,t){return null==e?e:bi(e,ua(t,3),Oo)},Un.forOwn=function(e,t){return e&&Ei(e,ua(t,3))},Un.forOwnRight=function(e,t){return e&&wi(e,ua(t,3))},Un.get=Po,Un.gt=Us,Un.gte=js,Un.has=function(e,t){return null!=e&&_a(e,t,Ti)},Un.hasIn=To,Un.head=Ga,Un.identity=rl,Un.includes=function(e,t,n,i){e=Gs(e)?e:Uo(e),n=n&&!i?mo(n):0;var r=e.length;return n<0&&(n=yn(r+n,0)),oo(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Wt(e,t,n)>-1},Un.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:mo(n);return r<0&&(r=yn(i+r,0)),Wt(e,t,r)},Un.inRange=function(e,t,n){return t=vo(t),n===r?(n=t,t=0):n=vo(n),function(e,t,n){return e>=bn(t,n)&&e<yn(t,n)}(e=fo(e),t,n)},Un.invoke=Lo,Un.isArguments=Ws,Un.isArray=zs,Un.isArrayBuffer=$s,Un.isArrayLike=Gs,Un.isArrayLikeObject=qs,Un.isBoolean=function(e){return!0===e||!1===e||to(e)&&Ci(e)==b},Un.isBuffer=Ks,Un.isDate=Ys,Un.isElement=function(e){return to(e)&&1===e.nodeType&&!ro(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Gs(e)&&(zs(e)||"string"==typeof e||"function"==typeof e.splice||Ks(e)||uo(e)||Ws(e)))return!e.length;var t=ma(e);if(t==k||t==R)return!e.size;if(Aa(e))return!Bi(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Oi(e,t)},Un.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?Oi(e,t,r,n):!!i},Un.isError=Qs,Un.isFinite=function(e){return"number"==typeof e&&bt(e)},Un.isFunction=Xs,Un.isInteger=Zs,Un.isLength=Js,Un.isMap=no,Un.isMatch=function(e,t){return e===t||Ni(e,t,da(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,Ni(e,t,da(t),n)},Un.isNaN=function(e){return io(e)&&e!=+e},Un.isNative=function(e){if(Sa(e))throw new Ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Di(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=io,Un.isObject=eo,Un.isObjectLike=to,Un.isPlainObject=ro,Un.isRegExp=ao,Un.isSafeInteger=function(e){return Zs(e)&&e>=-9007199254740991&&e<=v},Un.isSet=so,Un.isString=oo,Un.isSymbol=lo,Un.isTypedArray=uo,Un.isUndefined=function(e){return e===r},Un.isWeakMap=function(e){return to(e)&&ma(e)==O},Un.isWeakSet=function(e){return to(e)&&"[object WeakSet]"==Ci(e)},Un.join=function(e,t){return null==e?"":Vt.call(e,t)},Un.kebabCase=$o,Un.last=Qa,Un.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i;return n!==r&&(a=(a=mo(n))<0?yn(i+a,0):bn(a,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,a):jt(e,$t,a,!0)},Un.lowerCase=Go,Un.lowerFirst=qo,Un.lt=co,Un.lte=ho,Un.max=function(e){return e&&e.length?_i(e,rl,Pi):r},Un.maxBy=function(e,t){return e&&e.length?_i(e,ua(t,2),Pi):r},Un.mean=function(e){return Gt(e,rl)},Un.meanBy=function(e,t){return Gt(e,ua(t,2))},Un.min=function(e){return e&&e.length?_i(e,rl,Hi):r},Un.minBy=function(e,t){return e&&e.length?_i(e,ua(t,2),Hi):r},Un.stubArray=_l,Un.stubFalse=fl,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=Sl,Un.nth=function(e,t){return e&&e.length?zi(e,mo(t)):r},Un.noConflict=function(){return mt._===this&&(mt._=Ue),this},Un.noop=ul,Un.now=Cs,Un.pad=function(e,t,n){e=yo(e);var i=(t=mo(t))?vn(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return $r(_t(r),n)+e+$r(vt(r),n)},Un.padEnd=function(e,t,n){e=yo(e);var i=(t=mo(t))?vn(e):0;return t&&i<t?e+$r(t-i,n):e},Un.padStart=function(e,t,n){e=yo(e);var i=(t=mo(t))?vn(e):0;return t&&i<t?$r(t-i,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(yo(e).replace(se,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ba(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=vo(e),t===r?(t=e,e=0):t=vo(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var a=Sn();return bn(e+a*(t-e+dt("1e-"+((a+"").length-1))),t)}return Yi(e,t)},Un.reduce=function(e,t,n){var i=zs(e)?Bt:Yt,r=arguments.length<3;return i(e,ua(t,4),n,r,pi)},Un.reduceRight=function(e,t,n){var i=zs(e)?Ft:Yt,r=arguments.length<3;return i(e,ua(t,4),n,r,vi)},Un.repeat=function(e,t,n){return t=(n?ba(e,t,n):t===r)?1:mo(t),Qi(yo(e),t)},Un.replace=function(){var e=arguments,t=yo(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var i=-1,a=(t=br(t,e)).length;for(a||(a=1,e=r);++i<a;){var s=null==e?r:e[Ba(t[i])];s===r&&(i=a,s=n),e=Xs(s)?s.call(e):s}return e},Un.round=Al,Un.runInContext=e,Un.sample=function(e){return(zs(e)?Zn:Zi)(e)},Un.size=function(e){if(null==e)return 0;if(Gs(e))return oo(e)?vn(e):e.length;var t=ma(e);return t==k||t==R?e.size:Bi(e).length},Un.snakeCase=Ko,Un.some=function(e,t,n){var i=zs(e)?Ht:ar;return n&&ba(e,t,n)&&(t=r),i(e,ua(t,3))},Un.sortedIndex=function(e,t){return sr(e,t)},Un.sortedIndexBy=function(e,t,n){return or(e,t,ua(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=sr(e,t);if(i<n&&Vs(e[i],t))return i}return-1},Un.sortedLastIndex=function(e,t){return sr(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return or(e,t,ua(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=sr(e,t,!0)-1;if(Vs(e[n],t))return n}return-1},Un.startCase=Yo,Un.startsWith=function(e,t,n){return e=yo(e),n=null==n?0:li(mo(n),0,e.length),t=cr(t),e.slice(n,n+t.length)==t},Un.subtract=kl,Un.sum=function(e){return e&&e.length?Qt(e,rl):0},Un.sumBy=function(e,t){return e&&e.length?Qt(e,ua(t,2)):0},Un.template=function(e,t,n){var i=Un.templateSettings;n&&ba(e,t,n)&&(t=r),e=yo(e),t=wo({},t,i,Jr);var a,s,o=wo({},t.imports,i.imports,Jr),l=xo(o),u=en(o,l),c=0,d=t.interpolate||we,h="__p += '",p=Te((t.escape||we).source+"|"+d.source+"|"+(d===ee?ve:we).source+"|"+(t.evaluate||we).source+"|$","g"),v="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(p,(function(t,n,i,r,o,l){return i||(i=r),h+=e.slice(c,l).replace(Se,on),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),o&&(s=!0,h+="';\n"+o+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),h+="';\n";var m=Me.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new Ae("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace($,""):h).replace(G,"$1").replace(q,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var _=Jo((function(){return ke(l,v+"return "+h).apply(r,u)}));if(_.source=h,Qs(_))throw _;return _},Un.times=function(e,t){if((e=mo(e))<1||e>v)return[];var n=_,i=bn(e,_);t=ua(t),e-=_;for(var r=Xt(i,t);++n<e;)t(n);return r},Un.toFinite=vo,Un.toInteger=mo,Un.toLength=_o,Un.toLower=function(e){return yo(e).toLowerCase()},Un.toNumber=fo,Un.toSafeInteger=function(e){return e?li(mo(e),-9007199254740991,v):0===e?e:0},Un.toString=yo,Un.toUpper=function(e){return yo(e).toUpperCase()},Un.trim=function(e,t,n){if((e=yo(e))&&(n||t===r))return Zt(e);if(!e||!(t=cr(t)))return e;var i=mn(e),a=mn(t);return wr(i,nn(i,a),rn(i,a)+1).join("")},Un.trimEnd=function(e,t,n){if((e=yo(e))&&(n||t===r))return e.slice(0,_n(e)+1);if(!e||!(t=cr(t)))return e;var i=mn(e);return wr(i,0,rn(i,mn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=yo(e))&&(n||t===r))return e.replace(se,"");if(!e||!(t=cr(t)))return e;var i=mn(e);return wr(i,nn(i,mn(t))).join("")},Un.truncate=function(e,t){var n=30,i="...";if(eo(t)){var a="separator"in t?t.separator:a;n="length"in t?mo(t.length):n,i="omission"in t?cr(t.omission):i}var s=(e=yo(e)).length;if(ln(e)){var o=mn(e);s=o.length}if(n>=s)return e;var l=n-vn(i);if(l<1)return i;var u=o?wr(o,0,l).join(""):e.slice(0,l);if(a===r)return u+i;if(o&&(l+=u.length-l),ao(a)){if(e.slice(l).search(a)){var c,d=u;for(a.global||(a=Te(a.source,yo(me.exec(a))+"g")),a.lastIndex=0;c=a.exec(d);)var h=c.index;u=u.slice(0,h===r?l:h)}}else if(e.indexOf(cr(a),l)!=l){var p=u.lastIndexOf(a);p>-1&&(u=u.slice(0,p))}return u+i},Un.unescape=function(e){return(e=yo(e))&&Q.test(e)?e.replace(K,fn):e},Un.uniqueId=function(e){var t=++Be;return yo(e)+t},Un.upperCase=Qo,Un.upperFirst=Xo,Un.each=gs,Un.eachRight=ys,Un.first=Ga,ll(Un,(wl={},Ei(Un,(function(e,t){Me.call(Un.prototype,t)||(wl[t]=e)})),wl),{chain:!1}),Un.VERSION="4.17.21",It(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),It(["drop","take"],(function(e,t){$n.prototype[e]=function(n){n=n===r?1:yn(mo(n),0);var i=this.__filtered__&&!t?new $n(this):this.clone();return i.__filtered__?i.__takeCount__=bn(n,i.__takeCount__):i.__views__.push({size:bn(n,_),type:e+(i.__dir__<0?"Right":"")}),i},$n.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),It(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;$n.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ua(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),It(["head","last"],(function(e,t){var n="take"+(t?"Right":"");$n.prototype[e]=function(){return this[n](1).value()[0]}})),It(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");$n.prototype[e]=function(){return this.__filtered__?new $n(this):this[n](1)}})),$n.prototype.compact=function(){return this.filter(rl)},$n.prototype.find=function(e){return this.filter(e).head()},$n.prototype.findLast=function(e){return this.reverse().find(e)},$n.prototype.invokeMap=Xi((function(e,t){return"function"==typeof e?new $n(this):this.map((function(n){return Li(n,e,t)}))})),$n.prototype.reject=function(e){return this.filter(Ds(ua(e)))},$n.prototype.slice=function(e,t){e=mo(e);var n=this;return n.__filtered__&&(e>0||t<0)?new $n(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=mo(t))<0?n.dropRight(-t):n.take(t-e)),n)},$n.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},$n.prototype.toArray=function(){return this.take(_)},Ei($n.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=Un[i?"take"+("last"==t?"Right":""):t],s=i||/^find/.test(t);a&&(Un.prototype[t]=function(){var t=this.__wrapped__,o=i?[1]:arguments,l=t instanceof $n,u=o[0],c=l||zs(t),d=function(e){var t=a.apply(Un,Mt([e],o));return i&&h?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var h=this.__chain__,p=!!this.__actions__.length,v=s&&!h,m=l&&!p;if(!s&&c){t=m?t:new $n(this);var _=e.apply(t,o);return _.__actions__.push({func:ps,args:[d],thisArg:r}),new zn(_,h)}return v&&m?e.apply(this,o):(_=this.thru(d),v?i?_.value()[0]:_.value():_)})})),It(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Le[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(zs(r)?r:[],e)}return this[n]((function(n){return t.apply(zs(n)?n:[],e)}))}})),Ei($n.prototype,(function(e,t){var n=Un[t];if(n){var i=n.name+"";Me.call(xn,i)||(xn[i]=[]),xn[i].push({name:t,func:n})}})),xn[Ur(r,2).name]=[{name:"wrapper",func:r}],$n.prototype.clone=function(){var e=new $n(this.__wrapped__);return e.__actions__=Rr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Rr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Rr(this.__views__),e},$n.prototype.reverse=function(){if(this.__filtered__){var e=new $n(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},$n.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=zs(e),i=t<0,r=n?e.length:0,a=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var a=n[i],s=a.size;switch(a.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=bn(t,e+s);break;case"takeRight":e=yn(e,t-s)}}return{start:e,end:t}}(0,r,this.__views__),s=a.start,o=a.end,l=o-s,u=i?o:s-1,c=this.__iteratees__,d=c.length,h=0,p=bn(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return mr(e,this.__actions__);var v=[];e:for(;l--&&h<p;){for(var m=-1,_=e[u+=t];++m<d;){var f=c[m],g=f.iteratee,y=f.type,b=g(_);if(2==y)_=b;else if(!b){if(1==y)continue e;break e}}v[h++]=_}return v},Un.prototype.at=vs,Un.prototype.chain=function(){return hs(this)},Un.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===r&&(this.__values__=po(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Wn;){var i=Ha(n);i.__index__=0,i.__values__=r,t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}return a.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof $n){var t=e;return this.__actions__.length&&(t=new $n(this)),(t=t.reverse()).__actions__.push({func:ps,args:[es],thisArg:r}),new zn(t,this.__chain__)}return this.thru(es)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return mr(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Ze&&(Un.prototype[Ze]=function(){return this}),Un}();mt._=gn,(i=function(){return gn}.call(t,n,t,e))===r||(e.exports=i)}.call(this)},8007:(e,t,n)=>{"use strict";n.d(t,{PA:()=>E});n(7293);var i=n(3590),r=n(8717);if(!r.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!i.Gn)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var a=n(8572);function s(e){e()}n(4401);n(8668);function o(e){return(0,i.yl)(e)}var l=!1;function u(){return l}n(2195),n(7821),n(752);var c,d,h=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach((function(i,r){n-i.registeredAt>=e&&(t.finalize(i.value),t.registrations.delete(r))})),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),p=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:h)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null})),v=n(2583);function m(e){e.reaction=new i.qT("observer".concat(e.name),(function(){var t;e.stateVersion=Symbol(),null===(t=e.onStoreChange)||void 0===t||t.call(e)}))}function _(e,t){if(void 0===t&&(t="observed"),u())return e();var n=r.useRef(null);if(!n.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return p.unregister(i),i.onStoreChange=e,i.reaction||(m(i),i.stateVersion=Symbol()),function(){var e;i.onStoreChange=null,null===(e=i.reaction)||void 0===e||e.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};n.current=i}var a,s,l=n.current;if(l.reaction||(m(l),p.register(n,l,l)),r.useDebugValue(l.reaction,o),(0,v.useSyncExternalStore)(l.subscribe,l.getSnapshot,l.getSnapshot),l.reaction.track((function(){try{a=e()}catch(e){s=e}})),s)throw s;return a}var f="function"==typeof Symbol&&Symbol.for,g=null!==(d=null===(c=Object.getOwnPropertyDescriptor((function(){}),"name"))||void 0===c?void 0:c.configurable)&&void 0!==d&&d,y=f?Symbol.for("react.forward_ref"):"function"==typeof r.forwardRef&&(0,r.forwardRef)((function(e){return null})).$$typeof,b=f?Symbol.for("react.memo"):"function"==typeof r.memo&&(0,r.memo)((function(e){return null})).$$typeof;function E(e,t){var n;if(b&&e.$$typeof===b)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(u())return e;var i=null!==(n=null==t?void 0:t.forwardRef)&&void 0!==n&&n,a=e,s=e.displayName||e.name;if(y&&e.$$typeof===y&&(i=!0,"function"!=typeof(a=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o,l,c=function(e,t){return _((function(){return a(e,t)}),s)};return c.displayName=e.displayName,g&&Object.defineProperty(c,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(c.contextTypes=e.contextTypes),i&&(c=(0,r.forwardRef)(c)),o=e,l=c=(0,r.memo)(c),Object.keys(o).forEach((function(e){A[e]||Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(o,e))})),c}var w,S,A={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};(S=a.unstable_batchedUpdates)||(S=s),(0,i.jK)({reactionScheduler:S});w=p.finalizeAllImmediately},3590:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>ee,BQ:()=>G,EW:()=>Ve,Es:()=>Xn,Fq:()=>qn,Gn:()=>Dn,H8:()=>_n,HO:()=>Sn,HP:()=>yn,L3:()=>dn,MN:()=>Y,Mr:()=>Si,OB:()=>li,Rn:()=>An,Tx:()=>at,XI:()=>Ut,YQ:()=>mn,h5:()=>Wt,jK:()=>nn,kt:()=>rn,lB:()=>bn,m3:()=>Q,mJ:()=>Kt,q$:()=>Xt,qT:()=>Pt,sG:()=>yt,sH:()=>Me,uz:()=>Zn,ve:()=>zt,yl:()=>an,z7:()=>kn});n(8668),n(7293),n(2195),n(4401),n(5745),n(9928),n(3867),n(6530),n(1557),n(2358),n(9419),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446),n(7821),n(752),n(3154);function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var r={};function a(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:r}var s=Object.assign,o=Object.getOwnPropertyDescriptor,l=Object.defineProperty,u=Object.prototype,c=[];Object.freeze(c);var d={};Object.freeze(d);var h="undefined"!=typeof Proxy,p=Object.toString();function v(){h||i("Proxy not available")}function m(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var _=function(){};function f(e){return"function"==typeof e}function g(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function y(e){return null!==e&&"object"==typeof e}function b(e){if(!y(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===p}function E(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function w(e,t,n){l(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function S(e,t,n){l(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function A(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return y(e)&&!0===e[n]}}function k(e){return null!=e&&"[object Map]"===Object.prototype.toString.call(e)}function C(e){return null!=e&&"[object Set]"===Object.prototype.toString.call(e)}var P=void 0!==Object.getOwnPropertySymbols;var T="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:P?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function I(e){return null===e?null:"object"==typeof e?""+e:e}function R(e,t){return u.hasOwnProperty.call(e,t)}var L=Object.getOwnPropertyDescriptors||function(e){var t={};return T(e).forEach((function(n){t[n]=o(e,n)})),t};function x(e,t){return!!(e&t)}function O(e,t,n){return n?e|=t:e&=~t,e}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function D(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,U(i.key),i)}}function M(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function B(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return N(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},F.apply(null,arguments)}function H(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,V(e,t)}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function U(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var j=Symbol("mobx-stored-annotations");function W(e){return Object.assign((function(t,n){if($(n))return e.decorate_20223_(t,n);z(t,n,e)}),e)}function z(e,t,n){R(e,j)||w(e,j,F({},e[j])),function(e){return e.annotationType_===J}(n)||(e[j][t]=n)}function $(e){return"object"==typeof e&&"string"==typeof e.kind}var G=Symbol("mobx administration"),q=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Je.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return kt(this)},t.reportChanged=function(){St(),Ct(this),At()},t.toString=function(){return this.name_},M(e,[{key:"isBeingObserved",get:function(){return x(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=O(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return x(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=O(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return x(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=O(this.flags_,e.diffValueMask_,1===t)}}])}();q.isBeingObservedMask_=1,q.isPendingUnobservationMask_=2,q.diffValueMask_=4;var K=A("Atom",q);function Y(e,t,n){void 0===t&&(t=_),void 0===n&&(n=_);var i,r=new q(e);return t!==_&&Zt(Yt,r,t,i),n!==_&&Xt(r,n),r}var Q={identity:function(e,t){return e===t},structural:function(e,t){return Pi(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return Pi(e,t,1)}};function X(e,t,n){return gn(e)?e:Array.isArray(e)?Me.array(e,{name:n}):b(e)?Me.object(e,void 0,{name:n}):k(e)?Me.map(e,{name:n}):C(e)?Me.set(e,{name:n}):"function"!=typeof e||zt(e)||pn(e)?e:E(e)?dn(e):jt(n,e)}function Z(e){return e}var J="override",ee=W({annotationType_:J,make_:function(e,t){0;0;return 0},extend_:function(e,t,n,r){i("'"+this.annotationType_+"' can only be used with 'makeObservable'")},decorate_20223_:function(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}});function te(e,t){return{annotationType_:e,options_:t,make_:ne,extend_:ie,decorate_20223_:re}}function ne(e,t,n,i){var r;if(null!=(r=this.options_)&&r.bound)return null===this.extend_(e,t,n,!1)?0:1;if(i===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(zt(n.value))return 1;var a=ae(e,this,t,n,!1);return l(i,t,a),2}function ie(e,t,n,i){var r=ae(e,this,t,n);return e.defineProperty_(t,r,i)}function re(e,t){var n,r=t.kind,a=t.name,s=t.addInitializer,o=this,l=function(e){var t,n,i,r;return $e(null!=(t=null==(n=o.options_)?void 0:n.name)?t:a.toString(),e,null!=(i=null==(r=o.options_)?void 0:r.autoAction)&&i)};return"field"==r?function(e){var t,n=e;return zt(n)||(n=l(n)),null!=(t=o.options_)&&t.bound&&((n=n.bind(this)).isMobxAction=!0),n}:"method"==r?(zt(e)||(e=l(e)),null!=(n=this.options_)&&n.bound&&s((function(){var e=this,t=e[a].bind(e);t.isMobxAction=!0,e[a]=t})),e):void i("Cannot apply '"+o.annotationType_+"' to '"+String(a)+"' (kind: "+r+"):\n'"+o.annotationType_+"' can only be used on properties with a function value.")}function ae(e,t,n,i,r){var a,s,o,l,u,c,d,h;void 0===r&&(r=gt.safeDescriptors),h=i,t.annotationType_,h.value;var p,v=i.value;null!=(a=t.options_)&&a.bound&&(v=v.bind(null!=(p=e.proxy_)?p:e.target_));return{value:$e(null!=(s=null==(o=t.options_)?void 0:o.name)?s:n.toString(),v,null!=(l=null==(u=t.options_)?void 0:u.autoAction)&&l,null!=(c=t.options_)&&c.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!r||e.isPlainObject_,enumerable:!1,writable:!r}}function se(e,t){return{annotationType_:e,options_:t,make_:oe,extend_:le,decorate_20223_:ue}}function oe(e,t,n,i){var r;if(i===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(r=this.options_)&&r.bound&&(!R(e.target_,t)||!pn(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(pn(n.value))return 1;var a=ce(e,this,t,n,!1,!1);return l(i,t,a),2}function le(e,t,n,i){var r,a=ce(e,this,t,n,null==(r=this.options_)?void 0:r.bound);return e.defineProperty_(t,a,i)}function ue(e,t){var n;var i=t.name,r=t.addInitializer;return pn(e)||(e=dn(e)),null!=(n=this.options_)&&n.bound&&r((function(){var e=this,t=e[i].bind(e);t.isMobXFlow=!0,e[i]=t})),e}function ce(e,t,n,i,r,a){var s;void 0===a&&(a=gt.safeDescriptors),s=i,t.annotationType_,s.value;var o,l=i.value;(pn(l)||(l=dn(l)),r)&&((l=l.bind(null!=(o=e.proxy_)?o:e.target_)).isMobXFlow=!0);return{value:l,configurable:!a||e.isPlainObject_,enumerable:!1,writable:!a}}function de(e,t){return{annotationType_:e,options_:t,make_:he,extend_:pe,decorate_20223_:ve}}function he(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function pe(e,t,n,i){return function(e,t,n,i){t.annotationType_,i.get;0}(0,this,0,n),e.defineComputedProperty_(t,F({},this.options_,{get:n.get,set:n.set}),i)}function ve(e,t){var n=this,i=t.name;return(0,t.addInitializer)((function(){var t=ai(this)[G],r=F({},n.options_,{get:e,context:this});r.name||(r.name="ObservableObject."+i.toString()),t.values_.set(i,new Ze(r))})),function(){return this[G].getObservablePropValue_(i)}}function me(e,t){return{annotationType_:e,options_:t,make_:_e,extend_:fe,decorate_20223_:ge}}function _e(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function fe(e,t,n,i){var r,a;return function(e,t){t.annotationType_;0}(0,this),e.defineObservableProperty_(t,n.value,null!=(r=null==(a=this.options_)?void 0:a.enhancer)?r:X,i)}function ge(e,t){var n=this,i=t.kind,r=t.name,a=new WeakSet;function s(e,t){var i,s,o=ai(e)[G],l=new Qe(t,null!=(i=null==(s=n.options_)?void 0:s.enhancer)?i:X,"ObservableObject."+r.toString(),!1);o.values_.set(r,l),a.add(e)}if("accessor"==i)return{get:function(){return a.has(this)||s(this,e.get.call(this)),this[G].getObservablePropValue_(r)},set:function(e){return a.has(this)||s(this,e),this[G].setObservablePropValue_(r,e)},init:function(e){return a.has(this)||s(this,e),e}}}var ye="true",be=Ee();function Ee(e){return{annotationType_:ye,options_:e,make_:we,extend_:Se,decorate_20223_:Ae}}function we(e,t,n,i){var r,a,s,o;if(n.get)return Ve.make_(e,t,n,i);if(n.set){var u=$e(t.toString(),n.set);return i===e.target_?null===e.defineProperty_(t,{configurable:!gt.safeDescriptors||e.isPlainObject_,set:u})?0:2:(l(i,t,{configurable:!0,set:u}),2)}if(i!==e.target_&&"function"==typeof n.value)return E(n.value)?(null!=(o=this.options_)&&o.autoBind?dn.bound:dn).make_(e,t,n,i):(null!=(s=this.options_)&&s.autoBind?jt.bound:jt).make_(e,t,n,i);var c,d=!1===(null==(r=this.options_)?void 0:r.deep)?Me.ref:Me;"function"==typeof n.value&&null!=(a=this.options_)&&a.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_));return d.make_(e,t,n,i)}function Se(e,t,n,i){var r,a,s;if(n.get)return Ve.extend_(e,t,n,i);if(n.set)return e.defineProperty_(t,{configurable:!gt.safeDescriptors||e.isPlainObject_,set:$e(t.toString(),n.set)},i);"function"==typeof n.value&&null!=(r=this.options_)&&r.autoBind&&(n.value=n.value.bind(null!=(s=e.proxy_)?s:e.target_));return(!1===(null==(a=this.options_)?void 0:a.deep)?Me.ref:Me).extend_(e,t,n,i)}function Ae(e,t){i("'"+this.annotationType_+"' cannot be used as a decorator")}var ke={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Ce(e){return e||ke}Object.freeze(ke);var Pe=me("observable"),Te=me("observable.ref",{enhancer:Z}),Ie=me("observable.shallow",{enhancer:function(e,t,n){return null==e||li(e)||qn(e)||Zn(e)||ti(e)?e:Array.isArray(e)?Me.array(e,{name:n,deep:!1}):b(e)?Me.object(e,void 0,{name:n,deep:!1}):k(e)?Me.map(e,{name:n,deep:!1}):C(e)?Me.set(e,{name:n,deep:!1}):void 0}}),Re=me("observable.struct",{enhancer:function(e,t){return Pi(e,t)?t:e}}),Le=W(Pe);function xe(e){return!0===e.deep?X:!1===e.deep?Z:(t=e.defaultDecorator)&&null!=(n=null==(i=t.options_)?void 0:i.enhancer)?n:X;var t,n,i}function Oe(e,t,n){return $(t)?Pe.decorate_20223_(e,t):g(t)?void z(e,t,Pe):gn(e)?e:b(e)?Me.object(e,t,n):Array.isArray(e)?Me.array(e,t):k(e)?Me.map(e,t):C(e)?Me.set(e,t):"object"==typeof e&&null!==e?e:Me.box(e,t)}s(Oe,Le);var Ne,De,Me=s(Oe,{box:function(e,t){var n=Ce(t);return new Qe(e,xe(n),n.name,!0,n.equals)},array:function(e,t){var n=Ce(t);return(!1===gt.useProxies||!1===n.proxy?Ei:Vn)(e,xe(n),n.name)},map:function(e,t){var n=Ce(t);return new Xn(e,xe(n),n.name)},set:function(e,t){var n=Ce(t);return new ei(e,xe(n),n.name)},object:function(e,t,n){return ki((function(){return rn(!1===gt.useProxies||!1===(null==n?void 0:n.proxy)?ai({},n):function(e,t){var n,i;return v(),e=ai(e,t),null!=(i=(n=e[G]).proxy_)?i:n.proxy_=new Proxy(e,Tn)}({},n),e,t)}))},ref:W(Te),shallow:W(Ie),deep:Le,struct:W(Re)}),Be="computed",Fe=de(Be),He=de("computed.struct",{equals:Q.structural}),Ve=function(e,t){if($(t))return Fe.decorate_20223_(e,t);if(g(t))return z(e,t,Fe);if(b(e))return W(de(Be,e));var n=b(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new Ze(n)};Object.assign(Ve,Fe),Ve.struct=W(He);var Ue=0,je=1,We=null!=(Ne=null==(De=o((function(){}),"name"))?void 0:De.configurable)&&Ne,ze={value:"action",configurable:!0,writable:!1,enumerable:!1};function $e(e,t,n,i){function r(){return Ge(e,n,t,i||this,arguments)}return void 0===n&&(n=!1),r.isMobxAction=!0,r.toString=function(){return t.toString()},We&&(ze.value=e,l(r,"name",ze)),r}function Ge(e,t,n,r,a){var s=function(e,t){var n=!1,i=0;0;var r=gt.trackingDerivation,a=!t||!r;St();var s=gt.allowStateChanges;a&&(ct(),s=Ke(!0));var o=ht(!0),l={runAsAction_:a,prevDerivation_:r,prevAllowStateChanges_:s,prevAllowStateReads_:o,notifySpy_:n,startTime_:i,actionId_:je++,parentActionId_:Ue};return Ue=l.actionId_,l}(0,t);try{return n.apply(r,a)}catch(e){throw s.error_=e,e}finally{!function(e){Ue!==e.actionId_&&i(30);Ue=e.parentActionId_,void 0!==e.error_&&(gt.suppressReactionErrors=!0);Ye(e.prevAllowStateChanges_),pt(e.prevAllowStateReads_),At(),e.runAsAction_&&dt(e.prevDerivation_);0;gt.suppressReactionErrors=!1}(s)}}function qe(e,t){var n=Ke(e);try{return t()}finally{Ye(n)}}function Ke(e){var t=gt.allowStateChanges;return gt.allowStateChanges=e,t}function Ye(e){gt.allowStateChanges=e}var Qe=function(e){function t(t,n,i,r,a){var s;return void 0===i&&(i="ObservableValue"),void 0===r&&(r=!0),void 0===a&&(a=Q.default),(s=e.call(this,i)||this).enhancer=void 0,s.name_=void 0,s.equals=void 0,s.hasUnreportedChange_=!1,s.interceptors_=void 0,s.changeListeners_=void 0,s.value_=void 0,s.dehancer=void 0,s.enhancer=n,s.name_=i,s.equals=a,s.value_=n(t,void 0,i),s}H(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==gt.UNCHANGED){0,this.setNewValue_(e)}},n.prepareNewValue_=function(e){if(st(this),In(this)){var t=Ln(this,{object:this,type:Bn,newValue:e});if(!t)return gt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?gt.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),xn(this)&&Nn(this,{type:Bn,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return Rn(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Bn,newValue:this.value_,oldValue:void 0}),On(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return I(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(q),Xe=A("ObservableValue",Qe),Ze=function(){function e(e){this.dependenciesState_=Je.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Je.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new nt(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=et.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||i(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=$e("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?Q.structural:Q.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==Je.UP_TO_DATE_)return;e.lowestObserverState_=Je.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===Je.UP_TO_DATE_&&(e.dependenciesState_=Je.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing&&i(32,this.name_,this.derivation),0!==gt.inBatch||0!==this.observers_.size||this.keepAlive_){if(kt(this),rt(this)){var e=gt.trackingContext;this.keepAlive_&&!e&&(gt.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===Je.STALE_)return;e.lowestObserverState_=Je.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===Je.POSSIBLY_STALE_?t.dependenciesState_=Je.STALE_:t.dependenciesState_===Je.UP_TO_DATE_&&(e.lowestObserverState_=Je.UP_TO_DATE_)}))}(this),gt.trackingContext=e}}else rt(this)&&(this.warnAboutUntrackedRead_(),St(),this.value_=this.computeValue_(!1),At());var t=this.value_;if(it(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter&&i(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter=!1}}else i(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===Je.NOT_TRACKING_,n=this.computeValue_(!0),i=t||it(e)||it(n)||!this.equals_(e,n);return i&&(this.value_=n),i},t.computeValue_=function(e){this.isComputing=!0;var t,n=Ke(!1);if(e)t=ot(this,this.derivation,this.scope_);else if(!0===gt.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new nt(e)}return Ye(n),this.isComputing=!1,t},t.suspend_=function(){this.keepAlive_||(lt(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,i=!0,r=void 0;return $t((function(){var a=n.get();if(!i||t){var s=ct();e({observableKind:"computed",debugObjectName:n.name_,type:Bn,object:n,newValue:a,oldValue:r}),dt(s)}i=!1,r=a}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return I(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},M(e,[{key:"isComputing",get:function(){return x(this.flags_,e.isComputingMask_)},set:function(t){this.flags_=O(this.flags_,e.isComputingMask_,t)}},{key:"isRunningSetter",get:function(){return x(this.flags_,e.isRunningSetterMask_)},set:function(t){this.flags_=O(this.flags_,e.isRunningSetterMask_,t)}},{key:"isBeingObserved",get:function(){return x(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=O(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return x(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=O(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return x(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=O(this.flags_,e.diffValueMask_,1===t)}}])}();Ze.isComputingMask_=1,Ze.isRunningSetterMask_=2,Ze.isBeingObservedMask_=4,Ze.isPendingUnobservationMask_=8,Ze.diffValueMask_=16;var Je,et,tt=A("ComputedValue",Ze);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(Je||(Je={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(et||(et={}));var nt=function(e){this.cause=void 0,this.cause=e};function it(e){return e instanceof nt}function rt(e){switch(e.dependenciesState_){case Je.UP_TO_DATE_:return!1;case Je.NOT_TRACKING_:case Je.STALE_:return!0;case Je.POSSIBLY_STALE_:for(var t=ht(!0),n=ct(),i=e.observing_,r=i.length,a=0;a<r;a++){var s=i[a];if(tt(s)){if(gt.disableErrorBoundaries)s.get();else try{s.get()}catch(e){return dt(n),pt(t),!0}if(e.dependenciesState_===Je.STALE_)return dt(n),pt(t),!0}}return vt(e),dt(n),pt(t),!1}}function at(){return null!==gt.trackingDerivation}function st(e){}function ot(e,t,n){var i=ht(!0);vt(e),e.newObserving_=new Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++gt.runId;var r,a=gt.trackingDerivation;if(gt.trackingDerivation=e,gt.inBatch++,!0===gt.disableErrorBoundaries)r=t.call(n);else try{r=t.call(n)}catch(e){r=new nt(e)}return gt.inBatch--,gt.trackingDerivation=a,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,i=Je.UP_TO_DATE_,r=0,a=e.unboundDepsCount_,s=0;s<a;s++){var o=n[s];0===o.diffValue&&(o.diffValue=1,r!==s&&(n[r]=o),r++),o.dependenciesState_>i&&(i=o.dependenciesState_)}n.length=r,e.newObserving_=null,a=t.length;for(;a--;){var l=t[a];0===l.diffValue&&Et(l,e),l.diffValue=0}for(;r--;){var u=n[r];1===u.diffValue&&(u.diffValue=0,bt(u,e))}i!==Je.UP_TO_DATE_&&(e.dependenciesState_=i,e.onBecomeStale_())}(e),pt(i),r}function lt(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Et(t[n],e);e.dependenciesState_=Je.NOT_TRACKING_}function ut(e){var t=ct();try{return e()}finally{dt(t)}}function ct(){var e=gt.trackingDerivation;return gt.trackingDerivation=null,e}function dt(e){gt.trackingDerivation=e}function ht(e){var t=gt.allowStateReads;return gt.allowStateReads=e,t}function pt(e){gt.allowStateReads=e}function vt(e){if(e.dependenciesState_!==Je.UP_TO_DATE_){e.dependenciesState_=Je.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=Je.UP_TO_DATE_}}var mt=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},_t=!0,ft=!1,gt=function(){var e=a();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(_t=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new mt).version&&(_t=!1),_t?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new mt):(setTimeout((function(){ft||i(35)}),1),new mt)}();function yt(){return gt}function bt(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Et(e,t){e.observers_.delete(t),0===e.observers_.size&&wt(e)}function wt(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,gt.pendingUnobservations.push(e))}function St(){gt.inBatch++}function At(){if(0==--gt.inBatch){Rt();for(var e=gt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers_.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Ze&&n.suspend_())}gt.pendingUnobservations=[]}}function kt(e){var t=gt.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&gt.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(0===e.observers_.size&&gt.inBatch>0&&wt(e),!1)}function Ct(e){e.lowestObserverState_!==Je.STALE_&&(e.lowestObserverState_=Je.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===Je.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Je.STALE_})))}var Pt=function(){function e(e,t,n,i){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Je.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=et.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,gt.pendingReactions.push(this),Rt())},t.runReaction_=function(){if(!this.isDisposed){St(),this.isScheduled=!1;var e=gt.trackingContext;if(gt.trackingContext=this,rt(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}gt.trackingContext=e,At()}},t.track=function(e){if(!this.isDisposed){St();0,this.isRunning=!0;var t=gt.trackingContext;gt.trackingContext=this;var n=ot(this,e,void 0);gt.trackingContext=t,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&lt(this),it(n)&&this.reportExceptionInDerivation_(n.cause),At()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(gt.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";gt.suppressReactionErrors||console.error(n,e),gt.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(St(),lt(this),At()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[G]=this,n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1)},M(e,[{key:"isDisposed",get:function(){return x(this.flags_,e.isDisposedMask_)},set:function(t){this.flags_=O(this.flags_,e.isDisposedMask_,t)}},{key:"isScheduled",get:function(){return x(this.flags_,e.isScheduledMask_)},set:function(t){this.flags_=O(this.flags_,e.isScheduledMask_,t)}},{key:"isTrackPending",get:function(){return x(this.flags_,e.isTrackPendingMask_)},set:function(t){this.flags_=O(this.flags_,e.isTrackPendingMask_,t)}},{key:"isRunning",get:function(){return x(this.flags_,e.isRunningMask_)},set:function(t){this.flags_=O(this.flags_,e.isRunningMask_,t)}},{key:"diffValue",get:function(){return x(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=O(this.flags_,e.diffValueMask_,1===t)}}])}();Pt.isDisposedMask_=1,Pt.isScheduledMask_=2,Pt.isTrackPendingMask_=4,Pt.isRunningMask_=8,Pt.diffValueMask_=16;var Tt=100,It=function(e){return e()};function Rt(){gt.inBatch>0||gt.isRunningReactions||It(Lt)}function Lt(){gt.isRunningReactions=!0;for(var e=gt.pendingReactions,t=0;e.length>0;){++t===Tt&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction_()}gt.isRunningReactions=!1}var xt=A("Reaction",Pt);var Ot="action",Nt="autoAction",Dt="<unnamed action>",Mt=te(Ot),Bt=te("action.bound",{bound:!0}),Ft=te(Nt,{autoAction:!0}),Ht=te("autoAction.bound",{autoAction:!0,bound:!0});function Vt(e){return function(t,n){return f(t)?$e(t.name||Dt,t,e):f(n)?$e(t,n,e):$(n)?(e?Ft:Mt).decorate_20223_(t,n):g(n)?z(t,n,e?Ft:Mt):g(t)?W(te(e?Nt:Ot,{name:t,autoAction:e})):void 0}}var Ut=Vt(!1);Object.assign(Ut,Mt);var jt=Vt(!0);function Wt(e){return Ge(e.name,!1,e,this,void 0)}function zt(e){return f(e)&&!0===e.isMobxAction}function $t(e,t){var n,i,r,a;void 0===t&&(t=d);var s,o=null!=(n=null==(i=t)?void 0:i.name)?n:"Autorun";if(!t.scheduler&&!t.delay)s=new Pt(o,(function(){this.track(c)}),t.onError,t.requiresObservable);else{var l=qt(t),u=!1;s=new Pt(o,(function(){u||(u=!0,l((function(){u=!1,s.isDisposed||s.track(c)})))}),t.onError,t.requiresObservable)}function c(){e(s)}return null!=(r=t)&&null!=(r=r.signal)&&r.aborted||s.schedule_(),s.getDisposer_(null==(a=t)?void 0:a.signal)}Object.assign(jt,Ft),Ut.bound=W(Bt),jt.bound=W(Ht);var Gt=function(e){return e()};function qt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Gt}function Kt(e,t,n){var i,r,a;void 0===n&&(n=d);var s,o,l,u=null!=(i=n.name)?i:"Reaction",c=Ut(u,n.onError?(s=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){s.call(this,e)}}):t),h=!n.scheduler&&!n.delay,p=qt(n),v=!0,m=!1,_=n.compareStructural?Q.structural:n.equals||Q.default,f=new Pt(u,(function(){v||h?g():m||(m=!0,p(g))}),n.onError,n.requiresObservable);function g(){if(m=!1,!f.isDisposed){var t=!1,i=l;f.track((function(){var n=qe(!1,(function(){return e(f)}));t=v||!_(l,n),l=n})),(v&&n.fireImmediately||!v&&t)&&c(l,i,f),v=!1}}return null!=(r=n)&&null!=(r=r.signal)&&r.aborted||f.schedule_(),f.getDisposer_(null==(a=n)?void 0:a.signal)}var Yt="onBO",Qt="onBUO";function Xt(e,t,n){return Zt(Qt,e,t,n)}function Zt(e,t,n,i){var r="function"==typeof i?wi(t,n):wi(t),a=f(i)?i:n,s=e+"L";return r[s]?r[s].add(a):r[s]=new Set([a]),function(){var e=r[s];e&&(e.delete(a),0===e.size&&delete r[s])}}var Jt="never",en="always",tn="observed";function nn(e){!0===e.isolateGlobalState&&function(){if((gt.pendingReactions.length||gt.inBatch||gt.isRunningReactions)&&i(36),ft=!0,_t){var e=a();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),gt=new mt}}();var t,n,r=e.useProxies,s=e.enforceActions;if(void 0!==r&&(gt.useProxies=r===en||r!==Jt&&"undefined"!=typeof Proxy),"ifavailable"===r&&(gt.verifyProxies=!0),void 0!==s){var o=s===en?en:s===tn;gt.enforceActions=o,gt.allowStateChanges=!0!==o&&o!==en}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(gt[t]=!!e[t])})),gt.allowStateReads=!gt.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=It,It=function(e){return t((function(){return n(e)}))})}function rn(e,t,n,i){var r=L(t);return ki((function(){var t=ai(e,i)[G];T(r).forEach((function(e){t.extend_(e,r[e],!n||(!(e in n)||n[e]))}))})),e}function an(e,t){return sn(wi(e,t))}function sn(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(sn)),n}var on=0;function ln(){this.message="FLOW_CANCELLED"}ln.prototype=Object.create(Error.prototype);var un=se("flow"),cn=se("flow.bound",{bound:!0}),dn=Object.assign((function(e,t){if($(t))return un.decorate_20223_(e,t);if(g(t))return z(e,t,un);var n=e,i=n.name||"<unnamed flow>",r=function(){var e,t=arguments,r=++on,a=Ut(i+" - runid: "+r+" - init",n).apply(this,t),s=void 0,o=new Promise((function(t,n){var o=0;function l(e){var t;s=void 0;try{t=Ut(i+" - runid: "+r+" - yield "+o++,a.next).call(a,e)}catch(e){return n(e)}c(t)}function u(e){var t;s=void 0;try{t=Ut(i+" - runid: "+r+" - yield "+o++,a.throw).call(a,e)}catch(e){return n(e)}c(t)}function c(e){if(!f(null==e?void 0:e.then))return e.done?t(e.value):(s=Promise.resolve(e.value)).then(l,u);e.then(c,n)}e=n,l(void 0)}));return o.cancel=Ut(i+" - runid: "+r+" - cancel",(function(){try{s&&hn(s);var t=a.return(void 0),n=Promise.resolve(t.value);n.then(_,_),hn(n),e(new ln)}catch(t){e(t)}})),o};return r.isMobXFlow=!0,r}),un);function hn(e){f(e.cancel)&&e.cancel()}function pn(e){return!0===(null==e?void 0:e.isMobXFlow)}function vn(e,t){if(void 0===t)return tt(e);if(!1===li(e))return!1;if(!e[G].values_.has(t))return!1;var n=wi(e,t);return tt(n)}function mn(e){return vn(e)}function _n(e,t){return vn(e,t)}function fn(e,t){return!!e&&(void 0!==t?!!li(e)&&e[G].values_.has(t):li(e)||!!e[G]||K(e)||xt(e)||tt(e))}function gn(e){return fn(e)}function yn(e){return li(e)?e[G].keys_():Zn(e)||ti(e)?Array.from(e.keys()):qn(e)?e.map((function(e,t){return t})):void i(5)}function bn(e,t,n,i){return f(n)?function(e,t,n,i){return Si(e,t).observe_(n,i)}(e,t,n,i):function(e,t,n){return Si(e).observe_(t,n)}(e,t,n)}function En(e,t,n){return e.set(t,n),n}function wn(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!gn(e))return e;if(Xe(e)||tt(e))return wn(e.get(),t);if(t.has(e))return t.get(e);if(qn(e)){var n=En(t,e,new Array(e.length));return e.forEach((function(e,i){n[i]=wn(e,t)})),n}if(ti(e)){var r=En(t,e,new Set);return e.forEach((function(e){r.add(wn(e,t))})),r}if(Zn(e)){var a=En(t,e,new Map);return e.forEach((function(e,n){a.set(n,wn(e,t))})),a}var s=En(t,e,{});return function(e){if(li(e))return e[G].ownKeys_();i(38)}(e).forEach((function(n){u.propertyIsEnumerable.call(e,n)&&(s[n]=wn(e[n],t))})),s}function Sn(e,t){return wn(e,new Map)}function An(e,t){void 0===t&&(t=void 0),St();try{return e.apply(t)}finally{At()}}function kn(e,t,n){return 1===arguments.length||t&&"object"==typeof t?function(e,t){var n,i,r;0;if(null!=t&&null!=(n=t.signal)&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var a=new Promise((function(n,a){var s,o=Cn(e,n,F({},t,{onError:a}));i=function(){o(),a(new Error("WHEN_CANCELLED"))},r=function(){o(),a(new Error("WHEN_ABORTED"))},null==t||null==(s=t.signal)||null==s.addEventListener||s.addEventListener("abort",r)})).finally((function(){var e;return null==t||null==(e=t.signal)||null==e.removeEventListener?void 0:e.removeEventListener("abort",r)}));return a.cancel=i,a}(e,t):Cn(e,t,n||{})}function Cn(e,t,n){var i;if("number"==typeof n.timeout){var r=new Error("WHEN_TIMEOUT");i=setTimeout((function(){if(!s[G].isDisposed){if(s(),!n.onError)throw r;n.onError(r)}}),n.timeout)}n.name="When";var a=$e("When-effect",t),s=$t((function(t){qe(!1,e)&&(t.dispose(),i&&clearTimeout(i),a())}),n);return s}function Pn(e){return e[G]}dn.bound=W(cn);var Tn={has:function(e,t){return Pn(e).has_(t)},get:function(e,t){return Pn(e).get_(t)},set:function(e,t,n){var i;return!!g(t)&&(null==(i=Pn(e).set_(t,n,!0))||i)},deleteProperty:function(e,t){var n;return!!g(t)&&(null==(n=Pn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var i;return null==(i=Pn(e).defineProperty_(t,n))||i},ownKeys:function(e){return Pn(e).ownKeys_()},preventExtensions:function(e){i(13)}};function In(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Rn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),m((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Ln(e,t){var n=ct();try{for(var r=[].concat(e.interceptors_||[]),a=0,s=r.length;a<s&&((t=r[a](t))&&!t.type&&i(14),t);a++);return t}finally{dt(n)}}function xn(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function On(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),m((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Nn(e,t){var n=ct(),i=e.changeListeners_;if(i){for(var r=0,a=(i=i.slice()).length;r<a;r++)i[r](t);dt(n)}}function Dn(e,t,n){return ki((function(){var i=ai(e,n)[G];null!=t||(t=function(e){return R(e,j)||w(e,j,F({},e[j])),e[j]}(e)),T(t).forEach((function(e){return i.make_(e,t[e])}))})),e}var Mn="splice",Bn="update",Fn={get:function(e,t){var n=e[G];return t===G?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?R(Un,t)?Un[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var i=e[G];return"length"===t&&i.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:i.set_(parseInt(t),n),!0},preventExtensions:function(){i(15)}},Hn=function(){function e(e,t,n,i){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=i,this.atom_=new q(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return Rn(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),On(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&i("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&i(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&bi(e+t+1)},t.spliceWithArray_=function(e,t,n){var i=this;this.atom_;var r=this.values_.length;if(void 0===e?e=0:e>r?e=r:e<0&&(e=Math.max(0,r+e)),t=1===arguments.length?r-e:null==t?0:Math.max(0,Math.min(t,r-e)),void 0===n&&(n=c),In(this)){var a=Ln(this,{object:this.proxy_,type:Mn,index:e,removedCount:t,added:n});if(!a)return c;t=a.removedCount,n=a.added}if(n=0===n.length?n:n.map((function(e){return i.enhancer_(e,void 0)})),this.legacyMode_){var s=n.length-t;this.updateArrayLength_(r,s)}var o=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,o),this.dehanceValues_(o)},t.spliceItemsIntoValues_=function(e,t,n){var i;if(n.length<1e4)return(i=this.values_).splice.apply(i,[e,t].concat(n));var r=this.values_.slice(e,e+t),a=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var s=0;s<n.length;s++)this.values_[e+s]=n[s];for(var o=0;o<a.length;o++)this.values_[e+n.length+o]=a[o];return r},t.notifyArrayChildUpdate_=function(e,t,n){var i=!this.owned_&&!1,r=xn(this),a=r||i?{observableKind:"array",object:this.proxy_,type:Bn,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),r&&Nn(this,a)},t.notifyArraySplice_=function(e,t,n){var i=!this.owned_&&!1,r=xn(this),a=r||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Mn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),r&&Nn(this,a)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&i(17,e,n.length),e<n.length){this.atom_;var r=n[e];if(In(this)){var a=Ln(this,{type:Bn,object:this.proxy_,index:e,newValue:t});if(!a)return;t=a.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else{for(var s=new Array(e+1-n.length),o=0;o<s.length-1;o++)s[o]=void 0;s[s.length-1]=t,this.spliceWithArray_(n.length,0,s)}},e}();function Vn(e,t,n,i){return void 0===n&&(n="ObservableArray"),void 0===i&&(i=!1),v(),ki((function(){var r=new Hn(n,t,i,!1);S(r.values_,G,r);var a=new Proxy(r.values_,Fn);return r.proxy_=a,e&&e.length&&r.spliceWithArray_(0,0,e),a}))}var Un={clear:function(){return this.splice(0)},replace:function(e){var t=this[G];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var a=this[G];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,t)}return a.spliceWithArray_(e,t,i)},spliceWithArray:function(e,t,n){return this[G].spliceWithArray_(e,t,n)},push:function(){for(var e=this[G],t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[G].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[G],t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return gt.trackingDerivation&&i(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){gt.trackingDerivation&&i(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[G],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function jn(e,t){"function"==typeof Array.prototype[e]&&(Un[e]=t(e))}function Wn(e){return function(){var t=this[G];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function zn(e){return function(t,n){var i=this,r=this[G];return r.atom_.reportObserved(),r.dehanceValues_(r.values_)[e]((function(e,r){return t.call(n,e,r,i)}))}}function $n(e){return function(){var t=this,n=this[G];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(e,n,i){return r(e,n,i,t)},i[e].apply(i,arguments)}}jn("at",Wn),jn("concat",Wn),jn("flat",Wn),jn("includes",Wn),jn("indexOf",Wn),jn("join",Wn),jn("lastIndexOf",Wn),jn("slice",Wn),jn("toString",Wn),jn("toLocaleString",Wn),jn("toSorted",Wn),jn("toSpliced",Wn),jn("with",Wn),jn("every",zn),jn("filter",zn),jn("find",zn),jn("findIndex",zn),jn("findLast",zn),jn("findLastIndex",zn),jn("flatMap",zn),jn("forEach",zn),jn("map",zn),jn("some",zn),jn("toReversed",zn),jn("reduce",$n),jn("reduceRight",$n);var Gn=A("ObservableArrayAdministration",Hn);function qn(e){return y(e)&&Gn(e[G])}var Kn={},Yn="add",Qn="delete",Xn=function(){function e(e,t,n){var r=this;void 0===t&&(t=X),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[G]=Kn,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,f(Map)||i(18),ki((function(){r.keysAtom_=Y("ObservableMap.keys()"),r.data_=new Map,r.hasMap_=new Map,e&&r.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!gt.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var i=n=new Qe(this.has_(e),Z,"ObservableMap.key?",!1);this.hasMap_.set(e,i),Xt(i,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(In(this)){var i=Ln(this,{type:n?Bn:Yn,object:this,newValue:t,name:e});if(!i)return this;t=i.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,In(this))&&!Ln(this,{type:Qn,object:this,name:e}))return!1;if(this.has_(e)){var n=xn(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:Qn,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return An((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&Nn(this,i),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==gt.UNCHANGED){var i=xn(this),r=i?{observableKind:"map",debugObjectName:this.name_,type:Bn,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),i&&Nn(this,r)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,An((function(){var i,r=new Qe(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,r),t=r.value_,null==(i=n.hasMap_.get(e))||i.setNewValue_(!0),n.keysAtom_.reportChanged()}));var i=xn(this),r=i?{observableKind:"map",debugObjectName:this.name_,type:Yn,object:this,name:e,newValue:t}:null;i&&Nn(this,r)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return Ri({next:function(){var n=t.next(),i=n.done,r=n.value;return{done:i,value:i?void 0:e.get(r)}}})},t.entries=function(){var e=this,t=this.keys();return Ri({next:function(){var n=t.next(),i=n.done,r=n.value;return{done:i,value:i?void 0:[r,e.get(r)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(e,t){for(var n,i=B(this);!(n=i()).done;){var r=n.value,a=r[0],s=r[1];e.call(t,s,a,this)}},t.merge=function(e){var t=this;return Zn(e)&&(e=new Map(e)),An((function(){var n,r,a;b(e)?function(e){var t=Object.keys(e);if(!P)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return u.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],i=e[1];return t.set(n,i)})):k(e)?(n=e,r=Object.getPrototypeOf(n),a=Object.getPrototypeOf(r),null!==Object.getPrototypeOf(a)&&i(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&i(20,e)})),this},t.clear=function(){var e=this;An((function(){ut((function(){for(var t,n=B(e.keys());!(t=n()).done;){var i=t.value;e.delete(i)}}))}))},t.replace=function(e){var t=this;return An((function(){for(var n,r=function(e){if(k(e)||Zn(e))return e;if(Array.isArray(e))return new Map(e);if(b(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return i(21,e)}(e),a=new Map,s=!1,o=B(t.data_.keys());!(n=o()).done;){var l=n.value;if(!r.has(l))if(t.delete(l))s=!0;else{var u=t.data_.get(l);a.set(l,u)}}for(var c,d=B(r.entries());!(c=d()).done;){var h=c.value,p=h[0],v=h[1],m=t.data_.has(p);if(t.set(p,v),t.data_.has(p)){var _=t.data_.get(p);a.set(p,_),m||(s=!0)}}if(!s)if(t.data_.size!==a.size)t.keysAtom_.reportChanged();else for(var f=t.data_.keys(),g=a.keys(),y=f.next(),E=g.next();!y.done;){if(y.value!==E.value){t.keysAtom_.reportChanged();break}y=f.next(),E=g.next()}t.data_=a})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return On(this,e)},t.intercept_=function(e){return Rn(this,e)},M(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Zn=A("ObservableMap",Xn);var Jn={},ei=function(){function e(e,t,n){var r=this;void 0===t&&(t=X),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[G]=Jn,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,f(Set)||i(22),this.enhancer_=function(e,i){return t(e,i,n)},ki((function(){r.atom_=Y(r.name_),e&&r.replace(e)}))}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;An((function(){ut((function(){for(var t,n=B(e.data_.values());!(t=n()).done;){var i=t.value;e.delete(i)}}))}))},t.forEach=function(e,t){for(var n,i=B(this);!(n=i()).done;){var r=n.value;e.call(t,r,r,this)}},t.add=function(e){var t=this;if((this.atom_,In(this))&&!Ln(this,{type:Yn,object:this,newValue:e}))return this;if(!this.has(e)){An((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=!1,i=xn(this),r=i?{observableKind:"set",debugObjectName:this.name_,type:Yn,object:this,newValue:e}:null;n,i&&Nn(this,r)}return this},t.delete=function(e){var t=this;if(In(this)&&!Ln(this,{type:Qn,object:this,oldValue:e}))return!1;if(this.has(e)){var n=xn(this),i=n?{observableKind:"set",debugObjectName:this.name_,type:Qn,object:this,oldValue:e}:null;return An((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&Nn(this,i),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Ri({next:function(){var i=e;return e+=1,i<n.length?{value:[t[i],n[i]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return Ri({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.intersection=function(e){return C(e)&&!ti(e)?e.intersection(this):new Set(this).intersection(e)},t.union=function(e){return C(e)&&!ti(e)?e.union(this):new Set(this).union(e)},t.difference=function(e){return new Set(this).difference(e)},t.symmetricDifference=function(e){return C(e)&&!ti(e)?e.symmetricDifference(this):new Set(this).symmetricDifference(e)},t.isSubsetOf=function(e){return new Set(this).isSubsetOf(e)},t.isSupersetOf=function(e){return new Set(this).isSupersetOf(e)},t.isDisjointFrom=function(e){return C(e)&&!ti(e)?e.isDisjointFrom(this):new Set(this).isDisjointFrom(e)},t.replace=function(e){var t=this;return ti(e)&&(e=new Set(e)),An((function(){Array.isArray(e)||C(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&i("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return On(this,e)},t.intercept_=function(e){return Rn(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},M(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),ti=A("ObservableSet",ei),ni=Object.create(null),ii="remove",ri=function(){function e(e,t,n,i){void 0===t&&(t=new Map),void 0===i&&(i=be),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=i,this.keysAtom_=new q("ObservableObject.keys"),this.isPlainObject_=b(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof Ze)return n.set(t),!0;if(In(this)){var i=Ln(this,{type:Bn,object:this.proxy_||this.target_,name:e,newValue:t});if(!i)return null;t=i.newValue}if((t=n.prepareNewValue_(t))!==gt.UNCHANGED){var r=xn(this),a=r?{type:Bn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&Nn(this,a)}return!0},t.get_=function(e){return gt.trackingDerivation&&!R(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),R(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!gt.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Qe(e in this.target_,Z,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(ci(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[j])&&n[e])return;i(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==u;){var a=o(r,e);if(a){var s=t.make_(this,e,a,r);if(0===s)return;if(1===s)break}r=Object.getPrototypeOf(r)}ui(this,t,e)}},t.extend_=function(e,t,n,i){if(void 0===i&&(i=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,i);ci(this,n,e);var r=n.extend_(this,e,t,i);return r&&ui(this,n,e),r},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{St();var i=this.delete_(e);if(!i)return i;if(In(this)){var r=Ln(this,{object:this.proxy_||this.target_,name:e,type:Yn,newValue:t.value});if(!r)return null;var a=r.newValue;t.value!==a&&(t=F({},t,{value:a}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else l(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{At()}return!0},t.defineObservableProperty_=function(e,t,n,i){void 0===i&&(i=!1),this.keysAtom_;try{St();var r=this.delete_(e);if(!r)return r;if(In(this)){var a=Ln(this,{object:this.proxy_||this.target_,name:e,type:Yn,newValue:t});if(!a)return null;t=a.newValue}var s=oi(e),o={configurable:!gt.safeDescriptors||this.isPlainObject_,enumerable:!0,get:s.get,set:s.set};if(i){if(!Reflect.defineProperty(this.target_,e,o))return!1}else l(this.target_,e,o);var u=new Qe(t,n,"ObservableObject.key",!1);this.values_.set(e,u),this.notifyPropertyAddition_(e,u.value_)}finally{At()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{St();var i=this.delete_(e);if(!i)return i;if(In(this))if(!Ln(this,{object:this.proxy_||this.target_,name:e,type:Yn,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var r=oi(e),a={configurable:!gt.safeDescriptors||this.isPlainObject_,enumerable:!1,get:r.get,set:r.set};if(n){if(!Reflect.defineProperty(this.target_,e,a))return!1}else l(this.target_,e,a);this.values_.set(e,new Ze(t)),this.notifyPropertyAddition_(e,void 0)}finally{At()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!R(this.target_,e))return!0;if(In(this)&&!Ln(this,{object:this.proxy_||this.target_,name:e,type:ii}))return null;try{var n;St();var i,r=xn(this),a=this.values_.get(e),s=void 0;if(!a&&r)s=null==(i=o(this.target_,e))?void 0:i.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof Qe&&(s=a.value_),Ct(a)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(e in this.target_),r){var l={type:ii,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:e};0,r&&Nn(this,l)}}finally{At()}return!0},t.observe_=function(e,t){return On(this,e)},t.intercept_=function(e){return Rn(this,e)},t.notifyPropertyAddition_=function(e,t){var n,i=xn(this);if(i){var r=i?{type:Yn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,i&&Nn(this,r)}null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),T(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function ai(e,t){var n;if(R(e,G))return e;var i=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",r=new ri(e,new Map,String(i),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:Ee(e):void 0}(t));return w(e,G,r),e}var si=A("ObservableObjectAdministration",ri);function oi(e){return ni[e]||(ni[e]={get:function(){return this[G].getObservablePropValue_(e)},set:function(t){return this[G].setObservablePropValue_(e,t)}})}function li(e){return!!y(e)&&si(e[G])}function ui(e,t,n){var i;null==(i=e.target_[j])||delete i[n]}function ci(e,t,n){}var di,hi,pi=gi(0),vi=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),mi=0,_i=function(){};di=_i,hi=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(di.prototype,hi):void 0!==di.prototype.__proto__?di.prototype.__proto__=hi:di.prototype=hi;var fi=function(e){function t(t,n,i,r){var a;return void 0===i&&(i="ObservableArray"),void 0===r&&(r=!1),a=e.call(this)||this,ki((function(){var e=new Hn(i,n,r,!0);e.proxy_=a,S(a,G,e),t&&t.length&&a.spliceWithArray(0,0,t),vi&&Object.defineProperty(a,"0",pi)})),a}H(t,e);var n=t.prototype;return n.concat=function(){this[G].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return qn(e)?e.slice():e})))},n[Symbol.iterator]=function(){var e=this,t=0;return Ri({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},M(t,[{key:"length",get:function(){return this[G].getArrayLength_()},set:function(e){this[G].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(_i);function gi(e){return{enumerable:!1,configurable:!0,get:function(){return this[G].get_(e)},set:function(t){this[G].set_(e,t)}}}function yi(e){l(fi.prototype,""+e,gi(e))}function bi(e){if(e>mi){for(var t=mi;t<e+100;t++)yi(t);mi=e}}function Ei(e,t,n){return new fi(e,t,n)}function wi(e,t){if("object"==typeof e&&null!==e){if(qn(e))return void 0!==t&&i(23),e[G].atom_;if(ti(e))return e.atom_;if(Zn(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||i(25,t,Ai(e)),n}if(li(e)){if(!t)return i(26);var r=e[G].values_.get(t);return r||i(27,t,Ai(e)),r}if(K(e)||tt(e)||xt(e))return e}else if(f(e)&&xt(e[G]))return e[G];i(28)}function Si(e,t){return e||i(29),void 0!==t?Si(wi(e,t)):K(e)||tt(e)||xt(e)||Zn(e)||ti(e)?e:e[G]?e[G]:void i(24,e)}function Ai(e,t){var n;if(void 0!==t)n=wi(e,t);else{if(zt(e))return e.name;n=li(e)||Zn(e)||ti(e)?Si(e):wi(e)}return n.name_}function ki(e){var t=ct(),n=Ke(!0);St();try{return e()}finally{At(),Ye(n),dt(t)}}Object.entries(Un).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&w(fi.prototype,t,n)})),bi(1e3);var Ci=u.toString;function Pi(e,t,n){return void 0===n&&(n=-1),Ti(e,t,n)}function Ti(e,t,n,i,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof t)return!1;var s=Ci.call(e);if(s!==Ci.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=Ii(e),t=Ii(t);var o="[object Array]"===s;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(f(l)&&l instanceof l&&f(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),r=r||[];for(var c=(i=i||[]).length;c--;)if(i[c]===e)return r[c]===t;if(i.push(e),r.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!Ti(e[c],t[c],n-1,i,r))return!1}else{var d,h=Object.keys(e);if(c=h.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!R(t,d=h[c])||!Ti(e[d],t[d],n-1,i,r))return!1}return i.pop(),r.pop(),!0}function Ii(e){return qn(e)?e.slice():k(e)||Zn(e)||C(e)||ti(e)?Array.from(e.entries()):e}function Ri(e){return e[Symbol.iterator]=Li,e}function Li(){return this}["Symbol","Map","Set"].forEach((function(e){void 0===a()[e]&&i("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:Ai},$mobx:G})},4823:(e,t,n)=>{n(7293),n(4401);var i,r,a=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(e){i=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,c=[],d=!1,h=-1;function p(){d&&u&&(d=!1,u.length?c=u.concat(c):h=-1,c.length&&v())}function v(){if(!d){var e=l(p);d=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function _(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||d||l(v)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=_,a.addListener=_,a.once=_,a.off=_,a.removeListener=_,a.removeAllListeners=_,a.emit=_,a.prependListener=_,a.prependOnceListener=_,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},7588:(e,t,n)=>{"use strict";n(7293),n(2195),n(4401),n(4924),n(4233),n(3867),n(1557),n(2358),n(9420),n(9419),n(8471),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446),n(7821),n(752),n(8057);var i=n(8717),r=n(2875);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function m(e,t,n,i,r,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){_[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){_[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){_[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var f=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function y(e,t,n,i){var r=_.hasOwnProperty(t)?_[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(f,g);_[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(f,g);_[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(f,g);_[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){_[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),_.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){_[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),P=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function D(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=N&&e[N]||e["@@iterator"])?e:null}var M,B=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var H=!1;function V(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var i=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){i=e}e.call(t.prototype)}else{try{throw Error()}catch(e){i=e}e()}}catch(t){if(t&&i&&"string"==typeof t.stack){for(var r=t.stack.split("\n"),a=i.stack.split("\n"),s=r.length-1,o=a.length-1;1<=s&&0<=o&&r[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(r[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||r[s]!==a[o]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case k:return"Profiler";case A:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return j(e(t))}catch(e){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=$(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=z(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function ae(e,t){var n=z(t.value),i=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=me(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var fe=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Ae=null;function ke(e){if(e=yr(e)){if("function"!=typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=Er(t),we(e.stateNode,e.type,t))}}function Ce(e){Se?Ae?Ae.push(e):Ae=[e]:Se=e}function Pe(){if(Se){var e=Se,t=Ae;if(Ae=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Re=!1;function Le(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==Se||null!==Ae)&&(Ie(),Pe())}}function xe(e,t){var n=e.stateNode;if(null===n)return null;var i=Er(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Oe=!1}function De(e,t,n,i,r,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Me=!1,Be=null,Fe=!1,He=null,Ve={onError:function(e){Me=!0,Be=e}};function Ue(e,t,n,i,r,a,s,o,l){Me=!1,Be=null,De.apply(Ve,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(je(e)!==e)throw Error(a(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return ze(r),e;if(s===i)return ze(r),t;s=s.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var qe=r.unstable_scheduleCallback,Ke=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,Qe=r.unstable_requestPaint,Xe=r.unstable_now,Ze=r.unstable_getCurrentPriorityLevel,Je=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~r;0!==o?i=dt(o):0!==(a&=s)&&(i=dt(a))}else 0!==(s=n&~r)?i=dt(s):0!==a&&(i=dt(a));if(0===i)return 0;if(0!==t&&t!==i&&!(t&r)&&((r=i&-i)>=(a=t&-t)||16===r&&4194240&a))return t;if(4&i&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-st(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function _t(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ft(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-st(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Et,wt,St,At,kt,Ct=!1,Pt=[],Tt=null,It=null,Rt=null,Lt=new Map,xt=new Map,Ot=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function Mt(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=yr(t))&&wt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Bt(e){var t=gr(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yr(n))&&wt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);be=i,n.target.dispatchEvent(i),be=null,t.shift()}return!0}function Ht(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Ct=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==It&&Ft(It)&&(It=null),null!==Rt&&Ft(Rt)&&(Rt=null),Lt.forEach(Ht),xt.forEach(Ht)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vt)))}function jt(e){function t(t){return Ut(t,e)}if(0<Pt.length){Ut(Pt[0],e);for(var n=1;n<Pt.length;n++){var i=Pt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==It&&Ut(It,e),null!==Rt&&Ut(Rt,e),Lt.forEach(t),xt.forEach(t),n=0;n<Ot.length;n++)(i=Ot[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Bt(n),null===n.blockedOn&&Ot.shift()}var Wt=b.ReactCurrentBatchConfig,zt=!0;function $t(e,t,n,i){var r=yt,a=Wt.transition;Wt.transition=null;try{yt=1,qt(e,t,n,i)}finally{yt=r,Wt.transition=a}}function Gt(e,t,n,i){var r=yt,a=Wt.transition;Wt.transition=null;try{yt=4,qt(e,t,n,i)}finally{yt=r,Wt.transition=a}}function qt(e,t,n,i){if(zt){var r=Yt(e,t,n,i);if(null===r)zi(e,t,i,Kt,n),Dt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,i,r),!0;case"dragenter":return It=Mt(It,e,t,n,i,r),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return Lt.set(a,Mt(Lt.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,xt.set(a,Mt(xt.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Dt(e,i),4&t&&-1<Nt.indexOf(e)){for(;null!==r;){var a=yr(r);if(null!==a&&Et(a),null===(a=Yt(e,t,n,i))&&zi(e,t,i,Kt,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else zi(e,t,i,null,n)}}var Kt=null;function Yt(e,t,n,i){if(Kt=null,null!==(e=gr(e=Ee(i))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,i=n.length,r="value"in Xt?Xt.value:Xt.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[a-t];t++);return Jt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,i,r,a){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=B({},un,{view:0,detail:0}),hn=an(dn),pn=B({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),vn=an(pn),mn=an(B({},pn,{dataTransfer:0})),_n=an(B({},dn,{relatedTarget:0})),fn=an(B({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=B({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(gn),bn=an(B({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return An}var Cn=B({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=an(Cn),Tn=an(B({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(B({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Rn=an(B({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=B({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xn=an(Ln),On=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var Mn=c&&"TextEvent"in window&&!Dn,Bn=c&&(!Nn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Hn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function $n(e,t,n,i){Ce(i),0<(t=Gi(t,"onChange")).length&&(n=new cn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Gn=null,qn=null;function Kn(e){Fi(e,0)}function Yn(e){if(q(br(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Zn;if(c){var Jn="oninput"in document;if(!Jn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Jn="function"==typeof ei.oninput}Zn=Jn}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function ti(){Gn&&(Gn.detachEvent("onpropertychange",ni),qn=Gn=null)}function ni(e){if("value"===e.propertyName&&Yn(qn)){var t=[];$n(t,qn,e,Ee(e)),Le(Kn,t)}}function ii(e,t,n){"focusin"===e?(ti(),qn=n,(Gn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(qn)}function ai(e,t){if("click"===e)return Yn(t)}function si(e,t){if("input"===e||"change"===e)return Yn(t)}var oi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function li(e,t){if(oi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(t,r)||!oi(e[r],t[r]))return!1}return!0}function ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ci(e,t){var n,i=ui(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ui(i)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=void 0===i.end?a:Math.min(i.end,r),!e.extend&&a>i&&(r=i,i=a,a=r),r=ci(n,a);var s=ci(n,i);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=c&&"documentMode"in document&&11>=document.documentMode,_i=null,fi=null,gi=null,yi=!1;function bi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yi||null==_i||_i!==K(i)||("selectionStart"in(i=_i)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},gi&&li(gi,i)||(gi=i,0<(i=Gi(fi,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=_i)))}function Ei(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionend:Ei("Transition","TransitionEnd")},Si={},Ai={};function ki(e){if(Si[e])return Si[e];if(!wi[e])return e;var t,n=wi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ai)return Si[e]=n[t];return e}c&&(Ai=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Ci=ki("animationend"),Pi=ki("animationiteration"),Ti=ki("animationstart"),Ii=ki("transitionend"),Ri=new Map,Li="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(e,t){Ri.set(e,t),l(t,[e])}for(var Oi=0;Oi<Li.length;Oi++){var Ni=Li[Oi];xi(Ni.toLowerCase(),"on"+(Ni[0].toUpperCase()+Ni.slice(1)))}xi(Ci,"onAnimationEnd"),xi(Pi,"onAnimationIteration"),xi(Ti,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(Ii,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function Bi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,s,o,l,u){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Be;Me=!1,Be=null,Fe||(Fe=!0,He=c)}}(i,t,void 0,e),e.currentTarget=null}function Fi(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&r.isPropagationStopped())break e;Bi(r,o,u),a=l}else for(s=0;s<i.length;s++){if(l=(o=i[s]).instance,u=o.currentTarget,o=o.listener,l!==a&&r.isPropagationStopped())break e;Bi(r,o,u),a=l}}}if(Fe)throw e=He,Fe=!1,He=null,e}function Hi(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var i=e+"__bubble";n.has(i)||(Wi(t,e,2,!1),n.add(i))}function Vi(e,t,n){var i=0;t&&(i|=4),Wi(n,e,i,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function ji(e){if(!e[Ui]){e[Ui]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mi.has(t)||Vi(t,!1,e),Vi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ui]||(t[Ui]=!0,Vi("selectionchange",!1,t))}}function Wi(e,t,n,i){switch(Qt(t)){case 1:var r=$t;break;case 4:r=Gt;break;default:r=qt}n=r.bind(null,t,n,e),r=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function zi(e,t,n,i,r){var a=i;if(!(1&t||2&t||null===i))e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var o=i.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==o;){if(null===(s=gr(o)))return;if(5===(l=s.tag)||6===l){i=a=s;continue e}o=o.parentNode}}i=i.return}Le((function(){var i=a,r=Ee(n),s=[];e:{var o=Ri.get(e);if(void 0!==o){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":u="focus",l=_n;break;case"focusout":u="blur",l=_n;break;case"beforeblur":case"afterblur":l=_n;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Ci:case Pi:case Ti:l=fn;break;case Ii:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=xn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var c=!!(4&t),d=!c&&"scroll"===e,h=c?null!==o?o+"Capture":null:o;c=[];for(var p,v=i;null!==v;){var m=(p=v).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=xe(v,h))&&c.push($i(v,m,p)))),d)break;v=v.return}0<c.length&&(o=new l(o,u,null,n,r),s.push({event:o,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!gr(u)&&!u[vr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(u=(u=n.relatedTarget||n.toElement)?gr(u):null)&&(u!==(d=je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=i),l!==u)){if(c=vn,m="onMouseLeave",h="onMouseEnter",v="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,m="onPointerLeave",h="onPointerEnter",v="pointer"),d=null==l?o:br(l),p=null==u?o:br(u),(o=new c(m,v+"leave",l,n,r)).target=d,o.relatedTarget=p,m=null,gr(r)===i&&((c=new c(h,v+"enter",u,n,r)).target=p,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,v=0,p=c=l;p;p=qi(p))v++;for(p=0,m=h;m;m=qi(m))p++;for(;0<v-p;)c=qi(c),v--;for(;0<p-v;)h=qi(h),p--;for(;v--;){if(c===h||null!==h&&c===h.alternate)break e;c=qi(c),h=qi(h)}c=null}else c=null;null!==l&&Ki(s,o,l,c,!1),null!==u&&null!==d&&Ki(s,d,u,c,!0)}if("select"===(l=(o=i?br(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var _=Qn;else if(zn(o))if(Xn)_=si;else{_=ri;var f=ii}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(_=ai);switch(_&&(_=_(e,i))?$n(s,_,n,r):(f&&f(e,o,i),"focusout"===e&&(f=o._wrapperState)&&f.controlled&&"number"===o.type&&ee(o,"number",o.value)),f=i?br(i):window,e){case"focusin":(zn(f)||"true"===f.contentEditable)&&(_i=f,fi=i,gi=null);break;case"focusout":gi=fi=_i=null;break;case"mousedown":yi=!0;break;case"contextmenu":case"mouseup":case"dragend":yi=!1,bi(s,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":bi(s,n,r)}var g;if(Nn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else jn?Vn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Bn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==y?"onCompositionEnd"===y&&jn&&(g=en()):(Zt="value"in(Xt=r)?Xt.value:Xt.textContent,jn=!0)),0<(f=Gi(i,y)).length&&(y=new bn(y,e,null,n,r),s.push({event:y,listeners:f}),g?y.data=g:null!==(g=Un(n))&&(y.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Hn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Nn&&Vn(e,t)?(e=en(),Jt=Zt=Xt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Gi(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=g))}Fi(s,t)}))}function $i(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=xe(e,n))&&i.unshift($i(e,a,r)),null!=(a=xe(e,t))&&i.push($i(e,a,r))),e=e.return}return i}function qi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ki(e,t,n,i,r){for(var a=t._reactName,s=[];null!==n&&n!==i;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===i)break;5===o.tag&&null!==u&&(o=u,r?null!=(l=xe(n,a))&&s.unshift($i(n,l,o)):r||null!=(l=xe(n,a))&&s.push($i(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yi=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function Xi(e){return("string"==typeof e?e:""+e).replace(Yi,"\n").replace(Qi,"")}function Zi(e,t,n){if(t=Xi(t),Xi(e)!==t&&n)throw Error(a(425))}function Ji(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"==typeof setTimeout?setTimeout:void 0,rr="function"==typeof clearTimeout?clearTimeout:void 0,ar="function"==typeof Promise?Promise:void 0,sr="function"==typeof queueMicrotask?queueMicrotask:void 0!==ar?function(e){return ar.resolve(null).then(e).catch(or)}:ir;function or(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void jt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);jt(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),hr="__reactFiber$"+dr,pr="__reactProps$"+dr,vr="__reactContainer$"+dr,mr="__reactEvents$"+dr,_r="__reactListeners$"+dr,fr="__reactHandles$"+dr;function gr(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cr(e);null!==e;){if(n=e[hr])return n;e=cr(e)}return t}n=(e=n).parentNode}return null}function yr(e){return!(e=e[hr]||e[vr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Er(e){return e[pr]||null}var wr=[],Sr=-1;function Ar(e){return{current:e}}function kr(e){0>Sr||(e.current=wr[Sr],wr[Sr]=null,Sr--)}function Cr(e,t){Sr++,wr[Sr]=e.current,e.current=t}var Pr={},Tr=Ar(Pr),Ir=Ar(!1),Rr=Pr;function Lr(e,t){var n=e.type.contextTypes;if(!n)return Pr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function xr(e){return null!=(e=e.childContextTypes)}function Or(){kr(Ir),kr(Tr)}function Nr(e,t,n){if(Tr.current!==Pr)throw Error(a(168));Cr(Tr,t),Cr(Ir,n)}function Dr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(a(108,W(e)||"Unknown",r));return B({},n,i)}function Mr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,Rr=Tr.current,Cr(Tr,e),Cr(Ir,Ir.current),!0}function Br(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=Dr(e,t,Rr),i.__reactInternalMemoizedMergedChildContext=e,kr(Ir),kr(Tr),Cr(Tr,e)):kr(Ir),Cr(Ir,n)}var Fr=null,Hr=!1,Vr=!1;function Ur(e){null===Fr?Fr=[e]:Fr.push(e)}function jr(){if(!Vr&&null!==Fr){Vr=!0;var e=0,t=yt;try{var n=Fr;for(yt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Fr=null,Hr=!1}catch(t){throw null!==Fr&&(Fr=Fr.slice(e+1)),qe(Je,jr),t}finally{yt=t,Vr=!1}}return null}var Wr=[],zr=0,$r=null,Gr=0,qr=[],Kr=0,Yr=null,Qr=1,Xr="";function Zr(e,t){Wr[zr++]=Gr,Wr[zr++]=$r,$r=e,Gr=t}function Jr(e,t,n){qr[Kr++]=Qr,qr[Kr++]=Xr,qr[Kr++]=Yr,Yr=e;var i=Qr;e=Xr;var r=32-st(i)-1;i&=~(1<<r),n+=1;var a=32-st(t)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Qr=1<<32-st(t)+r|n<<r|i,Xr=a+e}else Qr=1<<a|n<<r|i,Xr=e}function ea(e){null!==e.return&&(Zr(e,1),Jr(e,1,0))}function ta(e){for(;e===$r;)$r=Wr[--zr],Wr[zr]=null,Gr=Wr[--zr],Wr[zr]=null;for(;e===Yr;)Yr=qr[--Kr],qr[Kr]=null,Xr=qr[--Kr],qr[Kr]=null,Qr=qr[--Kr],qr[Kr]=null}var na=null,ia=null,ra=!1,aa=null;function sa(e,t){var n=Lu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ia=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yr?{id:Qr,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ia=null,!0);default:return!1}}function la(e){return!(!(1&e.mode)||128&e.flags)}function ua(e){if(ra){var t=ia;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=ur(n.nextSibling);var i=na;t&&oa(e,t)?sa(i,n):(e.flags=-4097&e.flags|2,ra=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ra=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ra)return ca(e),ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ia)){if(la(e))throw ha(),Error(a(418));for(;t;)sa(e,t),t=ur(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=na?ur(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ia;e;)e=ur(e.nextSibling)}function pa(){ia=na=null,ra=!1}function va(e){null===aa?aa=[e]:aa.push(e)}var ma=b.ReactCurrentBatchConfig;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=i,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function fa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ga(e){return(0,e._init)(e._payload)}function ya(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Bu(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){var a=n.type;return a===S?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===x&&ga(a)===t.type)?((i=r(t,n.props)).ref=_a(e,t,n),i.return=e,i):((i=Nu(n.type,n.key,n.props,null,e.mode,i)).ref=_a(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,a){return null===t||7!==t.tag?((t=Du(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Bu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case w:return(t=Fu(t,e.mode,n)).return=e,t;case x:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Du(t,e.mode,n,null)).return=e,t;fa(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===r?u(e,t,n,i):null;case w:return n.key===r?c(e,t,n,i):null;case x:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||D(n))return null!==r?null:d(e,t,n,i,null);fa(e,n)}return null}function v(e,t,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case E:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case w:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case x:return v(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||D(i))return d(t,e=e.get(n)||null,i,r,null);fa(t,i)}return null}function m(r,a,o,l){for(var u=null,c=null,d=a,m=a=0,_=null;null!==d&&m<o.length;m++){d.index>m?(_=d,d=null):_=d.sibling;var f=p(r,d,o[m],l);if(null===f){null===d&&(d=_);break}e&&d&&null===f.alternate&&t(r,d),a=s(f,a,m),null===c?u=f:c.sibling=f,c=f,d=_}if(m===o.length)return n(r,d),ra&&Zr(r,m),u;if(null===d){for(;m<o.length;m++)null!==(d=h(r,o[m],l))&&(a=s(d,a,m),null===c?u=d:c.sibling=d,c=d);return ra&&Zr(r,m),u}for(d=i(r,d);m<o.length;m++)null!==(_=v(d,r,m,o[m],l))&&(e&&null!==_.alternate&&d.delete(null===_.key?m:_.key),a=s(_,a,m),null===c?u=_:c.sibling=_,c=_);return e&&d.forEach((function(e){return t(r,e)})),ra&&Zr(r,m),u}function _(r,o,l,u){var c=D(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,m=o,_=o=0,f=null,g=l.next();null!==m&&!g.done;_++,g=l.next()){m.index>_?(f=m,m=null):f=m.sibling;var y=p(r,m,g.value,u);if(null===y){null===m&&(m=f);break}e&&m&&null===y.alternate&&t(r,m),o=s(y,o,_),null===d?c=y:d.sibling=y,d=y,m=f}if(g.done)return n(r,m),ra&&Zr(r,_),c;if(null===m){for(;!g.done;_++,g=l.next())null!==(g=h(r,g.value,u))&&(o=s(g,o,_),null===d?c=g:d.sibling=g,d=g);return ra&&Zr(r,_),c}for(m=i(r,m);!g.done;_++,g=l.next())null!==(g=v(m,r,_,g.value,u))&&(e&&null!==g.alternate&&m.delete(null===g.key?_:g.key),o=s(g,o,_),null===d?c=g:d.sibling=g,d=g);return e&&m.forEach((function(e){return t(r,e)})),ra&&Zr(r,_),c}return function e(i,a,s,l){if("object"==typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case E:e:{for(var u=s.key,c=a;null!==c;){if(c.key===u){if((u=s.type)===S){if(7===c.tag){n(i,c.sibling),(a=r(c,s.props.children)).return=i,i=a;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===x&&ga(u)===c.type){n(i,c.sibling),(a=r(c,s.props)).ref=_a(i,c,s),a.return=i,i=a;break e}n(i,c);break}t(i,c),c=c.sibling}s.type===S?((a=Du(s.props.children,i.mode,l,s.key)).return=i,i=a):((l=Nu(s.type,s.key,s.props,null,i.mode,l)).ref=_a(i,a,s),l.return=i,i=l)}return o(i);case w:e:{for(c=s.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(i,a.sibling),(a=r(a,s.children||[])).return=i,i=a;break e}n(i,a);break}t(i,a),a=a.sibling}(a=Fu(s,i.mode,l)).return=i,i=a}return o(i);case x:return e(i,a,(c=s._init)(s._payload),l)}if(te(s))return m(i,a,s,l);if(D(s))return _(i,a,s,l);fa(i,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==a&&6===a.tag?(n(i,a.sibling),(a=r(a,s)).return=i,i=a):(n(i,a),(a=Bu(s,i.mode,l)).return=i,i=a),o(i)):n(i,a)}}var ba=ya(!0),Ea=ya(!1),wa=Ar(null),Sa=null,Aa=null,ka=null;function Ca(){ka=Aa=Sa=null}function Pa(e){var t=wa.current;kr(wa),e._currentValue=t}function Ta(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){Sa=e,ka=Aa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Ra(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===Aa){if(null===Sa)throw Error(a(308));Aa=e,Sa.dependencies={lanes:0,firstContext:e}}else Aa=Aa.next=e;return t}var La=null;function xa(e){null===La?La=[e]:La.push(e)}function Oa(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,xa(t)):(n.next=r.next,r.next=n),t.interleaved=n,Na(e,i)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ba(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,2&Tl){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Na(e,n)}return null===(r=i.interleaved)?(t.next=t,xa(i)):(t.next=r.next,r.next=t),i.interleaved=t,Na(e,n)}function Va(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ua(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,i){var r=e.updateQueue;Da=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=r.baseState;for(s=0,c=u=l=null,o=a;;){var h=o.lane,p=o.eventTime;if((i&h)===h){null!==c&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,m=o;switch(h=t,p=n,m.tag){case 1:if("function"==typeof(v=m.payload)){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null==(h="function"==typeof(v=m.payload)?v.call(p,d,h):v))break e;d=B({},d,h);break e;case 2:Da=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,s|=h;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(h=o).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===c&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=d}}function Wa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!=typeof r)throw Error(a(191,r));r.call(i)}}}var za={},$a=Ar(za),Ga=Ar(za),qa=Ar(za);function Ka(e){if(e===za)throw Error(a(174));return e}function Ya(e,t){switch(Cr(qa,t),Cr(Ga,e),Cr($a,za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}kr($a),Cr($a,t)}function Qa(){kr($a),kr(Ga),kr(qa)}function Xa(e){Ka(qa.current);var t=Ka($a.current),n=le(t,e.type);t!==n&&(Cr(Ga,e),Cr($a,n))}function Za(e){Ga.current===e&&(kr($a),kr(Ga))}var Ja=Ar(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var is=b.ReactCurrentDispatcher,rs=b.ReactCurrentBatchConfig,as=0,ss=null,os=null,ls=null,us=!1,cs=!1,ds=0,hs=0;function ps(){throw Error(a(321))}function vs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oi(e[n],t[n]))return!1;return!0}function ms(e,t,n,i,r,s){if(as=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:Js,e=n(i,r),cs){s=0;do{if(cs=!1,ds=0,25<=s)throw Error(a(301));s+=1,ls=os=null,t.updateQueue=null,is.current=eo,e=n(i,r)}while(cs)}if(is.current=Xs,t=null!==os&&null!==os.next,as=0,ls=os=ss=null,us=!1,t)throw Error(a(300));return e}function _s(){var e=0!==ds;return ds=0,e}function fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function gs(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(a(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function ys(e,t){return"function"==typeof t?t(e):t}function bs(e){var t=gs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=os,r=i.baseQueue,s=n.pending;if(null!==s){if(null!==r){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,i=i.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((as&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,o=i):u=u.next=h,ss.lanes|=d,Ml|=d}c=c.next}while(null!==c&&c!==s);null===u?o=i:u.next=l,oi(i,t.memoizedState)||(yo=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,ss.lanes|=s,Ml|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Es(e){var t=gs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{s=e(s,o.action),o=o.next}while(o!==r);oi(s,t.memoizedState)||(yo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function ws(){}function Ss(e,t){var n=ss,i=gs(),r=t(),s=!oi(i.memoizedState,r);if(s&&(i.memoizedState=r,yo=!0),i=i.queue,Ds(Cs.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Rs(9,ks.bind(null,n,i,r,t),void 0,null),null===Il)throw Error(a(349));30&as||As(n,t,r)}return r}function As(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ks(e,t,n,i){t.value=n,t.getSnapshot=i,Ps(t)&&Ts(e)}function Cs(e,t,n){return n((function(){Ps(t)&&Ts(e)}))}function Ps(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oi(e,n)}catch(e){return!0}}function Ts(e){var t=Na(e,1);null!==t&&nu(t,e,1,-1)}function Is(e){var t=fs();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},t.queue=e,e=e.dispatch=qs.bind(null,ss,e),[t.memoizedState,e]}function Rs(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ls(){return gs().memoizedState}function xs(e,t,n,i){var r=fs();ss.flags|=e,r.memoizedState=Rs(1|t,n,void 0,void 0===i?null:i)}function Os(e,t,n,i){var r=gs();i=void 0===i?null:i;var a=void 0;if(null!==os){var s=os.memoizedState;if(a=s.destroy,null!==i&&vs(i,s.deps))return void(r.memoizedState=Rs(t,n,a,i))}ss.flags|=e,r.memoizedState=Rs(1|t,n,a,i)}function Ns(e,t){return xs(8390656,8,e,t)}function Ds(e,t){return Os(2048,8,e,t)}function Ms(e,t){return Os(4,2,e,t)}function Bs(e,t){return Os(4,4,e,t)}function Fs(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Hs(e,t,n){return n=null!=n?n.concat([e]):null,Os(4,4,Fs.bind(null,t,e),n)}function Vs(){}function Us(e,t){var n=gs();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&vs(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function js(e,t){var n=gs();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&vs(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 21&as?(oi(n,t)||(n=mt(),ss.lanes|=n,Ml|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=n)}function zs(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var i=rs.transition;rs.transition={};try{e(!1),t()}finally{yt=n,rs.transition=i}}function $s(){return gs().memoizedState}function Gs(e,t,n){var i=tu(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ks(e))Ys(t,n);else if(null!==(n=Oa(e,t,n,i))){nu(n,e,i,eu()),Qs(n,t,i)}}function qs(e,t,n){var i=tu(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))Ys(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,oi(o,s)){var l=t.interleaved;return null===l?(r.next=r,xa(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(e){}null!==(n=Oa(e,t,r,i))&&(nu(n,e,i,r=eu()),Qs(n,t,i))}}function Ks(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Ys(e,t){cs=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qs(e,t,n){if(4194240&n){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,gt(e,n)}}var Xs={readContext:Ra,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:Ra,useCallback:function(e,t){return fs().memoizedState=[e,void 0===t?null:t],e},useContext:Ra,useEffect:Ns,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,xs(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return xs(4,2,e,t)},useMemo:function(e,t){var n=fs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=fs();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Gs.bind(null,ss,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},fs().memoizedState=e},useState:Is,useDebugValue:Vs,useDeferredValue:function(e){return fs().memoizedState=e},useTransition:function(){var e=Is(!1),t=e[0];return e=zs.bind(null,e[1]),fs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ss,r=fs();if(ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Il)throw Error(a(349));30&as||As(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Ns(Cs.bind(null,i,s,e),[e]),i.flags|=2048,Rs(9,ks.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=fs(),t=Il.identifierPrefix;if(ra){var n=Xr;t=":"+t+"R"+(n=(Qr&~(1<<32-st(Qr)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Js={readContext:Ra,useCallback:Us,useContext:Ra,useEffect:Ds,useImperativeHandle:Hs,useInsertionEffect:Ms,useLayoutEffect:Bs,useMemo:js,useReducer:bs,useRef:Ls,useState:function(){return bs(ys)},useDebugValue:Vs,useDeferredValue:function(e){return Ws(gs(),os.memoizedState,e)},useTransition:function(){return[bs(ys)[0],gs().memoizedState]},useMutableSource:ws,useSyncExternalStore:Ss,useId:$s,unstable_isNewReconciler:!1},eo={readContext:Ra,useCallback:Us,useContext:Ra,useEffect:Ds,useImperativeHandle:Hs,useInsertionEffect:Ms,useLayoutEffect:Bs,useMemo:js,useReducer:Es,useRef:Ls,useState:function(){return Es(ys)},useDebugValue:Vs,useDeferredValue:function(e){var t=gs();return null===os?t.memoizedState=e:Ws(t,os.memoizedState,e)},useTransition:function(){return[Es(ys)[0],gs().memoizedState]},useMutableSource:ws,useSyncExternalStore:Ss,useId:$s,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var io={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=eu(),r=tu(e),a=Fa(i,r);a.payload=t,null!=n&&(a.callback=n),null!==(t=Ha(e,a,r))&&(nu(t,e,r,i),Va(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=eu(),r=tu(e),a=Fa(i,r);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Ha(e,a,r))&&(nu(t,e,r,i),Va(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),i=tu(e),r=Fa(n,i);r.tag=2,null!=t&&(r.callback=t),null!==(t=Ha(e,r,i))&&(nu(t,e,i,n),Va(t,e,i))}};function ro(e,t,n,i,r,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,a))}function ao(e,t,n){var i=!1,r=Pr,a=t.contextType;return"object"==typeof a&&null!==a?a=Ra(a):(r=xr(t)?Rr:Tr.current,a=(i=null!=(i=t.contextTypes))?Lr(e,r):Pr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=io,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function so(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ma(e);var a=t.contextType;"object"==typeof a&&null!==a?r.context=Ra(a):(a=xr(t)?Rr:Tr.current,r.context=Lr(e,a)),r.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&io.enqueueReplaceState(r,r.state,null),ja(e,n,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",i=t;do{n+=U(i),i=i.return}while(i);var r=n}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:r,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ho="function"==typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){zl||(zl=!0,$l=i),co(0,t)},n}function vo(e,t,n){(n=Fa(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){co(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){co(0,t),"function"!=typeof i&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new ho;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function _o(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fo(e,t,n,i,r){return 1&e.mode?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Ha(n,t,1))),n.lanes|=1),e)}var go=b.ReactCurrentOwner,yo=!1;function bo(e,t,n,i){t.child=null===e?Ea(t,null,n,i):ba(t,e.child,n,i)}function Eo(e,t,n,i,r){n=n.render;var a=t.ref;return Ia(t,r),i=ms(e,t,n,i,a,r),n=_s(),null===e||yo?(ra&&n&&ea(t),t.flags|=1,bo(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,zo(e,t,r))}function wo(e,t,n,i,r){if(null===e){var a=n.type;return"function"!=typeof a||xu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,So(e,t,a,i,r))}if(a=e.child,!(e.lanes&r)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:li)(s,i)&&e.ref===t.ref)return zo(e,t,r)}return t.flags|=1,(e=Ou(a,i)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(li(a,i)&&e.ref===t.ref){if(yo=!1,t.pendingProps=i=a,!(e.lanes&r))return t.lanes=e.lanes,zo(e,t,r);131072&e.flags&&(yo=!0)}}return Co(e,t,n,i,r)}function Ao(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(Ol,xl),xl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==a?a.baseLanes:n,Cr(Ol,xl),xl|=i}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Ol,xl),xl|=n;else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,Cr(Ol,xl),xl|=i;return bo(e,t,r,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,i,r){var a=xr(n)?Rr:Tr.current;return a=Lr(t,a),Ia(t,r),n=ms(e,t,n,i,a,r),i=_s(),null===e||yo?(ra&&i&&ea(t),t.flags|=1,bo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,zo(e,t,r))}function Po(e,t,n,i,r){if(xr(n)){var a=!0;Mr(t)}else a=!1;if(Ia(t,r),null===t.stateNode)Wo(e,t),ao(t,n,i),oo(t,n,i,r),i=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;"object"==typeof u&&null!==u?u=Ra(u):u=Lr(t,u=xr(n)?Rr:Tr.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==i||l!==u)&&so(t,s,i,u),Da=!1;var h=t.memoizedState;s.state=h,ja(t,i,s,r),l=t.memoizedState,o!==i||h!==l||Ir.current||Da?("function"==typeof c&&(no(t,n,c,i),l=t.memoizedState),(o=Da||ro(t,n,o,i,h,l,u))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=u,i=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Ba(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:to(t.type,o),s.props=u,d=t.pendingProps,h=s.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ra(l):l=Lr(t,l=xr(n)?Rr:Tr.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==d||h!==l)&&so(t,s,i,l),Da=!1,h=t.memoizedState,s.state=h,ja(t,i,s,r);var v=t.memoizedState;o!==d||h!==v||Ir.current||Da?("function"==typeof p&&(no(t,n,p,i),v=t.memoizedState),(u=Da||ro(t,n,u,i,h,v,l)||!1)?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,v,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,v,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=v),s.props=i,s.state=v,s.context=l,i=u):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return To(e,t,n,i,a,r)}function To(e,t,n,i,r,a){ko(e,t);var s=!!(128&t.flags);if(!i&&!s)return r&&Br(t,n,!1),zo(e,t,a);i=t.stateNode,go.current=t;var o=s&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,o,a)):bo(e,t,o,a),t.memoizedState=i.state,r&&Br(t,n,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?Nr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Nr(0,t.context,!1),Ya(e,t.containerInfo)}function Ro(e,t,n,i,r){return pa(),va(r),t.flags|=256,bo(e,t,n,i),t.child}var Lo,xo,Oo,No,Do={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bo(e,t,n){var i,r=t.pendingProps,s=Ja.current,o=!1,l=!!(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&!!(2&s)),i?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Cr(Ja,1&s),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},1&r||null===o?o=Mu(l,r,0,null):(o.childLanes=0,o.pendingProps=l),e=Du(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Do,e):Fo(t,l));if(null!==(s=e.memoizedState)&&null!==(i=s.dehydrated))return function(e,t,n,i,r,s,o){if(n)return 256&t.flags?(t.flags&=-257,Ho(e,t,o,i=uo(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=Mu({mode:"visible",children:i.children},r,0,null),(s=Du(s,r,o,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,1&t.mode&&ba(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Do,s);if(!(1&t.mode))return Ho(e,t,o,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Ho(e,t,o,i=uo(s=Error(a(419)),i,void 0))}if(l=!!(o&e.childLanes),yo||l){if(null!==(i=Il)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=r&(i.suspendedLanes|o)?0:r)&&r!==s.retryLane&&(s.retryLane=r,Na(e,r),nu(i,e,r,-1))}return mu(),Ho(e,t,o,i=uo(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Pu.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,ia=ur(r.nextSibling),na=t,ra=!0,aa=null,null!==e&&(qr[Kr++]=Qr,qr[Kr++]=Xr,qr[Kr++]=Yr,Qr=e.id,Xr=e.overflow,Yr=t),t=Fo(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,s,n);if(o){o=r.fallback,l=t.mode,i=(s=e.child).sibling;var u={mode:"hidden",children:r.children};return 1&l||t.child===s?(r=Ou(s,u)).subtreeFlags=14680064&s.subtreeFlags:((r=t.child).childLanes=0,r.pendingProps=u,t.deletions=null),null!==i?o=Ou(i,o):(o=Du(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,r}return e=(o=e.child).sibling,r=Ou(o,{mode:"visible",children:r.children}),!(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fo(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ho(e,t,n,i){return null!==i&&va(i),ba(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Ta(e.return,t,n)}function Uo(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function jo(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(bo(e,t,i.children,n),2&(i=Ja.current))i=1&i|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Cr(Ja,i),1&t.mode)switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Uo(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===es(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Uo(t,!0,n,null,a);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Wo(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function qo(e,t,n){var i=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return xr(t.type)&&Or(),Go(t),null;case 3:return i=t.stateNode,Qa(),kr(Ir),kr(Tr),ns(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==aa&&(su(aa),aa=null))),xo(e,t),Go(t),null;case 5:Za(t);var r=Ka(qa.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(a(166));return Go(t),null}if(e=Ka($a.current),da(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[hr]=t,i[pr]=s,e=!!(1&t.mode),n){case"dialog":Hi("cancel",i),Hi("close",i);break;case"iframe":case"object":case"embed":Hi("load",i);break;case"video":case"audio":for(r=0;r<Di.length;r++)Hi(Di[r],i);break;case"source":Hi("error",i);break;case"img":case"image":case"link":Hi("error",i),Hi("load",i);break;case"details":Hi("toggle",i);break;case"input":Q(i,s),Hi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Hi("invalid",i);break;case"textarea":re(i,s),Hi("invalid",i)}for(var l in ge(n,s),r=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"==typeof u?i.textContent!==u&&(!0!==s.suppressHydrationWarning&&Zi(i.textContent,u,e),r=["children",u]):"number"==typeof u&&i.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Zi(i.textContent,u,e),r=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Hi("scroll",i)}switch(n){case"input":G(i),J(i,s,!0);break;case"textarea":G(i),se(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=Ji)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[hr]=t,e[pr]=i,Lo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,i),n){case"dialog":Hi("cancel",e),Hi("close",e),r=i;break;case"iframe":case"object":case"embed":Hi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Di.length;r++)Hi(Di[r],e);r=i;break;case"source":Hi("error",e),r=i;break;case"img":case"image":case"link":Hi("error",e),Hi("load",e),r=i;break;case"details":Hi("toggle",e),r=i;break;case"input":Q(e,i),r=Y(e,i),Hi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=B({},i,{value:void 0}),Hi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Hi("invalid",e)}for(s in ge(n,r),u=r)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?_e(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"==typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"==typeof c&&he(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Hi("scroll",e):null!=c&&y(e,s,c,l))}switch(n){case"input":G(e),J(e,i,!1);break;case"textarea":G(e),se(e);break;case"option":null!=i.value&&e.setAttribute("value",""+z(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ne(e,!!i.multiple,s,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof r.onClick&&(e.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)No(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(a(166));if(n=Ka(qa.current),Ka($a.current),da(t)){if(i=t.stateNode,n=t.memoizedProps,i[hr]=t,(s=i.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zi(i.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zi(i.nodeValue,n,!!(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hr]=t,t.stateNode=i}return Go(t),null;case 13:if(kr(Ja),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ra&&null!==ia&&1&t.mode&&!(128&t.flags))ha(),pa(),t.flags|=98560,s=!1;else if(s=da(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[hr]=t}else pa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),s=!1}else null!==aa&&(su(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Ja.current?0===Nl&&(Nl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Qa(),xo(e,t),null===e&&ji(t.stateNode.containerInfo),Go(t),null;case 10:return Pa(t.type._context),Go(t),null;case 19:if(kr(Ja),null===(s=t.memoizedState))return Go(t),null;if(i=!!(128&t.flags),null===(l=s.rendering))if(i)$o(s,!1);else{if(0!==Nl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,$o(s,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cr(Ja,1&Ja.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>jl&&(t.flags|=128,i=!0,$o(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=es(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$o(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ra)return Go(t),null}else 2*Xe()-s.renderingStartTime>jl&&1073741824!==n&&(t.flags|=128,i=!0,$o(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=Ja.current,Cr(Ja,i?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return du(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&1&t.mode?!!(1073741824&xl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ko(e,t){switch(ta(t),t.tag){case 1:return xr(t.type)&&Or(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),kr(Ir),kr(Tr),ns(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(kr(Ja),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return kr(Ja),null;case 4:return Qa(),null;case 10:return Pa(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Lo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xo=function(){},Oo=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Ka($a.current);var a,s=null;switch(n){case"input":r=Y(e,r),i=Y(e,i),s=[];break;case"select":r=B({},r,{value:void 0}),i=B({},i,{value:void 0}),s=[];break;case"textarea":r=ie(e,r),i=ie(e,i),s=[];break;default:"function"!=typeof r.onClick&&"function"==typeof i.onClick&&(e.onclick=Ji)}for(c in ge(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var u=i[c];if(l=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Hi("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},No=function(e,t,n,i){n!==i&&(t.flags|=4)};var Yo=!1,Qo=!1,Xo="function"==typeof WeakSet?WeakSet:Set,Zo=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Au(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){Au(e,t,n)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&el(t,n,a)}r=r.next}while(r!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[pr],delete t[mr],delete t[_r],delete t[fr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ji));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"==typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(e){}switch(n.tag){case 5:Qo||Jo(n,t);case 6:var i=cl,r=dl;cl=null,hl(e,t,n),dl=r,null!==(cl=i)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),jt(e)):lr(cl,n.stateNode));break;case 4:i=cl,r=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=i,dl=r;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var a=r,s=a.destroy;a=a.tag,void 0!==s&&(2&a||4&a)&&el(n,t,s),r=r.next}while(r!==i)}hl(e,t,n);break;case 1:if(!Qo&&(Jo(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(e){Au(n,t,e)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qo=(i=Qo)||null!==n.memoizedState,hl(e,t,n),Qo=i):hl(e,t,n);break;default:hl(e,t,n)}}function vl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach((function(t){var i=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));pl(s,o,r),cl=null,dl=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(e){Au(r,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)_l(t,e),t=t.sibling}function _l(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),fl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(t){Au(e,e.return,t)}try{nl(5,e,e.return)}catch(t){Au(e,e.return,t)}}break;case 1:ml(t,e),fl(e),512&i&&null!==n&&Jo(n,n.return);break;case 5:if(ml(t,e),fl(e),512&i&&null!==n&&Jo(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(t){Au(e,e.return,t)}}if(4&i&&null!=(r=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(r,s),ye(l,o);var c=ye(l,s);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];"style"===d?_e(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):y(r,d,h,c)}switch(l){case"input":Z(r,s);break;case"textarea":ae(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var v=s.value;null!=v?ne(r,!!s.multiple,v,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(r,!!s.multiple,s.defaultValue,!0):ne(r,!!s.multiple,s.multiple?[]:"",!1))}r[pr]=s}catch(t){Au(e,e.return,t)}}break;case 6:if(ml(t,e),fl(e),4&i){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(t){Au(e,e.return,t)}}break;case 3:if(ml(t,e),fl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(t){Au(e,e.return,t)}break;case 4:default:ml(t,e),fl(e);break;case 13:ml(t,e),fl(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Ul=Xe())),4&i&&vl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(c=Qo)||d,ml(t,e),Qo=c):ml(t,e),fl(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(Zo=e,d=e.child;null!==d;){for(h=Zo=d;null!==Zo;){switch(v=(p=Zo).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Jo(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){i=p,n=p.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Au(i,n,e)}}break;case 5:Jo(p,p.return);break;case 22:if(null!==p.memoizedState){El(h);continue}}null!==v?(v.return=p,Zo=v):El(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{r=h.stateNode,c?"function"==typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=null!=(u=h.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",o))}catch(t){Au(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(t){Au(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),fl(e),4&i&&vl(e);case 21:}}function fl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var i=n;break e}n=n.return}throw Error(a(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(he(r,""),i.flags&=-33),ul(e,ol(e),r);break;case 3:case 4:var s=i.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(a(161))}}catch(t){Au(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e,t,n){Zo=e,yl(e,t,n)}function yl(e,t,n){for(var i=!!(1&e.mode);null!==Zo;){var r=Zo,a=r.child;if(22===r.tag&&i){var s=null!==r.memoizedState||Yo;if(!s){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Yo;var u=Qo;if(Yo=s,(Qo=l)&&!u)for(Zo=r;null!==Zo;)l=(s=Zo).child,22===s.tag&&null!==s.memoizedState?wl(r):null!==l?(l.return=s,Zo=l):wl(r);for(;null!==a;)Zo=a,yl(a,t,n),a=a.sibling;Zo=r,Yo=o,Qo=u}bl(e)}else 8772&r.subtreeFlags&&null!==a?(a.return=r,Zo=a):bl(e)}}function bl(e){for(;null!==Zo;){var t=Zo;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Qo||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Qo)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wa(t,s,i);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wa(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&jt(h)}}}break;default:throw Error(a(163))}Qo||512&t.flags&&rl(t)}catch(e){Au(t,t.return,e)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function El(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(e){Au(t,n,e)}break;case 1:var i=t.stateNode;if("function"==typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(e){Au(t,r,e)}}var a=t.return;try{rl(t)}catch(e){Au(t,a,e)}break;case 5:var s=t.return;try{rl(t)}catch(e){Au(t,s,e)}}}catch(e){Au(t,t.return,e)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Sl,Al=Math.ceil,kl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,Pl=b.ReactCurrentBatchConfig,Tl=0,Il=null,Rl=null,Ll=0,xl=0,Ol=Ar(0),Nl=0,Dl=null,Ml=0,Bl=0,Fl=0,Hl=null,Vl=null,Ul=0,jl=1/0,Wl=null,zl=!1,$l=null,Gl=null,ql=!1,Kl=null,Yl=0,Ql=0,Xl=null,Zl=-1,Jl=0;function eu(){return 6&Tl?Xe():-1!==Zl?Zl:Zl=Xe()}function tu(e){return 1&e.mode?2&Tl&&0!==Ll?Ll&-Ll:null!==ma.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Qt(e.type):1}function nu(e,t,n,i){if(50<Ql)throw Ql=0,Xl=null,Error(a(185));ft(e,n,i),2&Tl&&e===Il||(e===Il&&(!(2&Tl)&&(Bl|=n),4===Nl&&ou(e,Ll)),iu(e,i),1===n&&0===Tl&&!(1&t.mode)&&(jl=Xe()+500,Hr&&jr()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=r[s];-1===l?o&n&&!(o&i)||(r[s]=pt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var i=ht(e,e===Il?Ll:0);if(0===i)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Hr=!0,Ur(e)}(lu.bind(null,e)):Ur(lu.bind(null,e)),sr((function(){!(6&Tl)&&jr()})),n=null;else{switch(bt(i)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Iu(n,ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ru(e,t){if(Zl=-1,Jl=0,6&Tl)throw Error(a(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var i=ht(e,e===Il?Ll:0);if(0===i)return null;if(30&i||i&e.expiredLanes||t)t=_u(e,i);else{t=i;var r=Tl;Tl|=2;var s=vu();for(Il===e&&Ll===t||(Wl=null,jl=Xe()+500,hu(e,t));;)try{gu();break}catch(t){pu(e,t)}Ca(),kl.current=s,Tl=r,null!==Rl?t=0:(Il=null,Ll=0,t=Nl)}if(0!==t){if(2===t&&(0!==(r=vt(e))&&(i=r,t=au(e,r))),1===t)throw n=Dl,hu(e,0),ou(e,i),iu(e,Xe()),n;if(6===t)ou(e,i);else{if(r=e.current.alternate,!(30&i||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!oi(a(),r))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)||(t=_u(e,i),2===t&&(s=vt(e),0!==s&&(i=s,t=au(e,s))),1!==t)))throw n=Dl,hu(e,0),ou(e,i),iu(e,Xe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:case 5:Eu(e,Vl,Wl);break;case 3:if(ou(e,i),(130023424&i)===i&&10<(t=Ul+500-Xe())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&i)!==i){eu(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(Eu.bind(null,e,Vl,Wl),t);break}Eu(e,Vl,Wl);break;case 4:if(ou(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-st(i);s=1<<o,(o=t[o])>r&&(r=o),i&=~s}if(i=r,10<(i=(120>(i=Xe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Al(i/1960))-i)){e.timeoutHandle=ir(Eu.bind(null,e,Vl,Wl),i);break}Eu(e,Vl,Wl);break;default:throw Error(a(329))}}}return iu(e,Xe()),e.callbackNode===n?ru.bind(null,e):null}function au(e,t){var n=Hl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=_u(e,t))&&(t=Vl,Vl=n,null!==t&&su(t)),e}function su(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function ou(e,t){for(t&=~Fl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),i=1<<n;e[n]=-1,t&=~i}}function lu(e){if(6&Tl)throw Error(a(327));wu();var t=ht(e,0);if(!(1&t))return iu(e,Xe()),null;var n=_u(e,t);if(0!==e.tag&&2===n){var i=vt(e);0!==i&&(t=i,n=au(e,i))}if(1===n)throw n=Dl,hu(e,0),ou(e,t),iu(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e,Vl,Wl),iu(e,Xe()),null}function uu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(jl=Xe()+500,Hr&&jr())}}function cu(e){null!==Kl&&0===Kl.tag&&!(6&Tl)&&wu();var t=Tl;Tl|=1;var n=Pl.transition,i=yt;try{if(Pl.transition=null,yt=1,e)return e()}finally{yt=i,Pl.transition=n,!(6&(Tl=t))&&jr()}}function du(){xl=Ol.current,kr(Ol)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Rl)for(n=Rl.return;null!==n;){var i=n;switch(ta(i),i.tag){case 1:null!=(i=i.type.childContextTypes)&&Or();break;case 3:Qa(),kr(Ir),kr(Tr),ns();break;case 5:Za(i);break;case 4:Qa();break;case 13:case 19:kr(Ja);break;case 10:Pa(i.type._context);break;case 22:case 23:du()}n=n.return}if(Il=e,Rl=e=Ou(e.current,null),Ll=xl=t,Nl=0,Dl=null,Fl=Bl=Ml=0,Vl=Hl=null,null!==La){for(t=0;t<La.length;t++)if(null!==(i=(n=La[t]).interleaved)){n.interleaved=null;var r=i.next,a=n.pending;if(null!==a){var s=a.next;a.next=r,i.next=s}n.pending=i}La=null}return e}function pu(e,t){for(;;){var n=Rl;try{if(Ca(),is.current=Xs,us){for(var i=ss.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}us=!1}if(as=0,ls=os=ss=null,cs=!1,ds=0,Cl.current=null,null===n||null===n.return){Nl=1,Dl=t,Rl=null;break}e:{var s=e,o=n.return,l=n,u=t;if(t=Ll,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,h=d.tag;if(!(1&d.mode||0!==h&&11!==h&&15!==h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=_o(o);if(null!==v){v.flags&=-257,fo(v,o,l,0,t),1&v.mode&&mo(s,c,t),u=c;var m=(t=v).updateQueue;if(null===m){var _=new Set;_.add(u),t.updateQueue=_}else m.add(u);break e}if(!(1&t)){mo(s,c,t),mu();break e}u=Error(a(426))}else if(ra&&1&l.mode){var f=_o(o);if(null!==f){!(65536&f.flags)&&(f.flags|=256),fo(f,o,l,0,t),va(lo(u,l));break e}}s=u=lo(u,l),4!==Nl&&(Nl=2),null===Hl?Hl=[s]:Hl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ua(s,po(0,u,t));break e;case 1:l=u;var g=s.type,y=s.stateNode;if(!(128&s.flags||"function"!=typeof g.getDerivedStateFromError&&(null===y||"function"!=typeof y.componentDidCatch||null!==Gl&&Gl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,Ua(s,vo(s,l,t));break e}}s=s.return}while(null!==s)}bu(n)}catch(e){t=e,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function vu(){var e=kl.current;return kl.current=Xs,null===e?Xs:e}function mu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Il||!(268435455&Ml)&&!(268435455&Bl)||ou(Il,Ll)}function _u(e,t){var n=Tl;Tl|=2;var i=vu();for(Il===e&&Ll===t||(Wl=null,hu(e,t));;)try{fu();break}catch(t){pu(e,t)}if(Ca(),Tl=n,kl.current=i,null!==Rl)throw Error(a(261));return Il=null,Ll=0,Nl}function fu(){for(;null!==Rl;)yu(Rl)}function gu(){for(;null!==Rl&&!Ye();)yu(Rl)}function yu(e){var t=Sl(e.alternate,e,xl);e.memoizedProps=e.pendingProps,null===t?bu(e):Rl=t,Cl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Nl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=qo(n,t,xl)))return void(Rl=n);if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Nl&&(Nl=5)}function Eu(e,t,n){var i=yt,r=Pl.transition;try{Pl.transition=null,yt=1,function(e,t,n,i){do{wu()}while(null!==Kl);if(6&Tl)throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),a=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~a}}(e,s),e===Il&&(Rl=Il=null,Ll=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||ql||(ql=!0,Iu(tt,(function(){return wu(),null}))),s=!!(15990&n.flags),!!(15990&n.subtreeFlags)||s){s=Pl.transition,Pl.transition=null;var o=yt;yt=1;var l=Tl;Tl|=4,Cl.current=null,function(e,t){if(er=zt,pi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var v;h!==n||0!==r&&3!==h.nodeType||(l=o+r),h!==s||0!==i&&3!==h.nodeType||(u=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(v=h.firstChild);)p=h,h=v;for(;;){if(h===e)break t;if(p===n&&++c===r&&(l=o),p===s&&++d===i&&(u=o),null!==(v=h.nextSibling))break;p=(h=p).parentNode}h=v}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},zt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,1028&t.subtreeFlags&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var _=m.memoizedProps,f=m.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?_:to(t.type,_),f);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(e){Au(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=tl,tl=!1}(e,n),_l(n,e),vi(tr),zt=!!er,tr=er=null,e.current=n,gl(n,e,r),Qe(),Tl=l,yt=o,Pl.transition=s}else e.current=n;if(ql&&(ql=!1,Kl=e,Yl=r),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(at&&"function"==typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),iu(e,Xe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(zl)throw zl=!1,e=$l,$l=null,e;!!(1&Yl)&&0!==e.tag&&wu(),s=e.pendingLanes,1&s?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,jr()}(e,t,n,i)}finally{Pl.transition=r,yt=i}return null}function wu(){if(null!==Kl){var e=bt(Yl),t=Pl.transition,n=yt;try{if(Pl.transition=null,yt=16>e?16:e,null===Kl)var i=!1;else{if(e=Kl,Kl=null,Yl=0,6&Tl)throw Error(a(331));var r=Tl;for(Tl|=4,Zo=e.current;null!==Zo;){var s=Zo,o=s.child;if(16&Zo.flags){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Zo=c;null!==Zo;){var d=Zo;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Zo=h;else for(;null!==Zo;){var p=(d=Zo).sibling,v=d.return;if(al(d),d===c){Zo=null;break}if(null!==p){p.return=v,Zo=p;break}Zo=v}}}var m=s.alternate;if(null!==m){var _=m.child;if(null!==_){m.child=null;do{var f=_.sibling;_.sibling=null,_=f}while(null!==_)}}Zo=s}}if(2064&s.subtreeFlags&&null!==o)o.return=s,Zo=o;else e:for(;null!==Zo;){if(2048&(s=Zo).flags)switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var g=s.sibling;if(null!==g){g.return=s.return,Zo=g;break e}Zo=s.return}}var y=e.current;for(Zo=y;null!==Zo;){var b=(o=Zo).child;if(2064&o.subtreeFlags&&null!==b)b.return=o,Zo=b;else e:for(o=y;null!==Zo;){if(2048&(l=Zo).flags)try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(e){Au(l,l.return,e)}if(l===o){Zo=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Zo=E;break e}Zo=l.return}}if(Tl=r,jr(),at&&"function"==typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(e){}i=!0}return i}finally{yt=n,Pl.transition=t}}return!1}function Su(e,t,n){e=Ha(e,t=po(0,t=lo(n,t),1),1),t=eu(),null!==e&&(ft(e,1,t),iu(e,t))}function Au(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Gl||!Gl.has(i))){t=Ha(t,e=vo(t,e=lo(n,e),1),1),e=eu(),null!==t&&(ft(t,1,e),iu(t,e));break}}t=t.return}}function ku(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Ll&n)===n&&(4===Nl||3===Nl&&(130023424&Ll)===Ll&&500>Xe()-Ul?hu(e,0):Fl|=n),iu(e,t)}function Cu(e,t){0===t&&(1&e.mode?(t=ct,!(130023424&(ct<<=1))&&(ct=4194304)):t=1);var n=eu();null!==(e=Na(e,t))&&(ft(e,t,n),iu(e,n))}function Pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}null!==i&&i.delete(t),Cu(e,n)}function Iu(e,t){return qe(e,t)}function Ru(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lu(e,t,n,i){return new Ru(e,t,n,i)}function xu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Lu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,i,r,s){var o=2;if(i=e,"function"==typeof e)xu(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case S:return Du(n.children,r,s,t);case A:o=8,r|=8;break;case k:return(e=Lu(12,n,t,2|r)).elementType=k,e.lanes=s,e;case I:return(e=Lu(13,n,t,r)).elementType=I,e.lanes=s,e;case R:return(e=Lu(19,n,t,r)).elementType=R,e.lanes=s,e;case O:return Mu(n,r,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case P:o=9;break e;case T:o=11;break e;case L:o=14;break e;case x:o=16,i=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Lu(o,n,t,r)).elementType=e,t.type=i,t.lanes=s,t}function Du(e,t,n,i){return(e=Lu(7,e,i,t)).lanes=n,e}function Mu(e,t,n,i){return(e=Lu(22,e,i,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Bu(e,t,n){return(e=Lu(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Lu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_t(0),this.expirationTimes=_t(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_t(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,i,r,a,s,o,l){return e=new Hu(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Lu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Uu(e){if(!e)return Pr;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(xr(n))return Dr(e,n,t)}return t}function ju(e,t,n,i,r,a,s,o,l){return(e=Vu(n,i,!0,e,0,a,0,o,l)).context=Uu(null),n=e.current,(a=Fa(i=eu(),r=tu(n))).callback=null!=t?t:null,Ha(n,a,r),e.current.lanes=r,ft(e,r,i),iu(e,i),e}function Wu(e,t,n,i){var r=t.current,a=eu(),s=tu(r);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Ha(r,t,s))&&(nu(e,r,s,a),Va(e,r,s)),s}function zu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ir.current)yo=!0;else{if(!(e.lanes&n||128&t.flags))return yo=!1,function(e,t,n){switch(t.tag){case 3:Io(t),pa();break;case 5:Xa(t);break;case 1:xr(t.type)&&Mr(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Cr(wa,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Cr(Ja,1&Ja.current),t.flags|=128,null):n&t.child.childLanes?Bo(e,t,n):(Cr(Ja,1&Ja.current),null!==(e=zo(e,t,n))?e.sibling:null);Cr(Ja,1&Ja.current);break;case 19:if(i=!!(n&t.childLanes),128&e.flags){if(i)return jo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(Ja,Ja.current),i)break;return null;case 22:case 23:return t.lanes=0,Ao(e,t,n)}return zo(e,t,n)}(e,t,n);yo=!!(131072&e.flags)}else yo=!1,ra&&1048576&t.flags&&Jr(t,Gr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Wo(e,t),e=t.pendingProps;var r=Lr(t,Tr.current);Ia(t,n),r=ms(null,t,i,e,r,n);var s=_s();return t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xr(i)?(s=!0,Mr(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ma(t),r.updater=io,t.stateNode=r,r._reactInternals=t,oo(t,i,e,n),t=To(null,t,i,!0,s,n)):(t.tag=0,ra&&s&&ea(t),bo(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"==typeof e)return xu(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===L)return 14}return 2}(i),e=to(i,e),r){case 0:t=Co(null,t,i,e,n);break e;case 1:t=Po(null,t,i,e,n);break e;case 11:t=Eo(null,t,i,e,n);break e;case 14:t=wo(null,t,i,to(i.type,e),n);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Co(e,t,i,r=t.elementType===i?r:to(i,r),n);case 1:return i=t.type,r=t.pendingProps,Po(e,t,i,r=t.elementType===i?r:to(i,r),n);case 3:e:{if(Io(t),null===e)throw Error(a(387));i=t.pendingProps,r=(s=t.memoizedState).element,Ba(e,t),ja(t,i,null,n);var o=t.memoizedState;if(i=o.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ro(e,t,i,n,r=lo(Error(a(423)),t));break e}if(i!==r){t=Ro(e,t,i,n,r=lo(Error(a(424)),t));break e}for(ia=ur(t.stateNode.containerInfo.firstChild),na=t,ra=!0,aa=null,n=Ea(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),i===r){t=zo(e,t,n);break e}bo(e,t,i,n)}t=t.child}return t;case 5:return Xa(t),null===e&&ua(t),i=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,o=r.children,nr(i,r)?o=null:null!==s&&nr(i,s)&&(t.flags|=32),ko(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Bo(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ba(t,null,i,n):bo(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Eo(e,t,i,r=t.elementType===i?r:to(i,r),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,Cr(wa,i._currentValue),i._currentValue=o,null!==s)if(oi(s.value,o)){if(s.children===r.children&&!Ir.current){t=zo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===s.tag){(u=Fa(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ta(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ta(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}bo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Ia(t,n),i=i(r=Ra(r)),t.flags|=1,bo(e,t,i,n),t.child;case 14:return r=to(i=t.type,t.pendingProps),wo(e,t,i,r=to(i.type,r),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:to(i,r),Wo(e,t),t.tag=1,xr(i)?(e=!0,Mr(t)):e=!1,Ia(t,n),ao(t,i,r),oo(t,i,r,n),To(null,t,i,!0,e,n);case 19:return jo(e,t,n);case 22:return Ao(e,t,n)}throw Error(a(156,t.tag))};var qu="function"==typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function Ju(e,t,n,i,r){var a=n._reactRootContainer;if(a){var s=a;if("function"==typeof r){var o=r;r=function(){var e=zu(s);o.call(e)}}Wu(t,s,e,r)}else s=function(e,t,n,i,r){if(r){if("function"==typeof i){var a=i;i=function(){var e=zu(s);a.call(e)}}var s=ju(t,i,e,0,null,!1,0,"",Zu);return e._reactRootContainer=s,e[vr]=s.current,ji(8===e.nodeType?e.parentNode:e),cu(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"==typeof i){var o=i;i=function(){var e=zu(l);o.call(e)}}var l=Vu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[vr]=l.current,ji(8===e.nodeType?e.parentNode:e),cu((function(){Wu(t,l,n,i)})),l}(n,t,e,r,i);return zu(s)}Yu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wu(e,t,null,null)},Yu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Wu(null,e,null,null)})),t[vr]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Bt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),iu(t,Xe()),!(6&Tl)&&(jl=Xe()+500,jr()))}break;case 13:cu((function(){var t=Na(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Gu(e,1)}},wt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nu(t,e,134217728,eu());Gu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Na(e,t);if(null!==n)nu(n,e,t,eu());Gu(e,t)}},At=function(){return yt},kt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Er(i);if(!r)throw Error(a(90));q(i),Z(i,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uu,Ie=cu;var ec={usingClientEntryPoint:!1,Events:[yr,br,Er,Ce,Pe,uu]},tc={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{rt=ic.inject(nc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(a(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(a(299));var n=!1,i="",r=qu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Vu(e,1,!1,null,0,n,0,i,r),e[vr]=t.current,ji(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(a(200));return Ju(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(a(405));var i=null!=n&&n.hydratedSources||null,r=!1,s="",o=qu;if(null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=ju(t,null,e,1,null!=n?n:null,r,0,s,o),e[vr]=t.current,ji(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Yu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(a(200));return Ju(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){Ju(null,null,e,!1,(function(){e._reactRootContainer=null,e[vr]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Xu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Ju(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},3509:(e,t,n)=>{"use strict";var i=n(8572);t.H=i.createRoot,i.hydrateRoot},8572:(e,t,n)=>{"use strict";n(7293),function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(7588)},9712:(e,t,n)=>{n(2195),n(1631),n(914),n(2358),n(9420),n(1433),n(1e3),n(9020),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446),n(752);var i="undefined"!=typeof Element,r="function"==typeof Map,a="function"==typeof Set,s="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,l,u,c;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(l=n;0!=l--;)if(!o(e[l],t[l]))return!1;return!0}if(r&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!t.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!o(l.value[1],t.get(l.value[0])))return!1;return!0}if(a&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!t.has(l.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(l=n;0!=l--;)if(e[l]!==t[l])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((n=(u=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(l=n;0!=l--;)if(!Object.prototype.hasOwnProperty.call(t,u[l]))return!1;if(i&&e instanceof Element)return!1;for(l=n;0!=l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!e.$$typeof)&&!o(e[u[l]],t[u[l]]))return!1;return!0}return e!=e&&t!=t}e.exports=function(e,t){try{return o(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},5051:(e,t,n)=>{e.exports=n(7375)},7375:(e,t,n)=>{"use strict";n(7293),n(4401),n(1631),n(914),n(2358),n(9419),n(7821);var i,r=(i=n(8717))&&"object"==typeof i&&"default"in i?i.default:i,a=n(8572);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),function(e,t){for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var r=n[i],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e.prototype.constructor=e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=function(e,t,n,i,r,a,s,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,a,s,o],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}};function c(e,t,n){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=n;else{var i=e.createTextRange();i.collapse(!0),i.moveStart("character",t),i.moveEnd("character",n-t),i.select()}}var d={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};function h(e,t,n){var i="",r="",a=null,s=[];if(void 0===t&&(t="_"),null==n&&(n=d),!e||"string"!=typeof e)return{maskChar:t,formatChars:n,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var o=!1;return e.split("").forEach((function(e){o=!o&&"\\"===e||(o||!n[e]?(s.push(i.length),i.length===s.length-1&&(r+=e)):a=i.length+1,i+=e,!1)})),{maskChar:t,formatChars:n,prefix:r,mask:i,lastEditablePosition:a,permanents:s}}function p(e,t){return-1!==e.permanents.indexOf(t)}function v(e,t,n){var i=e.mask,r=e.formatChars;if(!n)return!1;if(p(e,t))return i[t]===n;var a=r[i[t]];return new RegExp(a).test(n)}function m(e,t){return t.split("").every((function(t,n){return p(e,n)||!v(e,n,t)}))}function _(e,t){var n=e.maskChar,i=e.prefix;if(!n){for(;t.length>i.length&&p(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var r=i.length,a=t.length;a>=i.length;a--){var s=t[a];if(!p(e,a)&&v(e,a,s)){r=a+1;break}}return r}function f(e,t){return _(e,t)===e.mask.length}function g(e,t){var n=e.maskChar,i=e.mask,r=e.prefix;if(!n){for((t=y(e,"",t,0)).length<r.length&&(t=r);t.length<i.length&&p(e,t.length);)t+=i[t.length];return t}if(t)return y(e,g(e,""),t,0);for(var a=0;a<i.length;a++)p(e,a)?t+=i[a]:t+=n;return t}function y(e,t,n,i){var r=e.mask,a=e.maskChar,s=e.prefix,o=n.split(""),l=f(e,t);return!a&&i>t.length&&(t+=r.slice(t.length,i)),o.every((function(n){for(;c=n,p(e,u=i)&&c!==r[u];){if(i>=t.length&&(t+=r[i]),o=n,a&&p(e,i)&&o===a)return!0;if(++i>=r.length)return!1}var o,u,c;return!v(e,i,n)&&n!==a||(i<t.length?t=a||l||i<s.length?t.slice(0,i)+n+t.slice(i+1):(t=t.slice(0,i)+n+t.slice(i),g(e,t)):a||(t+=n),++i<r.length)})),t}function b(e,t){for(var n=e.mask,i=t;i<n.length;++i)if(!p(e,i))return i;return null}function E(e){return e||0===e?e+"":""}function w(e,t,n,i,r){var a=e.mask,s=e.prefix,o=e.lastEditablePosition,l=t,u="",c=0,d=0,h=Math.min(r.start,n.start);return n.end>r.start?d=(c=function(e,t,n,i){var r=e.mask,a=e.maskChar,s=n.split(""),o=i;return s.every((function(t){for(;s=t,p(e,n=i)&&s!==r[n];)if(++i>=r.length)return!1;var n,s;return(v(e,i,t)||t===a)&&i++,i<r.length})),i-o}(e,0,u=l.slice(r.start,n.end),h))?r.length:0:l.length<i.length&&(d=i.length-l.length),l=i,d&&(1!==d||r.length||(h=r.start===n.start?b(e,n.start):function(e,t){for(var n=t;0<=n;--n)if(!p(e,n))return n;return null}(e,n.start)),l=function(e,t,n,i){var r=n+i,a=e.maskChar,s=e.mask,o=e.prefix,l=t.split("");if(a)return l.map((function(t,i){return i<n||r<=i?t:p(e,i)?s[i]:a})).join("");for(var u=r;u<l.length;u++)p(e,u)&&(l[u]="");return n=Math.max(o.length,n),l.splice(n,r-n),t=l.join(""),g(e,t)}(e,l,h,d)),l=y(e,l,u,h),(h+=c)>=a.length?h=a.length:h<s.length&&!c?h=s.length:h>=s.length&&h<o&&c&&(h=b(e,h)),u||(u=null),{value:l=g(e,l),enteredString:u,selection:{start:h,end:h}}}function S(e){return"function"==typeof e}function A(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function k(e){return(A()?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame:function(){return setTimeout(e,1e3/60)})(e)}function C(e){(A()||clearTimeout)(e)}var P=function(e){function t(t){var n=e.call(this,t)||this;n.focused=!1,n.mounted=!1,n.previousSelection=null,n.selectionDeferId=null,n.saveSelectionLoopDeferId=null,n.saveSelectionLoop=function(){n.previousSelection=n.getSelection(),n.saveSelectionLoopDeferId=k(n.saveSelectionLoop)},n.runSaveSelectionLoop=function(){null===n.saveSelectionLoopDeferId&&n.saveSelectionLoop()},n.stopSaveSelectionLoop=function(){null!==n.saveSelectionLoopDeferId&&(C(n.saveSelectionLoopDeferId),n.saveSelectionLoopDeferId=null,n.previousSelection=null)},n.getInputDOMNode=function(){if(!n.mounted)return null;var e=a.findDOMNode(l(l(n))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},n.getInputValue=function(){var e=n.getInputDOMNode();return e?e.value:null},n.setInputValue=function(e){var t=n.getInputDOMNode();t&&(n.value=e,t.value=e)},n.setCursorToEnd=function(){var e=_(n.maskOptions,n.value),t=b(n.maskOptions,e);null!==t&&n.setCursorPosition(t)},n.setSelection=function(e,t,i){void 0===i&&(i={});var r=n.getInputDOMNode(),a=n.isFocused();r&&a&&(i.deferred||c(r,e,t),null!==n.selectionDeferId&&C(n.selectionDeferId),n.selectionDeferId=k((function(){n.selectionDeferId=null,c(r,e,t)})),n.previousSelection={start:e,end:t,length:Math.abs(t-e)})},n.getSelection=function(){return function(e){var t=0,n=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,n=e.selectionEnd;else{var i=document.selection.createRange();i.parentElement()===e&&(t=-i.moveStart("character",-e.value.length),n=-i.moveEnd("character",-e.value.length))}return{start:t,end:n,length:n-t}}(n.getInputDOMNode())},n.getCursorPosition=function(){return n.getSelection().start},n.setCursorPosition=function(e){n.setSelection(e,e)},n.isFocused=function(){return n.focused},n.getBeforeMaskedValueChangeConfig=function(){var e=n.maskOptions,t=e.mask,i=e.maskChar,r=e.permanents,a=e.formatChars;return{mask:t,maskChar:i,permanents:r,alwaysShowMask:!!n.props.alwaysShowMask,formatChars:a}},n.isInputAutofilled=function(e,t,i,r){var a=n.getInputDOMNode();try{if(a.matches(":-webkit-autofill"))return!0}catch(e){}return!n.focused||r.end<i.length&&t.end===e.length},n.onChange=function(e){var t=l(l(n)).beforePasteState,i=l(l(n)).previousSelection,r=n.props.beforeMaskedValueChange,a=n.getInputValue(),s=n.value,o=n.getSelection();n.isInputAutofilled(a,o,s,i)&&(s=g(n.maskOptions,""),i={start:0,end:0,length:0}),t&&(i=t.selection,s=t.value,o={start:i.start+a.length,end:i.start+a.length,length:0},a=s.slice(0,i.start)+a+s.slice(i.end),n.beforePasteState=null);var u=w(n.maskOptions,a,o,s,i),c=u.enteredString,d=u.selection,h=u.value;if(S(r)){var p=r({value:h,selection:d},{value:s,selection:i},c,n.getBeforeMaskedValueChangeConfig());h=p.value,d=p.selection}n.setInputValue(h),S(n.props.onChange)&&n.props.onChange(e),n.isWindowsPhoneBrowser?n.setSelection(d.start,d.end,{deferred:!0}):n.setSelection(d.start,d.end)},n.onFocus=function(e){var t=n.props.beforeMaskedValueChange,i=n.maskOptions,r=i.mask,a=i.prefix;if(n.focused=!0,n.mounted=!0,r){if(n.value)_(n.maskOptions,n.value)<n.maskOptions.mask.length&&n.setCursorToEnd();else{var s=g(n.maskOptions,a),o=g(n.maskOptions,s),l=_(n.maskOptions,o),u=b(n.maskOptions,l),c={start:u,end:u};if(S(t)){var d=t({value:o,selection:c},{value:n.value,selection:null},null,n.getBeforeMaskedValueChangeConfig());o=d.value,c=d.selection}var h=o!==n.getInputValue();h&&n.setInputValue(o),h&&S(n.props.onChange)&&n.props.onChange(e),n.setSelection(c.start,c.end)}n.runSaveSelectionLoop()}S(n.props.onFocus)&&n.props.onFocus(e)},n.onBlur=function(e){var t=n.props.beforeMaskedValueChange,i=n.maskOptions.mask;if(n.stopSaveSelectionLoop(),n.focused=!1,i&&!n.props.alwaysShowMask&&m(n.maskOptions,n.value)){var r="";S(t)&&(r=t({value:r,selection:null},{value:n.value,selection:n.previousSelection},null,n.getBeforeMaskedValueChangeConfig()).value);var a=r!==n.getInputValue();a&&n.setInputValue(r),a&&S(n.props.onChange)&&n.props.onChange(e)}S(n.props.onBlur)&&n.props.onBlur(e)},n.onMouseDown=function(e){if(!n.focused&&document.addEventListener){n.mouseDownX=e.clientX,n.mouseDownY=e.clientY,n.mouseDownTime=(new Date).getTime();document.addEventListener("mouseup",(function e(t){if(document.removeEventListener("mouseup",e),n.focused){var i=Math.abs(t.clientX-n.mouseDownX),r=Math.abs(t.clientY-n.mouseDownY),a=Math.max(i,r),s=(new Date).getTime()-n.mouseDownTime;(a<=10&&s<=200||a<=5&&s<=300)&&n.setCursorToEnd()}}))}S(n.props.onMouseDown)&&n.props.onMouseDown(e)},n.onPaste=function(e){S(n.props.onPaste)&&n.props.onPaste(e),e.defaultPrevented||(n.beforePasteState={value:n.getInputValue(),selection:n.getSelection()},n.setInputValue(""))},n.handleRef=function(e){null==n.props.children&&S(n.props.inputRef)&&n.props.inputRef(e)};var i=t.mask,r=t.maskChar,s=t.formatChars,o=t.alwaysShowMask,u=t.beforeMaskedValueChange,d=t.defaultValue,p=t.value;n.maskOptions=h(i,r,s),null==d&&(d=""),null==p&&(p=d);var v=E(p);if(n.maskOptions.mask&&(o||v)&&(v=g(n.maskOptions,v),S(u))){var f=t.value;null==t.value&&(f=d),v=u({value:v,selection:null},{value:f=E(f),selection:null},null,n.getBeforeMaskedValueChangeConfig()).value}return n.value=v,n}o(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),n=navigator.userAgent;return e.test(n)&&t.test(n)}(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},n.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,n=t.beforeMaskedValueChange,i=t.alwaysShowMask,r=t.mask,a=t.maskChar,s=t.formatChars,o=this.maskOptions,l=i||this.isFocused(),u=null!=this.props.value,c=u?E(this.props.value):this.value,d=e?e.start:null;if(this.maskOptions=h(r,a,s),this.maskOptions.mask){!o.mask&&this.isFocused()&&this.runSaveSelectionLoop();var p=this.maskOptions.mask&&this.maskOptions.mask!==o.mask;if(o.mask||u||(c=this.getInputValue()),(p||this.maskOptions.mask&&(c||l))&&(c=g(this.maskOptions,c)),p){var v=_(this.maskOptions,c);(null===d||v<d)&&(d=f(this.maskOptions,c)?v:b(this.maskOptions,v))}!this.maskOptions.mask||!m(this.maskOptions,c)||l||u&&this.props.value||(c="");var y={start:d,end:d};if(S(n)){var w=n({value:c,selection:y},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());c=w.value,y=w.selection}this.value=c;var A=this.getInputValue()!==this.value;A?(this.setInputValue(this.value),this.forceUpdate()):p&&this.forceUpdate();var k=!1;null!=y.start&&null!=y.end&&(k=!e||e.start!==y.start||e.end!==y.end),(k||A)&&this.setSelection(y.start,y.end)}else o.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},n.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&C(this.selectionDeferId),this.stopSaveSelectionLoop()},n.render=function(){var e,t=this.props,n=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),i=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],0<=t.indexOf(n)||(r[n]=e[n]);return r}(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(n){S(n)||u(!1);var a=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],o=s({},i);a.forEach((function(e){return delete o[e]})),e=n(o),a.filter((function(t){return null!=e.props[t]&&e.props[t]!==i[t]})).length&&u(!1)}else e=r.createElement("input",s({ref:this.handleRef},i));var l={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(i.disabled||i.readOnly||(l.onChange=this.onChange,l.onPaste=this.onPaste,l.onMouseDown=this.onMouseDown),null!=i.value&&(l.value=this.value)),e=r.cloneElement(e,l)},t}(r.Component);e.exports=P},2594:(e,t,n)=>{"use strict";n.d(t,{A:()=>S});n(7821);var i=n(9845),r=n(6292),a=n(6393);function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,a.A)(e,t)}n(1631),n(914),n(2358),n(9419);function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var l=n(8717),u=n(8572);const c=!1,d=l.createContext(null);var h=function(e){return e.scrollTop},p="unmounted",v="exited",m="entering",_="entered",f="exiting",g=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r,a=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?a?(r=v,i.appearStatus=m):r=_:r=t.unmountOnExit||t.mountOnEnter?p:v,i.state={status:r},i.nextCallback=null,i}s(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===p?{status:v}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==m&&n!==_&&(t=m):n!==m&&n!==_||(t=f)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===m){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:u.findDOMNode(this);n&&h(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===v&&this.setState({status:p})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[u.findDOMNode(this),i],a=r[0],s=r[1],o=this.getTimeouts(),l=i?o.appear:o.enter;!e&&!n||c?this.safeSetState({status:_},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:m},(function(){t.props.onEntering(a,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:_},(function(){t.props.onEntered(a,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:u.findDOMNode(this);t&&!c?(this.props.onExit(i),this.safeSetState({status:f},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:v},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:v},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:u.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=r[0],s=r[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===p)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.createElement(d.Provider,{value:null},"function"==typeof n?n(e,i):l.cloneElement(l.Children.only(n),i))},t}(l.Component);function y(){}g.contextType=d,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},g.UNMOUNTED=p,g.EXITED=v,g.ENTERING=m,g.ENTERED=_,g.EXITING=f;const b=g;var E=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.remove(i):"string"==typeof n.className?n.className=o(n.className,i):n.setAttribute("class",o(n.className&&n.className.baseVal||"",i)));var n,i}))},w=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var i=t.resolveArguments(e,n),r=i[0],a=i[1];t.removeClasses(r,"exit"),t.addClass(r,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.resolveArguments(e,n),r=i[0],a=i[1]?"appear":"enter";t.addClass(r,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.resolveArguments(e,n),r=i[0],a=i[1]?"appear":"enter";t.removeClasses(r,a),t.addClass(r,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,i="string"==typeof n,r=i?""+(i&&n?n+"-":"")+e:n[e];return{baseClassName:r,activeClassName:i?r+"-active":n[e+"Active"],doneClassName:i?r+"-done":n[e+"Done"]}},t}s(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var i=this.getClassNames(t)[n+"ClassName"],r=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&r&&(i+=" "+r),"active"===n&&e&&h(e),i&&(this.appliedClasses[t][n]=i,function(e,t){e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,i)||("string"==typeof n.className?n.className=n.className+" "+i:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+i)));var n,i}))}(e,i))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],i=n.base,r=n.active,a=n.done;this.appliedClasses[t]={},i&&E(e,i),r&&E(e,r),a&&E(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,r.A)(e,["classNames"]));return l.createElement(b,(0,i.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);w.defaultProps={classNames:""},w.propTypes={};const S=w},4268:(e,t,n)=>{"use strict";n(7293),n(2195),n(4401),n(2358),n(9419),n(752);var i=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,f={};function g(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var E=b.prototype=new y;E.constructor=b,_(E,g.prototype),E.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,A={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,a={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,r)&&!k.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:o,props:a,_owner:A.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,n,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+I(l,0):a,w(s)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),R(s,t,n,"",(function(e){return e}))):null!=s&&(P(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",w(e))for(var u=0;u<e.length;u++){var c=a+I(o=e[u],u);l+=R(o,t,n,c,s)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=v&&e[v]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=R(o=o.value,t,n,c=a+I(o,u++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function L(e,t,n){if(null==e)return e;var i=[],r=0;return R(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function x(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},N={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:N,ReactCurrentOwner:A};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=A.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!k.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},8717:(e,t,n)=>{"use strict";e.exports=n(4268)},132:(e,t,n)=>{"use strict";function i(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<s(r,t)))break e;e[i]=t,e[n]=r,n=i}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var o=2*(i+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<r&&0>s(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[o]=n,i=o);else{if(!(u<r&&0>s(c,n)))break e;e[i]=c,e[u]=n,i=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(n(4401),n(9679),"object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],d=[],h=1,p=null,v=3,m=!1,_=!1,f=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,i(c,t)}t=r(d)}}function w(e){if(f=!1,E(e),!_)if(null!==r(c))_=!0,N(S);else{var t=r(d);null!==t&&D(w,t.startTime-e)}}function S(e,n){_=!1,f&&(f=!1,y(P),P=-1),m=!0;var i=v;try{for(E(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!R());){var s=p.callback;if("function"==typeof s){p.callback=null,v=p.priorityLevel;var o=s(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof o?p.callback=o:p===r(c)&&a(c),E(n)}else a(c);p=r(c)}if(null!==p)var l=!0;else{var u=r(d);null!==u&&D(w,u.startTime-n),l=!1}return l}finally{p=null,v=i,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,k=!1,C=null,P=-1,T=5,I=-1;function R(){return!(t.unstable_now()-I<T)}function L(){if(null!==C){var e=t.unstable_now();I=e;var n=!0;try{n=C(!0,e)}finally{n?A():(k=!1,C=null)}}else k=!1}if("function"==typeof b)A=function(){b(L)};else if("undefined"!=typeof MessageChannel){var x=new MessageChannel,O=x.port2;x.port1.onmessage=L,A=function(){O.postMessage(null)}}else A=function(){g(L,0)};function N(e){C=e,k||(k=!0,A())}function D(e,n){P=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(v){case 1:case 2:case 3:var t=3;break;default:t=v}var n=v;v=t;try{return e()}finally{v=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=v;v=e;try{return t()}finally{v=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:n,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,i(d,e),null===r(c)&&e===r(d)&&(f?(y(P),P=-1):f=!0,D(w,a-s))):(e.sortIndex=o,i(c,e),_||m||(_=!0,N(S))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=v;return function(){var n=v;v=t;try{return e.apply(this,arguments)}finally{v=n}}}},2875:(e,t,n)=>{"use strict";e.exports=n(132)},3983:(e,t,n)=>{n(3867),function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,i=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,r=n.length,a={};i<r;i++)if((e=n[i])&&e[1]in t){for(i=0;i<e.length;i++)a[n[0][i]]=e[i];return a}return!1}(),r={change:i.fullscreenchange,error:i.fullscreenerror},a={request:function(e,n){return new Promise(function(r,a){var s=function(){this.off("change",s),r()}.bind(this);this.on("change",s);var o=(e=e||t.documentElement)[i.requestFullscreen](n);o instanceof Promise&&o.then(s).catch(a)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var r=function(){this.off("change",r),e()}.bind(this);this.on("change",r);var a=t[i.exitFullscreen]();a instanceof Promise&&a.then(r).catch(n)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var i=r[e];i&&t.addEventListener(i,n,!1)},off:function(e,n){var i=r[e];i&&t.removeEventListener(i,n,!1)},raw:i};i?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(t[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[i.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[i.fullscreenEnabled])}}}),n?e.exports=a:window.screenfull=a):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},7140:function(e,t,n){"use strict";n(8668),n(7293),n(2195),n(4401),n(3867),n(2358),n(9419),n(135),n(7863),n(5506),n(1399),n(2472),n(8898),n(3642),n(509),n(6986),n(1433),n(1e3),n(9020),n(752),n(4175),n(5343),n(299),n(8578),n(9857),n(9972);var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function s(e){try{l(i.next(e))}catch(e){a(e)}}function o(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,a,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.moduleName=void 0,t.moduleName="toWebVTT";var a=function(e,n){return new Promise((function(i,r){var a=new FileReader,s=function(e){var t=e.target.result;a.removeEventListener("loadend",s),i("string"!==n?new Uint8Array(t):t)},o=function(){a.removeEventListener("error",o),r(new Error(t.moduleName+": Error while reading the Blob object"))};a.addEventListener("loadend",s),a.addEventListener("error",o),"string"!==n?a.readAsArrayBuffer(e):a.readAsText(e)}))},s=function(e){return URL.createObjectURL(new Blob([e],{type:"text/vtt"}))},o=function(e){return e.replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").concat("\r\n\r\n")};t.default=function(e){return i(void 0,void 0,void 0,(function(){var n,i,l,u;return r(this,(function(r){switch(r.label){case 0:if(!FileReader)throw new Error(t.moduleName+": No FileReader constructor found");if(!TextDecoder)throw new Error(t.moduleName+": No TextDecoder constructor found");if(!(e instanceof Blob))throw new Error(t.moduleName+": Expecting resource to be a Blob but something else found.");i="WEBVTT FILE\r\n\r\n",r.label=1;case 1:return r.trys.push([1,3,,5]),[4,a(e,"string")];case 2:return l=r.sent(),n=i.concat(o(l)),[3,5];case 3:return r.sent(),[4,a(e,"buffer")];case 4:return l=r.sent(),u=new TextDecoder("utf-8").decode(l),n=i.concat(o(u)),[3,5];case 5:return[2,Promise.resolve(s(n))]}}))}))}},4158:(e,t,n)=>{"use strict";var i=n(8717);var r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useState,s=i.useEffect,o=i.useLayoutEffect,l=i.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=a({inst:{value:n,getSnapshot:t}}),r=i[0].inst,c=i[1];return o((function(){r.value=n,r.getSnapshot=t,u(r)&&c({inst:r})}),[e,n,t]),s((function(){return u(r)&&c({inst:r}),e((function(){u(r)&&c({inst:r})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},2583:(e,t,n)=>{"use strict";e.exports=n(4158)},4766:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});const i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};n(7293),n(2195),n(135),n(7863),n(5506),n(1399),n(2472),n(8898),n(3642),n(509),n(6986),n(1433),n(1e3),n(9020);let r;const a=new Uint8Array(16);function s(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(a)}n(4401);const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}const u=function(e,t,n){if(i.randomUUID&&!t&&!e)return i.randomUUID();const r=(e=e||{}).random||(e.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return l(r)}},7895:(e,t,n)=>{"use strict";n.d(t,{Controls:()=>Y,ControlsPlugin:()=>k,FullScreenButton:()=>re,PlayerControlsBg:()=>pe,TimeBlock:()=>be,VolumeControls:()=>De,getActiveChapter:()=>h,useControls:()=>x});n(833);var i=n(6270),r=(n(8668),n(7293),n(2195),n(4401),n(752),n(3052)),a=n(3590),s=n(8817);n(8995),n(7821);n(1631),n(914),n(2358),n(9419);var o=n(8091),l=n(6393);function u(){u=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,i,r){var a=RegExp(e,i);return t.set(a,r||t.get(e)),(0,l.A)(a,n.prototype)}function i(e,n){var i=t.get(n);return Object.keys(i).reduce((function(t,n){var r=i[n];if("number"==typeof r)t[n]=e[r];else{for(var a=0;void 0===e[r[a]]&&a+1<r.length;)a++;t[n]=e[r[a]]}return t}),Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,l.A)(e,t)}(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=i(n,this);var r=n.indices;r&&(r.groups=i(r,this))}return n},n.prototype[Symbol.replace]=function(n,r){if("string"==typeof r){var a=t.get(this);return e[Symbol.replace].call(this,n,r.replace(/\$<([^>]+)>/g,(function(e,t){var n=a[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof r){var s=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,o.A)(e[e.length-1])&&(e=[].slice.call(e)).push(i(e,s)),r.apply(this,e)}))}return e[Symbol.replace].call(this,n,r)},u.apply(this,arguments)}const c=u(/^(\d{1,2}(?::\d{2}){1,2})\s*(?:-\s*\d{1,2}(?::\d{2}){1,2}\s*)?(.*)$/,{time:1,name:2}),d=/^[\s\u2010\u2014\u2015\u002D\u2212\u2013\uFE58\uFE63\uFF0D]+/,h=(e,t)=>e.length<1||"number"!=typeof t?null:e.find((e=>e.start<=t&&e.end>t&&e.end-e.start>=5));n(8471);var p=n(5618);n(975);const v=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,m=e=>{var t;if(!e)return;const n=Date.now(),i=null==e?void 0:e[v(new Date)];let r=null==i?void 0:i.find((e=>1e3*e.start<n&&n<1e3*e.stop));if(!r){const t=new Date;t.setDate(t.getDate()+1);const i=null==e?void 0:e[v(t)];r=null==i?void 0:i.find((e=>1e3*e.start<n&&n<1e3*e.stop))}return null!==(t=r)&&void 0!==t?t:null};class _{constructor(e,t){this._areas=a.sH.box([]),this._chapters=a.sH.box([]),this._currentTVProgram=a.sH.box(),this._playback=e,this._dataPlugin=t,(0,a.Gn)(this,{activeChapter:a.EW,areas:a.EW,chapters:a.EW})}initAreasMarkup(e){const{duration:t,isTvStream:n,tvSchedule:i,wasStarted:r}=this._playback,{isLive:a,description:s}=this._dataPlugin,o=(e=>{let{isLive:t,description:n="",duration:i}=e;if(t)return[{name:"",time:0},{time:i,name:""}];const r=n.split("\n").map((e=>e.trim())).filter((e=>c.test(e)));let a=[];if(r.length){var s,o,l;const e=null===(s=r[0].match(c))||void 0===s?void 0:s.groups;a=[{name:(null!==(o=null==e?void 0:e.name)&&void 0!==o?o:"").replace(d,"").trim(),time:(0,p.Sy)(null!==(l=null==e?void 0:e.time)&&void 0!==l?l:"")}]}else a=[{name:"",time:0}];for(let e=1;e<r.length;e++){var u,h;const t=null!==(u=null===(h=r[e].match(c))||void 0===h?void 0:h.groups)&&void 0!==u?u:{name:"",time:""},n=null==t?void 0:t.time,s=(0,p.Sy)(n),o=s-(a.length>0?a[a.length-1].time:0),l=e===r.length-1&&i-s<=5;o>=5&&!l&&a.push({time:s,name:null==t?void 0:t.name.replace(d,"").trim()})}return a.push({time:i,name:""}),a})({isLive:a,duration:t,description:s}),l=2*t/100;if(n&&i&&r)return this.areas=[{name:"",start:0,end:1,width:100,progress:0,buffered:0}],void this.updateAreasProgressAndBuffer(e);const u=[],h=[];let v=null,m=0,_=0;for(let e=1;e<o.length;e++){const n=o[e-1].name,i=o[e-1].time,r=Math.min(o[e].time,t),a=r-i;if(i<t){const s=u.reduce(((e,t)=>{let{width:n}=t;return e+n}),_),c=t===1/0?100:r/t*100-s;var f,g;if(m+=a,a<l&&m<l)v=null!==(f=v)&&void 0!==f?f:i,_+=c,h.push({name:n,start:i,end:r}),e+1===o.length&&(u[u.length-1].end=r,u[u.length-1].width+=c);else h.push({name:n,start:i,end:r}),u.push({name:n,start:null!==(g=v)&&void 0!==g?g:i,end:r,width:_?_+c:c,progress:0,buffered:0}),v=null,m=0,_=0}}this.areas=u,this.chapters=h,this.updateAreasProgressAndBuffer(e)}updateAreas(e){const{isTvStream:t}=this._playback,n=this.currentTVProgram,i=t&&!!n&&1e3*n.stop>Date.now();this.areas&&this.areas.length&&(!n||i)?this.updateAreasProgressAndBuffer(e):this.initAreasMarkup(e)}updateAreasProgressAndBuffer(e){const t=this.areas;if(!t||!t.length)return;const{duration:n,isTvStream:i,tvSchedule:r,wasStarted:a}=this._playback,[s,o,l]=this._playback.getBuffered(),{isLive:u,isDVR:c}=this._dataPlugin,d=r?m(r):null;if(i&&r&&d&&a){const e=(e=>{if(!e)return 0;const t=1e3*e.start,n=1e3*e.stop;return(Date.now()-t)/(n-t)})(d);this.currentTVProgram=d,t[0].progress=e>0?e:1}else{const i=this.getVisibleProgress(e),r="number"==typeof e?e:n*i/100;t.forEach(((e,t)=>{const{start:n,end:i}=e,a=0===t?0:n;e.buffered=((e,t,n)=>e>n?1:e<t?0:(e-t)/(n-t))(l,a,i),e.progress=i<r||u&&!c?1:a<r&&r<=i?(r-a)/(i-a):0}))}this.areas=t}get activeChapter(){if(isNaN(this._playback.duration))return null;const e=this._chapters.get(),t=this._playback.currentTime;return h(e,t)}get currentTVProgram(){return(0,a.HO)(this._currentTVProgram.get())}set currentTVProgram(e){(0,a.HO)(this._currentTVProgram.set(e))}get areas(){return(0,a.HO)(this._areas.get())}set areas(e){this._areas.set(e)}get chapters(){return this._chapters.get()}set chapters(e){this._chapters.set(e)}getVisibleProgress(e){const{duration:t,progress:n,isOutdated:i,isLive:r}=this._playback;let a=0;return a=r&&!i?100:"number"==typeof e?e/t*100:n,Math.min(a,100)}}var f,g=n(4862),y=n(6545),b=n(2514),E=n(7234),w=n(1862),S=n(3752);let A;class k extends g.j8{static get Controls(){return y.Controls}static get InputControls(){throw new Error("InputControls Ð½Ðµ Ð±Ñ‹Ð»Ð¸ Ð¿ÐµÑ€ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ñ‹")}constructor(e,t,n,i,s,o,l,u,c,d,h){super(),this.__activePanel=(A(this),a.sH.box("")),this.__isShowControls=a.sH.box(!1),this.__showControlsTimeout=a.sH.box(null),this.__isAllowControls=a.sH.box(!0),this.__isProgressBarClicked=a.sH.box(!1),this.__tempTime=a.sH.box(null),this.__preventHideControls=a.sH.box(!1),this.__needToHideTooltips=a.sH.box(!1),this.__isVolumeShow=a.sH.box(!1),this.__isTimeHidden=a.sH.box(!1),this.__forceHideControls=a.sH.box(!1),this.__isTVPosterVisible=a.sH.box(!1),this.__isNakedMode=a.sH.box(!1),this.__data=void 0,this.__timeCodes=void 0,this.advert=void 0,this.__qualitiesPlugin=void 0,this.isEmbed=void 0,this.isMobile=r.B.isMobile,this.isControlsPermanentlyHidden=!1,this.isMobile360Video=!1,this.playback=e,this.data=t,this.fullscreen=n,this.playerSize=i,this.appearance=s,this.endScreen=o,this._isEmbedResolvable=u,this.previewPlugin=h;const{hideControls:p}=(0,b.al)(window.location.href);this.isControlsPermanentlyHidden="true"===p,(0,a.Gn)(this,{forceHideControls:a.EW,activePanel:a.EW,isShowSettingsPannel:a.EW,isProgressBarClicked:a.EW,tempTime:a.EW,tvSchedule:a.EW,activeChapter:a.EW,areas:a.EW,chapters:a.EW,isTVPosterVisible:a.EW,isControlsForcedHidden:a.EW,isNakedMode:a.EW}),this.__data=t,this.__timeCodes=new _(e,t),this.advert=c,this.isEmbed=u.value,this.__qualitiesPlugin=d}init(){const{hideControls:e}=(0,b.al)(window.location.href);this.isControlsPermanentlyHidden="true"===e,this.__timeCodes.initAreasMarkup();const t=[];return t.push((0,a.mJ)((()=>({isPlaying:this.playback.isPlaying,wasStarted:this.playback.wasStarted,waiting:this.playback.waiting,autoplay:this.playback.autoplay})),(e=>{let{wasStarted:t,isPlaying:n,waiting:i,autoplay:r}=e;const{paused:a,readyState:s}=this.playback;!t&&r&&this.isMobile||i||s<=2?this.setHideControlsTimer():n?a?this.clearHideControlsTimer():this.setHideControlsTimer():(this.showControls(),this.clearHideControlsTimer())}),{fireImmediately:!0})),t.push((0,a.mJ)((()=>{var e;return null===(e=this.advert)||void 0===e?void 0:e.isPlaying}),(e=>{e&&this.hideControls(!this.playback.ended)}))),t.push((0,a.mJ)((()=>{var e;return null===(e=this.data)||void 0===e?void 0:e.isSpatial}),(e=>{this.isMobile360Video=this.isMobile&&Boolean(e)}))),t.push((0,a.mJ)((()=>{var e;return{progress:this.playback.progress,tempTime:this.tempTime,buffered:null===(e=this.playback.player)||void 0===e?void 0:e.buffered}}),(e=>{let{tempTime:t}=e;this.__timeCodes.updateAreas(t)}))),t.push((0,a.mJ)((()=>this.playback.duration),(()=>this.__timeCodes.initAreasMarkup(this.tempTime)))),t.push((0,a.mJ)((()=>({visible:!this.isControlsForcedHidden&&this.isShowControls})),(e=>{let{visible:t}=e;E.Ug.emit(w.L2.CONTROLS_VISIBILITY_CHANGED,{visible:t})}),{fireImmediately:!0})),t.push((0,a.mJ)((()=>this.isFullScreen),(()=>{this.preventHideControls&&(this.preventHideControls=!1,this.setHideControlsTimer())}))),()=>t.forEach((e=>e()))}initHideTime(){return(0,a.mJ)((()=>{var e;return{width:null===(e=this.playerSize.size)||void 0===e?void 0:e.width,windowWidth:this.playerSize.windowWidth,isVolumeShow:this.isVolumeShow}}),(e=>{let{width:t=0,windowWidth:n,isVolumeShow:i}=e;this.isTimeHidden=Boolean((t<700||n<1280)&&i&&!r.B.isMobile)}))}handleAutoplay(){return(0,a.mJ)((()=>this.playback.wasStarted),(()=>{this.playback.wasStarted&&this.hideControls(!0)}))}initChangeDescription(){return(0,a.mJ)((()=>this.__data.description),(()=>{this.__timeCodes.initAreasMarkup(this.tempTime)}))}get activePanel(){return this.__activePanel.get()}set activePanel(e){this.__activePanel.set(e)}get forceHideControls(){return this.__forceHideControls.get()}set forceHideControls(e){this.__forceHideControls.set(e)}get isNakedMode(){return this.__isNakedMode.get()}set isNakedMode(e){this.__isNakedMode.set(e)}get isShowSettingsPannel(){return"settings"===this.activePanel}set isShowControls(e){this.__isShowControls.set(e)}get isShowControls(){return this.__isShowControls.get()}set isAllowControls(e){this.__isAllowControls.set(e)}get isAllowControls(){return this.__isAllowControls.get()}set preventHideControls(e){this.__preventHideControls.set(e)}get preventHideControls(){return this.__preventHideControls.get()}get isProgressBarClicked(){return this.__isProgressBarClicked.get()}get tempTime(){return this.__tempTime.get()}set needToHideTooltips(e){this.__needToHideTooltips.set(e)}get needToHideTooltips(){return this.__needToHideTooltips.get()}setIsVolumeShow(e){this.__isVolumeShow.set(e)}get isVolumeShow(){return this.__isVolumeShow.get()}get isFullScreen(){return this.fullscreen.isFullscreen}get isTimeHidden(){return this.__isTimeHidden.get()}set isTimeHidden(e){this.__isTimeHidden.set(e)}setTempTime(e){this.__tempTime.set(e)}setIsProgressBarClicked(e){this.__isProgressBarClicked.set(e)}get activeChapter(){return this.__timeCodes.activeChapter}get isFullscreen(){return this.fullscreen.isFullscreen}get tvSchedule(){return this.playback.tvSchedule}handleFullscreen(){this.fullscreen.handleFullscreen()}showControls(){this.isShowControls=!0,this.isMobile360Video&&(this.forceHideControls=!1)}hideControls(e){(this.preventHideControls||this.activePanel||this.playback.paused&&!r.B.isMobile)&&!e||(this.isShowControls=!1,this.clearHideControlsTimer(),this.isMobile360Video&&(this.forceHideControls=!0))}setHideControlsTimer(){this.clearHideControlsTimer();const e=setTimeout((()=>{this.hideControls()}),3e3);this.__showControlsTimeout.set(e)}clearHideControlsTimer(){const e=this.__showControlsTimeout.get();e&&(clearTimeout(e),this.__showControlsTimeout.set(null))}handleSeek(e,t,n){const i=null!=t?t:10,r=null!=n?n:S.E.BUTTON;var a,o,l,u;"forward"===e&&(this.playback.seekForward(i),this.playback.emit(s.p.defaultForwardSeek,null),null===(a=this.counterHelper)||void 0===a||a.get("mainContentPlaybackSeek")(),null===(o=this.counterHelper)||void 0===o||o.get("mainContentPlaybackRewindMode")({rewindType:r,rewindDirection:S.U.FORWARD}));"back"===e&&(this.playback.seekBack(i),this.playback.emit(s.p.defaultForwardSeek,null),null===(l=this.counterHelper)||void 0===l||l.get("mainContentPlaybackSeek")(),null===(u=this.counterHelper)||void 0===u||u.get("mainContentPlaybackRewindMode")({rewindType:r,rewindDirection:S.U.BACK}))}onClickLogoStat(){var e;null===(e=this.counterHelper)||void 0===e||e.get("mainControlsLogoClick")({videoUrl:this.__data.videoUrl||""})}get areas(){var e;return null!==(e=this.__timeCodes.areas)&&void 0!==e?e:[]}get chapters(){var e;return null!==(e=this.__timeCodes.chapters)&&void 0!==e?e:[]}pauseVideo(){this.playback.isPlaying&&this.playback.pause()}getIsShowSettings(){return(!this.__data.isLive||this.qualities.length>0)&&r.B.isMobile}get isControlsForcedHidden(){return this.isControlsPermanentlyHidden||this.forceHideControls||this.appearance.forbidHtmlControls||this.isNakedMode}hideControlsWithForce(){this.forceHideControls=!0}get qualities(){return this.__qualitiesPlugin.qualities}get isShowSettings(){return this.getIsShowSettings()}getIsShowControlsBg(){var e;return!(null!==(e=this.endScreen)&&void 0!==e&&e.visible)&&this.isShowControls}get isShowControlsBg(){return this.getIsShowControlsBg()}getIsHideControls(){var e;return!this.isShowControls||!(null===(e=this.advert)||void 0===e||!e.hideControlsOnAdvert)}get isHideControls(){return this.getIsHideControls()}getIsShowLogoButton(){var e;return!(!this.isEmbed||null===(e=this.appearance)||void 0===e||!e.showLogotype)}get isShowLogoButton(){return this.getIsShowLogoButton()}getIsCinemaMode(){return!this.isEmbed&&!this.isFullScreen}get isCinemaMode(){return this.getIsCinemaMode()}getIsShowTvTimeBlock(){return this.playback.isLive&&!!this.tvSchedule}get isShowTvTimeBlock(){return this.getIsShowTvTimeBlock()}getIsShowProgressBar(){return!0}get isShowProgressBar(){return this.getIsShowProgressBar()}getButtonSize(){return this.isFullscreen?"XXL":"XL"}get buttonsSize(){return this.getButtonSize()}handleMouseOver(){this.preventHideControls=!0}handleMouseOut(){this.preventHideControls=!1,this.setHideControlsTimer()}getMobileCustomStyles(){}get mobileCustomClasses(){return this.getMobileCustomStyles()}getDesktopCustomStyles(){}get desktopCustomClasses(){return this.getDesktopCustomStyles()}getProgressBarColor(){const{color:e}=this.appearance;return e&&this.isEmbed?e:"var(--pen-accent)"}get progressBarColor(){return this.getProgressBarColor()}get isShowPreview(){var e;return(null===(e=this.previewPlugin)||void 0===e?void 0:e.isShowPreview)||!1}get isTVPosterVisible(){return this.__isTVPosterVisible.get()}set isTVPosterVisible(e){this.__isTVPosterVisible.set(e)}get tabIndex(){return this.isShowControls?0:-1}}f=k,[A]=(0,i.A)(f,[],[[(0,g.o7)(),2,"init"],[(0,g.o7)(),2,"initHideTime"],[(0,g.o7)(),2,"handleAutoplay"],[(0,g.o7)(),2,"initChangeDescription"],[[a.XI,a.XI.bound],18,"setIsVolumeShow"],[[a.XI,a.XI.bound],18,"setTempTime"],[[a.XI,a.XI.bound],18,"setIsProgressBarClicked"],[[a.XI,a.XI.bound],18,"handleFullscreen"],[[a.XI,a.XI.bound],18,"showControls"],[[a.XI,a.XI.bound],18,"hideControls"],[[a.XI,a.XI.bound],18,"setHideControlsTimer"],[[a.XI,a.XI.bound],18,"clearHideControlsTimer"],[[a.XI,a.XI.bound],18,"handleSeek"],[[a.XI,a.XI.bound],18,"onClickLogoStat"],[[a.XI,a.XI.bound],18,"pauseVideo"],[[a.XI,a.XI.bound],18,"hideControlsWithForce"]],0,void 0,g.j8).e;var C=n(8007),P=n(8717),T=n(5126),I=n(451),R=n.n(I),L=n(3015);function x(){return(0,L.p5)().resolve("IControlsPlugin")}const O="desktop-controls-layout-module__desktopControlsLayout___UY1t1",N="desktop-controls-layout-module__hidden___wbTeO",D="desktop-controls-layout-module__desktopButtonsBlock___LF28p",M="desktop-controls-layout-module__desktopButtonsBlockLeft___kIQkf",B="desktop-controls-layout-module__desktopButtonsBlockRight_____Kky",F="desktop-controls-layout-module__desktopButtonsBlockRightLogo___ZgcmJ";var H=n(1374);const V=(0,C.PA)((e=>{let{components:t,children:n}=e;const[i,a]=(0,P.useState)(null),s=x(),{isShowLogoButton:o,isCinemaMode:l,isShowTvTimeBlock:u,data:c,onClickLogoStat:d,isShowControlsBg:h,isHideControls:p,isShowProgressBar:v,buttonsSize:m,desktopCustomClasses:_}=s,{isLive:f,isInteractiveVideo:g}=c,b=(0,T.L0)(),E=(0,P.useRef)(null);return P.createElement(P.Fragment,null,h&&P.createElement(y.PlayerControlsBg,{isTouchDevice:r.B.isMobile}),P.createElement("section",{"data-testid":"video-ui",ref:E,className:R()((null==_?void 0:_.desktopControlsLayout)||O,{[N]:p})},n,v&&t.progressBarComponent&&P.createElement(t.progressBarComponent,{margin:"0 12px"}),P.createElement("div",{className:R()((null==_?void 0:_.desktopButtonsBlock)||D),ref:a},P.createElement(H.R,{boundary:i},P.createElement("div",{className:R()((null==_?void 0:_.desktopButtonsBlockLeft)||M)},t.buttonsBlockComponent&&P.createElement(t.buttonsBlockComponent,null),f?t.liveBadgeComponent&&P.createElement(t.liveBadgeComponent,{buttonSize:m}):null,P.createElement(y.VolumeControls,{size:m,panelRef:null==E?void 0:E.current}),!f&&!g&&P.createElement(y.TimeBlock,null,t.chaptersButtonComponent&&P.createElement(t.chaptersButtonComponent,{buttonSize:m})),u&&t.tvTimeBlockComponent&&P.createElement(t.tvTimeBlockComponent,null)),P.createElement("div",{className:R()((null==_?void 0:_.desktopButtonsBlockRight)||B)},o&&P.createElement("div",{className:R()((null==_?void 0:_.desktopButtonsBlockRightLogo)||F)},o&&t.logoButtonComponent&&P.createElement(t.logoButtonComponent,{onClick:d})),t.seasonsWidgetComponent&&P.createElement(t.seasonsWidgetComponent,{buttonSize:m}),t.captionsButtonComponent&&P.createElement(t.captionsButtonComponent,{size:m}),t.settingsComponent&&P.createElement(t.settingsComponent,{buttonsSize:m}),t.pictureInPictureButtonComponent&&P.createElement(t.pictureInPictureButtonComponent,{size:m,placement:"top",onboardingPlacement:"top"}),l&&!b&&t.cinemaModeButtonComponent&&P.createElement(t.cinemaModeButtonComponent,{size:m}),P.createElement(y.FullScreenButton,{size:m}))))))})),U="mobile-controls-module__mobileControlsLayout___JF952",j="mobile-controls-module__mobileControlsBottomBlock___Bj0d2",W="mobile-controls-module__mobileControlsLine___sX155",z="mobile-controls-module__mobileControlsLineLeft___ocnQh",$="mobile-controls-module__disabled___UchpL",G="mobile-controls-module__mobileControlsLineRight___e_hsb",q="mobile-controls-module__hidden___ivvtr",K=(0,C.PA)((e=>{let{components:t}=e;const{isShowControls:n,isShowLogoButton:i,isShowTvTimeBlock:a,isCinemaMode:s,isHideControls:o,isShowProgressBar:l,onClickLogoStat:u,showControls:c,hideControls:d,setHideControlsTimer:h,mobileCustomClasses:p,playback:v,endScreen:m,data:_,isShowPreview:f,isTVPosterVisible:g}=x(),b=(0,T.L0)(),{waiting:E,ended:w,seeking:S,isPlaying:A}=v,{isLive:k,isInteractiveVideo:C}=_,[I,L]=(0,P.useState)(null),O=E||f||g||!n,N=r.B.isiOSMobile,D="XL";return(0,P.useEffect)((()=>{!w||null!=m&&m.visible||n?null!=m&&m.visible&&d():c()}),[null==m?void 0:m.visible,n,w,c,d]),P.createElement("section",{className:R()((null==p?void 0:p.mobileControlsLayout)||U,{[q]:o}),ref:L,onMouseDown:()=>{n||(c(),A&&h())},"aria-hidden":o},P.createElement(H.R,{boundary:I},P.createElement(y.PlayerControlsBg,{isTouchDevice:!0,hidden:f||g,lightMode:S}),t.mobileButtonsBlockComponent&&P.createElement(t.mobileButtonsBlockComponent,{hidden:O}),P.createElement("section",{"data-testid":"video-ui",className:R()((null==p?void 0:p.mobileControlsBottomBlock)||j)},!f&&P.createElement("section",{className:R()((null==p?void 0:p.mobileControlsLine)||W)},!C&&P.createElement("div",{className:R()((null==p?void 0:p.mobileControlsLineLeft)||z,{[$]:!n})},k?t.liveBadgeComponent&&P.createElement(t.liveBadgeComponent,{buttonSize:"XL"}):P.createElement(y.TimeBlock,null,t.chaptersButtonComponent&&P.createElement(t.chaptersButtonComponent,null)),a&&t.tvTimeBlockComponent&&P.createElement(t.tvTimeBlockComponent,null)),P.createElement("div",{className:R()((null==p?void 0:p.mobileControlsLineRight)||G)},i&&t.logoButtonComponent&&P.createElement(t.logoButtonComponent,{isMobile:!0,onClick:u}),t.seasonsWidgetComponent&&P.createElement(t.seasonsWidgetComponent,{buttonSize:D}),t.captionsButtonComponent&&P.createElement(t.captionsButtonComponent,{size:D}),P.createElement(y.VolumeControls,{size:D}),s&&!b&&t.cinemaModeButtonComponent&&P.createElement(t.cinemaModeButtonComponent,{size:D}),!(C&&N)&&P.createElement(y.FullScreenButton,{size:D}))),l&&t.progressBarComponent&&P.createElement(t.progressBarComponent,null))))})),Y=(0,C.PA)((e=>{const{components:t,children:n}=e,{isAllowControls:i,playback:a}=x(),{autoPlayWithMute:s}=a;return r.B.isMobile&&"Enabled"===s||!i?null:r.B.isMobile?P.createElement(K,{components:t}):P.createElement(V,{components:t},n)}));var Q=n(9845),X=n(3882),Z=n(140),J=n(9346),ee=n(3218);const te=e=>{let{color:t="white"}=e;return P.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},P.createElement("path",{d:"M8.11111 5.77734V8.88845H5",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),P.createElement("path",{d:"M15.8889 5.77734V8.88845H19",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),P.createElement("path",{d:"M15.8889 18.2227V15.1115H19",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),P.createElement("path",{d:"M8.11111 18.2227V15.1115H5",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},ne=e=>{let{color:t="white"}=e;return P.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},P.createElement("path",{d:"M5 8.88888V5.77777H8.11111",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),P.createElement("path",{d:"M19 8.88888V5.77777H15.8889",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),P.createElement("path",{d:"M19 15.1111V18.2222H15.8889",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),P.createElement("path",{d:"M5 15.1111V18.2222H8.11111",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))};var ie=n(472);const re=(0,C.PA)((e=>{let{size:t}=e;const{isFullscreen:n,handleFullscreen:i,tabIndex:r}=x(),{getDataAttribute:a}=(0,Z.f)();return P.createElement(ee.r,(0,Q.A)({"data-testid":"ui-fullscreen",tabIndex:r,"aria-label":(0,ie.T)(n?"Ð’Ñ‹Ð¹Ñ‚Ð¸ Ð¸Ð· Ð¿Ð¾Ð»Ð½Ð¾ÑÐºÑ€Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼Ð°":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð² Ð¿Ð¾Ð»Ð½Ð¾ÑÐºÑ€Ð°Ð½Ð½Ð¾Ð¼ Ñ€ÐµÐ¶Ð¸Ð¼Ðµ","F",!0),role:"button",action:"fullscreen",icon:n?te:ne,onClick:i,tooltipTitle:n?X.m_.FullScreenOff:X.m_.FullScreenOn,tooltipPlacement:"top",tooltipZIndex:X.m_.ControlsTooltipZIndex,size:t},a(n?J.R.EXIT_FULLSCREEN_BUTTON:J.R.FULLSCREEN_BUTTON)))}));var ae=n(2594);const se="player-controls-bg-module__bg___rKnIr",oe="player-controls-bg-module__bgMobile___ZYJiq",le="player-controls-bg-module__bgEnter___PYHV_",ue="player-controls-bg-module__bgEnterActive___zGi93",ce="player-controls-bg-module__bgExitDone___oefuJ",de="player-controls-bg-module__light___DpeMS",he="player-controls-bg-module__hidden___YWIba",pe=(0,P.memo)((e=>{let{isTouchDevice:t,lightMode:n=!1,hidden:i}=e;const r=(0,P.useRef)(null),[a,s]=(0,P.useState)(!1);return(0,P.useEffect)((()=>{s(!0)}),[]),t?P.createElement(ae.A,{classNames:{enter:le,enterActive:ue,exitDone:ce},nodeRef:r,in:a,timeout:700},P.createElement("div",{ref:r,className:R()(se,oe,{[de]:n,[he]:i})})):P.createElement("div",{className:R()(se,{[de]:n,[he]:i})})}));var ve=n(7283);const me="time-block-module__time___AXXdb",_e="time-block-module__hidden___xpuhs",fe="time-block-module__currentTime___vUbWn",ge="time-block-module__duration___D_n9D",ye="time-block-module__separator___ezAAq",be=(0,C.PA)((e=>{let{children:t}=e;const n=x(),{tempTime:i,isTimeHidden:r}=n,{currentTime:a,duration:s}=n.playback,{getDataAttribute:o}=(0,Z.f)();return P.createElement("div",{className:R()(me,{[_e]:r})},P.createElement("div",(0,Q.A)({className:fe},o(J.R.CURRENT_TIME)),(0,ve.a3)({value:i||a})),P.createElement("div",{className:ye,"aria-hidden":!0},"/"),P.createElement("div",(0,Q.A)({className:ge},o(J.R.DURATION_TIME)),(0,ve.a3)({value:s})),t)})),Ee="volume-controls-module__wrapperControlsVolume___oUpfZ",we="volume-controls-module__wrapperControlsVolumeBtn___kmiCv",Se="volume-controls-module__volumeProgress___pbSvJ",Ae="volume-controls-module__volumeProgressVisible___CqU0R";var ke=n(2065),Ce=n(4224),Pe=n(4825),Te=n(9599),Ie=n(7163);const Re="raichu-progress-bar-module__progressBar___Bf90v",Le="raichu-progress-bar-module__progressBarThumb___QebiO",xe="raichu-progress-bar-module__progressBarBefore____vUf8",Oe="raichu-progress-bar-module__progressBarClickArea___TAMzG",Ne=e=>{let{value:t,background:n,barRef:i,margin:r,fullWidth:a=!1,isTouchable:s=!0,color:o="rgba(246, 246, 246, 0.3)",onProgressMove:l,handleProgressBarClick:u,buffered:c=0}=e;return P.createElement("div",(0,Q.A)({"data-testid":"ui-progress",className:Re,style:{width:a?"100%":"initial",background:o,margin:null!=r?r:"0 12px 0 12px"},ref:i,onClick:u},Ie.aQ),P.createElement("div",{className:Oe,onMouseDown:l,onTouchStart:l,onTouchMove:l}),P.createElement("div",{className:xe,style:{width:`${t}%`,background:n}}),P.createElement("div",{className:xe,style:{width:`${c}%`,background:n,opacity:"0.3"}}),s&&P.createElement("div",{className:Le,style:{left:`calc(${t}% - 6px)`,background:n},onMouseDown:l,onTouchStart:l,onTouchMove:l}))},De=(0,C.PA)((e=>{let{size:t,panelRef:n}=e;const[i,a]=(0,P.useState)(!1),{playback:s,setIsVolumeShow:o,isVolumeShow:l,progressBarColor:u,tabIndex:c}=x(),{getDataAttribute:d}=(0,Z.f)(),h=r.B.isMobile,{muted:p,volume:v}=s,m=(0,P.useRef)(null),_=e=>{if(i){const t=(0,ke.O)(e.nativeEvent,m,"horizontal");s.handleVolume(t)}},f=(0,P.useCallback)((()=>a(!0)),[]),g=(0,P.useCallback)((()=>p||0===v?P.createElement(Ce.L,null):P.createElement(Pe.i,{low:v<=.5})),[p,v]);(0,P.useEffect)((()=>{if(!n)return;const e=()=>a(!1),t=()=>{a(!1),o(!1)};return n.addEventListener("mouseup",e),n.addEventListener("mouseleave",t),()=>{n.removeEventListener("mouseup",e),n.removeEventListener("mouseleave",t)}}),[n,o]);const y=()=>o(!0);return P.createElement("div",{className:Ee,onPointerDown:r.B.isMobile?void 0:f,onPointerMove:r.B.isMobile?void 0:_,"data-testid":"ui-volume"},P.createElement("div",null,P.createElement(ee.r,(0,Q.A)({tabIndex:c,role:"button",color:"white",className:we,icon:g,onClick:e=>{e.stopPropagation(),s.isInfoPrevented=!1,s.handleMuted()},"aria-label":(0,ie.T)(!p&&v>0?"Ð£Ð±Ñ€Ð°Ñ‚ÑŒ Ð·Ð²ÑƒÐº":"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº","M",!0)+" ",onPointerEnter:y,onFocus:()=>{var e;h||l||(y(),null===(e=document.getElementById(Te.v.VOLUME_BAR))||void 0===e||e.focus({preventScroll:!0}))},onPointerDown:e=>e.stopPropagation(),tooltipTitle:!p&&v>0?X.m_.VolumeOff:X.m_.VolumeOn,tooltipPlacement:"top",tooltipZIndex:X.m_.ControlsTooltipZIndex,size:t},d(p||0===v?J.R.ON_SOUND_BUTTON:J.R.OFF_SOUND_BUTTON)))),!h&&P.createElement("div",(0,Q.A)({tabIndex:0,id:Te.v.VOLUME_BAR,role:"slider","aria-label":"ÐŸÐ¾Ð»Ð·ÑƒÐ½Ð¾Ðº Ð³Ñ€Ð¾Ð¼ÐºÐ¾ÑÑ‚Ð¸","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":p?0:Math.floor(100*v),"aria-valuetext":`${p?0:Math.floor(100*v)}%${p?" (Ð—Ð²ÑƒÐº Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ñ‘Ð½)":""}`,className:R()(Se,{[Ae]:l}),onClick:e=>{if(m.current){const t=(0,ke.O)(e.nativeEvent,m,"horizontal");s.handleVolume(t)}}},d(J.R.VOLUME_CONTROLS_BUTTON)),P.createElement(Ne,{value:p?0:100*v,background:u,fullWidth:!0,barRef:m,onProgressMove:_,margin:"0 12px 0 0"})))}))},833:()=>{},9346:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});const i={DISABLE_ADS_BUTTON:"disableAdsButton",PREV_BUTTON:"prevButton",PLAYER_HEADER_TITLE:"playerHeaderTitle",PLAYER_HEADER_SUBTITLE:"playerHeaderSubtitle",PLAYER_PROGRESS_BAR:"playerProgressBar",SKIP_SCREEN:"skipScreen",PLAY_BUTTON:"playButton",PAUSE_BUTTON:"pauseButton",OFF_SOUND_BUTTON:"offSoundButton",ON_SOUND_BUTTON:"onSoundButton",CURRENT_TIME:"currentTime",DURATION_TIME:"durationTime",SEASONS_BUTTON:"seasonsButton",MENU_SEASONS:"menuSeasons",BACK_SEASONS_BUTTON:"backSeasonsButton",CLOSE_SEASONS_BUTTON:"closeSeasonsButton",CURRENT_EPISODE:"currentEpisode",CURRENT_SEASON:"currentSeason",UNSELECTED_SEASON:"unselectedSeason",ICON_CURRENT_SEASON:"iconCurrentSeason",SETTINGS_BUTTON:"settingsButton",FULLSCREEN_BUTTON:"fullscreenButton",EXIT_FULLSCREEN_BUTTON:"exitFullscreenButton",ON_SUBTITLE_BUTTON:"onSubtitleButton",OFF_SUBTITLE_BUTTON:"offSubtitleButton",SUBTITLE_BUTTON:"subtitleButton",COLOUR_TEXT_BUTTON:"colourTextButton",COLOUR_BACKGROUND_BUTTON:"colourBackgroundButton",ALERT:"alert",SIZE_TEXT_BUTTON:"sizeTextButton",RESET_SETTINGS_BUTTON:"resetSettingsButton",SMALL_TEXT:"smallText",STANDARD_TEXT:"standardText",BIG_TEXT:"bigText",PLAYER_TEXT:"playerText",SPEED_BUTTON:"speedButton",WATCH_NEXT:"watchNext",AGE_LIMIT_VIDEO:"ageLimitVideo",META:"meta",ALCOHOL:"alcohol",TEXT_SOUND_ON:"textSoundOn",TEXT_SOUND_OFF:"textSoundOff",SPINNER_VIDEO:"spinnerVideo",VOLUME_CONTROLS_BUTTON:"volumeControlsButton",QUALITY_BUTTON:"qualityButton",ITEM_QUALITY:"itemQuality",MENU_QUALITY:"menuQuality",MAIN_QUALITY_BUTTON:"mainQualityButton",LIVE:"live",CLOSE_RECOMMENDATION_BUTTON:"closeRecommendationButton",POSTER_IMAGE_RECOMMENDATION:"posterImageRecommendation",RECOMMENDATION_IN_PLAYER:"recommendationInPlayer",RUTUBE_PLAYER_IN_KK:"rutubePlayerInKk",RUTUBE_PLAYER:"rutubePlayer",TEXT_SUBTITLE:"textSubtitle"}},140:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var i=n(3015);const r=()=>(0,i.Ks)("IDataAttributePlugin")},8817:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});let i=function(e){return e.seek="seek",e.mute="mute",e.defaultForwardSeek="defaultForwardSeek",e.defaultBackwardSeek="defaultBackwardSeek",e.volumeChange="volumeChange",e.playbackRate="playbackRate",e.error="error",e.toggleFramelessMode="toggleFramelessMode",e.longPress="longPress",e}({})},4862:(e,t,n)=>{"use strict";n.d(t,{Yk:()=>u,j8:()=>m,k_:()=>d,o7:()=>v,sy:()=>f,zm:()=>h});var i=n(6270);n(8668),n(7293),n(2195),n(4401),n(3867),n(7821),n(752),n(2460);let r;var a,s,o;function l(e,t){return t}function u(){return e=>({get value(){return e}})}function c(e){const t=e[Symbol.metadata];if(!t)return!1;const n=t[Symbol.pluginMetadata];return null!==n&&"object"==typeof n&&"ctor"in n&&null!==n.ctor&&"object"==typeof n.ctor&&"__type__"in n.ctor&&"PluginCtor"===n.ctor.__type__}function d(e){return function(t,n){if("class"===n.kind){let i;i="string"==typeof e?{__type__:"PluginCtor",__token__:e,__ctorTokens__:[],__class_name__:t.name}:{__type__:"PluginCtor",__token__:e.implement,__ctorTokens__:e.ctor_args,__class_name__:t.name};const r={__inherit__:[]};if(c(t)){r.__inherit__.push(...t[Symbol.metadata][Symbol.pluginMetadata].inherit.__inherit__);const e=t[Symbol.metadata][Symbol.pluginMetadata].ctor;r.__inherit__.push(e)}n.metadata[Symbol.pluginMetadata]={ctor:i,inherit:r}}}}function h(e,t){"method"===t.kind&&t.addInitializer((function(){this[t.name]=this[t.name].bind(this)}))}null!==(s=(a=Symbol).pluginMetadata)&&void 0!==s||(a.pluginMetadata=Symbol("plugin:metadata"));const p=new WeakMap;function v(){return function(e,t){"method"===t.kind&&t.addInitializer((function(){var e;const n=null!==(e=p.get(this))&&void 0!==e?e:[];n.push(t.name),p.set(this,n)}))}}class m{}class _ extends m{constructor(e){super(),this._val=e}get value(){return this._val}}class f{constructor(){this._ctors=(r(this),new Map),this._instances=new Map,this._disposers=[],this._booted=!1,this._dependencyGraphCreated=!1}static _getMetadata(e){const t=e[Symbol.metadata][Symbol.pluginMetadata];return"ConstantCtor"===t.ctor.__type__?{__token__:t.ctor.__token__,__ctorTokens__:[]}:{__token__:t.ctor.__token__,__ctorTokens__:t.ctor.__ctorTokens__}}boot(){let{disablePostConstruct:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._booted)throw new Error(l(0,"Plugin boot error"));try{this._buildOrder().forEach((e=>{if("ConstantCtor"===e[Symbol.metadata][Symbol.pluginMetadata].ctor.__type__){const t=e,n=f._getMetadata(t).__token__;this._instances.set(n,new _(t.value()))}else{const t=e,n=f._getMetadata(t),i=n.__token__,r=n.__ctorTokens__.map((e=>{const t="string"==typeof e?e:e.implement;return this._instances.get(t)}));this._instances.set(i,new t(...r))}})),this._dependencyGraphCreated=!0,e||Array.from(this._instances.values()).forEach((e=>{const t=p.get(e);t&&t.forEach((t=>{const n=e[t].call(e);"function"==typeof n&&this._disposers.push(n.bind(e))}))})),this._booted=!0}catch(e){console.error(e),this._dependencyGraphCreated=!1,this._booted=!1}return Promise.resolve(this._booted)}shutdown(){return this._disposers.forEach((e=>e())),Promise.resolve()}registerConstant(e,t){const n={value:()=>t,name:e,[Symbol.metadata]:{[Symbol.pluginMetadata]:{ctor:{__type__:"ConstantCtor",__token__:e}}}};return this._ctors.set(e,n),this}registerPlugin(e){if(!c(e))throw new Error(l(e.name,"Plugin registration error"));const t=f._getMetadata(e).__token__;var n;if(this._ctors.has(t))throw new Error(l(null===(n=this._ctors.get(t))||void 0===n||n.name,"Plugin registration error"));return this._ctors.set(t,e),this}resolve(e){if(!this._dependencyGraphCreated)throw new Error(l(0,"Plugin resolve error"));const t=this._instances.get(e);if(!t)throw new Error(l(0,"Plugin resolve error"));return t}resolveOptional(e){return this._instances.get(e)}_buildOrder(){const e=[],t=[],n=Array.from(this._ctors.values());return n.forEach((i=>{this._depsResolve(n,i,e,t)})),e}_depsResolve(e,t,n,i){i.push(t),f._getMetadata(t).__ctorTokens__.forEach((r=>{const a="string"==typeof r?r:r.implement,s="string"==typeof r||!r.optional;if(!n.find((e=>f._getMetadata(e).__token__===a))){if(!!i.find((e=>f._getMetadata(e).__token__===a))){const e=i.map((e=>f._getMetadata(e).__token__)),t=e.indexOf(a),n=e[t],r=e.slice(t);throw r.push(n),new Error(`Circular reference detected: ${r.join(" -> ")}`)}const r=e.find((e=>f._getMetadata(e).__token__===a));if(!r&&s)throw new Error(`deps token ${a} not found for ${f._getMetadata(t).__token__}`);r&&this._depsResolve(e,r,n,i)}})),n.find((e=>f._getMetadata(e).__token__===f._getMetadata(t).__token__))||n.push(t),i.splice(0,i.length,...i.filter((e=>f._getMetadata(e).__token__===f._getMetadata(t).__token__)))}}o=f,[r]=(0,i.A)(o,[],[[h,2,"boot"],[h,2,"shutdown"],[h,2,"registerConstant"],[h,2,"registerPlugin"],[h,2,"resolve"],[h,2,"resolveOptional"]]).e},290:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});n(7293);const i={resolve:()=>{throw new Error("do not use empty context")},resolveOptional:()=>{throw new Error("do not use empty context")}},r=(0,n(8717).createContext)(i)},3015:(e,t,n)=>{"use strict";n.d(t,{Ks:()=>s,ei:()=>o,p5:()=>a});var i=n(8717),r=n(290);const a=()=>(0,i.useContext)(r.o),s=e=>a().resolve(e),o=e=>a().resolveOptional(e)},7234:(e,t,n)=>{"use strict";n.d(t,{Ug:()=>s});var i=n(9067);n(4401),n(4233),n(7821);const r="object"==typeof window;class a{constructor(){return this._subscribers={},a._instance||(a._instance=this),r&&window.addEventListener("message",(e=>{Object.keys(this._subscribers).forEach((t=>{if(e.data)try{const n=JSON.parse(e.data);if(n.type===t&&this._subscribers[t]){const e=this._subscribers[t];null==e||e.forEach((e=>{e(n)}))}}catch(e){return}}))})),a._instance}emit(e,t){if("undefined"!=typeof window)try{window.parent.postMessage(JSON.stringify({type:e,data:(0,i.A)((0,i.A)({},t),{},{playerId:"video_frame"})}),"*")}catch(e){console.warn(e)}}subscribe(e,t){var n;void 0===this._subscribers[e]&&(this._subscribers[e]=[]),null===(n=this._subscribers[e])||void 0===n||n.push(t)}unsubscribe(e,t){if(this._subscribers[e]){var n,i;const a=null!==(n=null===(i=this._subscribers[e])||void 0===i?void 0:i.findIndex((e=>e===t)))&&void 0!==n?n:-1;var r;if(a>-1)null===(r=this._subscribers[e])||void 0===r||r.splice(a,1)}}}a._instance=null;const s=new a},4224:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var i=n(8717);const r=e=>{let{color:t="white"}=e;return i.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M3 14.5714V9.42857H6.85714L10.7143 6V18L6.85714 14.5714H3Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M20.5713 9L14.5713 15",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M14.5713 9L20.5713 15",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))}},4825:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var i=n(8717);const r=e=>{let{color:t="white",low:n=!1}=e;return i.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M3 14.5714V9.42857H6.85714L10.7143 6V18L6.85714 14.5714H3Z",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M15 9.42773C15.5382 10.1441 15.8571 11.0346 15.8571 11.9996C15.8571 12.9646 15.5382 13.8551 15 14.5714",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),!n&&i.createElement("path",{d:"M18.4292 6.85742C19.5052 8.28998 20.1429 10.0707 20.1429 12.0003C20.1429 13.9299 19.5052 15.7106 18.4292 17.1431",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))}},3218:(e,t,n)=>{"use strict";n.d(t,{r:()=>w});var i=n(9845),r=n(1824),a=n(5126),s=n(451),o=n.n(s),l=n(8717);const u="raichu-button-module__control___Cys9B",c="raichu-button-module__controlWithLabel___LUONe",d="raichu-button-module__labelSticker___YIOj2",h="raichu-button-module__controlInteractive___gtqqk",p="raichu-button-module__noScale___wS3jI",v="raichu-button-module__isTouch___SJnop",m="raichu-button-module__sizeXL___mTUYQ",_="raichu-button-module__sizeXXL___aRTLG",f="raichu-button-module__withBg___arc2r",g="raichu-button-module__withBgBig___JdHV_";var y=n(7163),b=n(4136);const E=["icon","iconSticker","color","bgColor","withBg","size","withBgSize","big","action","noScale","wrapperClassName","className","tooltipTitle","tooltipPlacement","tooltipMargin","tooltipHidden","tooltipHideOnClick","tooltipZIndex","onClick","children","style","label"],w=(0,l.forwardRef)(((e,t)=>{let{icon:n,iconSticker:s,color:w,bgColor:S,withBg:A,size:k,withBgSize:C,big:P=!1,action:T,noScale:I,wrapperClassName:R,className:L,tooltipTitle:x,tooltipPlacement:O,tooltipMargin:N=24,tooltipHidden:D=!1,tooltipHideOnClick:M=!1,tooltipZIndex:B=2,onClick:F,children:H,style:V,label:U}=e,j=(0,r.A)(e,E);const W=(0,a.Ju)(),z=o()({[m]:"XL"===k,[_]:"XXL"===k}),$=l.createElement("button",(0,i.A)({ref:t},j,y.aQ,{className:o()(u,"front-control",{[h]:!A,[p]:I,[v]:W,[c]:!!U},z,L),style:V,type:"button",onClick:e=>{F&&F(e,T)}}),n?l.createElement(n,{"aria-hidden":"true",color:w}):H,s&&l.createElement("div",{"aria-hidden":"true",className:d},s),U),G=l.createElement(b._,{title:x,placement:O,offset:N,hideOnClick:M,hidden:D,zIndex:B},$),q=x?G:$;return A?l.createElement("div",{className:o()(f,R,{[g]:"XL"===C||P}),style:{background:S}},q):q}))},7163:(e,t,n)=>{"use strict";n.d(t,{ED:()=>s,Ex:()=>u,Ln:()=>l,aQ:()=>r,dg:()=>i});const i="data-prevent-hide-controls",r={[i]:"true"},a="data-allow-event-processing",s={[a]:!0},o="data-raichu-popup",l={[o]:"true"},u=e=>"true"===e.getAttribute(i)||!!e.closest(`[${i}="true"]`)},1374:(e,t,n)=>{"use strict";n.d(t,{R:()=>s,_:()=>a});n(2195),n(752);var i=n(8717);const r=i.createContext(null),a=()=>(0,i.useContext)(r),s=e=>{let{children:t,boundary:n}=e;const[a,s]=(0,i.useState)(null);return(0,i.useEffect)((()=>{s(n)}),[n]),i.createElement(r.Provider,{value:a},t)}},4136:(e,t,n)=>{"use strict";n.d(t,{_:()=>d});n(2195),n(4401),n(752);var i=n(1871),r=n(3052),a=n(451),s=n.n(a),o=n(8717),l=n(1374);const u="raichu-tooltip-module__tooltip___V5AVQ",c="raichu-tooltip-module__area___QIGdE",d=e=>{let{children:t,title:n,className:a,areaStyle:d,areaClassName:h,placement:p,offset:v=10,hidden:m=!1,hideOnClick:_=!1,portal:f=!1,zIndex:g=1,mode:y}=e;const b=(0,o.useRef)(null),E=(0,l._)(),w=(0,o.useMemo)((()=>{const e={placement:p||"auto",strategy:"fixed"},t=[{name:"offset",options:{offset:[0,v]}}];return E&&(null==t||t.push({name:"preventOverflow",options:{boundary:E}})),e&&(e.modifiers=t),e}),[E,v,p]),[S,A]=(0,o.useState)(!1),[k,C]=(0,o.useState)(null),P=(0,o.useCallback)((()=>A(!0)),[]),T=(0,o.useCallback)((()=>{A(!1)}),[]);return(0,o.useEffect)((()=>{var e;S&&((null===(e=b.current)||void 0===e?void 0:e.update)&&b.current.update().catch((()=>{})))}),[y,S]),r.B.isMobile?o.createElement(o.Fragment,null,t):o.createElement("div",{className:s()(u,a),onMouseEnter:P,onMouseLeave:T,onFocus:P,onBlur:T,onClick:_?T:void 0,ref:C},o.createElement(i.e0,{isPopperShown:S&&!m,popperElements:o.createElement("div",{className:s()(c,h),style:d},n),popperKey:i.m0.tooltip,popperOptions:w,anchorElement:k,portal:f,customPopperZIndex:g,instanceRef:b},t))}},1862:(e,t,n)=>{"use strict";n.d(t,{$c:()=>P,D7:()=>p,F1:()=>k,GL:()=>v,Ih:()=>S,JT:()=>C,JZ:()=>x,L2:()=>L,O5:()=>f,Oc:()=>u,Ok:()=>E,RR:()=>m,Rx:()=>h,UX:()=>_,V2:()=>O,Vc:()=>y,Xl:()=>c,YL:()=>a,YN:()=>A,am:()=>b,b9:()=>I,bj:()=>g,gE:()=>d,hW:()=>N,id:()=>w,kC:()=>s,k_:()=>o,nd:()=>R,qZ:()=>T,wA:()=>l});var i=n(8717),r=n(9912);const a=[{id:"adfoxScript",js:"https://yandex.ru/ads/system/adsdk.js"}],s=3,o="https://static.rutube.ru/static/img/_thumb_default_04.png",l=15e3,u={[r.Y.RU]:{title:"18+",description:"Ð­Ñ‚Ð¾ Ð²Ð¸Ð´ÐµÐ¾ Ð»ÑƒÑ‡ÑˆÐµ Ð½Ðµ ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½ÐµÑÐ¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾Ð»ÐµÑ‚Ð½Ð¸Ð¼ Ð·Ñ€Ð¸Ñ‚ÐµÐ»ÑÐ¼",btn:"ÐœÐ½Ðµ ÑƒÐ¶Ðµ ÐµÑÑ‚ÑŒ 18"},[r.Y.ENG]:{title:"Video 18+",description:"This video is not recommended for underage users",btn:"I am 18 years old"}},c=(r.Y.RU,r.Y.ENG,{[r.Y.RU]:"Ð¡Ð»ÑƒÐ¶Ð±Ð° Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸",[r.Y.ENG]:"Support"}),d={[r.Y.RU]:{title:i.createElement("noindex",null,i.createElement("div",{"data-testid":"stub-info","data-nosnippet":"true"},"Ð”Ð°Ð½Ð½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾. ÐŸÑ€Ð¸Ð½Ð¾ÑÐ¸Ð¼ Ð’Ð°Ð¼ ÑÐ²Ð¾Ð¸ Ð¸Ð·Ð²Ð¸Ð½ÐµÐ½Ð¸Ñ."))},[r.Y.ENG]:{title:i.createElement("noindex",null,i.createElement("div",{"data-nosnippet":"true"},"Sorry, this video is temporarily unavailable."))}},h=(r.Y.RU,r.Y.ENG,{[r.Y.RU]:{title:i.createElement("noindex",null,i.createElement("div",{"data-nosnippet":"true"},"ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð²Ð¸Ð´ÐµÐ¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½. ",i.createElement("br",null),"ÐŸÑ€Ð¸Ð½Ð¾ÑÐ¸Ð¼ ÑÐ²Ð¾Ð¸ Ð¸Ð·Ð²Ð¸Ð½ÐµÐ½Ð¸Ñ."))},[r.Y.ENG]:{title:i.createElement("noindex",null,i.createElement("div",{"data-nosnippet":"true"},"Sorry, this video is temporarily unavailable."))}}),p={[r.Y.RU]:{title:"ÐÐµÑ‚ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ð°. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð»Ð¸ Wi-Fi Ð¸Ð»Ð¸ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚",titleEgill:"ÐÐµÑ‚ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ð°",description:i.createElement(i.Fragment,null,"ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð»Ð¸ Wi-Fi ",i.createElement("br",null)," Ð¸Ð»Ð¸ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚")},[r.Y.ENG]:{title:"No Internet connection. Make sure your Wi-Fi or mobile network in ON.",titleEgill:"No Internet",description:"Make sure your Wi-Fi or mobile network in ON"}},v={PAID_ACCESS:"paid_access"},m=["preroll","postroll","midroll","overlay","midpostroll"],_=["preroll","mobilepreroll","livemidroll","mobilelivemidroll"],f=150,g=1,y=.1,b=[4,5],E={CAPTIONS:"caption",AUTOPLAY_NEXT_FLAG:"raichu-autoplay-next",USER_HISTORY:"raichu-user-history",USER_QUALITY:"raichu-user-quality",PLAYBACK_RATE:"raichu-playback-rate",PAUSE_RECS_HIDDEN:"raichu-pause-recs-hidden",LS_KEY_USER_ADULT:"psaa",LS_KEY_ADULT_ALLOWED:"psaa",ACTIVITIES_USAGE:"activities-usage"},w=2500,S=5e3,A=8e3,k=6e3,C=180,P=16/9,T=9/16,I={1288:"xlg",968:"lg",864:"md",608:"sm",425:"xs",0:"xxs"},R={800:"xlarge",600:"large",400:"medium",320:"small",0:"xsmall"};let L=function(e){return e.INIT="player:init",e.PLAY_START="player:playStart",e.EVENT_STATE_CHANGE="player:stateChangeEvent",e.TOGGLE_VERTICAL_FULLSCREEN="player:toggleVerticalFullscreen",e.CHANGE_PLAYER_MODE="player:changePlayerMode",e.CLOSE_PLAYER="player:closePlayer",e.PREV_VIDEO="player:prevVideo",e.NEXT_VIDEO="player:nextVideo",e.SET_TIME="player:setTime",e.TOGGLE_CINEMA_MODE_PLAYER="player:toggleCinemaModePlayer",e.SET_END_SCREEN_VIDEO="player:setEndScreenVideo",e.CHANGE_VIDEO="player:changeEndScreenVideo",e.CURRENT_TIME="player:currentTime",e.FAKE_FULLSCREEN_ON="player:fakeFullscreenOn",e.FAKE_FULLSCREEN_OFF="player:fakeFullscreenOff",e.CHANGE_FULLSCREEN="player:changeFullscreen",e.PLAY_COMPLETE="player:playComplete",e.EVENT_ROLL_STATE_CHANGE="player:rollStateChange",e.ROLL_STATE="player:rollState",e.CHANGE_STATE="player:changeState",e.RECOMMENDED_VIDEO="player:recommendedVideo",e.READY="player:ready",e.VOLUME_CHANGE="player:volumeChange",e.BUFFERING="player:buffering",e.DURATION_CHANGE="player:durationChange",e.NO_AD="player:noad",e.ERROR="player:error",e.QUALITY_LIST="player:qualityList",e.CURRENT_QUALITY="player:currentQuality",e.PLAYOPTIONS_LOADED="player:playOptionsLoaded",e.AD_REQUEST="player:adRequest",e.AD_START="player:adStart",e.AD_END="player:adEnd",e.AD_SKIPPABLE="player:adSkippableStateChange",e.AD_ERROR="player:adError",e.GET_STREAM_INFO="player:get_stream_info",e.IS_IN_PIP="player:isInPiP",e.PIP_BACK="player:pipBack",e.IS_FULLSCREEN="player:isFullscreen",e.IS_CINEMA="player:isCinema",e.IS_USER_ADULT="player:isUserAdult",e.SET_PLAYBACK_SPEED="player:setPlaybackSpeed",e.PLAYBACK_SPEED_CHANGED="player:playbackSpeedChanged",e.SET_CAPTION="player:setCaption",e.CHANGE_CAPTION="player:changeCaption",e.CONTROLS_VISIBILITY_CHANGED="player:controlsVisibilityChanged",e.ACTIVITY_CONFIG="player:activityConfig",e.MUTE_CHANGE="player:muteChange",e.BITRATES_LEVELS="player:bitrateLevels",e.BITRATE_SWITCH="player:bitrateSwitched",e.GO_BACK="player:goBack",e.CAPTIONS_WITHOUT_URL="player:captionsWithoutUrl",e.EPISODE_CLICK="player:episodeClick",e.REQUEST_JWT="player:requestJwt",e.REQUEST_UUID="player:requestUuid",e.ERROR_INFO="player:errorInfo",e.ESCAPE_PRESS="player:escapePress",e.SUBSCRIBE_CLICK="player:subscribeClick",e.CHANGE_NOTIFICATION_TYPE="player:changeNotificationType",e.SUBSCRIPTION_REQUEST="player:subscriptionRequest",e.SUBSCRIPTION_BUTTON_SHOW="player:subscribeButtonShow",e.CHAPTERS_TOGGLE="player:chaptersToggle",e.CHAPTER_CHANGE="player:chapterChange",e.STATISTICS_RESPONSE="player:statisticsResponse",e.INTERNAL_BTN_BANNER="player:internalBtnBanner",e.COMMUNICATION_BANNED_CLICK="player:communicationBannerClick",e.CUE_CHANGE="player:cueChange",e.PLAY_START_ERROR="player:startError",e.PROMO_START="player:promoStart",e.PROMO_ENDED="player:promoEnded",e.PROMO_INTERRUPT="player:promoInterrupt",e}({}),x=function(e){return e.RUTUBE="RUTUBE",e.PRY="PREMIER_RUTUBE_YAPPY",e}({});const O="https://rutube.ru",N=1/30},9599:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var i=function(e){return e.RAICHU_LOADER_TEMPLATE="raichuLoaderTemplate",e.RAICHU_CONTAINER_WITH_PLAYER="raichuContainerWithPlayer",e.RAICHU_VIDEO_TAG_NODE="raichuVideoTagNode",e.RAICHU_AREAS_BAR="raichuAreasBar",e.RAICHU_MOBILE_PREVIEW="raichuMobilePreview",e.RAICHU_AREAS_BAR_PREVIEW="raichuAreasBarPreview",e.RAICHU_AREAS_BAR_PREVIEW_TIME="raichuAreaBarPreviewTime",e.PLAY_BUTTON="playButton",e.VOLUME_BAR="volumeBar",e}(i||{})},6545:(e,t,n)=>{"use strict";n.d(t,{Controls:()=>r.Controls,ControlsPlugin:()=>r.ControlsPlugin,FullScreenButton:()=>r.FullScreenButton,PlayerControlsBg:()=>r.PlayerControlsBg,TimeBlock:()=>r.TimeBlock,VolumeControls:()=>r.VolumeControls,getActiveChapter:()=>r.getActiveChapter,useControls:()=>r.useControls});var i=n(8900);n.o(i,"Controls")&&n.d(t,{Controls:function(){return i.Controls}}),n.o(i,"ControlsPlugin")&&n.d(t,{ControlsPlugin:function(){return i.ControlsPlugin}}),n.o(i,"FullScreenButton")&&n.d(t,{FullScreenButton:function(){return i.FullScreenButton}}),n.o(i,"PlayerControlsBg")&&n.d(t,{PlayerControlsBg:function(){return i.PlayerControlsBg}}),n.o(i,"TimeBlock")&&n.d(t,{TimeBlock:function(){return i.TimeBlock}}),n.o(i,"VolumeControls")&&n.d(t,{VolumeControls:function(){return i.VolumeControls}}),n.o(i,"getActiveChapter")&&n.d(t,{getActiveChapter:function(){return i.getActiveChapter}}),n.o(i,"useControls")&&n.d(t,{useControls:function(){return i.useControls}});var r=n(7895);n(3882)},3752:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,U:()=>r});let i=function(e){return e.BUTTON="button",e.TAP="tap",e.HOTKEY="hotkey",e.EXTERNAL="external",e.MEDIA_CONTROLS="media_controls",e.LONG_TAP="long_tap",e}({}),r=function(e){return e.BACK="back",e.FORWARD="forward",e}({})},472:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});var i=n(3052);const r=(e,t,n)=>i.B.isMobile?e:`${e}${t?` (Ð³Ð¾Ñ€ÑÑ‡Ð°Ñ ÐºÐ»Ð°Ð²Ð¸ÑˆÐ° ${t}${n?" Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ°Ñ":""})`:""}`},1701:()=>{},2065:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});const i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal";if(!t.current)return 0;const i=t.current.getBoundingClientRect(),{top:r,bottom:a,left:s,right:o}=i,l="horizontal"===n?s:a,u="horizontal"===n?o:r,c="horizontal"===n?"clientX":"clientY";let d;d="clientX"in e?e[c]:e.touches&&e.touches.length>=0?e.touches[0][c]:0;let h=(d-l)/(u-l)*100;return h<0&&(h=0),h>100&&(h=100),h}},2514:(e,t,n)=>{"use strict";n.d(t,{DU:()=>l,Kj:()=>s,al:()=>a,uT:()=>o});n(2195),n(7821),n(752),n(299),n(8578),n(9857),n(9972);var i=n(3882),r=n(3834);const a=(e,t,n)=>{var i,a;const s={},o=null!==(i=null===(a=(0,r.Qv)(e))||void 0===a?void 0:a.searchParams.entries())&&void 0!==i?i:[];let l=!n;for(const e of o)if(n&&e[0]===n&&(l=!0),l)if(t)try{s[e[0]]=decodeURIComponent(e[1])}catch(e){console.warn(e)}else s[e[0]]=e[1];return s},s=e=>{const t=new URLSearchParams;return Object.keys(e).forEach((n=>{void 0!==e[n]&&t.append(n,e[n].toString())})),t},o=()=>i.ZW.findIndex((e=>document.referrer.indexOf(e)>=0))>=0,l=()=>{const{pathname:e}=window.location,t=e.split("/").filter(Boolean);if(e.indexOf("embed")>=0)return t[t.length-1]}},8900:(e,t,n)=>{"use strict";var i=n(1701);n.o(i,"Controls")&&n.d(t,{Controls:function(){return i.Controls}}),n.o(i,"ControlsPlugin")&&n.d(t,{ControlsPlugin:function(){return i.ControlsPlugin}}),n.o(i,"FullScreenButton")&&n.d(t,{FullScreenButton:function(){return i.FullScreenButton}}),n.o(i,"PlayerControlsBg")&&n.d(t,{PlayerControlsBg:function(){return i.PlayerControlsBg}}),n.o(i,"TimeBlock")&&n.d(t,{TimeBlock:function(){return i.TimeBlock}}),n.o(i,"VolumeControls")&&n.d(t,{VolumeControls:function(){return i.VolumeControls}}),n.o(i,"getActiveChapter")&&n.d(t,{getActiveChapter:function(){return i.getActiveChapter}}),n.o(i,"useControls")&&n.d(t,{useControls:function(){return i.useControls}})},9912:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});const i={RU:"rus",ENG:"eng"}},3834:(e,t,n)=>{"use strict";n.d(t,{IN:()=>u,If:()=>d,Ln:()=>c,Qv:()=>r,VZ:()=>a,g:()=>s,jh:()=>o,nu:()=>p,qO:()=>l,rS:()=>h,yA:()=>i});n(2195),n(2358),n(9419),n(752),n(4175),n(5343),n(299),n(8578),n(9857),n(9972);function i(){return!0}const r=(e,t)=>{if(null==e)return null;try{return new URL(e,t)}catch(e){return null}};function a(e){return{r:"emw"+(e?"m":"d")}}function s(e,t){const n=r(e);if(!n)return"";const i=new URLSearchParams(n.search);for(const e of Object.keys(t))i.append(e,t[e]);return n.search=String(i),String(n)}function o(){try{var e;if(null!==(e=window)&&void 0!==e&&null!==(e=e.location)&&void 0!==e&&e.ancestorOrigins)return[...window.location.ancestorOrigins]}catch(e){console.warn("ancestorOrigins is not available")}return[]}const l=e=>(null==e?void 0:e.replace(/^(https?:\/\/)?(www\.)?/,"").split("/")[0])||"";function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selectLastOrigin:!1};const{selectLastOrigin:t}=e;if("object"!=typeof window)return"";const{location:n}=window;if(n.origin.includes("localhost"))return"";{const e=o(),n=e.length?function(e,t){return t?e[e.length-1]:e[0]}(e,t):document.referrer;return n&&"null"!==n?n:""}}function c(e){return e.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0]}function d(){return encodeURIComponent(u())}function h(e){const t=e.match(/\.([^./?#]+)($|\?|#)/);return null!=t&&t.length?t[1]:null}const p=e=>{if(!e)return"";const t=new URL(e);return`${window.location.origin}${t.pathname}${t.search}`}},3882:(e,t,n)=>{"use strict";n.d(t,{mW:()=>P,ZW:()=>C,NN:()=>k,jI:()=>S,t_:()=>A,m_:()=>w});var i=n(8717);const r=i.createElement("div",null,"ÐÐ°Ð·Ð°Ð´ Ð½Ð° 10 ÑÐµÐºÑƒÐ½Ð´",i.createElement("span",null,"â†"),i.createElement("span",null,"J")),a=i.createElement("div",null,"Ð’Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÑÑ‚Ð¸",i.createElement("span",null,"ÐŸÑ€Ð¾Ð±ÐµÐ»"),i.createElement("span",null,"K")),s=i.createElement("div",null,"ÐŸÐ°ÑƒÐ·Ð°",i.createElement("span",null,"ÐŸÑ€Ð¾Ð±ÐµÐ»"),i.createElement("span",null,"K")),o=i.createElement("div",null,"Ð¡Ñ‚Ð¾Ð¿",i.createElement("span",null,"ÐŸÑ€Ð¾Ð±ÐµÐ»"),i.createElement("span",null,"K")),l=i.createElement("div",null,"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ ÐµÑ‰Ñ‘ Ñ€Ð°Ð·",i.createElement("span",null,"ÐŸÑ€Ð¾Ð±ÐµÐ»"),i.createElement("span",null,"K")),u=i.createElement("div",null,"Ð¡Ð»ÑƒÑˆÐ°Ñ‚ÑŒ ÐµÑ‰Ñ‘ Ñ€Ð°Ð·",i.createElement("span",null,"ÐŸÑ€Ð¾Ð±ÐµÐ»"),i.createElement("span",null,"K")),c=i.createElement("div",null,"Ð’Ð¿ÐµÑ€Ñ‘Ð´ Ð½Ð° 10 ÑÐµÐºÑƒÐ½Ð´",i.createElement("span",null,"â†’"),i.createElement("span",null,"L")),d=i.createElement("div",null,"ÐŸÑ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐµ",i.createElement("span",null,"Shift + P")),h=i.createElement("div",null,"ÐŸÑ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾",i.createElement("span",null,"Shift + P")),p=i.createElement("div",null,"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ",i.createElement("span",null,"Shift + N")),v=i.createElement("div",null,"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾",i.createElement("span",null,"Shift + N")),m=i.createElement("div",null,"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº",i.createElement("span",null,"M")),_=i.createElement("div",null,"Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº",i.createElement("span",null,"M")),f=i.createElement("div",null,"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸"),g=i.createElement("div",null,"Ð¨Ð¸Ñ€Ð¾ÐºÐ¸Ð¹ ÑÐºÑ€Ð°Ð½",i.createElement("span",null,"T")),y=i.createElement("div",null,"Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð² Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼",i.createElement("span",null,"T")),b=i.createElement("div",null,"Ð’Ð¾ Ð²ÐµÑÑŒ ÑÐºÑ€Ð°Ð½",i.createElement("span",null,"F")),E=i.createElement("div",null,"Ð’Ñ‹Ð¹Ñ‚Ð¸ Ð¸Ð· Ð¿Ð¾Ð»Ð½Ð¾ÑÐºÑ€Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼Ð°",i.createElement("span",null,"Esc"),i.createElement("span",null,"F")),w={PrevSeek:r,Play:a,Pause:s,Stop:o,Repeat:l,RepeatAudio:u,NextSeek:c,PrevVideo:h,NextVideo:v,VolumeOn:m,VolumeOff:_,Settings:f,CinemaOn:g,CinemaOff:y,CaptionsOn:i.createElement("div",null,"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹",i.createElement("span",null,"C")),CaptionsOff:i.createElement("div",null,"Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹",i.createElement("span",null,"C")),FullScreenOn:b,FullScreenOff:E,WatchOnRUTUBE:i.createElement("div",null,"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð° RUTUBE"),MiniPlayer:i.createElement("div",null,"Ð’ Ð¼Ð¸Ð½Ð¸-Ð¿Ð»ÐµÐµÑ€Ðµ ",i.createElement("span",null,"i")),MiniPlayerClose:i.createElement("div",null,"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¼Ð¸Ð½Ð¸-Ð¿Ð»ÐµÐµÑ€ ",i.createElement("span",null,"Esc")),MiniPlayerReturn:i.createElement("div",null,"Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð² Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼ ",i.createElement("span",null,"i")),ControlsTooltipZIndex:30,PrevAudio:d,NextAudio:p};let S=function(e){return e.ENTER_FULLSCREEN="statfullscreen",e.EXIT_FULL_SCREEN="statexitFullscreen",e.SEEK="statrewind",e.PAUSE="statpause",e.RESUME="statresume",e.LOAD="statload",e.EMBED_LOAD="statembedload",e.START="statstart",e.STAT="statevent",e.FIRST_QUARTILE="statfirstQuartile",e.MIDDLE="statmiddle",e.THIRD_QUARTILE="statthirdQuartile",e.END="statend",e.HEARTBEAT="heartbeat",e.WATCHTIME="watchtime",e.AD_START_BUILT_IN="adstartbuiltin",e.AD_END_BUILT_IN="adendbuiltin",e.SHOW_ENDSCREEN="showendscreen",e.CLICK_ENDSCREEN="clickendscreen",e.CLICK_ENDSCREEN_ACTION="clickendscreenAction",e.CANCEL_ENDSCREEN="cancelendscreen",e.FIRST_PLAY_BUTTON="firstplaybutton",e.EMBED_SUBSCRIBE_CLICK="subscrib_click",e.EMBED_AUTHOR_CLICK="author_embd_click",e.LONG_PRESS="statxrewind",e.WATCH_ON_RUTUBE_VIEW="watch_rutube_view",e.WATCH_ON_RUTUBE_CLICK="watch_rutube_click",e.PIP_ENTER_CLICK="MP_button_click",e.PIP_EXIT_CLICK="MP_close",e.PIP_BACK_SHOW="MP_back_button_show",e.PIP_BACK_CLICK="MP_back_button_click",e.SWIPE="swipe",e.AD_OFF_BUTTON_SHOW="ad_off_show",e.AD_OFF_BUTTON_CLICK="ad_off_click",e.CREDS_SKIP_SHOW="skip_credits_show",e.CREDS_SKIP_CLICK="skip_credits_click",e.CREDS_WATCH_SHOW="watch_credits_show",e.CREDS_WATCH_CLICK="watch_credits_click",e.INTRO_SKIP_SHOW="skip_intro_show",e.INTRO_SKIP_CLICK="skip_intro_click",e.INTRO_WATCH_SHOW="watch_intro_show",e.INTRO_WATCH_CLICK="watch_intro_click",e.NEXT_EPISODE_SHOW="next_episode_show",e.NEXT_EPISODE_CLICK="next_episode_click",e.NEXT_EPISODE_AUTO="next_episode_auto",e.VIDEO_LOAD="video_load",e.VIDEO_HEARTBEAT="video_heartbeat",e.PLAYBACK_START="playback_start",e.STATSEEK="statseek",e.VIDEO_START="video_start",e.VIDEO_COMPLETE="video_complete",e.PLAYBACK_TO_CAPTIONS="playback_to_captions",e.MRC_50_1="mrc_player_50_1_sec",e.MRC_50_2="mrc_player_50_2_sec",e.MRC_100_1="mrc_player_100_1_sec",e.MRC_100_2="mrc_player_100_2_sec",e.ADVERT_MRC_50_1="mrc_imp_ad_50_1_sec",e.ADVERT_MRC_50_2="mrc_imp_ad_50_2_sec",e.ADVERT_MRC_100_1="mrc_imp_ad_100_1_sec",e.ADVERT_MRC_100_2="mrc_imp_ad_100_2_sec",e}({}),A=function(e){return e.SCREEN_MODE="screen_mode",e.LOAD_AFTER_AD="player_load_after_ad",e.REWIND="rewind_mode",e.REWIND_MODE_RUTS="statrewind",e.PAUSE="play_pause",e.QUALITY="playback_quality",e.SPEED="playback_speed",e.END_SCREEN="end_screen_rec",e.PAUSE_SCREEN="pause_screen",e.EMBED_SUBSCRIBE="subscribe_player",e.NEXT_VIDEO="next_video",e.AD_VIEW="ad_view",e.AD_REQUEST="ad_request",e.FROM_BEGINNINIG="from_beginning",e.AD_CLICK="ad_click",e.CLICK_EVENT="rutube_button",e.HB_INTERVALS="hb_intervals_stat",e.UNLOAD="statstop_close",e.AUTHOR_CLICK="author_click",e.AUTHOR_TITLE_CLICK="author_nm_click",e.SETTINGS_CLICK="settings_click",e.SHOW_MORE="show_more",e.SOUND_ON="sound_on",e.SOUND_OFF="sound_off",e.VOLUME_SET="sound_set",e.UNMUTE_VIEW="unmute_view",e.UNMUTE_CLICK="unmute_click",e.ADVERT_STAT_BLOCK_START="ad_block_start",e.ADVERT_STAT_BLOCK_START_PREROLL="ad_preroll_block_start",e.ADVERT_STAT_BLOCK_START_MIDROLL="ad_midroll_block_start",e.ADVERT_STAT_BLOCK_START_POSTROLL="ad_postroll_block_start",e.ADVERT_STAT_BLOCK_END="ad_block_end",e.ADVERT_STAT_BLOCK_END_PREROLL="ad_preroll_block_end",e.ADVERT_STAT_BLOCK_END_MIDROLL="ad_midroll_block_end",e.ADVERT_STAT_BLOCK_END_POSTROLL="ad_postroll_block_end",e.EXTENDED_PLAYER_MENU="extended_player_menu",e.PREV_VIDEO="previous_video",e.SHARE="share_video",e.PLAYBACK_AUTOPLAY="playback_autoplay",e.SUBTITLES="subtitles",e.RECOMMENDATIONS_PAUSE_SCREEN_SHOW="pause_recomendation",e.RECOMMENDATIONS_PAUSE_SCREEN_CLICK="pause_recomendation_click",e.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_SHOW="endscreen_nextvideo",e.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_CLICK="endscreen_nextvideo_click",e.RECOMMENDATIONS_END_SCREEN_RECS_SHOW="endscreen_recomendation",e.RECOMMENDATIONS_END_SCREEN_RECS_CLICK="endscreen_recomendation_click",e.RECOMMENDATIONS_SEASONS_BUTTON_SHOW="episod_choice_view",e.RECOMMENDATIONS_SEASONS_OPEN="episod_choice_open",e.RECOMMENDATIONS_SEASONS_EPISODE_CLICK="episod_choice_click",e.RECOMMENDATIONS_BUTTON_SHOW="button_recomendation_show",e.RECOMMENDATIONS_BUTTON_CLICK="button_recomendation_click",e.INTERACTIVE_BUTTON="new_frag",e.MORE_MENU_COPY_LINK_VIDEO="esch_copylink_video_click",e.MORE_MENU_COPY_LINK_AT_TIME="esch_copylink_click",e.MORE_MENU_COPY_TAG="esch_copytag_click",e.MORE_MENU_REPLAY="esch_replay_click",e.MORE_MENU_REPORT_ERROR="esch_reperr_click",e.MORE_MENU_COPY_INFO="esch_copyinfo_click",e.MORE_MENU_REPORT_VIDEO="esch_reperrvid_click",e.MORE_MENU_HOTKEY_MANUAL="esch_hotkeys_manual",e.MORE_MENU_REPLAY_VIDEO_ON="esch_replay_video_on",e.MORE_MENU_REPLAY_VIDEO_OFF="esch_replay_video_off",e.WATCH_ON_RUTUBE="watch_on_rutube",e.CHAPTER_BUTTON_SHOW="episod_button_show",e.CHAPTER_BUTTON_CLICK="episod_button_click",e.CHAPTER_MENU_CLICK="episod_menu_click",e.CHAPTER_DESC_CLICK="episod_desc_click",e.WATCH_FROM_START_SHOW="from_beginning_show",e.WATCH_FROM_START_CLICK="from_beginning_click",e.CBANNER_SHOW="cbanner_show",e.CBANNER_CLICK="cbanner_click",e.CBANNER_CLOSE="cbanner_close",e.SUBSCRIBE_CLICK="subscribe_click",e.UNSUBSCRIBE_CLICK="unsubscribe_click",e.SUBSCRIBE_SHOW="subscribe_show",e.SUBSCRIBE_NOTIFY_ON="sub_notify_on",e.SUBSCRIBE_NOTIFY_OFF="sub_notify_off",e.PLAYER_ZOOM="player_zoom",e}({}),k=function(e){return e.SITE_LOGO="rutube",e.CHANNEL_LOGO="channel",e.VIDEO_TITLE="video",e}({});const C=["*.contra.gr","blog.rutube.ru","contra.gr","matchtv.ru","rufilmtv.org"],P="https://distribution.rutube.ru"},6417:()=>{},451:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,a(n)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},2775:(e,t,n)=>{"use strict";n(2e3),n(2220);var i=n(256);e.exports=i.f("metadata")},2460:(e,t,n)=>{"use strict";var i=n(2775);e.exports=i},3727:(e,t,n)=>{"use strict";var i=n(2954),r=n(6832),a=TypeError;e.exports=function(e){if(i(e))return e;throw new a(r(e)+" is not a function")}},5611:(e,t,n)=>{"use strict";var i=n(844),r=n(6832),a=TypeError;e.exports=function(e){if(i(e))return e;throw new a(r(e)+" is not a constructor")}},9755:(e,t,n)=>{"use strict";var i=n(2954),r=String,a=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw new a("Can't set "+r(e)+" as a prototype")}},1455:(e,t,n)=>{"use strict";var i=n(2585).has;e.exports=function(e){return i(e),e}},6780:(e,t,n)=>{"use strict";var i=n(6216),r=n(3403),a=n(7740).f,s=i("unscopables"),o=Array.prototype;void 0===o[s]&&a(o,s,{configurable:!0,value:r(null)}),e.exports=function(e){o[s][e]=!0}},7960:(e,t,n)=>{"use strict";var i=n(2414).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},8108:(e,t,n)=>{"use strict";var i=n(6952),r=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw new r("Incorrect invocation")}},2816:(e,t,n)=>{"use strict";var i=n(2845),r=String,a=TypeError;e.exports=function(e){if(i(e))return e;throw new a(r(e)+" is not an object")}},6674:e=>{"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},4576:(e,t,n)=>{"use strict";var i=n(4767),r=n(383),a=TypeError;e.exports=i(ArrayBuffer.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==r(e))throw new a("ArrayBuffer expected");return e.byteLength}},3179:(e,t,n)=>{"use strict";var i=n(4627),r=n(4576),a=i(ArrayBuffer.prototype.slice);e.exports=function(e){if(0!==r(e))return!1;try{return a(e,0,0),!1}catch(e){return!0}}},4515:(e,t,n)=>{"use strict";var i=n(1186),r=n(4627),a=n(4767),s=n(3785),o=n(3179),l=n(4576),u=n(232),c=n(9173),d=i.structuredClone,h=i.ArrayBuffer,p=i.DataView,v=i.TypeError,m=Math.min,_=h.prototype,f=p.prototype,g=r(_.slice),y=a(_,"resizable","get"),b=a(_,"maxByteLength","get"),E=r(f.getInt8),w=r(f.setInt8);e.exports=(c||u)&&function(e,t,n){var i,r=l(e),a=void 0===t?r:s(t),_=!y||!y(e);if(o(e))throw new v("ArrayBuffer is detached");if(c&&(e=d(e,{transfer:[e]}),r===a&&(n||_)))return e;if(r>=a&&(!n||_))i=g(e,0,a);else{var f=n&&!_&&b?{maxByteLength:b(e)}:void 0;i=new h(a,f);for(var S=new p(e),A=new p(i),k=m(a,r),C=0;C<k;C++)w(A,C,E(S,C))}return c||u(e),i}},2105:(e,t,n)=>{"use strict";var i,r,a,s=n(6674),o=n(1271),l=n(1186),u=n(2954),c=n(2845),d=n(188),h=n(7404),p=n(6832),v=n(8890),m=n(359),_=n(9171),f=n(6952),g=n(8324),y=n(7896),b=n(6216),E=n(3139),w=n(1364),S=w.enforce,A=w.get,k=l.Int8Array,C=k&&k.prototype,P=l.Uint8ClampedArray,T=P&&P.prototype,I=k&&g(k),R=C&&g(C),L=Object.prototype,x=l.TypeError,O=b("toStringTag"),N=E("TYPED_ARRAY_TAG"),D="TypedArrayConstructor",M=s&&!!y&&"Opera"!==h(l.opera),B=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},H={BigInt64Array:8,BigUint64Array:8},V=function(e){var t=g(e);if(c(t)){var n=A(t);return n&&d(n,D)?n[D]:V(t)}},U=function(e){if(!c(e))return!1;var t=h(e);return d(F,t)||d(H,t)};for(i in F)(a=(r=l[i])&&r.prototype)?S(a)[D]=r:M=!1;for(i in H)(a=(r=l[i])&&r.prototype)&&(S(a)[D]=r);if((!M||!u(I)||I===Function.prototype)&&(I=function(){throw new x("Incorrect invocation")},M))for(i in F)l[i]&&y(l[i],I);if((!M||!R||R===L)&&(R=I.prototype,M))for(i in F)l[i]&&y(l[i].prototype,R);if(M&&g(T)!==R&&y(T,R),o&&!d(R,O))for(i in B=!0,_(R,O,{configurable:!0,get:function(){return c(this)?this[N]:void 0}}),F)l[i]&&v(l[i],N,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:B&&N,aTypedArray:function(e){if(U(e))return e;throw new x("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!y||f(I,e)))return e;throw new x(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,i){if(o){if(n)for(var r in F){var a=l[r];if(a&&d(a.prototype,e))try{delete a.prototype[e]}catch(n){try{a.prototype[e]=t}catch(e){}}}R[e]&&!n||m(R,e,n?t:M&&C[e]||t,i)}},exportTypedArrayStaticMethod:function(e,t,n){var i,r;if(o){if(y){if(n)for(i in F)if((r=l[i])&&d(r,e))try{delete r[e]}catch(e){}if(I[e]&&!n)return;try{return m(I,e,n?t:M&&I[e]||t)}catch(e){}}for(i in F)!(r=l[i])||r[e]&&!n||m(r,e,t)}},getTypedArrayConstructor:V,isView:function(e){if(!c(e))return!1;var t=h(e);return"DataView"===t||d(F,t)||d(H,t)},isTypedArray:U,TypedArray:I,TypedArrayPrototype:R}},9448:(e,t,n)=>{"use strict";var i=n(5090),r=n(9233),a=n(1279);e.exports=function(e){for(var t=i(this),n=a(t),s=arguments.length,o=r(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,u=void 0===l?n:r(l,n);u>o;)t[o++]=e;return t}},3970:(e,t,n)=>{"use strict";var i=n(8374).forEach,r=n(4439)("forEach");e.exports=r?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},293:(e,t,n)=>{"use strict";var i=n(1279);e.exports=function(e,t){for(var n=0,r=i(t),a=new e(r);r>n;)a[n]=t[n++];return a}},9981:(e,t,n)=>{"use strict";var i=n(5319),r=n(7098),a=n(5090),s=n(7538),o=n(5876),l=n(844),u=n(1279),c=n(4631),d=n(2156),h=n(1480),p=Array;e.exports=function(e){var t=a(e),n=l(this),v=arguments.length,m=v>1?arguments[1]:void 0,_=void 0!==m;_&&(m=i(m,v>2?arguments[2]:void 0));var f,g,y,b,E,w,S=h(t),A=0;if(!S||this===p&&o(S))for(f=u(t),g=n?new this(f):p(f);f>A;A++)w=_?m(t[A],A):t[A],c(g,A,w);else for(E=(b=d(t,S)).next,g=n?new this:[];!(y=r(E,b)).done;A++)w=_?s(b,m,[y.value,A],!0):y.value,c(g,A,w);return g.length=A,g}},1716:(e,t,n)=>{"use strict";var i=n(6862),r=n(9233),a=n(1279),s=function(e){return function(t,n,s){var o,l=i(t),u=a(l),c=r(s,u);if(e&&n!=n){for(;u>c;)if((o=l[c++])!=o)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},1428:(e,t,n)=>{"use strict";var i=n(5319),r=n(1106),a=n(5090),s=n(1279),o=function(e){var t=1===e;return function(n,o,l){for(var u,c=a(n),d=r(c),h=i(o,l),p=s(d);p-- >0;)if(h(u=d[p],p,c))switch(e){case 0:return u;case 1:return p}return t?-1:void 0}};e.exports={findLast:o(0),findLastIndex:o(1)}},8374:(e,t,n)=>{"use strict";var i=n(5319),r=n(4627),a=n(1106),s=n(5090),o=n(1279),l=n(1912),u=r([].push),c=function(e){var t=1===e,n=2===e,r=3===e,c=4===e,d=6===e,h=7===e,p=5===e||d;return function(v,m,_,f){for(var g,y,b=s(v),E=a(b),w=i(m,_),S=o(E),A=0,k=f||l,C=t?k(v,S):n||h?k(v,0):void 0;S>A;A++)if((p||A in E)&&(y=w(g=E[A],A,b),e))if(t)C[A]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return A;case 2:u(C,g)}else switch(e){case 4:return!1;case 7:u(C,g)}return d?-1:r||c?c:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},4439:(e,t,n)=>{"use strict";var i=n(4476);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},4067:(e,t,n)=>{"use strict";var i=n(3727),r=n(5090),a=n(1106),s=n(1279),o=TypeError,l=function(e){return function(t,n,l,u){i(n);var c=r(t),d=a(c),h=s(c),p=e?h-1:0,v=e?-1:1;if(l<2)for(;;){if(p in d){u=d[p],p+=v;break}if(p+=v,e?p<0:h<=p)throw new o("Reduce of empty array with no initial value")}for(;e?p>=0:h>p;p+=v)p in d&&(u=n(u,d[p],p,c));return u}};e.exports={left:l(!1),right:l(!0)}},6586:(e,t,n)=>{"use strict";var i=n(1271),r=n(2497),a=TypeError,s=Object.getOwnPropertyDescriptor,o=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=o?function(e,t){if(r(e)&&!s(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},2626:(e,t,n)=>{"use strict";var i=n(9233),r=n(1279),a=n(4631),s=Array,o=Math.max;e.exports=function(e,t,n){for(var l=r(e),u=i(t,l),c=i(void 0===n?l:n,l),d=s(o(c-u,0)),h=0;u<c;u++,h++)a(d,h,e[u]);return d.length=h,d}},6147:(e,t,n)=>{"use strict";var i=n(4627);e.exports=i([].slice)},9441:(e,t,n)=>{"use strict";var i=n(2626),r=Math.floor,a=function(e,t){var n=e.length,l=r(n/2);return n<8?s(e,t):o(e,a(i(e,0,l),t),a(i(e,l),t),t)},s=function(e,t){for(var n,i,r=e.length,a=1;a<r;){for(i=a,n=e[a];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==a++&&(e[i]=n)}return e},o=function(e,t,n,i){for(var r=t.length,a=n.length,s=0,o=0;s<r||o<a;)e[s+o]=s<r&&o<a?i(t[s],n[o])<=0?t[s++]:n[o++]:s<r?t[s++]:n[o++];return e};e.exports=a},3658:(e,t,n)=>{"use strict";var i=n(2497),r=n(844),a=n(2845),s=n(6216)("species"),o=Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(r(t)&&(t===o||i(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?o:t}},1912:(e,t,n)=>{"use strict";var i=n(3658);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},4063:(e,t,n)=>{"use strict";var i=n(1279);e.exports=function(e,t){for(var n=i(e),r=new t(n),a=0;a<n;a++)r[a]=e[n-a-1];return r}},6325:(e,t,n)=>{"use strict";var i=n(1279),r=n(9546),a=RangeError;e.exports=function(e,t,n,s){var o=i(e),l=r(n),u=l<0?o+l:l;if(u>=o||u<0)throw new a("Incorrect index");for(var c=new t(o),d=0;d<o;d++)c[d]=d===u?s:e[d];return c}},7538:(e,t,n)=>{"use strict";var i=n(2816),r=n(8106);e.exports=function(e,t,n,a){try{return a?t(i(n)[0],n[1]):t(n)}catch(t){r(e,"throw",t)}}},2841:(e,t,n)=>{"use strict";var i=n(6216)("iterator"),r=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){r=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!r)return!1}catch(e){return!1}var n=!1;try{var a={};a[i]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},383:(e,t,n)=>{"use strict";var i=n(4627),r=i({}.toString),a=i("".slice);e.exports=function(e){return a(r(e),8,-1)}},7404:(e,t,n)=>{"use strict";var i=n(9119),r=n(2954),a=n(383),s=n(6216)("toStringTag"),o=Object,l="Arguments"===a(function(){return arguments}());e.exports=i?a:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=o(e),s))?n:l?a(t):"Object"===(i=a(t))&&r(t.callee)?"Arguments":i}},2891:(e,t,n)=>{"use strict";var i=n(188),r=n(402),a=n(6614),s=n(7740);e.exports=function(e,t,n){for(var o=r(t),l=s.f,u=a.f,c=0;c<o.length;c++){var d=o[c];i(e,d)||n&&i(n,d)||l(e,d,u(t,d))}}},1974:(e,t,n)=>{"use strict";var i=n(4476);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1278:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},8890:(e,t,n)=>{"use strict";var i=n(1271),r=n(7740),a=n(3033);e.exports=i?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},3033:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4631:(e,t,n)=>{"use strict";var i=n(3302),r=n(7740),a=n(3033);e.exports=function(e,t,n){var s=i(t);s in e?r.f(e,s,a(0,n)):e[s]=n}},9171:(e,t,n)=>{"use strict";var i=n(4024),r=n(7740);e.exports=function(e,t,n){return n.get&&i(n.get,t,{getter:!0}),n.set&&i(n.set,t,{setter:!0}),r.f(e,t,n)}},359:(e,t,n)=>{"use strict";var i=n(2954),r=n(7740),a=n(4024),s=n(1188);e.exports=function(e,t,n,o){o||(o={});var l=o.enumerable,u=void 0!==o.name?o.name:t;if(i(n)&&a(n,u,o),o.global)l?e[t]=n:s(t,n);else{try{o.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e}},3618:(e,t,n)=>{"use strict";var i=n(359);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},1188:(e,t,n)=>{"use strict";var i=n(1186),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},6519:(e,t,n)=>{"use strict";var i=n(6832),r=TypeError;e.exports=function(e,t){if(!delete e[t])throw new r("Cannot delete property "+i(t)+" of "+i(e))}},1271:(e,t,n)=>{"use strict";var i=n(4476);e.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},232:(e,t,n)=>{"use strict";var i,r,a,s,o=n(1186),l=n(4043),u=n(9173),c=o.structuredClone,d=o.ArrayBuffer,h=o.MessageChannel,p=!1;if(u)p=function(e){c(e,{transfer:[e]})};else if(d)try{h||(i=l("worker_threads"))&&(h=i.MessageChannel),h&&(r=new h,a=new d(2),s=function(e){r.port1.postMessage(null,[e])},2===a.byteLength&&(s(a),0===a.byteLength&&(p=s)))}catch(e){}e.exports=p},4602:e=>{"use strict";var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},2848:(e,t,n)=>{"use strict";var i=n(1186),r=n(2845),a=i.document,s=r(a)&&r(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},1544:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},9177:e=>{"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},7751:e=>{"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6589:(e,t,n)=>{"use strict";var i=n(2848)("span").classList,r=i&&i.constructor&&i.constructor.prototype;e.exports=r===Object.prototype?void 0:r},3881:(e,t,n)=>{"use strict";var i=n(3075).match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},9373:(e,t,n)=>{"use strict";var i=n(137),r=n(1301);e.exports=!i&&!r&&"object"==typeof window&&"object"==typeof document},596:e=>{"use strict";e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},137:e=>{"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},2535:(e,t,n)=>{"use strict";var i=n(3075);e.exports=/MSIE|Trident/.test(i)},1365:(e,t,n)=>{"use strict";var i=n(3075);e.exports=/ipad|iphone|ipod/i.test(i)&&"undefined"!=typeof Pebble},6444:(e,t,n)=>{"use strict";var i=n(3075);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},1301:(e,t,n)=>{"use strict";var i=n(1186),r=n(383);e.exports="process"===r(i.process)},6336:(e,t,n)=>{"use strict";var i=n(3075);e.exports=/web0s(?!.*chrome)/i.test(i)},3075:e=>{"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},4307:(e,t,n)=>{"use strict";var i,r,a=n(1186),s=n(3075),o=a.process,l=a.Deno,u=o&&o.versions||l&&l.version,c=u&&u.v8;c&&(r=(i=c.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},6923:(e,t,n)=>{"use strict";var i=n(3075).match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},3944:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},4658:(e,t,n)=>{"use strict";var i=n(4627),r=Error,a=i("".replace),s=String(new r("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(s);e.exports=function(e,t){if(l&&"string"==typeof e&&!r.prepareStackTrace)for(;t--;)e=a(e,o,"");return e}},796:(e,t,n)=>{"use strict";var i=n(8890),r=n(4658),a=n(3616),s=Error.captureStackTrace;e.exports=function(e,t,n,o){a&&(s?s(e,t):i(e,"stack",r(n,o)))}},3616:(e,t,n)=>{"use strict";var i=n(4476),r=n(3033);e.exports=!i((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},5651:(e,t,n)=>{"use strict";var i=n(1186),r=n(6614).f,a=n(8890),s=n(359),o=n(1188),l=n(2891),u=n(5847);e.exports=function(e,t){var n,c,d,h,p,v=e.target,m=e.global,_=e.stat;if(n=m?i:_?i[v]||o(v,{}):(i[v]||{}).prototype)for(c in t){if(h=t[c],d=e.dontCallGetSet?(p=r(n,c))&&p.value:n[c],!u(m?c:v+(_?".":"#")+c,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&a(h,"sham",!0),s(n,c,h,e)}}},4476:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},3981:(e,t,n)=>{"use strict";n(2358);var i=n(6905),r=n(359),a=n(8724),s=n(4476),o=n(6216),l=n(8890),u=o("species"),c=RegExp.prototype;e.exports=function(e,t,n,d){var h=o(e),p=!s((function(){var t={};return t[h]=function(){return 7},7!==""[e](t)})),v=p&&!s((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!p||!v||n){var m=i(/./[h]),_=t(h,""[e],(function(e,t,n,r,s){var o=i(e),l=t.exec;return l===a||l===c.exec?p&&!s?{done:!0,value:m(t,n,r)}:{done:!0,value:o(n,t,r)}:{done:!1}}));r(String.prototype,e,_[0]),r(c,h,_[1])}d&&l(c[h],"sham",!0)}},4102:(e,t,n)=>{"use strict";var i=n(2497),r=n(1279),a=n(1544),s=n(5319),o=function(e,t,n,l,u,c,d,h){for(var p,v,m=u,_=0,f=!!d&&s(d,h);_<l;)_ in n&&(p=f?f(n[_],_,t):n[_],c>0&&i(p)?(v=r(p),m=o(e,t,p,v,m,c-1)-1):(a(m+1),e[m]=p),m++),_++;return m};e.exports=o},3240:(e,t,n)=>{"use strict";var i=n(8097),r=Function.prototype,a=r.apply,s=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?s.bind(a):function(){return s.apply(a,arguments)})},5319:(e,t,n)=>{"use strict";var i=n(6905),r=n(3727),a=n(8097),s=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:a?s(e,t):function(){return e.apply(t,arguments)}}},8097:(e,t,n)=>{"use strict";var i=n(4476);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7098:(e,t,n)=>{"use strict";var i=n(8097),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},4737:(e,t,n)=>{"use strict";var i=n(1271),r=n(188),a=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,o=r(a,"name"),l=o&&"something"===function(){}.name,u=o&&(!i||i&&s(a,"name").configurable);e.exports={EXISTS:o,PROPER:l,CONFIGURABLE:u}},4767:(e,t,n)=>{"use strict";var i=n(4627),r=n(3727);e.exports=function(e,t,n){try{return i(r(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},6905:(e,t,n)=>{"use strict";var i=n(383),r=n(4627);e.exports=function(e){if("Function"===i(e))return r(e)}},4627:(e,t,n)=>{"use strict";var i=n(8097),r=Function.prototype,a=r.call,s=i&&r.bind.bind(a,a);e.exports=i?s:function(e){return function(){return a.apply(e,arguments)}}},2078:(e,t,n)=>{"use strict";var i=n(1186),r=n(2954);e.exports=function(e,t){return arguments.length<2?(n=i[e],r(n)?n:void 0):i[e]&&i[e][t];var n}},4692:e=>{"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},1480:(e,t,n)=>{"use strict";var i=n(7404),r=n(1463),a=n(400),s=n(5166),o=n(6216)("iterator");e.exports=function(e){if(!a(e))return r(e,o)||r(e,"@@iterator")||s[i(e)]}},2156:(e,t,n)=>{"use strict";var i=n(7098),r=n(3727),a=n(2816),s=n(6832),o=n(1480),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?o(e):t;if(r(n))return a(i(n,e));throw new l(s(e)+" is not iterable")}},9776:(e,t,n)=>{"use strict";var i=n(4627),r=n(2497),a=n(2954),s=n(383),o=n(9376),l=i([].push);e.exports=function(e){if(a(e))return e;if(r(e)){for(var t=e.length,n=[],i=0;i<t;i++){var u=e[i];"string"==typeof u?l(n,u):"number"!=typeof u&&"Number"!==s(u)&&"String"!==s(u)||l(n,o(u))}var c=n.length,d=!0;return function(e,t){if(d)return d=!1,t;if(r(this))return t;for(var i=0;i<c;i++)if(n[i]===e)return t}}}},1463:(e,t,n)=>{"use strict";var i=n(3727),r=n(400);e.exports=function(e,t){var n=e[t];return r(n)?void 0:i(n)}},9244:(e,t,n)=>{"use strict";var i=n(3727),r=n(2816),a=n(7098),s=n(9546),o=n(4692),l="Invalid size",u=RangeError,c=TypeError,d=Math.max,h=function(e,t,n,i){this.set=e,this.size=t,this.has=n,this.keys=i};h.prototype={getIterator:function(){return o(r(a(this.keys,this.set)))},includes:function(e){return a(this.has,this.set,e)}},e.exports=function(e){r(e);var t=+e.size;if(t!=t)throw new c(l);var n=s(t);if(n<0)throw new u(l);return new h(e,d(n,0),i(e.has),i(e.keys))}},151:(e,t,n)=>{"use strict";var i=n(4627),r=n(5090),a=Math.floor,s=i("".charAt),o=i("".replace),l=i("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,i,d,h){var p=n+e.length,v=i.length,m=c;return void 0!==d&&(d=r(d),m=u),o(h,m,(function(r,o){var u;switch(s(o,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,p);case"<":u=d[l(o,1,-1)];break;default:var c=+o;if(0===c)return r;if(c>v){var h=a(c/10);return 0===h?r:h<=v?void 0===i[h-1]?s(o,1):i[h-1]+s(o,1):r}u=i[c-1]}return void 0===u?"":u}))}},1186:function(e,t,n){"use strict";var i=function(e){return e&&e.Math===Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},188:(e,t,n)=>{"use strict";var i=n(4627),r=n(5090),a=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(r(e),t)}},6562:e=>{"use strict";e.exports={}},5408:e=>{"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},1872:(e,t,n)=>{"use strict";var i=n(2078);e.exports=i("document","documentElement")},1664:(e,t,n)=>{"use strict";var i=n(1271),r=n(4476),a=n(2848);e.exports=!i&&!r((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1106:(e,t,n)=>{"use strict";var i=n(4627),r=n(4476),a=n(383),s=Object,o=i("".split);e.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?o(e,""):s(e)}:s},3220:(e,t,n)=>{"use strict";var i=n(2954),r=n(2845),a=n(7896);e.exports=function(e,t,n){var s,o;return a&&i(s=t.constructor)&&s!==n&&r(o=s.prototype)&&o!==n.prototype&&a(e,o),e}},4551:(e,t,n)=>{"use strict";var i=n(4627),r=n(2954),a=n(6656),s=i(Function.toString);r(a.inspectSource)||(a.inspectSource=function(e){return s(e)}),e.exports=a.inspectSource},3611:(e,t,n)=>{"use strict";var i=n(2845),r=n(8890);e.exports=function(e,t){i(t)&&"cause"in t&&r(e,"cause",t.cause)}},1364:(e,t,n)=>{"use strict";var i,r,a,s=n(7783),o=n(1186),l=n(2845),u=n(8890),c=n(188),d=n(6656),h=n(8682),p=n(6562),v="Object already initialized",m=o.TypeError,_=o.WeakMap;if(s||d.state){var f=d.state||(d.state=new _);f.get=f.get,f.has=f.has,f.set=f.set,i=function(e,t){if(f.has(e))throw new m(v);return t.facade=e,f.set(e,t),t},r=function(e){return f.get(e)||{}},a=function(e){return f.has(e)}}else{var g=h("state");p[g]=!0,i=function(e,t){if(c(e,g))throw new m(v);return t.facade=e,u(e,g,t),t},r=function(e){return c(e,g)?e[g]:{}},a=function(e){return c(e,g)}}e.exports={set:i,get:r,has:a,enforce:function(e){return a(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return n}}}},5876:(e,t,n)=>{"use strict";var i=n(6216),r=n(5166),a=i("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[a]===e)}},2497:(e,t,n)=>{"use strict";var i=n(383);e.exports=Array.isArray||function(e){return"Array"===i(e)}},4094:(e,t,n)=>{"use strict";var i=n(7404);e.exports=function(e){var t=i(e);return"BigInt64Array"===t||"BigUint64Array"===t}},2954:(e,t,n)=>{"use strict";var i=n(4602),r=i.all;e.exports=i.IS_HTMLDDA?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},844:(e,t,n)=>{"use strict";var i=n(4627),r=n(4476),a=n(2954),s=n(7404),o=n(2078),l=n(4551),u=function(){},c=[],d=o("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=i(h.exec),v=!h.test(u),m=function(e){if(!a(e))return!1;try{return d(u,c,e),!0}catch(e){return!1}},_=function(e){if(!a(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return v||!!p(h,l(e))}catch(e){return!0}};_.sham=!0,e.exports=!d||r((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?_:m},5847:(e,t,n)=>{"use strict";var i=n(4476),r=n(2954),a=/#|\.prototype\./,s=function(e,t){var n=l[o(e)];return n===c||n!==u&&(r(t)?i(t):!!t)},o=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=s.data={},u=s.NATIVE="N",c=s.POLYFILL="P";e.exports=s},400:e=>{"use strict";e.exports=function(e){return null==e}},2845:(e,t,n)=>{"use strict";var i=n(2954),r=n(4602),a=r.all;e.exports=r.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:i(e)||e===a}:function(e){return"object"==typeof e?null!==e:i(e)}},8128:e=>{"use strict";e.exports=!1},3511:(e,t,n)=>{"use strict";var i=n(2845),r=n(383),a=n(6216)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"===r(e))}},1578:(e,t,n)=>{"use strict";var i=n(2078),r=n(2954),a=n(6952),s=n(9367),o=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&a(t.prototype,o(e))}},6830:(e,t,n)=>{"use strict";var i=n(7098);e.exports=function(e,t,n){for(var r,a,s=n?e:e.iterator,o=e.next;!(r=i(o,s)).done;)if(void 0!==(a=t(r.value)))return a}},5287:(e,t,n)=>{"use strict";var i=n(5319),r=n(7098),a=n(2816),s=n(6832),o=n(5876),l=n(1279),u=n(6952),c=n(2156),d=n(1480),h=n(8106),p=TypeError,v=function(e,t){this.stopped=e,this.result=t},m=v.prototype;e.exports=function(e,t,n){var _,f,g,y,b,E,w,S=n&&n.that,A=!(!n||!n.AS_ENTRIES),k=!(!n||!n.IS_RECORD),C=!(!n||!n.IS_ITERATOR),P=!(!n||!n.INTERRUPTED),T=i(t,S),I=function(e){return _&&h(_,"normal",e),new v(!0,e)},R=function(e){return A?(a(e),P?T(e[0],e[1],I):T(e[0],e[1])):P?T(e,I):T(e)};if(k)_=e.iterator;else if(C)_=e;else{if(!(f=d(e)))throw new p(s(e)+" is not iterable");if(o(f)){for(g=0,y=l(e);y>g;g++)if((b=R(e[g]))&&u(m,b))return b;return new v(!1)}_=c(e,f)}for(E=k?e.next:_.next;!(w=r(E,_)).done;){try{b=R(w.value)}catch(e){h(_,"throw",e)}if("object"==typeof b&&b&&u(m,b))return b}return new v(!1)}},8106:(e,t,n)=>{"use strict";var i=n(7098),r=n(2816),a=n(1463);e.exports=function(e,t,n){var s,o;r(e);try{if(!(s=a(e,"return"))){if("throw"===t)throw n;return n}s=i(s,e)}catch(e){o=!0,s=e}if("throw"===t)throw n;if(o)throw s;return r(s),n}},4749:(e,t,n)=>{"use strict";var i=n(6268).IteratorPrototype,r=n(3403),a=n(3033),s=n(9640),o=n(5166),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=r(i,{next:a(+!u,n)}),s(e,c,!1,!0),o[c]=l,e}},8199:(e,t,n)=>{"use strict";var i=n(5651),r=n(7098),a=n(8128),s=n(4737),o=n(2954),l=n(4749),u=n(8324),c=n(7896),d=n(9640),h=n(8890),p=n(359),v=n(6216),m=n(5166),_=n(6268),f=s.PROPER,g=s.CONFIGURABLE,y=_.IteratorPrototype,b=_.BUGGY_SAFARI_ITERATORS,E=v("iterator"),w="keys",S="values",A="entries",k=function(){return this};e.exports=function(e,t,n,s,v,_,C){l(n,t,s);var P,T,I,R=function(e){if(e===v&&D)return D;if(!b&&e&&e in O)return O[e];switch(e){case w:case S:case A:return function(){return new n(this,e)}}return function(){return new n(this)}},L=t+" Iterator",x=!1,O=e.prototype,N=O[E]||O["@@iterator"]||v&&O[v],D=!b&&N||R(v),M="Array"===t&&O.entries||N;if(M&&(P=u(M.call(new e)))!==Object.prototype&&P.next&&(a||u(P)===y||(c?c(P,y):o(P[E])||p(P,E,k)),d(P,L,!0,!0),a&&(m[L]=k)),f&&v===S&&N&&N.name!==S&&(!a&&g?h(O,"name",S):(x=!0,D=function(){return r(N,this)})),v)if(T={values:R(S),keys:_?D:R(w),entries:R(A)},C)for(I in T)(b||x||!(I in O))&&p(O,I,T[I]);else i({target:t,proto:!0,forced:b||x},T);return a&&!C||O[E]===D||p(O,E,D,{name:v}),m[t]=D,T}},6268:(e,t,n)=>{"use strict";var i,r,a,s=n(4476),o=n(2954),l=n(2845),u=n(3403),c=n(8324),d=n(359),h=n(6216),p=n(8128),v=h("iterator"),m=!1;[].keys&&("next"in(a=[].keys())?(r=c(c(a)))!==Object.prototype&&(i=r):m=!0),!l(i)||s((function(){var e={};return i[v].call(e)!==e}))?i={}:p&&(i=u(i)),o(i[v])||d(i,v,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:m}},5166:e=>{"use strict";e.exports={}},1279:(e,t,n)=>{"use strict";var i=n(4497);e.exports=function(e){return i(e.length)}},4024:(e,t,n)=>{"use strict";var i=n(4627),r=n(4476),a=n(2954),s=n(188),o=n(1271),l=n(4737).CONFIGURABLE,u=n(4551),c=n(1364),d=c.enforce,h=c.get,p=String,v=Object.defineProperty,m=i("".slice),_=i("".replace),f=i([].join),g=o&&!r((function(){return 8!==v((function(){}),"length",{value:8}).length})),y=String(String).split("String"),b=e.exports=function(e,t,n){"Symbol("===m(p(t),0,7)&&(t="["+_(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(o?v(e,"name",{value:t,configurable:!0}):e.name=t),g&&n&&s(n,"arity")&&e.length!==n.arity&&v(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?o&&v(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=d(e);return s(i,"source")||(i.source=f(y,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return a(this)&&h(this).source||u(this)}),"toString")},3176:e=>{"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?n:t)(i)}},756:(e,t,n)=>{"use strict";var i,r,a,s,o,l=n(1186),u=n(5319),c=n(6614).f,d=n(6496).set,h=n(7050),p=n(6444),v=n(1365),m=n(6336),_=n(1301),f=l.MutationObserver||l.WebKitMutationObserver,g=l.document,y=l.process,b=l.Promise,E=c(l,"queueMicrotask"),w=E&&E.value;if(!w){var S=new h,A=function(){var e,t;for(_&&(e=y.domain)&&e.exit();t=S.get();)try{t()}catch(e){throw S.head&&i(),e}e&&e.enter()};p||_||m||!f||!g?!v&&b&&b.resolve?((s=b.resolve(void 0)).constructor=b,o=u(s.then,s),i=function(){o(A)}):_?i=function(){y.nextTick(A)}:(d=u(d,l),i=function(){d(A)}):(r=!0,a=g.createTextNode(""),new f(A).observe(a,{characterData:!0}),i=function(){a.data=r=!r}),w=function(e){S.head||i(),S.add(e)}}e.exports=w},2862:(e,t,n)=>{"use strict";var i=n(3727),r=TypeError,a=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw new r("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new a(e)}},3808:(e,t,n)=>{"use strict";var i=n(9376);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},4466:(e,t,n)=>{"use strict";var i=n(1271),r=n(4627),a=n(7098),s=n(4476),o=n(731),l=n(1634),u=n(6030),c=n(5090),d=n(1106),h=Object.assign,p=Object.defineProperty,v=r([].concat);e.exports=!h||s((function(){if(i&&1!==h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!==h({},e)[n]||o(h({},t)).join("")!==r}))?function(e,t){for(var n=c(e),r=arguments.length,s=1,h=l.f,p=u.f;r>s;)for(var m,_=d(arguments[s++]),f=h?v(o(_),h(_)):o(_),g=f.length,y=0;g>y;)m=f[y++],i&&!a(p,_,m)||(n[m]=_[m]);return n}:h},3403:(e,t,n)=>{"use strict";var i,r=n(2816),a=n(6284),s=n(3944),o=n(6562),l=n(1872),u=n(2848),c=n(8682),d="prototype",h="script",p=c("IE_PROTO"),v=function(){},m=function(e){return"<"+h+">"+e+"</"+h+">"},_=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;f="undefined"!=typeof document?document.domain&&i?_(i):(t=u("iframe"),n="java"+h+":",t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F):_(i);for(var r=s.length;r--;)delete f[d][s[r]];return f()};o[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[d]=r(e),n=new v,v[d]=null,n[p]=e):n=f(),void 0===t?n:a.f(n,t)}},6284:(e,t,n)=>{"use strict";var i=n(1271),r=n(2117),a=n(7740),s=n(2816),o=n(6862),l=n(731);t.f=i&&!r?Object.defineProperties:function(e,t){s(e);for(var n,i=o(t),r=l(t),u=r.length,c=0;u>c;)a.f(e,n=r[c++],i[n]);return e}},7740:(e,t,n)=>{"use strict";var i=n(1271),r=n(1664),a=n(2117),s=n(2816),o=n(3302),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",p="writable";t.f=i?a?function(e,t,n){if(s(e),t=o(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var i=c(e,t);i&&i[p]&&(e[t]=n.value,n={configurable:h in n?n[h]:i[h],enumerable:d in n?n[d]:i[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(s(e),t=o(t),s(n),r)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},6614:(e,t,n)=>{"use strict";var i=n(1271),r=n(7098),a=n(6030),s=n(3033),o=n(6862),l=n(3302),u=n(188),c=n(1664),d=Object.getOwnPropertyDescriptor;t.f=i?d:function(e,t){if(e=o(e),t=l(t),c)try{return d(e,t)}catch(e){}if(u(e,t))return s(!r(a.f,e,t),e[t])}},3499:(e,t,n)=>{"use strict";var i=n(2469),r=n(3944).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},1634:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},8324:(e,t,n)=>{"use strict";var i=n(188),r=n(2954),a=n(5090),s=n(8682),o=n(1974),l=s("IE_PROTO"),u=Object,c=u.prototype;e.exports=o?u.getPrototypeOf:function(e){var t=a(e);if(i(t,l))return t[l];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},6952:(e,t,n)=>{"use strict";var i=n(4627);e.exports=i({}.isPrototypeOf)},2469:(e,t,n)=>{"use strict";var i=n(4627),r=n(188),a=n(6862),s=n(1716).indexOf,o=n(6562),l=i([].push);e.exports=function(e,t){var n,i=a(e),u=0,c=[];for(n in i)!r(o,n)&&r(i,n)&&l(c,n);for(;t.length>u;)r(i,n=t[u++])&&(~s(c,n)||l(c,n));return c}},731:(e,t,n)=>{"use strict";var i=n(2469),r=n(3944);e.exports=Object.keys||function(e){return i(e,r)}},6030:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},7896:(e,t,n)=>{"use strict";var i=n(4767),r=n(2816),a=n(9755);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=i(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),a(i),t?e(n,i):n.__proto__=i,n}}():void 0)},8085:(e,t,n)=>{"use strict";var i=n(7098),r=n(2954),a=n(2845),s=TypeError;e.exports=function(e,t){var n,o;if("string"===t&&r(n=e.toString)&&!a(o=i(n,e)))return o;if(r(n=e.valueOf)&&!a(o=i(n,e)))return o;if("string"!==t&&r(n=e.toString)&&!a(o=i(n,e)))return o;throw new s("Can't convert object to primitive value")}},402:(e,t,n)=>{"use strict";var i=n(2078),r=n(4627),a=n(3499),s=n(1634),o=n(2816),l=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=a.f(o(e)),n=s.f;return n?l(t,n(e)):t}},3566:(e,t,n)=>{"use strict";var i=n(1186);e.exports=i},4804:e=>{"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9391:(e,t,n)=>{"use strict";var i=n(1186),r=n(1639),a=n(2954),s=n(5847),o=n(4551),l=n(6216),u=n(9373),c=n(137),d=n(8128),h=n(4307),p=r&&r.prototype,v=l("species"),m=!1,_=a(i.PromiseRejectionEvent),f=s("Promise",(function(){var e=o(r),t=e!==String(r);if(!t&&66===h)return!0;if(d&&(!p.catch||!p.finally))return!0;if(!h||h<51||!/native code/.test(e)){var n=new r((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};if((n.constructor={})[v]=i,!(m=n.then((function(){}))instanceof i))return!0}return!t&&(u||c)&&!_}));e.exports={CONSTRUCTOR:f,REJECTION_EVENT:_,SUBCLASSING:m}},1639:(e,t,n)=>{"use strict";var i=n(1186);e.exports=i.Promise},4289:(e,t,n)=>{"use strict";var i=n(2816),r=n(2845),a=n(2862);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},7090:(e,t,n)=>{"use strict";var i=n(1639),r=n(2841),a=n(9391).CONSTRUCTOR;e.exports=a||!r((function(e){i.all(e).then(void 0,(function(){}))}))},2509:(e,t,n)=>{"use strict";var i=n(7740).f;e.exports=function(e,t,n){n in e||i(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},7050:e=>{"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},5835:(e,t,n)=>{"use strict";var i=n(7098),r=n(2816),a=n(2954),s=n(383),o=n(8724),l=TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var u=i(n,e,t);return null!==u&&r(u),u}if("RegExp"===s(e))return i(o,e,t);throw new l("RegExp#exec called on incompatible receiver")}},8724:(e,t,n)=>{"use strict";var i,r,a=n(7098),s=n(4627),o=n(9376),l=n(4982),u=n(7830),c=n(9960),d=n(3403),h=n(1364).get,p=n(9590),v=n(2771),m=c("native-string-replace",String.prototype.replace),_=RegExp.prototype.exec,f=_,g=s("".charAt),y=s("".indexOf),b=s("".replace),E=s("".slice),w=(r=/b*/g,a(_,i=/a/,"a"),a(_,r,"a"),0!==i.lastIndex||0!==r.lastIndex),S=u.BROKEN_CARET,A=void 0!==/()??/.exec("")[1];(w||A||S||p||v)&&(f=function(e){var t,n,i,r,s,u,c,p=this,v=h(p),k=o(e),C=v.raw;if(C)return C.lastIndex=p.lastIndex,t=a(f,C,k),p.lastIndex=C.lastIndex,t;var P=v.groups,T=S&&p.sticky,I=a(l,p),R=p.source,L=0,x=k;if(T&&(I=b(I,"y",""),-1===y(I,"g")&&(I+="g"),x=E(k,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==g(k,p.lastIndex-1))&&(R="(?: "+R+")",x=" "+x,L++),n=new RegExp("^(?:"+R+")",I)),A&&(n=new RegExp("^"+R+"$(?!\\s)",I)),w&&(i=p.lastIndex),r=a(_,T?n:p,x),T?r?(r.input=E(r.input,L),r[0]=E(r[0],L),r.index=p.lastIndex,p.lastIndex+=r[0].length):p.lastIndex=0:w&&r&&(p.lastIndex=p.global?r.index+r[0].length:i),A&&r&&r.length>1&&a(m,r[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r&&P)for(r.groups=u=d(null),s=0;s<P.length;s++)u[(c=P[s])[0]]=r[c[1]];return r}),e.exports=f},4982:(e,t,n)=>{"use strict";var i=n(2816);e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},8775:(e,t,n)=>{"use strict";var i=n(7098),r=n(188),a=n(6952),s=n(4982),o=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in o||r(e,"flags")||!a(o,e)?t:i(s,e)}},7830:(e,t,n)=>{"use strict";var i=n(4476),r=n(1186).RegExp,a=i((function(){var e=r("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),s=a||i((function(){return!r("a","y").sticky})),o=a||i((function(){var e=r("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:s,UNSUPPORTED_Y:a}},9590:(e,t,n)=>{"use strict";var i=n(4476),r=n(1186).RegExp;e.exports=i((function(){var e=r(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},2771:(e,t,n)=>{"use strict";var i=n(4476),r=n(1186).RegExp;e.exports=i((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},5743:(e,t,n)=>{"use strict";var i=n(400),r=TypeError;e.exports=function(e){if(i(e))throw new r("Can't call method on "+e);return e}},5925:(e,t,n)=>{"use strict";var i,r=n(1186),a=n(3240),s=n(2954),o=n(596),l=n(3075),u=n(6147),c=n(8003),d=r.Function,h=/MSIE .\./.test(l)||o&&((i=r.Bun.version.split(".")).length<3||"0"===i[0]&&(i[1]<3||"3"===i[1]&&"0"===i[2]));e.exports=function(e,t){var n=t?2:1;return h?function(i,r){var o=c(arguments.length,1)>n,l=s(i)?i:d(i),h=o?u(arguments,n):[],p=o?function(){a(l,this,h)}:l;return t?e(p,r):e(p)}:e}},2977:(e,t,n)=>{"use strict";var i=n(2585),r=n(6786),a=i.Set,s=i.add;e.exports=function(e){var t=new a;return r(e,(function(e){s(t,e)})),t}},5825:(e,t,n)=>{"use strict";var i=n(1455),r=n(2585),a=n(2977),s=n(335),o=n(9244),l=n(6786),u=n(6830),c=r.has,d=r.remove;e.exports=function(e){var t=i(this),n=o(e),r=a(t);return s(t)<=n.size?l(t,(function(e){n.includes(e)&&d(r,e)})):u(n.getIterator(),(function(e){c(t,e)&&d(r,e)})),r}},2585:(e,t,n)=>{"use strict";var i=n(4627),r=Set.prototype;e.exports={Set:Set,add:i(r.add),has:i(r.has),remove:i(r.delete),proto:r}},8163:(e,t,n)=>{"use strict";var i=n(1455),r=n(2585),a=n(335),s=n(9244),o=n(6786),l=n(6830),u=r.Set,c=r.add,d=r.has;e.exports=function(e){var t=i(this),n=s(e),r=new u;return a(t)>n.size?l(n.getIterator(),(function(e){d(t,e)&&c(r,e)})):o(t,(function(e){n.includes(e)&&c(r,e)})),r}},8852:(e,t,n)=>{"use strict";var i=n(1455),r=n(2585).has,a=n(335),s=n(9244),o=n(6786),l=n(6830),u=n(8106);e.exports=function(e){var t=i(this),n=s(e);if(a(t)<=n.size)return!1!==o(t,(function(e){if(n.includes(e))return!1}),!0);var c=n.getIterator();return!1!==l(c,(function(e){if(r(t,e))return u(c,"normal",!1)}))}},8547:(e,t,n)=>{"use strict";var i=n(1455),r=n(335),a=n(6786),s=n(9244);e.exports=function(e){var t=i(this),n=s(e);return!(r(t)>n.size)&&!1!==a(t,(function(e){if(!n.includes(e))return!1}),!0)}},6994:(e,t,n)=>{"use strict";var i=n(1455),r=n(2585).has,a=n(335),s=n(9244),o=n(6830),l=n(8106);e.exports=function(e){var t=i(this),n=s(e);if(a(t)<n.size)return!1;var u=n.getIterator();return!1!==o(u,(function(e){if(!r(t,e))return l(u,"normal",!1)}))}},6786:(e,t,n)=>{"use strict";var i=n(4627),r=n(6830),a=n(2585),s=a.Set,o=a.proto,l=i(o.forEach),u=i(o.keys),c=u(new s).next;e.exports=function(e,t,n){return n?r({iterator:u(e),next:c},t):l(e,t)}},69:(e,t,n)=>{"use strict";var i=n(2078),r=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=i("Set");try{(new t)[e](r(0));try{return(new t)[e](r(-1)),!1}catch(e){return!0}}catch(e){return!1}}},335:(e,t,n)=>{"use strict";var i=n(4767),r=n(2585);e.exports=i(r.proto,"size","get")||function(e){return e.size}},7902:(e,t,n)=>{"use strict";var i=n(2078),r=n(9171),a=n(6216),s=n(1271),o=a("species");e.exports=function(e){var t=i(e);s&&t&&!t[o]&&r(t,o,{configurable:!0,get:function(){return this}})}},483:(e,t,n)=>{"use strict";var i=n(1455),r=n(2585),a=n(2977),s=n(9244),o=n(6830),l=r.add,u=r.has,c=r.remove;e.exports=function(e){var t=i(this),n=s(e).getIterator(),r=a(t);return o(n,(function(e){u(t,e)?c(r,e):l(r,e)})),r}},9640:(e,t,n)=>{"use strict";var i=n(7740).f,r=n(188),a=n(6216)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!r(e,a)&&i(e,a,{configurable:!0,value:t})}},5671:(e,t,n)=>{"use strict";var i=n(1455),r=n(2585).add,a=n(2977),s=n(9244),o=n(6830);e.exports=function(e){var t=i(this),n=s(e).getIterator(),l=a(t);return o(n,(function(e){r(l,e)})),l}},8682:(e,t,n)=>{"use strict";var i=n(9960),r=n(3139),a=i("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},6656:(e,t,n)=>{"use strict";var i=n(1186),r=n(1188),a="__core-js_shared__",s=i[a]||r(a,{});e.exports=s},9960:(e,t,n)=>{"use strict";var i=n(8128),r=n(6656);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.33.3",mode:i?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"})},2546:(e,t,n)=>{"use strict";var i=n(2816),r=n(5611),a=n(400),s=n(6216)("species");e.exports=function(e,t){var n,o=i(e).constructor;return void 0===o||a(n=i(o)[s])?t:r(n)}},2414:(e,t,n)=>{"use strict";var i=n(4627),r=n(9546),a=n(9376),s=n(5743),o=i("".charAt),l=i("".charCodeAt),u=i("".slice),c=function(e){return function(t,n){var i,c,d=a(s(t)),h=r(n),p=d.length;return h<0||h>=p?e?"":void 0:(i=l(d,h))<55296||i>56319||h+1===p||(c=l(d,h+1))<56320||c>57343?e?o(d,h):i:e?u(d,h,h+2):c-56320+(i-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},836:(e,t,n)=>{"use strict";var i=n(3075);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(i)},3404:(e,t,n)=>{"use strict";var i=n(4627),r=n(4497),a=n(9376),s=n(7794),o=n(5743),l=i(s),u=i("".slice),c=Math.ceil,d=function(e){return function(t,n,i){var s,d,h=a(o(t)),p=r(n),v=h.length,m=void 0===i?" ":a(i);return p<=v||""===m?h:((d=l(m,c((s=p-v)/m.length))).length>s&&(d=u(d,0,s)),e?h+d:d+h)}};e.exports={start:d(!1),end:d(!0)}},276:(e,t,n)=>{"use strict";var i=n(4627),r=2147483647,a=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",l=RangeError,u=i(s.exec),c=Math.floor,d=String.fromCharCode,h=i("".charCodeAt),p=i([].join),v=i([].push),m=i("".replace),_=i("".split),f=i("".toLowerCase),g=function(e){return e+22+75*(e<26)},y=function(e,t,n){var i=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;)e=c(e/35),i+=36;return c(i+36*e/(e+38))},b=function(e){var t=[];e=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=h(e,n++);if(r>=55296&&r<=56319&&n<i){var a=h(e,n++);56320==(64512&a)?v(t,((1023&r)<<10)+(1023&a)+65536):(v(t,r),n--)}else v(t,r)}return t}(e);var n,i,a=e.length,s=128,u=0,m=72;for(n=0;n<e.length;n++)(i=e[n])<128&&v(t,d(i));var _=t.length,f=_;for(_&&v(t,"-");f<a;){var b=r;for(n=0;n<e.length;n++)(i=e[n])>=s&&i<b&&(b=i);var E=f+1;if(b-s>c((r-u)/E))throw new l(o);for(u+=(b-s)*E,s=b,n=0;n<e.length;n++){if((i=e[n])<s&&++u>r)throw new l(o);if(i===s){for(var w=u,S=36;;){var A=S<=m?1:S>=m+26?26:S-m;if(w<A)break;var k=w-A,C=36-A;v(t,d(g(A+k%C))),w=c(k/C),S+=36}v(t,d(g(w))),m=y(u,E,f===_),u=0,f++}}u++,s++}return p(t,"")};e.exports=function(e){var t,n,i=[],r=_(m(f(e),s,"."),".");for(t=0;t<r.length;t++)n=r[t],v(i,u(a,n)?"xn--"+b(n):n);return p(i,".")}},7794:(e,t,n)=>{"use strict";var i=n(9546),r=n(9376),a=n(5743),s=RangeError;e.exports=function(e){var t=r(a(this)),n="",o=i(e);if(o<0||o===1/0)throw new s("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},3449:(e,t,n)=>{"use strict";var i=n(7321).end,r=n(5560);e.exports=r("trimEnd")?function(){return i(this)}:"".trimEnd},5560:(e,t,n)=>{"use strict";var i=n(4737).PROPER,r=n(4476),a=n(7179);e.exports=function(e){return r((function(){return!!a[e]()||"â€‹Â…á Ž"!=="â€‹Â…á Ž"[e]()||i&&a[e].name!==e}))}},664:(e,t,n)=>{"use strict";var i=n(7321).start,r=n(5560);e.exports=r("trimStart")?function(){return i(this)}:"".trimStart},7321:(e,t,n)=>{"use strict";var i=n(4627),r=n(5743),a=n(9376),s=n(7179),o=i("".replace),l=RegExp("^["+s+"]+"),u=RegExp("(^|[^"+s+"])["+s+"]+$"),c=function(e){return function(t){var n=a(r(t));return 1&e&&(n=o(n,l,"")),2&e&&(n=o(n,u,"$1")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},9173:(e,t,n)=>{"use strict";var i=n(1186),r=n(4476),a=n(4307),s=n(9373),o=n(137),l=n(1301),u=i.structuredClone;e.exports=!!u&&!r((function(){if(o&&a>92||l&&a>94||s&&a>97)return!1;var e=new ArrayBuffer(8),t=u(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},1462:(e,t,n)=>{"use strict";var i=n(4307),r=n(4476),a=n(1186).String;e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},6496:(e,t,n)=>{"use strict";var i,r,a,s,o=n(1186),l=n(3240),u=n(5319),c=n(2954),d=n(188),h=n(4476),p=n(1872),v=n(6147),m=n(2848),_=n(8003),f=n(6444),g=n(1301),y=o.setImmediate,b=o.clearImmediate,E=o.process,w=o.Dispatch,S=o.Function,A=o.MessageChannel,k=o.String,C=0,P={},T="onreadystatechange";h((function(){i=o.location}));var I=function(e){if(d(P,e)){var t=P[e];delete P[e],t()}},R=function(e){return function(){I(e)}},L=function(e){I(e.data)},x=function(e){o.postMessage(k(e),i.protocol+"//"+i.host)};y&&b||(y=function(e){_(arguments.length,1);var t=c(e)?e:S(e),n=v(arguments,1);return P[++C]=function(){l(t,void 0,n)},r(C),C},b=function(e){delete P[e]},g?r=function(e){E.nextTick(R(e))}:w&&w.now?r=function(e){w.now(R(e))}:A&&!f?(s=(a=new A).port2,a.port1.onmessage=L,r=u(s.postMessage,s)):o.addEventListener&&c(o.postMessage)&&!o.importScripts&&i&&"file:"!==i.protocol&&!h(x)?(r=x,o.addEventListener("message",L,!1)):r=T in m("script")?function(e){p.appendChild(m("script"))[T]=function(){p.removeChild(this),I(e)}}:function(e){setTimeout(R(e),0)}),e.exports={set:y,clear:b}},9233:(e,t,n)=>{"use strict";var i=n(9546),r=Math.max,a=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):a(n,t)}},75:(e,t,n)=>{"use strict";var i=n(9436),r=TypeError;e.exports=function(e){var t=i(e,"number");if("number"==typeof t)throw new r("Can't convert number to bigint");return BigInt(t)}},3785:(e,t,n)=>{"use strict";var i=n(9546),r=n(4497),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw new a("Wrong length or index");return n}},6862:(e,t,n)=>{"use strict";var i=n(1106),r=n(5743);e.exports=function(e){return i(r(e))}},9546:(e,t,n)=>{"use strict";var i=n(3176);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},4497:(e,t,n)=>{"use strict";var i=n(9546),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},5090:(e,t,n)=>{"use strict";var i=n(5743),r=Object;e.exports=function(e){return r(i(e))}},2214:(e,t,n)=>{"use strict";var i=n(1305),r=RangeError;e.exports=function(e,t){var n=i(e);if(n%t)throw new r("Wrong offset");return n}},1305:(e,t,n)=>{"use strict";var i=n(9546),r=RangeError;e.exports=function(e){var t=i(e);if(t<0)throw new r("The argument can't be less than 0");return t}},9436:(e,t,n)=>{"use strict";var i=n(7098),r=n(2845),a=n(1578),s=n(1463),o=n(8085),l=n(6216),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!r(e)||a(e))return e;var n,l=s(e,c);if(l){if(void 0===t&&(t="default"),n=i(l,e,t),!r(n)||a(n))return n;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},3302:(e,t,n)=>{"use strict";var i=n(9436),r=n(1578);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},9119:(e,t,n)=>{"use strict";var i={};i[n(6216)("toStringTag")]="z",e.exports="[object z]"===String(i)},9376:(e,t,n)=>{"use strict";var i=n(7404),r=String;e.exports=function(e){if("Symbol"===i(e))throw new TypeError("Cannot convert a Symbol value to a string");return r(e)}},4043:(e,t,n)=>{"use strict";var i=n(1301);e.exports=function(e){try{if(i)return Function('return require("'+e+'")')()}catch(e){}}},6832:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},3139:(e,t,n)=>{"use strict";var i=n(4627),r=0,a=Math.random(),s=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++r+a,36)}},935:(e,t,n)=>{"use strict";var i=n(4476),r=n(6216),a=n(1271),s=n(8128),o=r("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),i="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),i+=n+e})),n.delete("a",2),n.delete("b",void 0),s&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(s||!a)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://Ñ‚ÐµÑÑ‚").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host}))},9367:(e,t,n)=>{"use strict";var i=n(1462);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2117:(e,t,n)=>{"use strict";var i=n(1271),r=n(4476);e.exports=i&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8003:e=>{"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},7783:(e,t,n)=>{"use strict";var i=n(1186),r=n(2954),a=i.WeakMap;e.exports=r(a)&&/native code/.test(String(a))},3006:(e,t,n)=>{"use strict";var i=n(3566),r=n(188),a=n(256),s=n(7740).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||s(t,e,{value:a.f(e)})}},256:(e,t,n)=>{"use strict";var i=n(6216);t.f=i},6216:(e,t,n)=>{"use strict";var i=n(1186),r=n(9960),a=n(188),s=n(3139),o=n(1462),l=n(9367),u=i.Symbol,c=r("wks"),d=l?u.for||u:u&&u.withoutSetter||s;e.exports=function(e){return a(c,e)||(c[e]=o&&a(u,e)?u[e]:d("Symbol."+e)),c[e]}},7179:e=>{"use strict";e.exports="\t\n\v\f\r Â áš€â€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"},6958:(e,t,n)=>{"use strict";var i=n(2078),r=n(188),a=n(8890),s=n(6952),o=n(7896),l=n(2891),u=n(2509),c=n(3220),d=n(3808),h=n(3611),p=n(796),v=n(1271),m=n(8128);e.exports=function(e,t,n,_){var f="stackTraceLimit",g=_?2:1,y=e.split("."),b=y[y.length-1],E=i.apply(null,y);if(E){var w=E.prototype;if(!m&&r(w,"cause")&&delete w.cause,!n)return E;var S=i("Error"),A=t((function(e,t){var n=d(_?t:e,void 0),i=_?new E(e):new E;return void 0!==n&&a(i,"message",n),p(i,A,i.stack,2),this&&s(w,this)&&c(i,this,A),arguments.length>g&&h(i,arguments[g]),i}));if(A.prototype=w,"Error"!==b?o?o(A,S):l(A,S,{name:!0}):v&&f in E&&(u(A,E,f),u(A,E,"prepareStackTrace")),l(A,E),!m)try{w.name!==b&&a(w,"name",b),w.constructor=A}catch(e){}return A}}},9024:(e,t,n)=>{"use strict";var i=n(5651),r=n(5090),a=n(1279),s=n(9546),o=n(6780);i({target:"Array",proto:!0},{at:function(e){var t=r(this),n=a(t),i=s(e),o=i>=0?i:n+i;return o<0||o>=n?void 0:t[o]}}),o("at")},2946:(e,t,n)=>{"use strict";var i=n(5651),r=n(1428).findLastIndex,a=n(6780);i({target:"Array",proto:!0},{findLastIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLastIndex")},9139:(e,t,n)=>{"use strict";var i=n(5651),r=n(1428).findLast,a=n(6780);i({target:"Array",proto:!0},{findLast:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLast")},7877:(e,t,n)=>{"use strict";var i=n(5651),r=n(4102),a=n(3727),s=n(5090),o=n(1279),l=n(1912);i({target:"Array",proto:!0},{flatMap:function(e){var t,n=s(this),i=o(n);return a(e),(t=l(n,0)).length=r(t,n,n,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},2195:(e,t,n)=>{"use strict";var i=n(6862),r=n(6780),a=n(5166),s=n(1364),o=n(7740).f,l=n(8199),u=n(1278),c=n(8128),d=n(1271),h="Array Iterator",p=s.set,v=s.getterFor(h);e.exports=l(Array,"Array",(function(e,t){p(this,{type:h,target:i(e),index:0,kind:t})}),(function(){var e=v(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,u(void 0,!0);switch(e.kind){case"keys":return u(n,!1);case"values":return u(t[n],!1)}return u([n,t[n]],!1)}),"values");var m=a.Arguments=a.Array;if(r("keys"),r("values"),r("entries"),!c&&d&&"values"!==m.name)try{o(m,"name",{value:"values"})}catch(e){}},4401:(e,t,n)=>{"use strict";var i=n(5651),r=n(5090),a=n(1279),s=n(6586),o=n(1544);i({target:"Array",proto:!0,arity:1,forced:n(4476)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=r(this),n=a(t),i=arguments.length;o(n+i);for(var l=0;l<i;l++)t[n]=arguments[l],n++;return s(t,n),n}})},5564:(e,t,n)=>{"use strict";var i=n(5651),r=n(4067).right,a=n(4439),s=n(4307);i({target:"Array",proto:!0,forced:!n(1301)&&s>79&&s<83||!a("reduceRight")},{reduceRight:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},8995:(e,t,n)=>{"use strict";var i=n(5651),r=n(4067).left,a=n(4439),s=n(4307);i({target:"Array",proto:!0,forced:!n(1301)&&s>79&&s<83||!a("reduce")},{reduce:function(e){var t=arguments.length;return r(this,e,t,t>1?arguments[1]:void 0)}})},5745:(e,t,n)=>{"use strict";var i=n(5651),r=n(4627),a=n(3727),s=n(5090),o=n(1279),l=n(6519),u=n(9376),c=n(4476),d=n(9441),h=n(4439),p=n(3881),v=n(2535),m=n(4307),_=n(6923),f=[],g=r(f.sort),y=r(f.push),b=c((function(){f.sort(void 0)})),E=c((function(){f.sort(null)})),w=h("sort"),S=!c((function(){if(m)return m<70;if(!(p&&p>3)){if(v)return!0;if(_)return _<603;var e,t,n,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)f.push({k:t+i,v:n})}for(f.sort((function(e,t){return t.v-e.v})),i=0;i<f.length;i++)t=f[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));i({target:"Array",proto:!0,forced:b||!E||!w||!S},{sort:function(e){void 0!==e&&a(e);var t=s(this);if(S)return void 0===e?g(t):g(t,e);var n,i,r=[],c=o(t);for(i=0;i<c;i++)i in t&&y(r,t[i]);for(d(r,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}}(e)),n=o(r),i=0;i<n;)t[i]=r[i++];for(;i<c;)l(t,i++);return t}})},1086:(e,t,n)=>{"use strict";n(6780)("flatMap")},4924:(e,t,n)=>{"use strict";var i=n(5651),r=n(5090),a=n(1279),s=n(6586),o=n(6519),l=n(1544);i({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=r(this),n=a(t),i=arguments.length;if(i){l(n+i);for(var u=n;u--;){var c=u+i;u in t?t[c]=t[u]:o(t,c)}for(var d=0;d<i;d++)t[d]=arguments[d]}return s(t,n+i)}})},7293:(e,t,n)=>{"use strict";var i=n(5651),r=n(1186),a=n(3240),s=n(6958),o="WebAssembly",l=r[o],u=7!==new Error("e",{cause:7}).cause,c=function(e,t){var n={};n[e]=s(e,t,u),i({global:!0,constructor:!0,arity:1,forced:u},n)},d=function(e,t){if(l&&l[e]){var n={};n[e]=s(o+"."+e,t,u),i({target:o,stat:!0,constructor:!0,arity:1,forced:u},n)}};c("Error",(function(e){return function(t){return a(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),c("URIError",(function(e){return function(t){return a(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},9928:(e,t,n)=>{"use strict";var i=n(5651),r=n(1186);i({global:!0,forced:r.globalThis!==r},{globalThis:r})},4233:(e,t,n)=>{"use strict";var i=n(5651),r=n(2078),a=n(3240),s=n(7098),o=n(4627),l=n(4476),u=n(2954),c=n(1578),d=n(6147),h=n(9776),p=n(1462),v=String,m=r("JSON","stringify"),_=o(/./.exec),f=o("".charAt),g=o("".charCodeAt),y=o("".replace),b=o(1..toString),E=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,A=!p||l((function(){var e=r("Symbol")("stringify detection");return"[null]"!==m([e])||"{}"!==m({a:e})||"{}"!==m(Object(e))})),k=l((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),C=function(e,t){var n=d(arguments),i=h(t);if(u(i)||void 0!==e&&!c(e))return n[1]=function(e,t){if(u(i)&&(t=s(i,this,v(e),t)),!c(t))return t},a(m,null,n)},P=function(e,t,n){var i=f(n,t-1),r=f(n,t+1);return _(w,e)&&!_(S,r)||_(S,e)&&!_(w,i)?"\\u"+b(g(e,0),16):e};m&&i({target:"JSON",stat:!0,arity:3,forced:A||k},{stringify:function(e,t,n){var i=d(arguments),r=a(A?C:m,null,i);return k&&"string"==typeof r?y(r,E,P):r}})},4992:(e,t,n)=>{"use strict";var i=n(5651),r=n(5287),a=n(4631);i({target:"Object",stat:!0},{fromEntries:function(e){var t={};return r(e,(function(e,n){a(t,e,n)}),{AS_ENTRIES:!0}),t}})},3110:(e,t,n)=>{"use strict";var i=n(5651),r=n(7098),a=n(3727),s=n(2862),o=n(4804),l=n(5287);i({target:"Promise",stat:!0,forced:n(7090)},{all:function(e){var t=this,n=s.f(t),i=n.resolve,u=n.reject,c=o((function(){var n=a(t.resolve),s=[],o=0,c=1;l(e,(function(e){var a=o++,l=!1;c++,r(n,t,e).then((function(e){l||(l=!0,s[a]=e,--c||i(s))}),u)})),--c||i(s)}));return c.error&&u(c.value),n.promise}})},2218:(e,t,n)=>{"use strict";var i=n(5651),r=n(8128),a=n(9391).CONSTRUCTOR,s=n(1639),o=n(2078),l=n(2954),u=n(359),c=s&&s.prototype;if(i({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!r&&l(s)){var d=o("Promise").prototype.catch;c.catch!==d&&u(c,"catch",d,{unsafe:!0})}},5617:(e,t,n)=>{"use strict";var i,r,a,s=n(5651),o=n(8128),l=n(1301),u=n(1186),c=n(7098),d=n(359),h=n(7896),p=n(9640),v=n(7902),m=n(3727),_=n(2954),f=n(2845),g=n(8108),y=n(2546),b=n(6496).set,E=n(756),w=n(5408),S=n(4804),A=n(7050),k=n(1364),C=n(1639),P=n(9391),T=n(2862),I="Promise",R=P.CONSTRUCTOR,L=P.REJECTION_EVENT,x=P.SUBCLASSING,O=k.getterFor(I),N=k.set,D=C&&C.prototype,M=C,B=D,F=u.TypeError,H=u.document,V=u.process,U=T.f,j=U,W=!!(H&&H.createEvent&&u.dispatchEvent),z="unhandledrejection",$=function(e){var t;return!(!f(e)||!_(t=e.then))&&t},G=function(e,t){var n,i,r,a=t.value,s=1===t.state,o=s?e.ok:e.fail,l=e.resolve,u=e.reject,d=e.domain;try{o?(s||(2===t.rejection&&X(t),t.rejection=1),!0===o?n=a:(d&&d.enter(),n=o(a),d&&(d.exit(),r=!0)),n===e.promise?u(new F("Promise-chain cycle")):(i=$(n))?c(i,n,l,u):l(n)):u(a)}catch(e){d&&!r&&d.exit(),u(e)}},q=function(e,t){e.notified||(e.notified=!0,E((function(){for(var n,i=e.reactions;n=i.get();)G(n,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},K=function(e,t,n){var i,r;W?((i=H.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),u.dispatchEvent(i)):i={promise:t,reason:n},!L&&(r=u["on"+e])?r(i):e===z&&w("Unhandled promise rejection",n)},Y=function(e){c(b,u,(function(){var t,n=e.facade,i=e.value;if(Q(e)&&(t=S((function(){l?V.emit("unhandledRejection",i,n):K(z,n,i)})),e.rejection=l||Q(e)?2:1,t.error))throw t.value}))},Q=function(e){return 1!==e.rejection&&!e.parent},X=function(e){c(b,u,(function(){var t=e.facade;l?V.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},Z=function(e,t,n){return function(i){e(t,i,n)}},J=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,q(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new F("Promise can't be resolved itself");var i=$(t);i?E((function(){var n={done:!1};try{c(i,t,Z(ee,n,e),Z(J,n,e))}catch(t){J(n,t,e)}})):(e.value=t,e.state=1,q(e,!1))}catch(t){J({done:!1},t,e)}}};if(R&&(B=(M=function(e){g(this,B),m(e),c(i,this);var t=O(this);try{e(Z(ee,t),Z(J,t))}catch(e){J(t,e)}}).prototype,(i=function(e){N(this,{type:I,done:!1,notified:!1,parent:!1,reactions:new A,rejection:!1,state:0,value:void 0})}).prototype=d(B,"then",(function(e,t){var n=O(this),i=U(y(this,M));return n.parent=!0,i.ok=!_(e)||e,i.fail=_(t)&&t,i.domain=l?V.domain:void 0,0===n.state?n.reactions.add(i):E((function(){G(i,n)})),i.promise})),r=function(){var e=new i,t=O(e);this.promise=e,this.resolve=Z(ee,t),this.reject=Z(J,t)},T.f=U=function(e){return e===M||undefined===e?new r(e):j(e)},!o&&_(C)&&D!==Object.prototype)){a=D.then,x||d(D,"then",(function(e,t){var n=this;return new M((function(e,t){c(a,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete D.constructor}catch(e){}h&&h(D,B)}s({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:M}),p(M,I,!1,!0),v(I)},6530:(e,t,n)=>{"use strict";var i=n(5651),r=n(8128),a=n(1639),s=n(4476),o=n(2078),l=n(2954),u=n(2546),c=n(4289),d=n(359),h=a&&a.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!a&&s((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,o("Promise")),n=l(e);return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),!r&&l(a)){var p=o("Promise").prototype.finally;h.finally!==p&&d(h,"finally",p,{unsafe:!0})}},3867:(e,t,n)=>{"use strict";n(5617),n(3110),n(2218),n(2064),n(550),n(4425)},2064:(e,t,n)=>{"use strict";var i=n(5651),r=n(7098),a=n(3727),s=n(2862),o=n(4804),l=n(5287);i({target:"Promise",stat:!0,forced:n(7090)},{race:function(e){var t=this,n=s.f(t),i=n.reject,u=o((function(){var s=a(t.resolve);l(e,(function(e){r(s,t,e).then(n.resolve,i)}))}));return u.error&&i(u.value),n.promise}})},550:(e,t,n)=>{"use strict";var i=n(5651),r=n(7098),a=n(2862);i({target:"Promise",stat:!0,forced:n(9391).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return r(t.reject,void 0,e),t.promise}})},4425:(e,t,n)=>{"use strict";var i=n(5651),r=n(2078),a=n(8128),s=n(1639),o=n(9391).CONSTRUCTOR,l=n(4289),u=r("Promise"),c=a&&!o;i({target:"Promise",stat:!0,forced:a||o},{resolve:function(e){return l(c&&this===u?s:this,e)}})},1557:(e,t,n)=>{"use strict";var i=n(5651),r=n(1186),a=n(9640);i({global:!0},{Reflect:{}}),a(r.Reflect,"Reflect",!0)},1631:(e,t,n)=>{"use strict";var i=n(1271),r=n(1186),a=n(4627),s=n(5847),o=n(3220),l=n(8890),u=n(3499).f,c=n(6952),d=n(3511),h=n(9376),p=n(8775),v=n(7830),m=n(2509),_=n(359),f=n(4476),g=n(188),y=n(1364).enforce,b=n(7902),E=n(6216),w=n(9590),S=n(2771),A=E("match"),k=r.RegExp,C=k.prototype,P=r.SyntaxError,T=a(C.exec),I=a("".charAt),R=a("".replace),L=a("".indexOf),x=a("".slice),O=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,N=/a/g,D=/a/g,M=new k(N)!==N,B=v.MISSED_STICKY,F=v.UNSUPPORTED_Y,H=i&&(!M||B||w||S||f((function(){return D[A]=!1,k(N)!==N||k(D)===D||"/a/i"!==String(k(N,"i"))})));if(s("RegExp",H)){for(var V=function(e,t){var n,i,r,a,s,u,v=c(C,this),m=d(e),_=void 0===t,f=[],b=e;if(!v&&m&&_&&e.constructor===V)return e;if((m||c(C,e))&&(e=e.source,_&&(t=p(b))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),b=e,w&&"dotAll"in N&&(i=!!t&&L(t,"s")>-1)&&(t=R(t,/s/g,"")),n=t,B&&"sticky"in N&&(r=!!t&&L(t,"y")>-1)&&F&&(t=R(t,/y/g,"")),S&&(a=function(e){for(var t,n=e.length,i=0,r="",a=[],s={},o=!1,l=!1,u=0,c="";i<=n;i++){if("\\"===(t=I(e,i)))t+=I(e,++i);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:T(O,x(e,i+1))&&(i+=2,l=!0),r+=t,u++;continue;case">"===t&&l:if(""===c||g(s,c))throw new P("Invalid capture group name");s[c]=!0,a[a.length]=[c,u],l=!1,c="";continue}l?c+=t:r+=t}return[r,a]}(e),e=a[0],f=a[1]),s=o(k(e,t),v?this:C,V),(i||r||f.length)&&(u=y(s),i&&(u.dotAll=!0,u.raw=V(function(e){for(var t,n=e.length,i=0,r="",a=!1;i<=n;i++)"\\"!==(t=I(e,i))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),r+=t):r+="[\\s\\S]":r+=t+I(e,++i);return r}(e),n)),r&&(u.sticky=!0),f.length&&(u.groups=f)),e!==b)try{l(s,"source",""===b?"(?:)":b)}catch(e){}return s},U=u(k),j=0;U.length>j;)m(V,k,U[j++]);C.constructor=V,V.prototype=C,_(r,"RegExp",V,{constructor:!0})}b("RegExp")},914:(e,t,n)=>{"use strict";var i=n(1271),r=n(9590),a=n(383),s=n(9171),o=n(1364).get,l=RegExp.prototype,u=TypeError;i&&r&&s(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===a(this))return!!o(this).dotAll;throw new u("Incompatible receiver, RegExp required")}}})},2358:(e,t,n)=>{"use strict";var i=n(5651),r=n(8724);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},9420:(e,t,n)=>{"use strict";var i=n(1186),r=n(1271),a=n(9171),s=n(4982),o=n(4476),l=i.RegExp,u=l.prototype;r&&o((function(){var e=!0;try{l(".","d")}catch(t){e=!1}var t={},n="",i=e?"dgimsy":"gimsy",r=function(e,i){Object.defineProperty(t,e,{get:function(){return n+=i,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in e&&(a.hasIndices="d"),a)r(s,a[s]);return Object.getOwnPropertyDescriptor(u,"flags").get.call(t)!==i||n!==i}))&&a(u,"flags",{configurable:!0,get:s})},4:(e,t,n)=>{"use strict";var i=n(5651),r=n(4627),a=n(5743),s=n(9546),o=n(9376),l=n(4476),u=r("".charAt);i({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="ð ®·".at(-2)}))},{at:function(e){var t=o(a(this)),n=t.length,i=s(e),r=i>=0?i:n+i;return r<0||r>=n?void 0:u(t,r)}})},4865:(e,t,n)=>{"use strict";var i=n(2414).charAt,r=n(9376),a=n(1364),s=n(8199),o=n(1278),l="String Iterator",u=a.set,c=a.getterFor(l);s(String,"String",(function(e){u(this,{type:l,string:r(e),index:0})}),(function(){var e,t=c(this),n=t.string,r=t.index;return r>=n.length?o(void 0,!0):(e=i(n,r),t.index+=e.length,o(e,!1))}))},2034:(e,t,n)=>{"use strict";var i=n(5651),r=n(3404).end;i({target:"String",proto:!0,forced:n(836)},{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},975:(e,t,n)=>{"use strict";var i=n(5651),r=n(3404).start;i({target:"String",proto:!0,forced:n(836)},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},6337:(e,t,n)=>{"use strict";var i=n(5651),r=n(7098),a=n(4627),s=n(5743),o=n(2954),l=n(400),u=n(3511),c=n(9376),d=n(1463),h=n(8775),p=n(151),v=n(6216),m=n(8128),_=v("replace"),f=TypeError,g=a("".indexOf),y=a("".replace),b=a("".slice),E=Math.max,w=function(e,t,n){return n>e.length?-1:""===t?n:g(e,t,n)};i({target:"String",proto:!0},{replaceAll:function(e,t){var n,i,a,v,S,A,k,C,P,T=s(this),I=0,R=0,L="";if(!l(e)){if((n=u(e))&&(i=c(s(h(e))),!~g(i,"g")))throw new f("`.replaceAll` does not allow non-global regexes");if(a=d(e,_))return r(a,e,T,t);if(m&&n)return y(c(T),e,t)}for(v=c(T),S=c(e),(A=o(t))||(t=c(t)),k=S.length,C=E(1,k),I=w(v,S,0);-1!==I;)P=A?c(t(S,I,v)):p(S,v,I,[],void 0,t),L+=b(v,R,I)+P,R=I+k,I=w(v,S,I+C);return R<v.length&&(L+=b(v,R)),L}})},9419:(e,t,n)=>{"use strict";var i=n(3240),r=n(7098),a=n(4627),s=n(3981),o=n(4476),l=n(2816),u=n(2954),c=n(400),d=n(9546),h=n(4497),p=n(9376),v=n(5743),m=n(7960),_=n(1463),f=n(151),g=n(5835),y=n(6216)("replace"),b=Math.max,E=Math.min,w=a([].concat),S=a([].push),A=a("".indexOf),k=a("".slice),C="$0"==="a".replace(/./,"$0"),P=!!/./[y]&&""===/./[y]("a","$0");s("replace",(function(e,t,n){var a=P?"$":"$0";return[function(e,n){var i=v(this),a=c(e)?void 0:_(e,y);return a?r(a,e,i,n):r(t,p(i),e,n)},function(e,r){var s=l(this),o=p(e);if("string"==typeof r&&-1===A(r,a)&&-1===A(r,"$<")){var c=n(t,s,o,r);if(c.done)return c.value}var v=u(r);v||(r=p(r));var _,y=s.global;y&&(_=s.unicode,s.lastIndex=0);for(var C,P=[];null!==(C=g(s,o))&&(S(P,C),y);){""===p(C[0])&&(s.lastIndex=m(o,h(s.lastIndex),_))}for(var T,I="",R=0,L=0;L<P.length;L++){for(var x,O=p((C=P[L])[0]),N=b(E(d(C.index),o.length),0),D=[],M=1;M<C.length;M++)S(D,void 0===(T=C[M])?T:String(T));var B=C.groups;if(v){var F=w([O],D,N,o);void 0!==B&&S(F,B),x=p(i(r,void 0,F))}else x=f(O,o,N,D,B,r);N>=R&&(I+=k(o,R,N)+x,R=N+O.length)}return I+k(o,R)}]}),!!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!C||P)},3923:(e,t,n)=>{"use strict";n(4872);var i=n(5651),r=n(3449);i({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==r},{trimEnd:r})},9537:(e,t,n)=>{"use strict";var i=n(5651),r=n(664);i({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==r},{trimLeft:r})},4872:(e,t,n)=>{"use strict";var i=n(5651),r=n(3449);i({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==r},{trimRight:r})},4270:(e,t,n)=>{"use strict";n(9537);var i=n(5651),r=n(664);i({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==r},{trimStart:r})},8471:(e,t,n)=>{"use strict";var i=n(5651),r=n(7321).trim;i({target:"String",proto:!0,forced:n(5560)("trim")},{trim:function(){return r(this)}})},9837:(e,t,n)=>{"use strict";n(3006)("asyncIterator")},8668:(e,t,n)=>{"use strict";var i=n(5651),r=n(1271),a=n(1186),s=n(4627),o=n(188),l=n(2954),u=n(6952),c=n(9376),d=n(9171),h=n(2891),p=a.Symbol,v=p&&p.prototype;if(r&&l(p)&&(!("description"in v)||void 0!==p().description)){var m={},_=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),t=u(v,this)?new p(e):void 0===e?p():p(e);return""===e&&(m[t]=!0),t};h(_,p),_.prototype=v,v.constructor=_;var f="Symbol(description detection)"===String(p("description detection")),g=s(v.valueOf),y=s(v.toString),b=/^Symbol\((.*)\)[^)]+$/,E=s("".replace),w=s("".slice);d(v,"description",{configurable:!0,get:function(){var e=g(this);if(o(m,e))return"";var t=y(e),n=f?w(t,7,-1):E(t,b,"$1");return""===n?void 0:n}}),i({global:!0,constructor:!0,forced:!0},{Symbol:_})}},135:(e,t,n)=>{"use strict";var i=n(2105),r=n(1279),a=n(9546),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("at",(function(e){var t=s(this),n=r(t),i=a(e),o=i>=0?i:n+i;return o<0||o>=n?void 0:t[o]}))},7863:(e,t,n)=>{"use strict";var i=n(2105),r=n(9448),a=n(75),s=n(7404),o=n(7098),l=n(4627),u=n(4476),c=i.aTypedArray,d=i.exportTypedArrayMethod,h=l("".slice);d("fill",(function(e){var t=arguments.length;c(this);var n="Big"===h(s(this),0,3)?a(e):+e;return o(r,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),u((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},1399:(e,t,n)=>{"use strict";var i=n(2105),r=n(1428).findLastIndex,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("findLastIndex",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},5506:(e,t,n)=>{"use strict";var i=n(2105),r=n(1428).findLast,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("findLast",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},2472:(e,t,n)=>{"use strict";var i=n(1186),r=n(7098),a=n(2105),s=n(1279),o=n(2214),l=n(5090),u=n(4476),c=i.RangeError,d=i.Int8Array,h=d&&d.prototype,p=h&&h.set,v=a.aTypedArray,m=a.exportTypedArrayMethod,_=!u((function(){var e=new Uint8ClampedArray(2);return r(p,e,{length:1,0:3},1),3!==e[1]})),f=_&&a.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){v(this);var t=o(arguments.length>1?arguments[1]:void 0,1),n=l(e);if(_)return r(p,this,n,t);var i=this.length,a=s(n),u=0;if(a+t>i)throw new c("Wrong length");for(;u<a;)this[t+u]=n[u++]}),!_||f)},8898:(e,t,n)=>{"use strict";var i=n(1186),r=n(6905),a=n(4476),s=n(3727),o=n(9441),l=n(2105),u=n(3881),c=n(2535),d=n(4307),h=n(6923),p=l.aTypedArray,v=l.exportTypedArrayMethod,m=i.Uint16Array,_=m&&r(m.prototype.sort),f=!(!_||a((function(){_(new m(2),null)}))&&a((function(){_(new m(2),{})}))),g=!!_&&!a((function(){if(d)return d<74;if(u)return u<67;if(c)return!0;if(h)return h<602;var e,t,n=new m(516),i=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,i[e]=e-2*t+3;for(_(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==i[e])return!0}));v("sort",(function(e){return void 0!==e&&s(e),g?_(this,e):o(p(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!g||f)},3642:(e,t,n)=>{"use strict";var i=n(4063),r=n(2105),a=r.aTypedArray,s=r.exportTypedArrayMethod,o=r.getTypedArrayConstructor;s("toReversed",(function(){return i(a(this),o(this))}))},509:(e,t,n)=>{"use strict";var i=n(2105),r=n(4627),a=n(3727),s=n(293),o=i.aTypedArray,l=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,c=r(i.TypedArrayPrototype.sort);u("toSorted",(function(e){void 0!==e&&a(e);var t=o(this),n=s(l(t),t);return c(n,e)}))},6986:(e,t,n)=>{"use strict";var i=n(6325),r=n(2105),a=n(4094),s=n(9546),o=n(75),l=r.aTypedArray,u=r.getTypedArrayConstructor,c=r.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();c("with",{with:function(e,t){var n=l(this),r=s(e),c=a(n)?o(t):+t;return i(n,u(n),r,c)}}.with,!d)},1433:(e,t,n)=>{"use strict";var i=n(1271),r=n(9171),a=n(3179),s=ArrayBuffer.prototype;i&&!("detached"in s)&&r(s,"detached",{configurable:!0,get:function(){return a(this)}})},9020:(e,t,n)=>{"use strict";var i=n(5651),r=n(4515);r&&i({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return r(this,arguments.length?arguments[0]:void 0,!1)}})},1e3:(e,t,n)=>{"use strict";var i=n(5651),r=n(4515);r&&i({target:"ArrayBuffer",proto:!0},{transfer:function(){return r(this,arguments.length?arguments[0]:void 0,!0)}})},2e3:(e,t,n)=>{"use strict";var i=n(6216),r=n(7740).f,a=i("metadata"),s=Function.prototype;void 0===s[a]&&r(s,a,{value:null})},5198:(e,t,n)=>{"use strict";var i=n(5651),r=n(5825);i({target:"Set",proto:!0,real:!0,forced:!n(69)("difference")},{difference:r})},5736:(e,t,n)=>{"use strict";var i=n(5651),r=n(4476),a=n(8163);i({target:"Set",proto:!0,real:!0,forced:!n(69)("intersection")||r((function(){return"3,2"!==Array.from(new Set([1,2,3]).intersection(new Set([3,2])))}))},{intersection:a})},4817:(e,t,n)=>{"use strict";var i=n(5651),r=n(8852);i({target:"Set",proto:!0,real:!0,forced:!n(69)("isDisjointFrom")},{isDisjointFrom:r})},7224:(e,t,n)=>{"use strict";var i=n(5651),r=n(8547);i({target:"Set",proto:!0,real:!0,forced:!n(69)("isSubsetOf")},{isSubsetOf:r})},5783:(e,t,n)=>{"use strict";var i=n(5651),r=n(6994);i({target:"Set",proto:!0,real:!0,forced:!n(69)("isSupersetOf")},{isSupersetOf:r})},1292:(e,t,n)=>{"use strict";var i=n(5651),r=n(483);i({target:"Set",proto:!0,real:!0,forced:!n(69)("symmetricDifference")},{symmetricDifference:r})},1446:(e,t,n)=>{"use strict";var i=n(5651),r=n(5671);i({target:"Set",proto:!0,real:!0,forced:!n(69)("union")},{union:r})},2220:(e,t,n)=>{"use strict";n(3006)("metadata")},6399:(e,t,n)=>{"use strict";var i=n(5651),r=n(1186),a=n(6496).clear;i({global:!0,bind:!0,enumerable:!0,forced:r.clearImmediate!==a},{clearImmediate:a})},7821:(e,t,n)=>{"use strict";var i=n(1186),r=n(7751),a=n(6589),s=n(3970),o=n(8890),l=function(e){if(e&&e.forEach!==s)try{o(e,"forEach",s)}catch(t){e.forEach=s}};for(var u in r)r[u]&&l(i[u]&&i[u].prototype);l(a)},752:(e,t,n)=>{"use strict";var i=n(1186),r=n(7751),a=n(6589),s=n(2195),o=n(8890),l=n(6216),u=l("iterator"),c=l("toStringTag"),d=s.values,h=function(e,t){if(e){if(e[u]!==d)try{o(e,u,d)}catch(t){e[u]=d}if(e[c]||o(e,c,t),r[t])for(var n in s)if(e[n]!==s[n])try{o(e,n,s[n])}catch(t){e[n]=s[n]}}};for(var p in r)h(i[p]&&i[p].prototype,p);h(a,"DOMTokenList")},8956:(e,t,n)=>{"use strict";var i=n(5651),r=n(1186),a=n(2078),s=n(3033),o=n(7740).f,l=n(188),u=n(8108),c=n(3220),d=n(3808),h=n(9177),p=n(4658),v=n(1271),m=n(8128),_="DOMException",f=a("Error"),g=a(_),y=function(){u(this,b);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),i=new g(t,n),r=new f(t);return r.name=_,o(i,"stack",s(1,p(r.stack,1))),c(i,this,y),i},b=y.prototype=g.prototype,E="stack"in new f(_),w="stack"in new g(1,2),S=g&&v&&Object.getOwnPropertyDescriptor(r,_),A=!(!S||S.writable&&S.configurable),k=E&&!A&&!w;i({global:!0,constructor:!0,forced:m||k},{DOMException:k?y:g});var C=a(_),P=C.prototype;if(P.constructor!==C)for(var T in m||o(P,"constructor",s(1,C)),h)if(l(h,T)){var I=h[T],R=I.s;l(C,R)||o(C,R,s(6,I.c))}},9679:(e,t,n)=>{"use strict";n(6399),n(6814)},8057:(e,t,n)=>{"use strict";var i=n(5651),r=n(1186),a=n(756),s=n(3727),o=n(8003),l=n(1301),u=r.process;i({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){o(arguments.length,1),s(e);var t=l&&u.domain;a(t?t.bind(e):e)}})},3154:(e,t,n)=>{"use strict";var i=n(5651),r=n(1186),a=n(9171),s=n(1271),o=TypeError,l=Object.defineProperty,u=r.self!==r;try{if(s){var c=Object.getOwnPropertyDescriptor(r,"self");!u&&c&&c.get&&c.enumerable||a(r,"self",{get:function(){return r},set:function(e){if(this!==r)throw new o("Illegal invocation");l(r,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else i({global:!0,simple:!0,forced:u},{self:r})}catch(e){}},6814:(e,t,n)=>{"use strict";var i=n(5651),r=n(1186),a=n(6496).set,s=n(5925),o=r.setImmediate?s(a,!1):a;i({global:!0,bind:!0,enumerable:!0,forced:r.setImmediate!==o},{setImmediate:o})},7265:(e,t,n)=>{"use strict";n(2195);var i=n(5651),r=n(1186),a=n(7098),s=n(4627),o=n(1271),l=n(935),u=n(359),c=n(9171),d=n(3618),h=n(9640),p=n(4749),v=n(1364),m=n(8108),_=n(2954),f=n(188),g=n(5319),y=n(7404),b=n(2816),E=n(2845),w=n(9376),S=n(3403),A=n(3033),k=n(2156),C=n(1480),P=n(1278),T=n(8003),I=n(6216),R=n(9441),L=I("iterator"),x="URLSearchParams",O=x+"Iterator",N=v.set,D=v.getterFor(x),M=v.getterFor(O),B=Object.getOwnPropertyDescriptor,F=function(e){if(!o)return r[e];var t=B(r,e);return t&&t.value},H=F("fetch"),V=F("Request"),U=F("Headers"),j=V&&V.prototype,W=U&&U.prototype,z=r.RegExp,$=r.TypeError,G=r.decodeURIComponent,q=r.encodeURIComponent,K=s("".charAt),Y=s([].join),Q=s([].push),X=s("".replace),Z=s([].shift),J=s([].splice),ee=s("".split),te=s("".slice),ne=/\+/g,ie=Array(4),re=function(e){return ie[e-1]||(ie[e-1]=z("((?:%[\\da-f]{2}){"+e+"})","gi"))},ae=function(e){try{return G(e)}catch(t){return e}},se=function(e){var t=X(e,ne," "),n=4;try{return G(t)}catch(e){for(;n;)t=X(t,re(n--),ae);return t}},oe=/[!'()~]|%20/g,le={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ue=function(e){return le[e]},ce=function(e){return X(q(e),oe,ue)},de=p((function(e,t){N(this,{type:O,target:D(e).entries,index:0,kind:t})}),x,(function(){var e=M(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,P(void 0,!0);var i=t[n];switch(e.kind){case"keys":return P(i.key,!1);case"values":return P(i.value,!1)}return P([i.key,i.value],!1)}),!0),he=function(e){this.entries=[],this.url=null,void 0!==e&&(E(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===K(e,0)?te(e,1):e:w(e)))};he.prototype={type:x,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,i,r,s,o,l,u=this.entries,c=C(e);if(c)for(n=(t=k(e,c)).next;!(i=a(n,t)).done;){if(s=(r=k(b(i.value))).next,(o=a(s,r)).done||(l=a(s,r)).done||!a(s,r).done)throw new $("Expected sequence with length 2");Q(u,{key:w(o.value),value:w(l.value)})}else for(var d in e)f(e,d)&&Q(u,{key:d,value:w(e[d])})},parseQuery:function(e){if(e)for(var t,n,i=this.entries,r=ee(e,"&"),a=0;a<r.length;)(t=r[a++]).length&&(n=ee(t,"="),Q(i,{key:se(Z(n)),value:se(Y(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],i=0;i<t.length;)e=t[i++],Q(n,ce(e.key)+"="+ce(e.value));return Y(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var pe=function(){m(this,ve);var e=N(this,new he(arguments.length>0?arguments[0]:void 0));o||(this.size=e.entries.length)},ve=pe.prototype;if(d(ve,{append:function(e,t){var n=D(this);T(arguments.length,2),Q(n.entries,{key:w(e),value:w(t)}),o||this.length++,n.updateURL()},delete:function(e){for(var t=D(this),n=T(arguments.length,1),i=t.entries,r=w(e),a=n<2?void 0:arguments[1],s=void 0===a?a:w(a),l=0;l<i.length;){var u=i[l];if(u.key!==r||void 0!==s&&u.value!==s)l++;else if(J(i,l,1),void 0!==s)break}o||(this.size=i.length),t.updateURL()},get:function(e){var t=D(this).entries;T(arguments.length,1);for(var n=w(e),i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){var t=D(this).entries;T(arguments.length,1);for(var n=w(e),i=[],r=0;r<t.length;r++)t[r].key===n&&Q(i,t[r].value);return i},has:function(e){for(var t=D(this).entries,n=T(arguments.length,1),i=w(e),r=n<2?void 0:arguments[1],a=void 0===r?r:w(r),s=0;s<t.length;){var o=t[s++];if(o.key===i&&(void 0===a||o.value===a))return!0}return!1},set:function(e,t){var n=D(this);T(arguments.length,1);for(var i,r=n.entries,a=!1,s=w(e),l=w(t),u=0;u<r.length;u++)(i=r[u]).key===s&&(a?J(r,u--,1):(a=!0,i.value=l));a||Q(r,{key:s,value:l}),o||(this.size=r.length),n.updateURL()},sort:function(){var e=D(this);R(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=D(this).entries,i=g(e,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)i((t=n[r++]).value,t.key,this)},keys:function(){return new de(this,"keys")},values:function(){return new de(this,"values")},entries:function(){return new de(this,"entries")}},{enumerable:!0}),u(ve,L,ve.entries,{name:"entries"}),u(ve,"toString",(function(){return D(this).serialize()}),{enumerable:!0}),o&&c(ve,"size",{get:function(){return D(this).entries.length},configurable:!0,enumerable:!0}),h(pe,x),i({global:!0,constructor:!0,forced:!l},{URLSearchParams:pe}),!l&&_(U)){var me=s(W.has),_e=s(W.set),fe=function(e){if(E(e)){var t,n=e.body;if(y(n)===x)return t=e.headers?new U(e.headers):new U,me(t,"content-type")||_e(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(e,{body:A(0,w(n)),headers:A(0,t)})}return e};if(_(H)&&i({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return H(e,arguments.length>1?fe(arguments[1]):{})}}),_(V)){var ge=function(e){return m(this,j),new V(e,arguments.length>1?fe(arguments[1]):{})};j.constructor=ge,ge.prototype=j,i({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ge})}}e.exports={URLSearchParams:pe,getState:D}},8578:(e,t,n)=>{"use strict";var i=n(359),r=n(4627),a=n(9376),s=n(8003),o=URLSearchParams,l=o.prototype,u=r(l.append),c=r(l.delete),d=r(l.forEach),h=r([].push),p=new o("a=1&a=2&b=3");p.delete("a",1),p.delete("b",void 0),p+""!="a=2"&&i(l,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var i=[];d(this,(function(e,t){h(i,{key:t,value:e})})),s(t,1);for(var r,o=a(e),l=a(n),p=0,v=0,m=!1,_=i.length;p<_;)r=i[p++],m||r.key===o?(m=!0,c(this,r.key)):v++;for(;v<_;)(r=i[v++]).key===o&&r.value===l||u(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},9857:(e,t,n)=>{"use strict";var i=n(359),r=n(4627),a=n(9376),s=n(8003),o=URLSearchParams,l=o.prototype,u=r(l.getAll),c=r(l.has),d=new o("a=1");!d.has("a",2)&&d.has("a",void 0)||i(l,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var i=u(this,e);s(t,1);for(var r=a(n),o=0;o<i.length;)if(i[o++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},299:(e,t,n)=>{"use strict";n(7265)},9972:(e,t,n)=>{"use strict";var i=n(1271),r=n(4627),a=n(9171),s=URLSearchParams.prototype,o=r(s.forEach);i&&!("size"in s)&&a(s,"size",{get:function(){var e=0;return o(this,(function(){e++})),e},configurable:!0,enumerable:!0})},5213:(e,t,n)=>{"use strict";n(4865);var i,r=n(5651),a=n(1271),s=n(935),o=n(1186),l=n(5319),u=n(4627),c=n(359),d=n(9171),h=n(8108),p=n(188),v=n(4466),m=n(9981),_=n(2626),f=n(2414).codeAt,g=n(276),y=n(9376),b=n(9640),E=n(8003),w=n(7265),S=n(1364),A=S.set,k=S.getterFor("URL"),C=w.URLSearchParams,P=w.getState,T=o.URL,I=o.TypeError,R=o.parseInt,L=Math.floor,x=Math.pow,O=u("".charAt),N=u(/./.exec),D=u([].join),M=u(1..toString),B=u([].pop),F=u([].push),H=u("".replace),V=u([].shift),U=u("".split),j=u("".slice),W=u("".toLowerCase),z=u([].unshift),$="Invalid scheme",G="Invalid host",q="Invalid port",K=/[a-z]/i,Y=/[\d+-.a-z]/i,Q=/\d/,X=/^0x/i,Z=/^[0-7]+$/,J=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,ie=/^[\u0000-\u0020]+/,re=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ae=/[\t\n\r]/g,se=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)z(t,e%256),e=L(e/256);return D(t,".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,n=1,i=null,r=0,a=0;a<8;a++)0!==e[a]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=a),++r);return r>n&&(t=i,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=M(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},oe={},le=v({},oe,{" ":1,'"':1,"<":1,">":1,"`":1}),ue=v({},le,{"#":1,"?":1,"{":1,"}":1}),ce=v({},ue,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var n=f(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pe=function(e,t){var n;return 2===e.length&&N(K,O(e,0))&&(":"===(n=O(e,1))||!t&&"|"===n)},ve=function(e){var t;return e.length>1&&pe(j(e,0,2))&&(2===e.length||"/"===(t=O(e,2))||"\\"===t||"?"===t||"#"===t)},me=function(e){return"."===e||"%2e"===W(e)},_e={},fe={},ge={},ye={},be={},Ee={},we={},Se={},Ae={},ke={},Ce={},Pe={},Te={},Ie={},Re={},Le={},xe={},Oe={},Ne={},De={},Me={},Be=function(e,t,n){var i,r,a,s=y(e);if(t){if(r=this.parse(s))throw new I(r);this.searchParams=null}else{if(void 0!==n&&(i=new Be(n,!0)),r=this.parse(s,null,i))throw new I(r);(a=P(new C)).bindURL(this),this.searchParams=a}};Be.prototype={type:"URL",parse:function(e,t,n){var r,a,s,o,l,u=this,c=t||_e,d=0,h="",v=!1,f=!1,g=!1;for(e=y(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=H(e,ie,""),e=H(e,re,"$1")),e=H(e,ae,""),r=m(e);d<=r.length;){switch(a=r[d],c){case _e:if(!a||!N(K,a)){if(t)return $;c=ge;continue}h+=W(a),c=fe;break;case fe:if(a&&(N(Y,a)||"+"===a||"-"===a||"."===a))h+=W(a);else{if(":"!==a){if(t)return $;h="",c=ge,d=0;continue}if(t&&(u.isSpecial()!==p(he,h)||"file"===h&&(u.includesCredentials()||null!==u.port)||"file"===u.scheme&&!u.host))return;if(u.scheme=h,t)return void(u.isSpecial()&&he[u.scheme]===u.port&&(u.port=null));h="","file"===u.scheme?c=Ie:u.isSpecial()&&n&&n.scheme===u.scheme?c=ye:u.isSpecial()?c=Se:"/"===r[d+1]?(c=be,d++):(u.cannotBeABaseURL=!0,F(u.path,""),c=Ne)}break;case ge:if(!n||n.cannotBeABaseURL&&"#"!==a)return $;if(n.cannotBeABaseURL&&"#"===a){u.scheme=n.scheme,u.path=_(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,c=Me;break}c="file"===n.scheme?Ie:Ee;continue;case ye:if("/"!==a||"/"!==r[d+1]){c=Ee;continue}c=Ae,d++;break;case be:if("/"===a){c=ke;break}c=Oe;continue;case Ee:if(u.scheme=n.scheme,a===i)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=_(n.path),u.query=n.query;else if("/"===a||"\\"===a&&u.isSpecial())c=we;else if("?"===a)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=_(n.path),u.query="",c=De;else{if("#"!==a){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=_(n.path),u.path.length--,c=Oe;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=_(n.path),u.query=n.query,u.fragment="",c=Me}break;case we:if(!u.isSpecial()||"/"!==a&&"\\"!==a){if("/"!==a){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,c=Oe;continue}c=ke}else c=Ae;break;case Se:if(c=Ae,"/"!==a||"/"!==O(h,d+1))continue;d++;break;case Ae:if("/"!==a&&"\\"!==a){c=ke;continue}break;case ke:if("@"===a){v&&(h="%40"+h),v=!0,s=m(h);for(var b=0;b<s.length;b++){var E=s[b];if(":"!==E||g){var w=de(E,ce);g?u.password+=w:u.username+=w}else g=!0}h=""}else if(a===i||"/"===a||"?"===a||"#"===a||"\\"===a&&u.isSpecial()){if(v&&""===h)return"Invalid authority";d-=m(h).length+1,h="",c=Ce}else h+=a;break;case Ce:case Pe:if(t&&"file"===u.scheme){c=Le;continue}if(":"!==a||f){if(a===i||"/"===a||"?"===a||"#"===a||"\\"===a&&u.isSpecial()){if(u.isSpecial()&&""===h)return G;if(t&&""===h&&(u.includesCredentials()||null!==u.port))return;if(o=u.parseHost(h))return o;if(h="",c=xe,t)return;continue}"["===a?f=!0:"]"===a&&(f=!1),h+=a}else{if(""===h)return G;if(o=u.parseHost(h))return o;if(h="",c=Te,t===Pe)return}break;case Te:if(!N(Q,a)){if(a===i||"/"===a||"?"===a||"#"===a||"\\"===a&&u.isSpecial()||t){if(""!==h){var S=R(h,10);if(S>65535)return q;u.port=u.isSpecial()&&S===he[u.scheme]?null:S,h=""}if(t)return;c=xe;continue}return q}h+=a;break;case Ie:if(u.scheme="file","/"===a||"\\"===a)c=Re;else{if(!n||"file"!==n.scheme){c=Oe;continue}switch(a){case i:u.host=n.host,u.path=_(n.path),u.query=n.query;break;case"?":u.host=n.host,u.path=_(n.path),u.query="",c=De;break;case"#":u.host=n.host,u.path=_(n.path),u.query=n.query,u.fragment="",c=Me;break;default:ve(D(_(r,d),""))||(u.host=n.host,u.path=_(n.path),u.shortenPath()),c=Oe;continue}}break;case Re:if("/"===a||"\\"===a){c=Le;break}n&&"file"===n.scheme&&!ve(D(_(r,d),""))&&(pe(n.path[0],!0)?F(u.path,n.path[0]):u.host=n.host),c=Oe;continue;case Le:if(a===i||"/"===a||"\\"===a||"?"===a||"#"===a){if(!t&&pe(h))c=Oe;else if(""===h){if(u.host="",t)return;c=xe}else{if(o=u.parseHost(h))return o;if("localhost"===u.host&&(u.host=""),t)return;h="",c=xe}continue}h+=a;break;case xe:if(u.isSpecial()){if(c=Oe,"/"!==a&&"\\"!==a)continue}else if(t||"?"!==a)if(t||"#"!==a){if(a!==i&&(c=Oe,"/"!==a))continue}else u.fragment="",c=Me;else u.query="",c=De;break;case Oe:if(a===i||"/"===a||"\\"===a&&u.isSpecial()||!t&&("?"===a||"#"===a)){if(".."===(l=W(l=h))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(u.shortenPath(),"/"===a||"\\"===a&&u.isSpecial()||F(u.path,"")):me(h)?"/"===a||"\\"===a&&u.isSpecial()||F(u.path,""):("file"===u.scheme&&!u.path.length&&pe(h)&&(u.host&&(u.host=""),h=O(h,0)+":"),F(u.path,h)),h="","file"===u.scheme&&(a===i||"?"===a||"#"===a))for(;u.path.length>1&&""===u.path[0];)V(u.path);"?"===a?(u.query="",c=De):"#"===a&&(u.fragment="",c=Me)}else h+=de(a,ue);break;case Ne:"?"===a?(u.query="",c=De):"#"===a?(u.fragment="",c=Me):a!==i&&(u.path[0]+=de(a,oe));break;case De:t||"#"!==a?a!==i&&("'"===a&&u.isSpecial()?u.query+="%27":u.query+="#"===a?"%23":de(a,oe)):(u.fragment="",c=Me);break;case Me:a!==i&&(u.fragment+=de(a,le))}d++}},parseHost:function(e){var t,n,i;if("["===O(e,0)){if("]"!==O(e,e.length-1))return G;if(t=function(e){var t,n,i,r,a,s,o,l=[0,0,0,0,0,0,0,0],u=0,c=null,d=0,h=function(){return O(e,d)};if(":"===h()){if(":"!==O(e,1))return;d+=2,c=++u}for(;h();){if(8===u)return;if(":"!==h()){for(t=n=0;n<4&&N(ee,h());)t=16*t+R(h(),16),d++,n++;if("."===h()){if(0===n)return;if(d-=n,u>6)return;for(i=0;h();){if(r=null,i>0){if(!("."===h()&&i<4))return;d++}if(!N(Q,h()))return;for(;N(Q,h());){if(a=R(h(),10),null===r)r=a;else{if(0===r)return;r=10*r+a}if(r>255)return;d++}l[u]=256*l[u]+r,2!=++i&&4!==i||u++}if(4!==i)return;break}if(":"===h()){if(d++,!h())return}else if(h())return;l[u++]=t}else{if(null!==c)return;d++,c=++u}}if(null!==c)for(s=u-c,u=7;0!==u&&s>0;)o=l[u],l[u--]=l[c+s-1],l[c+--s]=o;else if(8!==u)return;return l}(j(e,1,-1)),!t)return G;this.host=t}else if(this.isSpecial()){if(e=g(e),N(te,e))return G;if(t=function(e){var t,n,i,r,a,s,o,l=U(e,".");if(l.length&&""===l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=[],i=0;i<t;i++){if(""===(r=l[i]))return e;if(a=10,r.length>1&&"0"===O(r,0)&&(a=N(X,r)?16:8,r=j(r,8===a?1:2)),""===r)s=0;else{if(!N(10===a?J:8===a?Z:ee,r))return e;s=R(r,a)}F(n,s)}for(i=0;i<t;i++)if(s=n[i],i===t-1){if(s>=x(256,5-t))return null}else if(s>255)return null;for(o=B(n),i=0;i<n.length;i++)o+=n[i]*x(256,3-i);return o}(e),null===t)return G;this.host=t}else{if(N(ne,e))return G;for(t="",n=m(e),i=0;i<n.length;i++)t+=de(n[i],oe);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return p(he,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&pe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,i=e.password,r=e.host,a=e.port,s=e.path,o=e.query,l=e.fragment,u=t+":";return null!==r?(u+="//",e.includesCredentials()&&(u+=n+(i?":"+i:"")+"@"),u+=se(r),null!==a&&(u+=":"+a)):"file"===t&&(u+="//"),u+=e.cannotBeABaseURL?s[0]:s.length?"/"+D(s,"/"):"",null!==o&&(u+="?"+o),null!==l&&(u+="#"+l),u},setHref:function(e){var t=this.parse(e);if(t)throw new I(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new Fe(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+se(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(y(e)+":",_e)},getUsername:function(){return this.username},setUsername:function(e){var t=m(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=de(t[n],ce)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=de(t[n],ce)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?se(e):se(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ce)},getHostname:function(){var e=this.host;return null===e?"":se(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Pe)},getPort:function(){var e=this.port;return null===e?"":y(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=y(e))?this.port=null:this.parse(e,Te))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+D(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,xe))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=y(e))?this.query=null:("?"===O(e,0)&&(e=j(e,1)),this.query="",this.parse(e,De)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=y(e))?("#"===O(e,0)&&(e=j(e,1)),this.fragment="",this.parse(e,Me)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Fe=function(e){var t=h(this,He),n=E(arguments.length,1)>1?arguments[1]:void 0,i=A(t,new Be(e,!1,n));a||(t.href=i.serialize(),t.origin=i.getOrigin(),t.protocol=i.getProtocol(),t.username=i.getUsername(),t.password=i.getPassword(),t.host=i.getHost(),t.hostname=i.getHostname(),t.port=i.getPort(),t.pathname=i.getPathname(),t.search=i.getSearch(),t.searchParams=i.getSearchParams(),t.hash=i.getHash())},He=Fe.prototype,Ve=function(e,t){return{get:function(){return k(this)[e]()},set:t&&function(e){return k(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(d(He,"href",Ve("serialize","setHref")),d(He,"origin",Ve("getOrigin")),d(He,"protocol",Ve("getProtocol","setProtocol")),d(He,"username",Ve("getUsername","setUsername")),d(He,"password",Ve("getPassword","setPassword")),d(He,"host",Ve("getHost","setHost")),d(He,"hostname",Ve("getHostname","setHostname")),d(He,"port",Ve("getPort","setPort")),d(He,"pathname",Ve("getPathname","setPathname")),d(He,"search",Ve("getSearch","setSearch")),d(He,"searchParams",Ve("getSearchParams")),d(He,"hash",Ve("getHash","setHash"))),c(He,"toJSON",(function(){return k(this).serialize()}),{enumerable:!0}),c(He,"toString",(function(){return k(this).serialize()}),{enumerable:!0}),T){var Ue=T.createObjectURL,je=T.revokeObjectURL;Ue&&c(Fe,"createObjectURL",l(Ue,T)),je&&c(Fe,"revokeObjectURL",l(je,T))}b(Fe,"URL"),r({global:!0,constructor:!0,forced:!s,sham:!a},{URL:Fe})},4175:(e,t,n)=>{"use strict";n(5213)},5343:(e,t,n)=>{"use strict";var i=n(5651),r=n(7098);i({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return r(URL.prototype.toString,this)}})},6270:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(7293),n(4401),n(4924);var i=n(8091);function r(e){if(Object(e)!==e)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==e?(0,i.A)(e):"null"));return e}n(8668);function a(e,t,n){"symbol"==(0,i.A)(t)&&(t=(t=t.description)?"["+t+"]":"");try{Object.defineProperty(e,"name",{configurable:!0,value:n?n+" "+t:t})}catch(e){}return e}var s=n(7691);function o(e,t,n,o,l,u){var c,d,h,p,v,m,_,f=Symbol.metadata||Symbol.for("Symbol.metadata"),g=Object.defineProperty,y=Object.create,b=[y(null),y(null)],E=t.length;function w(t,n,i){return function(r,a){n&&(a=r,r=e);for(var s=0;s<t.length;s++)a=t[s].apply(r,i?[a]:[]);return i?a:r}}function S(e,t,n,i){if("function"!=typeof e&&(i||void 0!==e))throw new TypeError(t+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return e}function A(e,t,n,r,s,o,l,u,h,p,v){function m(e){if(!v(e))throw new TypeError("Attempted to access private element on non-instance")}var _=[].concat(t[0]),f=t[3],y=!l,E=1===s,A=3===s,k=4===s,C=2===s;function P(t,n,i){return function(r,a){return n&&(a=r,r=e),i&&i(r),T[t].call(r,a)}}if(!y){var T={},I=[],R=A?"get":k||E?"set":"value";if(h?(p||E?T={get:a((function(){return f(this)}),r,"get"),set:function(e){t[4](this,e)}}:T[R]=f,p||a(T[R],r,C?"":R)):p||(T=Object.getOwnPropertyDescriptor(e,r)),!p&&!h){if((d=b[+u][r])&&7!=(d^s))throw Error("Decorating two elements with the same name ("+T[R].name+") is not supported yet");b[+u][r]=s<3?1:s}}for(var L=e,x=_.length-1;x>=0;x-=n?2:1){var O=S(_[x],"A decorator","be",!0),N=n?_[x-1]:void 0,D={},M={kind:["field","accessor","method","getter","setter","class"][s],name:r,metadata:c,addInitializer:function(e,t){if(e.v)throw new TypeError("attempted to call addInitializer after decoration was finished");S(t,"An initializer","be",!0),o.push(t)}.bind(null,D)};if(y)d=O.call(N,L,M),D.v=1,S(d,"class decorators","return")&&(L=d);else if(M.static=u,M.private=h,d=M.access={has:h?v.bind():function(e){return r in e}},k||(d.get=h?C?function(e){return m(e),T.value}:P("get",0,m):function(e){return e[r]}),C||A||(d.set=h?P("set",0,m):function(e,t){e[r]=t}),L=O.call(N,E?{get:T.get,set:T.set}:T[R],M),D.v=1,E){if("object"==(0,i.A)(L)&&L)(d=S(L.get,"accessor.get"))&&(T.get=d),(d=S(L.set,"accessor.set"))&&(T.set=d),(d=S(L.init,"accessor.init"))&&I.unshift(d);else if(void 0!==L)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else S(L,(p?"field":"method")+" decorators","return")&&(p?I.unshift(L):T[R]=L)}return s<2&&l.push(w(I,u,1),w(o,u,0)),p||y||(h?E?l.splice(-1,0,P("get",u),P("set",u)):l.push(C?T[R]:S.call.bind(T[R])):g(e,r,T)),L}function k(e){return g(e,f,{configurable:!0,enumerable:!0,value:c})}return void 0!==u&&(c=u[f]),c=y(null==c?null:c),v=[],m=function(e){e&&v.push(w(e))},_=function(t,i){for(var a=0;a<n.length;a++){var o=n[a],u=o[1],c=7&u;if((8&u)==t&&!c==i){var d=o[2],m=!!o[3],_=16&u;A(t?e:e.prototype,o,_,m?"#"+d:(0,s.A)(d),c,c<2?[]:t?p=p||[]:h=h||[],v,!!t,m,i,t&&m?function(t){return r(t)===e}:l)}}},_(8,0),_(0,0),_(8,1),_(0,1),m(h),m(p),d=v,E||k(e),{e:d,get c(){var n=[];return E&&[k(e=A(e,[t],o,e.name,5,n)),w(n,1)]}}}},9174:(e,t,n)=>{"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{A:()=>i})},6598:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(7293);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},3408:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(7691);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,i.A)(r.key),r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},9845:(e,t,n)=>{"use strict";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(null,arguments)}n.d(t,{A:()=>i})},9067:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});n(4401),n(7821);var i=n(7691);function r(e,t,n){return(t=(0,i.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},1824:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(6292);function r(e,t){if(null==e)return{};var n,r,a=(0,i.A)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},6292:(e,t,n)=>{"use strict";function i(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}n.d(t,{A:()=>i})},6393:(e,t,n)=>{"use strict";function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}n.d(t,{A:()=>i})},8894:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(8668),n(2195),n(4401),n(752);var i=n(4519);n(7293);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(o.push(i.value),o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}(e,t)||(0,i.A)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9174);n(8668),n(2195),n(752);var r=n(4519);n(7293);function a(e){return function(e){if(Array.isArray(e))return(0,i.A)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,r.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7691:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(8091);n(7293);function r(e){var t=function(e,t){if("object"!=(0,i.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=(0,i.A)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,i.A)(t)?t:t+""}},8091:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(8668),n(2195),n(752);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}},4519:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(2358);var i=n(9174);function r(e,t){if(e){if("string"==typeof e)return(0,i.A)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.A)(e,t):void 0}}},7180:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(2358),n(9419);function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}var r=function e(t,n){function r(e,r,a){if("undefined"!=typeof document){"number"==typeof(a=i({},n,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var o in a)a[o]&&(s+="; "+o,!0!==a[o]&&(s+="="+a[o].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+s}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],i={},r=0;r<n.length;r++){var a=n[r].split("="),s=a.slice(1).join("=");try{var o=decodeURIComponent(a[0]);if(i[o]=t.read(s,o),e===o)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){r(e,"",i({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,i({},this.attributes,t))},withConverter:function(t){return e(i({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=r,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var r=Object.create(null);s.r(r);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,s.d(r,a),r},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>"index.b93a8996399c23d253cb.js",s.miniCssF=e=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},i="@rutube/raichu-embed:",s.l=(e,t,r,a)=>{if(n[e])n[e].push(t);else{var o,l;if(void 0!==r)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==i+r){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",i+r),o.src=e),n[e]=[t];var h=(t,i)=>{o.onerror=o.onload=null,clearTimeout(p);var r=n[e];if(delete n[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(i))),t)return t(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),s.p="https://static.rutube.ru/raichu-embed",(()=>{var e={792:0};s.f.j=(t,n)=>{var i=s.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=r);var a=s.p+s.u(t),o=new Error;s.l(a,(n=>{if(s.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",o.name="ChunkLoadError",o.type=r,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,r,[a,o,l]=n,u=0;if(a.some((t=>0!==e[t]))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(l)l(s)}for(t&&t(n);u<a.length;u++)r=a[u],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunk_rutube_raichu_embed=self.webpackChunk_rutube_raichu_embed||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";s(2195),s(3867),s(752);var e=s(5618);s(4401);var t=s(8717),n=s(3509),i=s(2514);const r="stub-embed-module__wrapper___mv5SP",a="stub-embed-module__icon___dAqMD",o=e=>{let{backgroundImage:n,handleStubPlay:i}=e;return n?t.createElement("div",{className:r,style:{backgroundImage:`url(${n})`},onClick:i},t.createElement("div",{className:a})):null};var l=s(9067);const u="dark2021",c="white2021",d="white2022",h="auto",p={[u]:{base:"#000000",base20:"rgba(0, 0, 0, 0.2)",base50:"rgba(0, 0, 0, 0.5)",primaryold:"#242D36",primary:"#14191F",primaryWhite:"#F6F6F6",secondary1002:"#1C232B",secondary1001:"#000000",secondary1000:"#1C232B",secondary900:"#1C232B",secondary802:"#29333D",secondary801:"#212932",secondary800:"#212932",secondary702:"#3D4A58",secondary701:"#29333D",secondary700:"#29333D",secondary604:"#212932",secondary603:"#5A6877",secondary602:"#29333D",secondary601:"#3D4A58",secondary600:"#3D4A58",secondary501:"#889BAF",secondary500:"#5A6877",secondary400:"#889BAF",secondary302:"#BFC9D4",secondary301:"#A7B4C4",secondary300:"#A7B4C4",secondary201:"#E1E5EA",secondary200:"#BFC9D4",secondary101:"#EAEDF1",secondary100:"#E1E5EA",secondary51:"#EAEDF1",secondary50:"#EAEDF1",secondary49:"#FFFFFF",secondary3:"#FFFFFF",secondary2:"#F6F6F6",secondary1:"#FFFFFF",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",ghost:"rgba(255, 255, 255, 0.1)",ghostHover:"rgba(255, 255, 255, 0.15)",ghostPressed:"rgba(255, 255, 255, 0.05)",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.4deg, #222B34 0.11%, #1E262E 100%)",accent:"#00A1E7",accent400:"#E15554",accent700:"#be4847",liveMark:"#F41240",hover:"#203753",accentHover:"#1EABE9",accentPressed:"#0096D8",lightCoral:"#27323F",lightCoralHover:"#203753",lightCoralPressed:"#203753",text:"#FFFFFF",textHover:"#00A1E7",textActive:"#0096D8",error:"#E15554",buttonPrimary:"#00A1E7",buttonPrimaryText:"#FFFFFF",buttonPrimaryHover:"#1EABE9",buttonPrimaryHoverText:"#FFFFFF",buttonPrimaryPressed:"#0096D8",buttonPrimaryPressedText:"#FFFFFF",buttonSecondary:"#E1E5EA",buttonSecondaryText:"#1C232B",buttonSecondaryHover:"#BFC9D4",buttonSecondaryHoverText:"#1C232B",buttonSecondaryPressed:"#FFFFFF",buttonSecondaryPressedText:"#1C232B",buttonDisabled:"#29333D",buttonDisabledText:"#5A6877",birdColor1:"#FFFFFF",birdColor2:"#889BAF",birdColor3:"#1C232B",birdColor4:"#1C232B",birdColorNew1:"#FFFFFF",birdColorNew2:"#889BAF",birdColorNew3:"#242D36",birdColorNew4:"#242D36",linkPrimary:"#E1E5EA",linkPrimaryHover:"#FFFFFF",menuText:"#FFFFFF",menuBg:"#1C232B",menuPromoBg:"#29333D",menuSecondaryBg:"#202530",menuBorderLight:"#3D4A58",menuBorderDark:"#29333D",menuIconsBg:"#3D4A58",menuLinkPrimary:"#FF645F",menuVideoLink:"#E1E5EA",menuMobileBgColor:"rgba(28, 35, 43, 0.8)",kidsBannerBg:"#3E3C70",kidsBannerTitle:"#fff",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.7) 100%)",popupOverlayBg:"rgba(0, 0, 0, 0.7)",popupShadow:"rgba(0, 0, 0, 0.25)",popupBg:"#29333D",invert:0,iconbg:"#29333D",additionalAccent:"#42A4FF",additionalAccent30:"rgba(66, 164, 255, 0.3)",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",success:"#52C78F",additionalSecondary:"#31B8BF",additionalError:"#EC2A2A",controlBorderAccent:"#C6E3FF",raiAudioControlPrimary:"#FFF",raiAudioProgressBg:"#1EABE9",raiAudioProgressColor:"#14191F",chipsBg:"rgba(255, 255, 255, 0.05)",shade5:"rgba(255, 255, 255, 0.05)",shade10:"rgba(255, 255, 255, 0.1)",shade15:"rgba(255, 255, 255, 0.15)"},[c]:{base:"#FFFFFF",base20:"rgba(255, 255, 255, 0.2)",base50:"rgba(255, 255, 255, 0.5)",primaryold:"#F6F6F6",primary:"#F6F6F6",secondary1002:"#FFFFFF",secondary1001:"#F6F6F6",secondary1000:"#FFFFFF",secondary900:"#E1E5EA",secondary802:"#E1E5EA",secondary801:"#FFFFFF",secondary800:"#E1E5EA",secondary702:"#BFC9D4",secondary701:"#FFFFFF",secondary700:"#BFC9D4",secondary604:"#EAEDF1",secondary603:"#A7B4C4",secondary602:"#EAEDF1",secondary601:"#E1E5EA",secondary600:"#A7B4C4",secondary501:"#889BAF",secondary500:"#889BAF",secondary400:"#5A6877",secondary302:"#3D4A58",secondary301:"#5A6877",secondary300:"#3D4A58",secondary201:"#29333D",secondary200:"#29333D",secondary101:"#212932",secondary100:"#212932",secondary51:"#212932",secondary50:"#1C232B",secondary49:"#1C232B",secondary3:"#5A6877",secondary2:"#242D36",secondary1:"#29333D",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",ghost:"rgba(255, 255, 255, 0.1)",ghostHover:"rgba(255, 255, 255, 0.15)",ghostPressed:"rgba(255, 255, 255, 0.05)",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.74deg, #EAEDF1 0%, #E1E5EA 100%)",accent:"#FF645F",accent400:"#E15554",accent700:"#be4847",accentHover:"#FF7773",accentPressed:"#E75550",lightCoral:"#FFEEEE",lightCoralHover:"#FFF5F5",lightCoralPressed:"#FFE6E6",text:"#29333D",textHover:"#5A6877",textActive:"#1C232B",error:"#E15554",buttonPrimary:"#FF645F",buttonPrimaryText:"#FFFFFF",buttonPrimaryHover:"#FF7773",buttonPrimaryHoverText:"#FFFFFF",buttonPrimaryPressed:"#E75550",buttonPrimaryPressedText:"#FFFFFF",buttonSecondary:"#29333D",buttonSecondaryText:"#FFFFFF",buttonSecondaryHover:"#3D4A58",buttonSecondaryHoverText:"#FFFFFF",buttonSecondaryPressed:"#1C232B",buttonSecondaryPressedText:"#FFFFFF",buttonDisabled:"#E1E5EA",buttonDisabledText:"#889BAF",birdColor1:"#5A6877",birdColor2:"#FFFFFF",birdColor3:"#1C232B",birdColor4:"#E1E5EA",birdColorNew1:"#242D36",birdColorNew2:"#A7B4C4",birdColorNew3:"#1C232B",birdColorNew4:"#EAEDF1",linkPrimary:"#29333D",linkPrimaryHover:"#1C232B",menuText:"#29333D",menuBg:"#F6F6F6",menuPromoBg:"#E1E5EA",menuSecondaryBg:"#ECECED",menuBorderLight:"#E1E5EA",menuBorderDark:"#E1E5EA",menuIconsBg:"#ffffff",menuLinkPrimary:"#29333D",menuVideoLink:"#29333D",kidsBannerBg:"#fff",kidsBannerTitle:"#865DC8",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.7) 100%)",popupOverlayBg:"rgba(90, 104, 119, 0.3)",popupShadow:"rgba(0, 0, 0, 0.05)",popupBg:"#FFFFFF",invert:.8,iconbg:"#ffffff",additionalAccent:"#42A4FF",additionalAccent30:"rgba(66, 164, 255, 0.3)",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",success:"#52C78F",additionalSecondary:"#31B8BF",additionalError:"#EC2A2A",controlBorderAccent:"#C6E3FF",chipsBg:"rgba(0, 0, 0, 0.05)",shade5:"rgba(0, 0, 0, 0.05)",shade10:"rgba(0, 0, 0, 0.1)",shade15:"rgba(0, 0, 0, 0.15)"},[d]:{base:"#FFFFFF",base20:"rgba(255, 255, 255, 0.2)",base50:"rgba(255, 255, 255, 0.5)",primaryold:"#F6F6F6",primary:"#F6F6F6",primaryWhite:"#14191F",secondary1002:"#FFFFFF",secondary1001:"#F6F6F6",secondary1000:"#FFFFFF",secondary900:"#FFFFFF",secondary802:"#E1E5EA",secondary801:"#FFFFFF",secondary800:"#EAEDF1",secondary702:"#BFC9D4",secondary701:"#FFFFFF",secondary700:"#E1E5EA",secondary604:"#EAEDF1",secondary603:"#A7B4C4",secondary602:"#EAEDF1",secondary601:"#E1E5EA",secondary600:"#bfc9D4",secondary501:"#889BAF",secondary500:"#A7B4C4",secondary400:"#889BAF",secondary302:"#3D4A58",secondary301:"#5A6877",secondary300:"#5A6877",secondary201:"#3D4A58",secondary200:"#3D4A58",secondary101:"#29333D",secondary100:"#29333D",secondary51:"#212932",secondary50:"#212932",secondary49:"#212932",secondary3:"#5A6877",secondary2:"#242D36",secondary1:"#1C232B",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",ghost:"rgba(255, 255, 255, 0.1)",ghostHover:"rgba(255, 255, 255, 0.15)",ghostPressed:"rgba(255, 255, 255, 0.05)",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.74deg, #EAEDF1 0%, #E1E5EA 100%)",accent:"#00A1E7",accent400:"#E15554",accent700:"#be4847",liveMark:"#F41240",hover:"#B3E3F8",accentHover:"#1EABE9",accentPressed:"#0096D8",lightCoral:"#FFEEEE",lightCoralHover:"#FFF5F5",lightCoralPressed:"#FFE6E6",text:"#29333D",textHover:"#5A6877",textActive:"#1C232B",error:"#E15554",buttonPrimary:"#00A1E7",buttonPrimaryText:"#FFFFFF",buttonPrimaryHover:"#1EABE9",buttonPrimaryHoverText:"#FFFFFF",buttonPrimaryPressed:"#0096D8",buttonPrimaryPressedText:"#FFFFFF",buttonSecondary:"#29333D",buttonSecondaryText:"#FFFFFF",buttonSecondaryHover:"#3D4A58",buttonSecondaryHoverText:"#FFFFFF",buttonSecondaryPressed:"#1C232B",buttonSecondaryPressedText:"#FFFFFF",buttonDisabled:"#E1E5EA",buttonDisabledText:"#889BAF",birdColor1:"#5A6877",birdColor2:"#FFFFFF",birdColor3:"#1C232B",birdColor4:"#E1E5EA",birdColorNew1:"#242D36",birdColorNew2:"#A7B4C4",birdColorNew3:"#1C232B",birdColorNew4:"#EAEDF1",linkPrimary:"#29333D",linkPrimaryHover:"#1C232B",menuText:"#29333D",menuBg:"#FFFFFF",menuPromoBg:"#E1E5EA",menuSecondaryBg:"#ECECED",menuBorderLight:"#E1E5EA",menuBorderDark:"#E1E5EA",menuIconsBg:"#ffffff",menuLinkPrimary:"#29333D",menuVideoLink:"#29333D",menuMobileBgColor:"rgba(225,229,234, 0.8)",kidsBannerBg:"#fff",kidsBannerTitle:"#865DC8",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.7) 100%)",popupOverlayBg:"rgba(0, 0, 0, 0.7)",popupShadow:"rgba(0, 0, 0, 0.05)",popupBg:"#FFFFFF",invert:.8,iconbg:"#ffffff",additionalAccent:"#42A4FF",additionalAccent30:"rgba(66, 164, 255, 0.3)",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",success:"#52C78F",additionalSecondary:"#31B8BF",additionalError:"#EC2A2A",raiAudioControlPrimary:"#1C232B",raiAudioProgressBg:"#1EABE9",raiAudioProgressColor:"#F6F6F6",chipsBg:"rgba(0, 0, 0, 0.05)",shade5:"rgba(0, 0, 0, 0.05)",shade10:"rgba(0, 0, 0, 0.1)",shade15:"rgba(0, 0, 0, 0.15)"},[h]:void 0},v=p[c],m="penTheme";s(2358),s(9419),s(8471),s(7821);function _(e){return e?e.replace(/([A-Z]+)/g,"-$1").toLowerCase():e}const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;const t={},n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return Object.keys(e)}(e);for(const r of n){var i;t[`--pen-${_(r)}`]=`${null!==(i=e[r])&&void 0!==i?i:""}`}return t},g=(e,t)=>{const n=(e=>`${_(m)}-${e}`)(e);if(document.getElementById(n))return;let i=`[data-${_(m)}="${e}"]{`;for(const e of Object.keys(t))i+=`${e}:${t[e]};`;i+="}";const r=document.createElement("style");r.innerText=i,r.id=n,document.head.appendChild(r)},y=c,b=p[y],E=t.createContext({theme:b,themeId:c,isDeviceTheme:!1,isDeviceThemeSupported:!1}),w=e=>{let{children:n,forceThemeId:i=y}=e;const r=p[i],a=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;const t=f(arguments.length>1&&void 0!==arguments[1]?arguments[1]:b);g(e,t),document.documentElement.dataset[m]=e}),[]),s=(0,t.useCallback)(((e,t)=>{const n=document.createElement("style");n.innerText="body * { transition: none !important }",document.body.appendChild(n),a(e,t),document.body.scrollHeight,document.body.removeChild(n)}),[a]);(0,t.useEffect)((()=>{s(i,r)}),[s,i,r]);const o=(0,t.useMemo)((()=>({theme:null!=r?r:b,themeId:i})),[i,r]);return t.createElement(E.Provider,{value:o},n)};var S=s(6270),A=(s(299),s(8578),s(9857),s(9972),s(3590)),k=s(4862);const C=()=>{try{const e=window.navigator.userAgent.toLowerCase();return/iPhone|iPad|iPod/i.test(e)||/Macintosh/i.test(e)&&navigator.maxTouchPoints>2}catch(e){return!1}},P=()=>{try{const e=window.navigator.userAgent.toLowerCase();return/^((?!chrome|android).)*safari/i.test(e)}catch(e){return!1}},T=()=>{try{return/Android|BlackBerry|HarmonyOS|Harmony|Huawei|HUAWEI|HuaweiBrowser|haowangzhi|iPhone|iPad|iPod/i.test(window.navigator.userAgent)||/Macintosh/i.test(window.navigator.userAgent)&&window.navigator.maxTouchPoints>2}catch(e){return!1}};"object"==typeof window&&"ontouchstart"in window&&/Linux|Macintosh|Windows/i.test(window.navigator.userAgent);var I,R=s(3834);let L;class x extends k.j8{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;super(),this._forcedTime=(L(this),null),this._stopTime=null,this._stopTimeDesposer=null,this.isLive=!1,this.videoId=void 0,this.userId=void 0,this._hrefParams=void 0,this._timeFromHistory=null,this._videoHistory=void 0,this.playback=e,this._config=s,this.videoId=t,this.isLive=r,this.userId=n;const{startTime:o,stopTime:l}=i;if(this._hrefParams=this.getHRefParams(),this._videoHistory=a,"number"==typeof o&&(this.forcedTime=o),"number"==typeof l)this._stopTime=l;else{const e=this._hrefParams.get("stopTime")||this._hrefParams.get("endTime")||"",t=parseInt(e,10)||null;t&&(this._stopTime=t)}}resetStopTime(){this._stopTime=null,this._stopTimeDesposer&&this._stopTimeDesposer()}initTimeFromHistoryDisposerHandler(){return(0,A.mJ)((()=>({videoId:this.videoId})),(e=>{var t;let{videoId:n}=e;this._timeFromHistory=null===(t=this._videoHistory)||void 0===t?void 0:t.getVideoProgress(n)}),{fireImmediately:!0})}initTimeFromHistoryDisposer(){return this.initTimeFromHistoryDisposerHandler()}initReaction1(){return(0,A.mJ)((()=>({isPlayerReady:this.playback.isPlayerReady,readyState:this.playback.readyState})),(e=>{var t,n;let{isPlayerReady:i,readyState:r}=e;if(!i||this.isLive)return;const a=this._hrefParams.get("t")||"",s=parseInt(a,10)||null;if("number"==typeof this.forcedTime){if(P()&&r<2)return;this.playback.seek(this.forcedTime)}else s?this.playback.seek(s):this._timeFromHistory&&this._timeFromHistory&&this._timeFromHistory<=this.playback.duration-15&&this._timeFromHistory/this.playback.duration<=.9&&(this.playback.seek(this._timeFromHistory),this._timeFromHistory=null);null===(t=this._videoHistory)||void 0===t||t.updateVideoId(String(null===(n=this._config)||void 0===n?void 0:n.get("videoId")))}))}initReaction2(){return(0,A.mJ)((()=>({currentTime:this.playback.currentTime,isPlaying:this.playback.isPlaying,ended:this.playback.ended,playInitiator:this.playback.playInitiator,seeking:this.playback.seeking})),(e=>{const{isPlaying:t,currentTime:n,ended:i,playInitiator:r,seeking:a}=e;this._stopTime&&(t&&n>=this._stopTime&&(this.playback.pause(),this.resetStopTime()),"user"===r&&(a||i)&&this.resetStopTime())}))}clear(){var e;return null!==(e=this._stopTimeDesposer)&&void 0!==e?e:void 0}get forcedTime(){return this._forcedTime}set forcedTime(e){this._forcedTime=e}getHRefParams(){var e,t;return null!==(e=null===(t=(0,R.Qv)(window.location.href))||void 0===t?void 0:t.searchParams)&&void 0!==e?e:new URLSearchParams}}var O;let N,D;I=x,[L]=(0,S.A)(I,[],[[(0,k.o7)(),2,"initTimeFromHistoryDisposer"],[(0,k.o7)(),2,"initReaction1"],[(0,k.o7)(),2,"initReaction2"],[(0,k.o7)(),2,"clear"]],0,void 0,k.j8).e;var M;let B,F;O=class extends x{constructor(e,t,n,i){const r=t.get("userId")||void 0,a=t.get("timeProps")||{};super(e,t.get("videoId"),r,a,n.isLive,i)}},[D,N]=(0,S.A)(O,[(0,k.k_)({implement:"ITimeControllerPlugin",ctor_args:["IPlayback","IPlayerConfigPlugin","IDataPlugin","IVideoHistoryPlugin"]})],[],0,void 0,x).c,N();class H extends k.j8{constructor(e){super(),this.__skinColor=A.sH.box(""),this._data=e}set skinColor(e){this.__skinColor.set(e)}get skinColor(){return this.__skinColor.get()}get color(){var e,t;return null!==(e=this._data.appearance)&&void 0!==e&&e.color||this.skinColor?`#${this.skinColor||(null===(t=this._data.appearance)||void 0===t?void 0:t.color)||""}`:"var(--pen-accent)"}get autoStart(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.auto_start)||!1}get showSubscription(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_subscription)||!1}get showAuthor(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_author)||!1}get showTitle(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_title)||!1}get showHd(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_hd)||!1}get showLogotype(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_logotype)||!1}get showFullTab(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_full_tab)||!1}get showAvatar(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_avatar)||!1}get showTopPanel(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_top_panel)||!1}get showShareButton(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_share_button)||!1}get showSocialButtons(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_social_buttons)||!1}get showEndScreen(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_endscreen)||!1}get showRelated(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_related)||!1}get showCategoryRecommended(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_category_recommended)||!1}get showUserRecommended(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_user_recommended)||!1}get showPgRating(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_pg_rating)||!1}get availablePauseClick(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_pause_click)||!1}get availableTitleClick(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_title_click)||!1}get availableLogoClick(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_logo_click)||!1}get availableAuthorClick(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_author_click)||!1}get availableRelatedClick(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_related_click)||!1}get pluginModifying(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.plugin_modifying)||!1}get forbidHtmlControls(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.forbid_html_controls)||!1}get showAdultStub(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_adult_stub)||!1}get availableLinkStub(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_link_stub)||!1}get availableSpecialSource(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_special_source)||!1}get advertSkinType(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.advert_skin_type)||null}get showPreloader(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_preloader)||!1}get enableEmbedLogo(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.enable_embed_logo)||!1}get cookiesMail(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.cookies_mail)||!1}get forbidHtmlFullscreen(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.forbid_html_controls)||!1}get allowAutoSeek(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.allow_auto_seek)||!1}get forbidTimelinePreview(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.forbid_timeline_preview)||!1}get allowPushSubscribe(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.allow_push_subscribe)||!1}get enablePlaylist(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.enable_playlist)||!1}get showLogoWithControls(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_logo_with_controls)||!1}get miniPlayer(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.mini_player)||!1}get cinemaMode(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.cinema_mode)||!1}}function V(e){return e}M=H,[F,B]=(0,S.A)(M,[(0,k.k_)({implement:"IAppearancePlugin",ctor_args:["IDataPlugin"]})],[],0,void 0,k.j8).c,B();s(7293);var U=s(8894),j=s(6598),W=s(3408);function z(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var $=0;function G(e){return"__private_"+$+++"_"+e}var q,K,Y,Q,X,Z,J,ee,te,ne,ie,re,ae,se,oe,le,ue,ce,de,he,pe,ve,me,_e,fe=s(4853),ge=function(e){return e[e.ERROR=1]="ERROR",e[e.WARN=3]="WARN",e[e.LOG=7]="LOG",e[e.DEBUG=15]="DEBUG",e}({}),ye=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge.LOG;(0,j.A)(this,e),this._name=t,this._level=n}return(0,W.A)(e,[{key:"_getLevel",value:function(){return"function"==typeof this._level?this._level():this._level}},{key:"name",get:function(){return"string"==typeof this._name?this._name:this._name()}},{key:"isGrouped",value:function(e){return e.length>1&&"string"==typeof e[0]}},{key:"grouped",value:function(e){console.group(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.log(n),console.groupEnd()}},{key:"log",value:function(){if((this._getLevel()&ge.LOG)===ge.LOG){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.isGrouped(t)){var i=t[0],r=t.slice(1);this.grouped.apply(this,["[1m[32m[".concat(this.name,"]: ").concat(i,"[0m")].concat((0,fe.A)(r)))}else console.log("[1m[32m[".concat(this.name,"]: [0m").concat(t))}}},{key:"warn",value:function(){if((this._getLevel()&ge.WARN)===ge.WARN){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.isGrouped(t)){var i=t[0],r=t.slice(1);this.grouped.apply(this,["[1m[33m[".concat(this.name,"]: ").concat(i,"[0m")].concat((0,fe.A)(r)))}else console.log("[1m[33m[".concat(this.name,"]: [0m").concat(t))}}},{key:"error",value:function(){if((this._getLevel()&ge.ERROR)===ge.ERROR){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.isGrouped(t)){var i=t[0],r=t.slice(1);this.grouped.apply(this,["[1m[31m[".concat(this.name,"]: ").concat(i,"[0m")].concat((0,fe.A)(r)))}else console.log("[1m[31m[".concat(this.name,"]: [0m").concat(t))}}},{key:"level",set:function(e){this._level=e}}]),e}(),be=G("DEFAULT_NAMESPACE"),Ee=G("capitalize"),we=G("makeGroupName"),Se=G("logger"),Ae=G("_namespace"),ke=G("_registeredEvents"),Ce=G("_contextProvider"),Pe=G("_onSend"),Te=G("_external"),Ie=G("context"),Re=G("CounterHelperBuilder"),Le=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ye((function(){return"CounterHelper".concat(z(t,Ae)[Ae]?" "+z(t,Ae)[Ae]:"")}),ge.ERROR);(0,j.A)(this,e),Object.defineProperty(this,Ie,{get:xe,set:void 0}),Object.defineProperty(this,Se,{writable:!0,value:void 0}),Object.defineProperty(this,Ae,{writable:!0,value:void 0}),Object.defineProperty(this,ke,{writable:!0,value:{}}),Object.defineProperty(this,Ce,{writable:!0,value:void 0}),Object.defineProperty(this,Pe,{writable:!0,value:function(){z(t,Se)[Se].warn("send handler has not been added")}}),Object.defineProperty(this,Te,{writable:!0,value:void 0}),z(this,Ae)[Ae]=z(e,be)[be],z(this,Se)[Se]=n}return(0,W.A)(e,[{key:"namespace",get:function(){return z(this,Ae)[Ae]}},{key:"get",value:function(e){var t;return null===(t=z(this,ke)[ke][e])||void 0===t?void 0:t.bind(this)}}],[{key:"builder",value:function(t){return new(z(e,Re)[Re])(new e(t))}}]),e}();function xe(){if(z(this,Ce)[Ce])return z(this,Ce)[Ce]()}function Oe(e){var t=z(this,de)[de],n=z(this,_e)[_e](e);z(this,le)[le]=function(e,i){var r=z(this,Ie)[Ie];t({event:e,context:r,params:i})&&z(this,Pe)[Pe](n({event:e,context:r,params:i}))}}function Ne(e){var t=z(this,de)[de],n=z(this,_e)[_e](e);z(this,le)[le]=function(e){var i=z(this,Ie)[Ie];t({context:i,params:e})&&z(this,Pe)[Pe](n({params:e,context:i}))}}function De(e){var t=z(this,de)[de],n=z(this,_e)[_e](e);z(this,le)[le]=function(e){var i=z(this,Ie)[Ie];t({event:e,context:i})&&z(this,Pe)[Pe](n({event:e,context:i}))}}function Me(e){var t=z(this,de)[de],n=z(this,_e)[_e](e);z(this,le)[le]=function(){var e=z(this,Ie)[Ie];t({context:e})&&z(this,Pe)[Pe](n({context:e}))}}function Be(e){var t,n=null===(t=z(this,oe)[oe])||void 0===t?void 0:t.transform;return n?function(t){return n(e(t),{context:t.context})}:e}function Fe(e,t){e()&&z(this,Y)[Y].warn(t())}q=Le,Object.defineProperty(Le,be,{writable:!0,value:"default"}),Object.defineProperty(Le,Ee,{writable:!0,value:function(e){return e.length>0?e[0].toUpperCase()+e.slice(1):e}}),Object.defineProperty(Le,we,{writable:!0,value:function(e,t){return t?"".concat(t).concat(z(q,Ee)[Ee](e)):e}}),Object.defineProperty(Le,Re,{writable:!0,value:(Y=G("builderLogger"),Q=G("instance"),X=G("hasController"),Z=G("assert"),J=G("CounterHelperGroupBuilder"),ee=G("CounterHelperEventBuilder"),K=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ye("CounterHelperBuilder");(0,j.A)(this,e),Object.defineProperty(this,Z,{value:Fe}),Object.defineProperty(this,Y,{writable:!0,value:void 0}),Object.defineProperty(this,Q,{writable:!0,value:void 0}),Object.defineProperty(this,X,{writable:!0,value:!1}),z(this,Q)[Q]=t,z(this,Y)[Y]=n}return(0,W.A)(e,[{key:"register",value:function(e,t){var n=this;z(this,Z)[Z]((function(){return e in z(z(n,Q)[Q],ke)[ke]}),(function(){return"try to register existed event with name: ".concat(e)})),z(z(this,Q)[Q],ke)[ke][e]=t}},{key:"withNamespace",value:function(e){var t=this;return z(this,Z)[Z]((function(){return z(z(t,Q)[Q],Ae)[Ae]!==z(q,be)[be]}),(function(){return"try to override defined namespace: ".concat(z(t,Q)[Q].namespace," with value: ").concat(e)})),z(z(this,Q)[Q],Ae)[Ae]=e,this}},{key:"withContext",value:function(e){return z(z(this,Q)[Q],Ce)[Ce]="function"==typeof e?e:function(){return e},this}},{key:"debug",value:function(){if(z(this,X)[X])throw new Error("builder has already logger controller");return z(z(this,Q)[Q],Se)[Se].level=ge.DEBUG,this}},{key:"loggerLevelController",value:function(e){return z(z(this,Q)[Q],Se)[Se].level=function(){return e.level},z(this,X)[X]=!0,this}},{key:"event",value:function(e){return new(z(z(q,Re)[Re],ee)[ee])(this,e,z(z(this,Q)[Q],Te)[Te])}},{key:"group",value:function(e){return new(z(z(q,Re)[Re],J)[J])(this,e,z(z(this,Q)[Q],Te)[Te])}},{key:"onSend",value:function(e){return z(z(this,Q)[Q],Pe)[Pe]=function(t){z(this,Se)[Se].log("sending message",t),e(t)},this}},{key:"extends",value:function(e){var t=this;return Object.entries(z(e,ke)[ke]).forEach((function(e){var n=(0,U.A)(e,2),i=n[0],r=n[1];z(z(t,Q)[Q],ke)[ke][i]=r})),this}},{key:"use",value:function(e){if(z(z(this,Q)[Q],Te)[Te])throw z(z(this,Q)[Q],Se)[Se].error("external group builder has been already added"),new Error("external group builder has been already added");return z(z(this,Q)[Q],Te)[Te]=e.copyWith(this),this}},{key:"build",value:function(){return z(this,Q)[Q]}}]),e}(),Object.defineProperty(K,J,{writable:!0,value:(te=G("builder"),ne=G("prefix"),ie=G("name"),re=G("parentGroup"),function(){function e(t,n){var i,r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,j.A)(this,e),Object.defineProperty(this,te,{writable:!0,value:void 0}),Object.defineProperty(this,ne,{writable:!0,value:void 0}),Object.defineProperty(this,ie,{writable:!0,value:void 0}),Object.defineProperty(this,re,{writable:!0,value:void 0}),this.transform=null,this.copyWith=function(t){var n=new e(t,z(r,ne)[ne],z(r,re)[re]);return n.transform=r.transform,n},z(this,ne)[ne]=n,z(this,ie)[ie]=z(q,we)[we](n,null==a?void 0:a.name),z(this,te)[te]=t,z(this,re)[re]=a,this.transform=null!==(i=null==a?void 0:a.transform)&&void 0!==i?i:null}return(0,W.A)(e,[{key:"name",get:function(){return z(this,ie)[ie]}},{key:"endGroup",value:function(){var e;return z(this,re)[re]===z(z(z(this,te)[te],Q)[Q],Te)[Te]?z(this,te)[te]:null!==(e=z(this,re)[re])&&void 0!==e?e:z(this,te)[te]}},{key:"event",value:function(e){return new(z(z(q,Re)[Re],ee)[ee])(z(this,te)[te],e,this)}},{key:"group",value:function(e){return new(z(z(q,Re)[Re],J)[J])(z(this,te)[te],e,this)}},{key:"withTransform",value:function(e){var t,n=this;return null!==(t=z(this,re)[re])&&void 0!==t&&t.transform?this.transform=function(t){for(var i,r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return(i=z(n,re)[re]).transform.apply(i,[e.apply(void 0,[t].concat(a))].concat(a))}:this.transform=e,this}}]),e}())}),Object.defineProperty(K,ee,{writable:!0,value:(ae=G("builder"),se=G("name"),oe=G("group"),le=G("_handler"),ue=G("_hasEvent"),ce=G("_hasParams"),de=G("_predicate"),he=G("createCounterWithEventAndParams"),pe=G("createCounterWithParams"),ve=G("createCounterWithEvent"),me=G("createCounterWithoutArgs"),_e=G("applyGroupTransform"),function(){function e(t,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,j.A)(this,e),Object.defineProperty(this,_e,{value:Be}),Object.defineProperty(this,me,{value:Me}),Object.defineProperty(this,ve,{value:De}),Object.defineProperty(this,pe,{value:Ne}),Object.defineProperty(this,he,{value:Oe}),Object.defineProperty(this,ae,{writable:!0,value:void 0}),Object.defineProperty(this,se,{writable:!0,value:void 0}),Object.defineProperty(this,oe,{writable:!0,value:void 0}),Object.defineProperty(this,le,{writable:!0,value:function(){throw new Error("you forgot add message to event with name: ".concat(z(i,se)[se]))}}),Object.defineProperty(this,ue,{writable:!0,value:!1}),Object.defineProperty(this,ce,{writable:!0,value:!1}),Object.defineProperty(this,de,{writable:!0,value:function(){return!0}}),z(this,ae)[ae]=t,z(this,se)[se]=z(q,we)[we](n,null==r?void 0:r.name),z(this,oe)[oe]=r}return(0,W.A)(e,[{key:"name",get:function(){return z(this,se)[se]}},{key:"domEvent",value:function(){return z(this,ue)[ue]=!0,this}},{key:"params",value:function(){return z(this,ce)[ce]=!0,this}},{key:"permit",value:function(e){return z(this,de)[de]=e,this}},{key:"message",value:function(e){return z(this,le)[le]=e,this}},{key:"commit",value:function(){return z(this,ue)[ue]&&z(this,ce)[ce]?z(this,he)[he](z(this,le)[le]):z(this,ce)[ce]?z(this,pe)[pe](z(this,le)[le]):z(this,ue)[ue]?z(this,ve)[ve](z(this,le)[le]):z(this,me)[me](z(this,le)[le]),z(this,ae)[ae].register(z(this,se)[se],z(this,le)[le]),z(this,oe)[oe]===z(z(z(this,ae)[ae],Q)[Q],Te)[Te]?z(this,ae)[ae]:z(this,oe)[oe]||z(this,ae)[ae]}}]),e}())}),K)});var He=function(){function e(t){var n;if((0,j.A)(this,e),this._level=ge.ERROR,this._logger=new ye("logger level controller",ge.LOG),this.id=t,"object"==typeof window)try{var i=window.localStorage.getItem(e.getId(t));i&&(this._level=ge[i])}catch(e){}this._level=null!==(n=this._level)&&void 0!==n?n:ge.ERROR}return(0,W.A)(e,[{key:"level",get:function(){return this._level}},{key:"changeLevel",value:function(t){if("object"==typeof window)try{window.localStorage.setItem(e.getId(this.id),ge[t])}catch(e){}this._level=t,this._logger.log("level has been changed to ".concat(ge[t]," for ").concat(this.id))}},{key:"bindEnableDebugGlobal",value:function(e){"object"==typeof window&&(window[e]=this.changeLevel.bind(this,ge.DEBUG))}},{key:"bindDisableDebugGlobal",value:function(e){"object"==typeof window&&(window[e]=this.changeLevel.bind(this,ge.ERROR))}}]),e}();He.getId=function(e){return"__".concat(e,"__")};var Ve=s(3882);const Ue=Le.builder().group("main").withTransform(((e,t)=>{let{context:n}=t;return n("IStatisticState").getMainReport(e)}));s(4233);const je=Le.builder().use(Ue).group("endScreen").event("channelLogoClick").params().message((e=>{let{params:{clickedUrl:t}}=e;return{methodName:Ve.t_.CLICK_EVENT,resolvers:[{names:["{{type_button}}"],value:Ve.NN.CHANNEL_LOGO},{names:["{{clicked_url}}"],value:t}]}})).commit().event("show").params().message((()=>({methodName:Ve.t_.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_SHOW,resolvers:[]}))).commit().event("nextVideoClick").params().message((()=>({methodName:Ve.t_.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_CLICK,resolvers:[]}))).commit().event("showRecommendations").params().message((()=>({methodName:Ve.t_.RECOMMENDATIONS_END_SCREEN_RECS_SHOW,resolvers:[]}))).commit().event("recommendationClick").params().message((()=>({methodName:Ve.t_.RECOMMENDATIONS_END_SCREEN_RECS_CLICK,resolvers:[]}))).commit().event("action").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.END_SCREEN,resolvers:[{names:["{{end_screen}}"],value:t.end_screen},{names:["{{clicked_url}}"],value:t.clicked_url||""},{names:["{{next_video_id}}"],value:t.next_video_id||""},{names:["{{list_of_cards}}"],value:t.list_of_cards?JSON.stringify(t.list_of_cards):""},{names:["{{toggle}}"],value:t.toggle}]}})).commit().event("clickAction").params().message((()=>({methodName:Ve.jI.CLICK_ENDSCREEN_ACTION}))).commit().event("click").params().message((()=>({methodName:Ve.jI.CLICK_ENDSCREEN}))).commit().event("cancel").params().message((()=>({methodName:Ve.jI.CANCEL_ENDSCREEN}))).commit().event("showAlt").params().message((()=>({methodName:Ve.jI.SHOW_ENDSCREEN}))).commit().endGroup().build(),We=Le.builder().use(Ue).group("contentPlayback").event("rewindMode").params().message((e=>{let{params:{rewindType:t,rewindDirection:n}}=e;return{methodName:Ve.t_.REWIND,resolvers:[{names:["{{rewind}}"],value:n},{names:["{{type_rewind}}"],value:t}]}})).commit().event("seek").message((()=>({methodName:Ve.jI.SEEK}))).commit().event("firstPlay").message((()=>({methodName:Ve.jI.FIRST_PLAY_BUTTON}))).commit().event("resume").message((()=>({methodName:Ve.jI.RESUME}))).commit().event("pause").message((()=>({methodName:Ve.jI.PAUSE}))).commit().event("start").message((()=>({methodName:Ve.jI.START}))).commit().event("playPause").params().message((e=>{let{params:{play:t}}=e;return{methodName:Ve.t_.PAUSE,resolvers:[{names:["{{play_pause}}"],value:t}]}})).commit().event("ended").message((()=>({methodName:Ve.jI.END}))).commit().event("firstQuartile").message((()=>({methodName:Ve.jI.FIRST_QUARTILE}))).commit().event("secondQuartile").message((()=>({methodName:Ve.jI.MIDDLE}))).commit().event("thirdQuartile").message((()=>({methodName:Ve.jI.THIRD_QUARTILE}))).commit().event("frameless").params().message((e=>{let{params:{isEnabled:t,value:n}}=e;return{methodName:Ve.t_.PLAYER_ZOOM,eventAction:t?"no_frame":"frame",resolvers:[{names:["{{action}}"],value:t?"no_frame":"frame"},{names:["{{zoom_action}}"],value:t?"IN":"OUT"},{names:["{{zoom_value}}"],value:String(t?n:1)}]}})).commit().endGroup().build(),ze=Le.builder().use(Ue).group("playlist").event("next").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.NEXT_VIDEO,resolvers:[{names:["{{next_video_id}}"],value:t}]}})).commit().event("prev").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.PREV_VIDEO,resolvers:[{names:["{{previous_video_id}}"],value:t}]}})).commit().endGroup().build();s(8995),s(6337);const $e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.reduce(((e,t)=>function(e,t){let{names:n,value:i}=t,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.reduce(((e,t)=>e.replaceAll(t,r?encodeURIComponent(i):i)),e)}(e,t,n)),e)};var Ge,qe;let Ke,Ye,Qe;new(qe=class extends k.j8{constructor(e,t,n){super(),this.__statisticStore=void 0,this._namespace=void 0,this.__placeholders=void 0,this._counterHelper=void 0,this.__loadedTimeStamp=void 0,this.__viewCount=0,this._namespace=e.value,this._counterHelper=this.buildCounter(),this.__statisticStore=t,this.__placeholders=n,this.__loadedTimeStamp=(new Date).getTime()}getCounter(){return Le.builder()}buildCounter(){return this.getCounter().build()}getMainReport(e){const{config:t,isCyclic:n,methodName:i,urlTemplate:r,encode:a=!0}=e;let s=this.__statisticStore.rawStatistic.filter((e=>{let{name:t}=e;return t===i}));t&&(s=s.filter((e=>{let{count:n,delay:i,start:r}=e;return t.count===n&&t.delay===i&&t.start===r}))),r&&(s=s.filter((e=>{let{url_template:t,method_str:n}=e;return r===t||r===n})));const o=[...e.resolvers||[],...this.__placeholders.makePlaceholderResolvers(n)],{methods:u,requests:c}=s.reduce(((e,t)=>{if(t.callbackParams){const n=$e(JSON.stringify(t.callbackParams.params),o,a);try{const i=JSON.parse(n);e.methods.push((0,l.A)((0,l.A)({},t),{},{callbackParams:(0,l.A)((0,l.A)({},t.callbackParams),{},{params:i})}))}catch(e){console.warn("Parse callback params error: ",e)}}else e.requests.push({url:$e(t.url_template||"",o,a),body:$e(t.body||"",o),method:t.method});return e}),{methods:[],requests:[]});return{methods:u,requests:c}}get counterHelper(){return this._counterHelper}get loadedTimeStamp(){return this.__loadedTimeStamp}get viewCount(){return this.__viewCount}incrementViewCount(){this.__viewCount+=1}refreshLoadedTimeStamp(){this.__loadedTimeStamp=(new Date).getTime(),this.__viewCount=0}},[Qe,Ke]=(0,S.A)(qe,[(0,k.k_)({implement:"IStatisticState",ctor_args:["StatisticNamespace","IStatisticStore","IPlaceholdersState"]})],[],0,void 0,k.j8).c,Ye=qe,(Ge=class extends V{constructor(){super(Qe),this.getStatistic=e=>e("IStatisticState"),Ke()}})[Ye]=void 0,Ge);const Xe=Le.builder().use(Ue).group("logger").event("send").params().message((e=>{let{params:{queryParams:t}}=e;return{methodName:"logger",encode:!1,resolvers:[{names:["{{params}}"],value:t}]}})).commit().endGroup().build(),Ze=Le.builder().use(Ue).group("playerLifecycle").event("unload").message((()=>({methodName:Ve.t_.UNLOAD}))).commit().endGroup().build(),Je=Le.builder().use(Ue).group("status").event("load").message((()=>({methodName:Ve.jI.LOAD}))).commit().event("unload").params().message((e=>{var t,n;let{params:i}=e;return{methodName:Ve.t_.UNLOAD,resolvers:[{names:["{{full_url}}"],value:(null==i?void 0:i.location)||window.location.href},{names:["{{range_start}}"],value:null!==(t=null==i?void 0:i.startRanges)&&void 0!==t?t:""},{names:["{{range_end}}"],value:null!==(n=null==i?void 0:i.endRanges)&&void 0!==n?n:""}]}})).commit().event("embedLoad").message((()=>({methodName:Ve.jI.EMBED_LOAD}))).commit().endGroup().build();s(1631),s(914);const et=53182297,tt=e=>`yaCounter${e}`,nt=e=>e.reduce(((e,t)=>{const n=(e=>{try{const t=new RegExp("^Yandex.(.+?)\\((.*)\\);?$","gm").exec(e);if(!t)return;const[n,i,r]=t,a=new RegExp("^\\s?(\\d+),\\s?['\"](.+)['\"]\\s?,({.+})","gm").exec(r);if(!a)return;const[s,o,l]=a;let u={};if(a[3])try{u=JSON.parse(a[3])}catch(e){"string"==typeof e&&console.warn(`Parse stat api params error: ${e.toString()}`)}return{method:i,counterId:Number.parseInt(o,10),target:l,params:u}}catch(e){if("string"==typeof e)return void console.warn(`Parse stat_api method error: ${e.toString()}`)}})(t.method_str);return n&&e.push((0,l.A)((0,l.A)({},t),{},{callbackParams:n})),e}),[]),it=e=>window[tt(e)]||null,rt=e=>{if(e&&!it(e))try{window[tt(e)]=new Ya.Metrika2({id:e,defer:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,ecommerce:"dataLayer",webvisor:!1,triggerEvent:!0})}catch(t){console.warn(`Init stat_api ym counter ${e} error: ${String(t)}`)}},at=e=>{e.forEach((e=>{const t=e.callbackParams&&"boolean"!=typeof e.callbackParams&&e.callbackParams.counterId;t&&!it(t)&&rt(t)}))},st=()=>{rt(et);const e=it(et);return(null==e?void 0:e.getClientID())||""},ot="undefined"!=typeof window&&-1!==window.location.search.indexOf("debug_r_stat"),lt=async e=>{let{method:t,url:n,body:i}=e;const r=Date.now();if(ot&&console.warn(`Sending stat to: ${n}`),"get"===t){let e;e=n.indexOf("tns-counter")<0?`${n}${n.indexOf("?")>=0?"&":"?"}t=${r}`:n,(new Image).src=e}else{const e=n.indexOf("ruform.trex.media")>=0;try{await fetch(n,{method:t,headers:{"Content-Type":"application/json;charset=utf-8"},credentials:e?"include":"same-origin",body:i})}catch(e){console.warn(e)}}},ut=e=>{let{methods:t,requests:n}=e;t.forEach((e=>{let{callbackParams:t}=e;return t&&(e=>{try{window[tt(e.counterId)][e.method](e.target,e.params)}catch(e){console.warn(`Send statistics error: ${e}`)}})(t)})),n.forEach((e=>{lt(e)}))},ct=Le.builder().use(Ue).group("nextVideo").event("Click").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.NEXT_VIDEO,resolvers:[{names:["{{clicked_url}}"],value:t.clicked_url},{names:["{{next_video_id}}"],value:t.next_video_id}]}})).commit().endGroup().build();var dt;let ht,pt;dt=class extends Qe{constructor(e,t,n,i){super(e,t,i),this._counterHelper=void 0,this._resolve=void 0,this._resolve=n.value,this._counterHelper=this.buildCounter()}buildCounter(){return this.getCounter().build()}get counterHelper(){return this._counterHelper}getCounter(){return Le.builder().withNamespace(this._namespace).withContext((()=>this._resolve)).onSend(ut).extends(We).extends(Je).extends(Le.builder().use(Ue).group("interval").event("watchtime").params().message((e=>{let{params:{urlTemplate:t}}=e;return{methodName:Ve.jI.WATCHTIME,urlTemplate:t,isCyclic:!0}})).commit().event("heartbeat").params().message((e=>{let{params:{urlTemplate:t}}=e;return{methodName:Ve.jI.HEARTBEAT,urlTemplate:t,isCyclic:!0}})).commit().endGroup().build()).extends(Le.builder().use(Ue).group("interval").event("hbIntervalsStat").params().message((e=>{let{params:{urlTemplate:t,count:n,delay:i,start:r,location:a}}=e;return{methodName:Ve.t_.HB_INTERVALS,config:{count:n,delay:i,start:r},urlTemplate:t,isCyclic:!0,resolvers:[{names:["{{full_url}}"],value:a||window.location.href}]}})).commit().endGroup().build()).extends(Le.builder().use(Ue).group("statevent").event("event").params().message((e=>{let{params:{urlTemplate:t}}=e;return{methodName:Ve.jI.STAT,urlTemplate:t}})).commit().endGroup().build()).extends(Ze).extends(Xe).extends(Le.builder().use(Ue).group("contextMenu").event("itemClick").params().message((e=>{let{params:{clickedItemTitle:t}}=e;return{methodName:Ve.t_.EXTENDED_PLAYER_MENU,clickedItemTitle:t,resolvers:[{names:["{{clicked_item_title}}"],value:t}]}})).commit().endGroup().build()).extends(je).extends(ct).extends(ze)}},[pt,ht]=(0,S.A)(dt,[(0,k.k_)({implement:"IStatisticState",ctor_args:["StatisticNamespace","IStatisticStore","Resolve","IPlaceholdersState"]})],[],0,void 0,Qe).c,ht();var vt=s(1871),mt=s(5126),_t=s(8007),ft=s(451),gt=s.n(ft),yt="freyja_char-switch__wrapper_Ma1Wu",bt="freyja_char-switch__placement_RPDpt",Et="freyja_char-switch__placement_active_rjVKS",wt="freyja_char-switch__regular_WtF9R",St="freyja_char-switch__small_tyxc1",At="freyja_char-switch__switcher_ks1iH",kt="freyja_char-switch__switcher_regular_R4ZLN",Ct="freyja_char-switch__switcher_small_qTBxI",Pt="freyja_char-switch__switcher_active_0rVpL",Tt="freyja_char-switch__switcher_active_small_7pKX-",It="freyja_char-switch__switcher_active_regular_yu2Ow",Rt="freyja_char-switch__disabled_krTYT",Lt=function(e){return e.SMALL="small",e.REGULAR="regular",e}(Lt||{});const xt=e=>{const{isActive:n,onChange:i=()=>{},disabled:r,size:a=Lt.REGULAR,classNames:s={}}=e;return t.createElement("div",{className:gt()(yt,s.wrapper),onClick:e=>{e.stopPropagation(),r||i(!n)}},t.createElement("div",{className:gt()(bt,{[St]:a===Lt.SMALL,[wt]:a===Lt.REGULAR},{[Et]:n,[Rt]:r},s.placement)},t.createElement("div",{className:gt()(At,{[kt]:a===Lt.REGULAR,[Ct]:a===Lt.SMALL},{[Pt]:n},{[It]:n&&a===Lt.REGULAR,[Tt]:n&&a===Lt.SMALL},s.switcher)})))},Ot="menu-item-module__menuItem___ligi6",Nt=e=>{let{name:n,Icon:i,onClick:r,className:a,reportMessage:s,isActive:o,onChange:l}=e;return t.createElement("div",{className:gt()(Ot,a),onClick:r,tabIndex:0,"aria-label":n,"data-reportMessage":s},t.createElement(i,{color:"var(--pen-secondary50)"}),n,l&&t.createElement(xt,{isActive:Boolean(o),onChange:l,size:Lt.SMALL}))};var Dt=s(3015);const Mt=()=>(0,Dt.p5)().resolve("IContextMenuPlugin"),Bt=()=>(0,Dt.p5)().resolveOptional("IContextMenuPlugin");let Ft=function(e){return e.claim="claim",e.copyTechInfo="copyTechInfo",e.copyLink="copyLink",e.copyLinkAtTime="copyLinkAtTime",e.copyCode="copyCode",e.toggleTechInfo="toggleTechInfo",e.replay="replay",e.reportError="reportError",e.repeatVideo="repeatVideo",e}({}),Ht=function(e){return e.CopyLink="Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ Ð½Ð° Ð²Ð¸Ð´ÐµÐ¾",e.LoopVideo="Ð—Ð°Ñ†Ð¸ÐºÐ»Ð¸Ñ‚ÑŒ Ð²Ð¸Ð´ÐµÐ¾",e.CopyLinkAtTime="Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ Ð¿Ñ€Ð¸Ð²ÑÐ·ÐºÐ¾Ð¹ ÐºÐ¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸",e.CopyTag="Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð´ Ð´Ð»Ñ Ð²ÑÑ‚Ð°Ð²ÐºÐ¸ Ð¿Ð»ÐµÐµÑ€Ð°",e.Replay="ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°",e.ReportError="Ð¡Ð¾Ð¾Ð±Ñ‰Ð¸Ñ‚ÑŒ Ð¾ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ðµ",e.Claim="ÐŸÐ¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð½Ð° Ð²Ð¸Ð´ÐµÐ¾",e.More="Ð•Ñ‰Ñ‘",e.Info="Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",e.HotkeysManual="Ð–ÐµÑÑ‚Ñ‹ Ð¸ Ð³Ð¾Ñ€ÑÑ‡Ð¸Ðµ ÐºÐ»Ð°Ð²Ð¸ÑˆÐ¸",e}({});const Vt=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M17.6569 17.6569L6.34315 6.34315M17.6569 17.6569C19.1571 16.1566 20 14.1217 20 12C20 9.87827 19.1571 7.84344 17.6569 6.34315C16.1566 4.84285 14.1217 4 12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315L17.6569 17.6569ZM17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20C9.87827 20 7.84344 19.1571 6.34315 17.6569C4.84285 16.1566 4 14.1217 4 12C4 9.87827 4.84285 7.84344 6.34315 6.34315L17.6569 17.6569Z",stroke:n,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))},Ut=(0,_t.PA)((e=>{let{onClick:n,className:i,reportMessage:r}=e;const{extraActions:a}=Mt();return t.createElement(Nt,{name:Ht.Claim,Icon:Vt,reportMessage:r,onClick:e=>{a.claim(),n(e)},className:i})})),jt=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5421 4.55056C14.3301 3.78954 15.3854 3.36845 16.4808 3.37797C17.5762 3.38748 18.624 3.82686 19.3986 4.60145C20.1732 5.37604 20.6126 6.42388 20.6221 7.51928C20.6316 8.61468 20.2105 9.67 19.4495 10.4579L19.442 10.4657L15.8864 14.0212C15.1029 14.8044 14.0404 15.2445 12.9326 15.2445C11.8248 15.2445 10.7624 14.8045 9.97892 14.0213C9.73589 13.7783 9.73583 13.3843 9.97879 13.1413C10.2217 12.8983 10.6157 12.8982 10.8587 13.1412C11.4088 13.6911 12.1548 14 12.9326 14C13.7104 14 14.4563 13.6911 15.0064 13.1412C15.0064 13.1412 15.0064 13.1413 15.0064 13.1412L18.558 9.58968C19.09 9.03685 19.3844 8.29748 19.3777 7.5301C19.371 6.76099 19.0625 6.02527 18.5187 5.48141C17.9748 4.93754 17.2391 4.62905 16.47 4.62236C15.7026 4.61569 14.9632 4.91003 14.4104 5.4421L13.4366 6.41587C13.1936 6.65886 12.7996 6.65886 12.5566 6.41587C12.3136 6.17288 12.3136 5.77891 12.5566 5.53592L13.5421 4.55056ZM8.20114 9.89141C8.98459 9.10819 10.047 8.66821 11.1548 8.66821C12.2626 8.66821 13.3251 9.10819 14.1085 9.89141C14.3516 10.1344 14.3516 10.5283 14.1087 10.7714C13.8657 11.0144 13.4717 11.0145 13.2287 10.7715C12.6786 10.2216 11.9326 9.91265 11.1548 9.91265C10.377 9.91265 9.63111 10.2216 9.08103 10.7714C9.08101 10.7714 9.08105 10.7714 9.08103 10.7714L5.51783 14.3346C5.23767 14.6052 5.01413 14.9288 4.8604 15.2867C4.70667 15.6446 4.62575 16.0295 4.62236 16.419C4.61898 16.8085 4.6932 17.1947 4.84069 17.5552C4.98818 17.9157 5.20599 18.2432 5.48141 18.5187C5.75682 18.7941 6.08434 19.0119 6.44483 19.1594C6.80533 19.3069 7.19159 19.3811 7.58107 19.3777C7.97056 19.3743 8.35547 19.2934 8.71335 19.1397C9.07123 18.9859 9.39491 18.7625 9.6655 18.4823L9.67321 18.4743L10.6528 17.4957C10.8959 17.2528 11.2899 17.253 11.5328 17.4961C11.7757 17.7392 11.7755 18.1332 11.5324 18.3761L10.5566 19.351C10.172 19.748 9.71247 20.0649 9.20452 20.2831C8.69482 20.502 8.14661 20.6173 7.59189 20.6221C7.03717 20.6269 6.48704 20.5212 5.9736 20.3111C5.46017 20.1011 4.99371 19.7909 4.60145 19.3986C4.20919 19.0063 3.89897 18.5399 3.68891 18.0265C3.47885 17.513 3.37315 16.9629 3.37797 16.4082C3.38279 15.8534 3.49803 15.3052 3.71699 14.7955C3.9352 14.2876 4.25205 13.828 4.64917 13.4434L8.20114 9.89141Z",fill:n}))},Wt=(0,_t.PA)((e=>{let{onClick:n,reportMessage:i}=e;const{extraActions:r}=Mt();return t.createElement(Nt,{name:Ht.CopyLink,Icon:jt,reportMessage:i,onClick:e=>{r.copyLink(),n(e)}})})),zt=(0,_t.PA)((e=>{let{onClick:n,className:i,reportMessage:r}=e;const{extraActions:a}=Mt();return t.createElement(Nt,{name:Ht.CopyLinkAtTime,Icon:jt,reportMessage:r,onClick:e=>{n(e),a.copyLinkAtTime()},className:i})})),$t=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M8 7L3 12L8 17",stroke:n,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("path",{d:"M16 7L21 12L16 17",stroke:n,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}))},Gt=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.29808 2.39908C7.63 2.31006 7.97123 2.50697 8.06025 2.83888L8.76017 5.44865C8.84919 5.78056 8.65228 6.12179 8.32036 6.21081C7.98845 6.29983 7.64722 6.10292 7.5582 5.77101L6.85828 3.16124C6.76926 2.82933 6.96617 2.4881 7.29808 2.39908ZM13.9904 4.19151C14.2334 4.4345 14.2334 4.82847 13.9905 5.07147L12.079 6.98307C11.836 7.22607 11.442 7.22608 11.199 6.9831C10.956 6.74011 10.956 6.34614 11.199 6.10314L13.1105 4.19154C13.3535 3.94854 13.7474 3.94853 13.9904 4.19151ZM2.39931 7.29723C2.48831 6.96531 2.82953 6.76838 3.16145 6.85738L5.77197 7.55734C6.10389 7.64634 6.30081 7.98756 6.21182 8.31948C6.12282 8.65139 5.7816 8.84832 5.44968 8.75932L2.83916 8.05936C2.50724 7.97037 2.31032 7.62914 2.39931 7.29723ZM8.65154 8.65072C8.82249 8.47979 9.07697 8.42333 9.30416 8.50595L19.213 12.1094C19.4555 12.1975 19.6184 12.4262 19.6224 12.6842C19.6265 12.9422 19.471 13.176 19.2314 13.2718L15.6035 14.7231L19.4403 18.5601C19.6833 18.8031 19.6833 19.1971 19.4403 19.4401C19.1973 19.683 18.8033 19.683 18.5603 19.44L14.7236 15.6031L13.2724 19.2311C13.1766 19.4707 12.9428 19.6263 12.6848 19.6222C12.4268 19.6181 12.1981 19.4552 12.1099 19.2127L8.50675 9.30334C8.42414 9.07614 8.4806 8.82166 8.65154 8.65072ZM14.278 13.913C14.1972 13.9432 14.1213 13.9908 14.0563 14.0558C13.9913 14.1208 13.9437 14.1967 13.9135 14.2775L12.7224 17.2554L10.1319 10.1311L17.2558 12.7218L14.278 13.913ZM6.98291 11.1981C7.22602 11.441 7.22622 11.835 6.98335 12.0781L5.07365 13.9897C4.83078 14.2328 4.43681 14.233 4.1937 13.9901C3.95058 13.7472 3.95039 13.3533 4.19326 13.1102L6.10295 11.1986C6.34582 10.9554 6.73979 10.9552 6.98291 11.1981Z",fill:n}))};var qt=s(3052);const Kt=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4.62225C7.9254 4.62225 4.62225 7.9254 4.62225 12C4.62225 16.0747 7.9254 19.3778 12 19.3778C16.0747 19.3778 19.3778 16.0747 19.3778 12C19.3778 7.9254 16.0747 4.62225 12 4.62225ZM3.37781 12C3.37781 7.23811 7.23811 3.37781 12 3.37781C16.762 3.37781 20.6223 7.23811 20.6223 12C20.6223 16.762 16.762 20.6223 12 20.6223C7.23811 20.6223 3.37781 16.762 3.37781 12ZM12 11.3778C12.3437 11.3778 12.6223 11.6564 12.6223 12V16C12.6223 16.3437 12.3437 16.6223 12 16.6223C11.6564 16.6223 11.3778 16.3437 11.3778 16V12C11.3778 11.6564 11.6564 11.3778 12 11.3778ZM12 7.37781C11.6564 7.37781 11.3778 7.65639 11.3778 8.00003C11.3778 8.34367 11.6564 8.62225 12 8.62225H12.01C12.3537 8.62225 12.6323 8.34367 12.6323 8.00003C12.6323 7.65639 12.3537 7.37781 12.01 7.37781H12Z",fill:n}))},Yt=(0,_t.PA)((e=>{let{onClick:n,className:i,reportMessage:r}=e;const{extraActions:a}=Mt();return t.createElement(Nt,{name:Ht.Info,reportMessage:r,Icon:Kt,onClick:e=>{n(e),qt.B.isMobile?a.copyTechInfo():a.toggleTechInfo()},className:i})})),Qt=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.1158 3.44951C11.1659 3.20525 9.18635 3.58989 7.48147 4.54608C6.2129 5.25757 5.14773 6.25681 4.37237 7.45145V5.00015C4.37237 4.65651 4.0938 4.37793 3.75015 4.37793C3.40651 4.37793 3.12793 4.65651 3.12793 5.00015V9.00015C3.12793 9.34379 3.40651 9.62237 3.75015 9.62237H7.75015C8.0938 9.62237 8.37237 9.34379 8.37237 9.00015C8.37237 8.65651 8.0938 8.37793 7.75015 8.37793H5.26152C5.93552 7.24418 6.90832 6.29435 8.09022 5.63147C9.56143 4.80633 11.2732 4.47286 12.9611 4.6843C14.649 4.89574 16.2156 5.63978 17.4206 6.79827C18.6253 7.95647 19.4017 9.46431 19.6342 11.0883C19.6829 11.4285 19.9981 11.6648 20.3383 11.6161C20.6785 11.5674 20.9148 11.2522 20.8661 10.912C20.5937 9.0089 19.6847 7.24864 18.2831 5.90117C16.8818 4.55398 15.0658 3.69378 13.1158 3.44951ZM4.16739 12.3835C4.50798 12.3377 4.82114 12.5768 4.86685 12.9174C5.08605 14.5508 5.8174 16.0608 6.94404 17.2162C8.07034 18.3712 9.52884 19.1076 11.0935 19.3167C12.658 19.5257 14.2468 19.1967 15.616 18.3776C16.7214 17.7163 17.6352 16.7644 18.2683 15.6224H15.7502C15.4065 15.6224 15.1279 15.3438 15.1279 15.0002C15.1279 14.6565 15.4065 14.3779 15.7502 14.3779H19.7502C20.0938 14.3779 20.3724 14.6565 20.3724 15.0002V19.0002C20.3724 19.3438 20.0938 19.6224 19.7502 19.6224C19.4065 19.6224 19.1279 19.3438 19.1279 19.0002V16.6145C18.4059 17.7727 17.424 18.7461 16.2549 19.4455C14.6465 20.4077 12.7747 20.7968 10.9287 20.5501C9.0829 20.3035 7.3702 19.4357 6.05309 18.085C4.73632 16.7347 3.8876 14.9766 3.63346 13.0829C3.58775 12.7423 3.8268 12.4292 4.16739 12.3835Z",fill:n}))},Xt=(0,_t.PA)((e=>{let{onClick:n,className:i,reportMessage:r}=e;const{extraActions:a}=Mt();return t.createElement(Nt,{name:Ht.LoopVideo,Icon:Qt,reportMessage:r,onClick:e=>{n(e),a.loopVideo()},className:i,isActive:a.isLooping,onChange:()=>a.loopVideo()})})),Zt=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24","data-testid":"replay-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.803 11.062a8 8 0 1 1 3.429 7.541c-.334-.228-.376-.693-.118-1.005.258-.312.719-.352 1.057-.13a6.534 6.534 0 1 0-2.926-6.104l.591-.454a.75.75 0 0 1 .913 1.19l-1.946 1.495a.75.75 0 0 1-1.052-.138l-1.596-2.079a.75.75 0 0 1 1.19-.914l.458.598Z",fill:n}))},Jt=(0,_t.PA)((e=>{let{onClick:n,className:i,reportMessage:r}=e;const{extraActions:a}=Mt();return t.createElement(Nt,{name:Ht.Replay,reportMessage:r,Icon:Zt,onClick:e=>{n(e),a.replay()},className:i})})),en=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M18.7694 5.17722C18.7124 5.1312 17.3501 4.05054 15.1974 4.05054C14.0795 4.05054 12.958 4.57908 11.8734 5.09022C10.8681 5.56399 9.91858 6.01149 9.07851 6.01149C7.78142 6.01149 6.70641 5.52985 6.24173 5.28367V4.05584H5V19.9494H6.2417V14.7142C6.92048 15.0084 7.91904 15.3242 9.07848 15.3242C10.1981 15.3242 11.3203 14.7884 12.4056 14.2702C13.4102 13.7905 14.3591 13.3375 15.1974 13.3375C16.8672 13.3375 17.9474 14.1562 17.9903 14.1894L19 15.023V5.3636L18.7694 5.17722ZM17.7583 12.637C17.1421 12.3628 16.2675 12.0958 15.1974 12.0958C14.0779 12.0958 12.9557 12.6316 11.8705 13.1497C10.8658 13.6294 9.91684 14.0825 9.07845 14.0825C7.80745 14.0825 6.74955 13.6063 6.27271 13.3503V6.6708C6.94982 6.95382 7.9361 7.25319 9.07845 7.25319C10.1965 7.25319 11.318 6.72464 12.4027 6.21344C13.4079 5.7397 14.3574 5.29223 15.1974 5.29223C16.4371 5.29223 17.3518 5.74352 17.7583 5.98957V12.637H17.7583Z",fill:n}))},tn=[{Component:Jt,forSeekableOnly:!0,forEmbedOnly:!1,reportMessage:"replay"},{Component:Xt,forSeekableOnly:!0,forWebOnly:!0,forEmbedOnly:!1,forNotLive:!0,forNotInteractive:!0,reportMessage:"replayVideo"},{Component:Wt,forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"copy-link"},{Component:zt,forSeekableOnly:!0,forEmbedOnly:!1,forNotInteractive:!0,reportMessage:"copy-link-at-time"},{Component:e=>{let{onClick:n,className:i,reportMessage:r}=e;const{extraActions:a}=Mt();return t.createElement(Nt,{name:Ht.CopyTag,Icon:$t,reportMessage:r,onClick:e=>{n(e),a.copyTag()},className:i})},forSeekableOnly:!1,forEmbedOnly:!1,forNotInteractive:!0,reportMessage:"copy-tag"},{Component:Ut,forSeekableOnly:!1,forEmbedOnly:!0,reportMessage:"claim"},{Component:e=>{let{onClick:n,reportMessage:i}=e;const{extraActions:r}=Mt();return t.createElement(Nt,{name:Ht.HotkeysManual,Icon:Gt,reportMessage:i,onClick:e=>{n(e),r.hotkeysManual()}})},forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"hotkeys-manual"},{Component:Yt,forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"copy-info"},{Component:e=>{let{onClick:n,className:i,reportMessage:r}=e;const{extraActions:a}=Mt();return t.createElement(Nt,{name:Ht.ReportError,Icon:en,reportMessage:r,onClick:e=>{n(e),a.reportError()},className:i})},forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"report-error"}],nn="context-menu-module__menu___Umjcn";var rn=s(1374);const an=e=>{let{targetRef:t,handler:n}=e;return(0,mt.Wr)(t,n),null},sn=(0,_t.PA)((e=>{const n=(0,t.useRef)(null),i=(0,rn._)(),{hiddenItems:r}=e,[a,s]=(0,t.useState)(),o=Mt(),{isSeekable:l,playerMode:u,playerWrapperElement:c,onClick:d,isEmbed:h,isLive:p,isOpen:v,isInteractiveVideo:m}=o,_=(0,t.useCallback)((e=>{let{forSeekableOnly:t,forEmbedOnly:n,forWebOnly:i,forNotLive:a,reportMessage:s,forNotInteractive:o}=e;return(!m||!o)&&((l||!t)&&(h||!n)&&(!h||!i)&&(!p||!a)&&(!r||0===r.length||-1===r.indexOf(s)))}),[l,h,p,r,m]),f=tn.filter(_),g=(0,t.useCallback)((e=>{e.preventDefault(),o.isOpen=!1}),[o]);return(0,t.useEffect)((()=>{if(!c)return;const e=e=>{if(e.preventDefault(),"pointerType"in e&&"touch"===(null==e?void 0:e.pointerType))return;const{clientX:t,clientY:n}=e,i=e.target.getBoundingClientRect(),r=i.y,a=i.x;o.isOpen=!0;s({getBoundingClientRect:()=>{const i=e.target.getBoundingClientRect();return new DOMRect(t+i.x-a,n+i.y-r)}})};return c.addEventListener("contextmenu",e),()=>{c.removeEventListener("contextmenu",e)}}),[o,c]),(0,t.useEffect)((()=>{v&&(o.isOpen=!1)}),[u]),t.createElement(vt.e0,{anchorElement:a,hidePopperOnHidingElement:!1,isPopperShown:v,popperOptions:{placement:"auto-start",modifiers:[{name:"preventOverflow",options:{boundary:i,altAxis:!0}}]},portal:!1,popperKey:vt.m0.tooltip,customPopperZIndex:999,renderPopperElements:()=>t.createElement("div",{ref:n,className:nn},f.map((e=>{let{Component:n,reportMessage:i}=e;return t.createElement(n,{key:i,reportMessage:i,onClick:d,isEmbed:h})})))},v&&t.createElement(an,{targetRef:n,handler:g}))})),on=t.memo((e=>{let{hiddenItems:n}=e;return t.createElement(sn,{hiddenItems:n})}));var ln,un;let cn,dn,hn;var pn;let vn,mn,_n;new(un=class extends k.j8{constructor(e,t,n,i,r,a){var s;super(),this.__isOpen=A.sH.box(!1),this.__counterHelper=void 0,this.__dataPlugin=void 0,this.__videoLayout=void 0,this.__playback=void 0,this.__isEmbed=void 0,this._itemsToExclude=null,this._hiddenItems=null,this.extraActions=i,this.__dataPlugin=e,this.__videoLayout=t,this.__playback=r,this.__counterHelper=n instanceof pt?n.counterHelper:void 0,this.__isEmbed=null!==(s=null==a?void 0:a.value)&&void 0!==s&&s,this.sendStat=this.sendStat.bind(this),this.onClick=this.onClick.bind(this),(0,A.Gn)(this,{isOpen:A.EW,isInteractiveVideo:A.EW})}get isSeekable(){return!this.__dataPlugin.isLive||this.__dataPlugin.isDVR&&!this.__dataPlugin.isTVStream}get playerMode(){return this.__videoLayout.playerMode}get isOpen(){return this.__isOpen.get()}set isOpen(e){e&&this.sendStat("show_extended_player_menu"),this.__isOpen.set(e)}sendStat(e){var t;null===(t=this.__counterHelper)||void 0===t||t.get("mainContextMenuItemClick")({clickedItemTitle:e})}onClick(e){const t=e.currentTarget&&e.currentTarget.getAttribute("data-reportmessage")||"";this.isOpen=!1,"replayVideo"!==t?this.sendStat(t):this.sendStat(this.isLooping?"replay_video_off":"replay_video_on")}get playerWrapperElement(){return this.__videoLayout.wrapperRef}get isLive(){return this.__dataPlugin.isLive}get isLooping(){return this.__playback.isLooping}get isEmbed(){return this.__isEmbed}get itemsToExclude(){return this._itemsToExclude}get hiddenItems(){return this._hiddenItems}get isInteractiveVideo(){return this.__dataPlugin.isInteractiveVideo}},[hn,cn]=(0,S.A)(un,[(0,k.k_)({implement:"IContextMenuPlugin",ctor_args:["IDataPlugin","IVideoLayoutPlugin","IStatisticState","IExtraActionsPlugin","IPlayback",{implement:"IsEmbed",optional:!0}]})],[],0,void 0,k.j8).c,dn=un,(ln=class extends V{constructor(){super(hn),this.ContextMenu=on,cn()}})[dn]=void 0,ln);class fn extends k.j8{constructor(e){super(),this._node=(vn(this),A.sH.box(null)),this._isConnected=A.sH.box(!1),this._observer=null,this._config=e,(0,A.Gn)(this,{node:A.EW,isConnected:A.EW})}get node(){return this._node.get()}set node(e){this._node.set(e)}get isConnected(){return this._isConnected.get()}set isConnected(e){this._isConnected.set(e)}checkConnectedToDOM(){if(!this.node)return void(this.isConnected=!1);(this.node.isConnected||document.body.contains(this.node))&&(this.isConnected=!0,this.disconnectObserver())}initObserver(){this._observer=new MutationObserver((()=>this.checkConnectedToDOM())),document.body&&this._observer.observe(document.body,{childList:!0,subtree:!0})}disconnectObserver(){this._observer&&(this._observer.disconnect(),this._observer=null)}init(){const e=(0,A.mJ)((()=>this.node),(e=>{if(this.disconnectObserver(),e){if(e.isConnected||document.body.contains(e))return void(this.isConnected=!0);this.initObserver()}}));return()=>{this.disconnectObserver(),e()}}resetObserver(){return(0,A.mJ)((()=>this._config.get("videoId")),(()=>{this.disconnectObserver(),this.isConnected=!1,this.node&&this.initObserver()}))}}pn=fn,({e:[vn],c:[_n,mn]}=(0,S.A)(pn,[(0,k.k_)({implement:"IDomNodeTrackerPlugin",ctor_args:["IPlayerConfigPlugin"]})],[[(0,k.o7)(),2,"init"],[(0,k.o7)(),2,"resetObserver"]],0,void 0,k.j8)),mn();s(4992);const gn=function(t,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=new URLSearchParams((0,l.A)({utm_source:"embed",utm_medium:"referral",utm_campaign:t.utm_campaign,utm_content:t.utm_content},Object.fromEntries(Object.entries({utm_term:t.utm_term,t:"channel"!==t.type?t.t:void 0,p:t.p,popup:t.popup,productCode:t.productCode,onboarding_id:t.onboarding_id}).filter((e=>{let[,t]=e;return void 0!==t})))));if(qt.B.isMobile){const a=(0,l.A)((0,l.A)((0,l.A)((0,l.A)((0,l.A)((0,l.A)((0,l.A)({},t.hostname&&{hostname:t.hostname}),t.userId&&{user_id:t.userId}),t.dist&&{dist:t.dist}),t.appmetrica_tracking_id&&{appmetrica_tracking_id:t.appmetrica_tracking_id}),n.includes("channel")&&t.channelId&&{channel_id:t.channelId}),i&&st()&&{client_id:st()}),i&&(0,e.fL)()&&{cid:(0,e.fL)()});Object.entries(a).forEach((e=>{let[t,n]=e;n&&r.set(t,n)}))}return r};function yn(e){const{dist:t}=(0,i.al)(window.location.href,!0,"dist");return e?t||"":`${(0,R.qO)((0,R.IN)())}${t?`_${t}`:""}`}var bn;let En,wn;class Sn extends k.j8{constructor(e,t){super(),this._data=void 0,this.data=e,this.playback=t,this._data=e,this.generateTrackingLink=this.generateTrackingLink.bind(this)}generateTrackingLink(e){var t;let{campaign:n,type:r="video",id:a,additionalParameters:s={},noMobileRedirect:o=!1}=e;const u=String(this._data.video_id),c=(e=>{const{videoId:t,type:n,channelId:i}=e,r="video"===n?`video/${t}`:`channel/${i}`,a=gn(e,r);return`${qt.B.isMobile&&!e.noMobileRedirect?`https://1164705.redirect.appmetrica.yandex.com/${r}`:`https://rutube.ru/${r}`}/?${a.toString()}`})((0,l.A)((0,l.A)((0,l.A)((0,l.A)({},s),this._data.viewer&&{userId:String(this._data.viewer)}),o&&{noMobileRedirect:"true"}),{},{p:(0,i.al)(window.location.href).p,channelId:String(null===(t=this._data.author)||void 0===t?void 0:t.id),videoId:a||u,hostname:(0,R.qO)((0,R.IN)()),type:r,dist:yn(!0),appmetrica_tracking_id:this.getAppmetricaTrackingId(n),utm_campaign:n,utm_content:u,utm_term:yn(),t:String(Math.round(this.playback.currentTime))}));return`${c}${qt.B.isMobile&&!o?`&id=${a||u}`:""}`}getAppmetricaTrackingId(e){return{logo:"1037877625579705379",main_logo:"1037877625579705379",title:"1109935222251589310",pausescreen:"245396394041434729",endscreen:"1109935224885674290",subscribe:"29071315776328984",channel:"605532070562855472",channel_left:"1110017734780921159",serial:"245244101715316941",time_tags:"173267859139527576",button_watch_on_rutube:"",button_watch_no_ad:"",button_ad_off:""}[e]}}bn=Sn,[wn,En]=(0,S.A)(bn,[(0,k.k_)({implement:"ITrackingLinksPlugin",ctor_args:["IDataPlugin","IPlayback"]})],[],0,void 0,k.j8).c,En();const An=function(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"em":"";return{r:qt.B.isMobile?`pl${e}wm`:`pl${e}wd`}};class kn{constructor(){this.events=void 0,this.events={}}emit(e,t){const n=this.events[e]&&this.events[e].slice();if(n&&n.length)for(let e=0;e<n.length;e+=1)n[e](t)}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}once(e,t){let n=!1;const i=r=>{n||(n=!0,this.off(e,i),t(r))};return this.on(e,i)}off(e,t){const n=this.events[e];if(n){const i=n.indexOf(t);i>-1&&n.splice(i,1),n.length<1&&delete this.events[e]}}}function Cn(e){try{return window.navigator.clipboard.writeText(e)}catch(t){return new Promise((t=>t(((e,t)=>{const n=document.createElement("textarea");if(n.value=e,n.style.position="absolute",n.style.left="-9999px",n.setAttribute("readonly",""),document.body.appendChild(n),t){const t=document.createRange();t.selectNodeContents(n);const i=window.getSelection();i&&(i.removeAllRanges(),i.addRange(t),n.setSelectionRange(0,e.length))}else n.select();try{return document.execCommand("copy")}catch(e){return!1}finally{document.body.removeChild(n)}})(e,!0))))}}var Pn;let Tn,In;class Rn extends k.j8{constructor(e,t,n){var i;super(),this.__eventEmitter=void 0,this.__dataPlugin=void 0,this.__isEmbed=void 0,this.__playback=void 0,this.__dataPlugin=e,this.__playback=t,this.__isEmbed=null!==(i=null==n?void 0:n.value)&&void 0!==i&&i,this.__eventEmitter=new kn,this.seekToStart=this.seekToStart.bind(this),this.emit=this.emit.bind(this),this.claim=this.claim.bind(this),this.copyTechInfo=this.copyTechInfo.bind(this),this.copyLink=this.copyLink.bind(this),this.copyLinkAtTime=this.copyLinkAtTime.bind(this),this.copyTag=this.copyTag.bind(this),this.hotkeysManual=this.hotkeysManual.bind(this),this.toggleTechInfo=this.toggleTechInfo.bind(this),this.replay=this.replay.bind(this),this.reportError=this.reportError.bind(this),this.loopVideo=this.loopVideo.bind(this)}seekToStart(){this.__playback.isPlaying||this.__playback.play(),this.__playback.progress<100&&this.__playback.seek(0)}emit(e,t){return this.__eventEmitter.emit(e,t)}on(e,t){return this.__eventEmitter.on(e,t),()=>this.off(e,t)}off(e,t){this.__eventEmitter.off(e,t)}get videoUrl(){var e;return(null===(e=this.__dataPlugin.data)||void 0===e?void 0:e.video_url)||""}get duration(){return this.__playback.duration}get progress(){return this.__playback.progress}get videoId(){var e;return(null===(e=this.__dataPlugin.data)||void 0===e?void 0:e.video_id)||""}get isLooping(){return this.__playback.isLooping}claim(){const e=encodeURIComponent(this.videoUrl||""),t=`https://rutube.ru/forms/invalid-content/?id=${this.videoUrl}&content_type=video&video_link=${e}`;this.emit(Ft.claim,null);const n=window.open(t,"_blank");n&&n.focus()}loopVideo(){this.emit(Ft.repeatVideo,null),this.__playback.isLooping=!this.__playback.isLooping}copyTechInfo(){this.emit(Ft.copyTechInfo,null)}copyLink(){if(this.emit(Ft.copyLink,null),this.videoUrl){const e=An(this.__isEmbed),t=(0,i.Kj)(e);Cn(`${(0,R.nu)(this.videoUrl)}?${t.toString()}`).catch((e=>console.warn(e)))}}copyLinkAtTime(){const e=An(this.__isEmbed);if(this.emit(Ft.copyLinkAtTime,null),this.videoUrl){var t;const n=this.progress&&this.duration?Math.round(this.duration*this.progress/100):0,i=(0,R.Qv)((0,R.nu)(this.videoUrl));Object.entries((0,l.A)({t:n},e)).forEach((e=>{let[t,n]=e;return void 0!==n&&(null==i?void 0:i.searchParams.append(t,n))})),Cn(null!==(t=null==i?void 0:i.toString())&&void 0!==t?t:"").catch((e=>console.warn(e)))}}copyTag(){this.emit(Ft.copyCode,null);Cn(((e,t)=>{var n;const i=(0,R.Qv)(t||"",window.location.origin),r=window.location.origin,a=null==i||null===(n=i.searchParams)||void 0===n?void 0:n.get("p");return`\n      <iframe\n        width="720"\n        height="405"\n        src="${r}/play/embed/${e}${a?`/?p=${encodeURIComponent(a)}`:""}"\n        style="border: none;"\n        allow="clipboard-write; autoplay"\n        allowFullScreen\n      ></iframe>\n    `})(this.videoId,this.videoUrl)).catch((e=>console.warn(e)))}hotkeysManual(){const e=window.open("https://rutube.ru/info/hotkeys","_blank");e&&e.focus()}toggleTechInfo(){this.emit(Ft.toggleTechInfo,null)}replay(){this.emit(Ft.replay,null),this.seekToStart()}reportError(){this.emit(Ft.reportError,null);const e=window.open("https://rutube.ru/forms/problem/","_blank");e&&e.focus()}}Pn=Rn,[In,Tn]=(0,S.A)(Pn,[(0,k.k_)({implement:"IExtraActionsPlugin",ctor_args:["IDataPlugin","IPlayback",{implement:"IsEmbed",optional:!0}]})],[],0,void 0,k.j8).c,Tn();var Ln=s(8817);let xn=function(e){return e.seekForward="seekForward",e.seekBackward="seekBackward",e.mute="mute",e.unmute="unmute",e.volumeUp="volumeUp",e.volumeDown="volumeDown",e.subtitles="subtitles",e.nextTimeMark="nextTimeMark",e.previousTimeMark="previousTimeMark",e.percentRewind="percentRewind",e.playbackRate="playbackRate",e}({});var On=s(9845);const Nn=()=>(0,Dt.p5)().resolve("IInfoLayerPlugin"),Dn="info-layer-icon-module__notButton___xT03g",Mn="info-layer-icon-module__withBg___E1P0L",Bn="info-layer-icon-module__withBgBig___yEf3i",Fn=(0,t.forwardRef)(((e,n)=>{let{icon:i,color:r,big:a,wrapperClassName:s,className:o,style:u,children:c}=e;return t.createElement("div",{ref:n,className:gt()(Mn,s,{[Bn]:a})},t.createElement("div",{className:gt()(Dn,o),style:(0,l.A)({background:"transparent"},u||{})},i?t.createElement(i,{color:r}):c))})),Hn=e=>{let{color:n="white"}=e;return t.createElement("svg",{"data-testid":"play-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M8 5v14l10-7L8 5Z",fill:n,stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},Vn=e=>{let{color:n="white"}=e;return t.createElement("svg",{"data-testid":"pause-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"15",y:"5",width:"2",height:"14",rx:".5",fill:n}),t.createElement("rect",{x:"7",y:"5",width:"2",height:"14",rx:".5",fill:n}))},Un=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fill:n,d:"M6 6h12v12H6z"}))},jn=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},t.createElement("path",{fill:n,fillRule:"evenodd",d:"m13.93 5.93-1.76 1.76a.1.1 0 0 1-.17-.07V4.1c0-.09.1-.13.17-.07l1.76 1.76a.1.1 0 0 1 0 .14Zm1.7.63c.2-.35.66-.47.99-.24A8 8 0 1 1 12 4.86v1.46a6.54 6.54 0 1 0 3.88 1.28.8.8 0 0 1-.25-1.04Zm-6.11 9.3h1.2v-5.71h-.99L7.9 11.6l.59.73.65-.53a7.71 7.71 0 0 0 .42-.4 43.12 43.12 0 0 0-.03 1.14v3.3Zm6.65-1.62a6.29 6.29 0 0 0-.1-2.82 2.03 2.03 0 0 0-.66-1.01c-.3-.24-.67-.35-1.13-.35-.49 0-.88.11-1.17.35-.29.23-.5.57-.63 1.01-.13.44-.2.97-.2 1.58 0 .61.08 1.14.22 1.58.14.44.36.77.65 1 .3.24.67.36 1.13.36a2 2 0 0 0 .93-.2c.26-.14.46-.33.62-.58.16-.25.27-.56.34-.92Zm-2.61-.15c-.05-.29-.07-.65-.07-1.09 0-.43.02-.8.07-1.09.05-.29.13-.5.24-.65a.57.57 0 0 1 .48-.23c.2 0 .36.08.47.23.12.14.2.36.25.65.05.3.08.66.08 1.1 0 .43-.03.8-.08 1.09-.05.29-.13.5-.25.65a.57.57 0 0 1-.47.21.57.57 0 0 1-.48-.22c-.11-.14-.2-.36-.24-.65Z",clipRule:"evenodd"}))},Wn=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},t.createElement("path",{fill:n,fillRule:"evenodd",d:"m10.07 5.93 1.76 1.76a.1.1 0 0 0 .17-.07v-1.3A6.54 6.54 0 1 1 8.12 7.6a.8.8 0 0 0 .25-1.04.68.68 0 0 0-.99-.24A8 8 0 1 0 12 4.86V4.1a.1.1 0 0 0-.17-.07l-1.76 1.76a.1.1 0 0 0 0 .14Zm-.55 9.93h1.2v-5.71h-.99L7.9 11.6l.59.73.65-.53a7.71 7.71 0 0 0 .42-.4 42.75 42.75 0 0 0-.03 1.14v3.3Zm6.65-1.62a6.29 6.29 0 0 0-.1-2.82 2.03 2.03 0 0 0-.66-1.01c-.3-.24-.67-.35-1.13-.35-.49 0-.88.11-1.17.35-.29.23-.5.57-.63 1.01-.13.44-.2.97-.2 1.58 0 .61.08 1.14.22 1.58.14.44.36.77.65 1 .3.24.67.36 1.13.36a2 2 0 0 0 .93-.2c.26-.14.46-.33.62-.58.16-.25.27-.56.34-.92Zm-2.61-.15c-.05-.29-.07-.65-.07-1.09 0-.43.02-.8.07-1.09.05-.29.13-.5.24-.65a.57.57 0 0 1 .48-.23c.2 0 .36.08.47.23.12.14.2.36.25.65.05.3.08.66.08 1.1 0 .43-.03.8-.08 1.09-.05.29-.13.5-.25.65a.57.57 0 0 1-.47.21.57.57 0 0 1-.48-.22c-.11-.14-.2-.36-.24-.65Z",clipRule:"evenodd"}))};var zn=s(4825),$n=s(4224);let Gn=function(e){return e.PLAY="play",e.STOP="stop",e.PAUSE="pause",e.NEXT_SEEK="next_seek",e.PREV_SEEK="prev_seek",e.VOLUME_UP="volume_up",e.VOLUME_DOWN="volume_down",e.MUTE="mute",e.UNMUTE="unmute",e.LINK="link",e.TAG="tag",e.REPLAY_SQUARE="replaySquare",e.INFO="info",e.FLAG="flag",e.SEEK_TO_NEXT_TIME_MARK="seek_to_next_time_mark",e.SEEK_TO_PREV_TIME_MARK="seek_to_prev_time_mark",e.FORWARD_FAST="forward_fast",e}({});const qn={[Gn.PLAY]:Hn,[Gn.PAUSE]:Vn,[Gn.STOP]:Un,[Gn.NEXT_SEEK]:jn,[Gn.PREV_SEEK]:Wn,[Gn.VOLUME_UP]:zn.i,[Gn.VOLUME_DOWN]:()=>t.createElement(zn.i,{low:!0}),[Gn.MUTE]:$n.L,[Gn.UNMUTE]:zn.i,[Gn.LINK]:jt,[Gn.TAG]:$t,[Gn.REPLAY_SQUARE]:Zt,[Gn.INFO]:Kt,[Gn.FLAG]:en,[Gn.SEEK_TO_NEXT_TIME_MARK]:()=>t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.6666 5.7513C18.6666 5.22203 19.0956 4.79297 19.6249 4.79297C20.0322 4.79297 20.3802 5.04708 20.5189 5.40541C20.5888 5.50283 20.6299 5.62226 20.6299 5.7513V17.2513C20.6299 17.3803 20.5888 17.4998 20.5189 17.5972C20.3802 17.9555 20.0322 18.2096 19.6249 18.2096C19.0956 18.2096 18.6666 17.7806 18.6666 17.2513V11.8847L11 17.2513V12.3722L4 17.251V5.75098L11 10.6298V5.7513L18.6666 11.1179V5.7513Z",fill:"white"})),[Gn.SEEK_TO_PREV_TIME_MARK]:()=>t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.96332 5.7513C5.96332 5.22203 5.53426 4.79297 5.00498 4.79297C4.59767 4.79297 4.24971 5.04708 4.11097 5.40541C4.0411 5.50283 3.99997 5.62226 3.99997 5.7513V17.2513C3.99997 17.3803 4.0411 17.4998 4.11097 17.5972C4.24971 17.9555 4.59767 18.2096 5.00498 18.2096C5.53426 18.2096 5.96332 17.7806 5.96332 17.2513V11.8847L13.6299 17.2513V12.3722L20.6299 17.251V5.75098L13.6299 10.6298V5.7513L5.96332 11.1179V5.7513Z",fill:"white"})),[Gn.FORWARD_FAST]:e=>{let{color:n="white "}=e;return t.createElement("svg",{width:"18",height:"12",viewBox:"0 0 18 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M8.7562 0.544534C8.5882 0.634444 8.48333 0.809522 8.48333 1.00007V5.59181C8.47361 5.58428 8.46358 5.57706 8.45326 5.57017L0.953256 0.570173C0.794714 0.464478 0.590866 0.454624 0.422867 0.544534C0.254869 0.634444 0.149994 0.809522 0.149994 1.00007V11.0001C0.149994 11.1906 0.254869 11.3657 0.422867 11.4556C0.590866 11.5455 0.794714 11.5357 0.953256 11.43L8.45326 6.42996C8.46358 6.42308 8.47361 6.41586 8.48333 6.40832V11.0001C8.48333 11.1906 8.5882 11.3657 8.7562 11.4556C8.9242 11.5455 9.12805 11.5357 9.28659 11.43L16.7866 6.42996C16.9303 6.33414 17.0167 6.17282 17.0167 6.00007C17.0167 5.82732 16.9303 5.666 16.7866 5.57017L9.28659 0.570173C9.12805 0.464478 8.9242 0.454624 8.7562 0.544534Z",fill:n}))}},Kn={wrapper:"info-layer-module__wrapper___HuYcm",labelBox:"info-layer-module__labelBox___SR51I",labelBoxAnimated:"info-layer-module__labelBoxAnimated___LYOhD",infoLayerLabelFadeout:"info-layer-module__infoLayerLabelFadeout___QuYne",label:"info-layer-module__label___O3giF",iconBox:"info-layer-module__iconBox___xf2b6",sm:"info-layer-module__sm___yLpF6",btn:"info-layer-module__btn___HF35Z",md:"info-layer-module__md___Xwv9c",lg:"info-layer-module__lg___MSHN9",xlg:"info-layer-module__xlg___AiyoD",btnAnimated:"info-layer-module__btnAnimated___JnYUa",infoLayerIconFadeout:"info-layer-module__infoLayerIconFadeout___IQGWZ"};var Yn=s(140),Qn=s(9346);const Xn=(0,_t.PA)((()=>{const e=(0,t.useRef)(null),n=Nn(),{activeInfo:i,labelToShow:r,hidden:a,labelIcon:s,withoutAnimation:o}=n,l=n.getCustomStyles(),u=s?qn[s]:void 0,{getDataAttribute:c}=(0,Yn.f)();if(!i||a)return null;const{updatedAt:d,icon:h}=i,p=n.getSizeClassName(Kn),v=()=>{n.setActiveInfo(null)};return t.createElement("div",{className:gt()(Kn.wrapper,p),ref:e,key:d},r&&t.createElement("div",{className:gt()(l||Kn.labelBox,{[Kn.labelBoxAnimated]:!o}),onAnimationEnd:v},t.createElement("span",(0,On.A)({className:Kn.label,role:"alert","aria-live":"polite"},c(Qn.R.ALERT)),r,u&&t.createElement(u,null))),h&&t.createElement("div",{className:Kn.iconBox},t.createElement("div",{className:gt()({[Kn.btnAnimated]:!o}),onAnimationEnd:r?void 0:v},t.createElement(Fn,{big:!0,wrapperClassName:Kn.btn,icon:h?qn[h]:void 0}))))})),Zn=t.memo((function(){return t.createElement(Xn,null)}));let Jn=function(e){return e.PLAY="play",e.STOP="stop",e.PAUSE="pause",e.NEXT_SEEK="next_seek",e.PREV_SEEK="prev_seek",e.VOLUME_UP="volume_up",e.VOLUME_DOWN="volume_down",e.MUTE="mute",e.UNMUTE="unmute",e.LINK="link",e.TAG="tag",e.REPLAY_SQUARE="replaySquare",e.INFO="info",e.FLAG="flag",e.SEEK_TO_NEXT_TIME_MARK="seek_to_next_time_mark",e.SEEK_TO_PREV_TIME_MARK="seek_to_prev_time_mark",e.FORWARD_FAST="forward_fast",e}({});const ei=[Jn.LINK,Jn.TAG,Jn.REPLAY_SQUARE];var ti,ni;let ii,ri,ai,si;var oi;let li,ui,ci;new(ni=class extends k.j8{constructor(e,t,n,i,r,a){super(),this.__playerSize=void ii(this),this.__playback=void 0,this.__shortcuts=void 0,this.__extraActions=void 0,this.__data=void 0,this.__forceToShow=!1,this.__activeInfo=A.sH.box(null),this.__isFirstReaction=!0,this.__isInfoPrevented=!1,this._visibilityState=a,(0,A.Gn)(this,{playerWidth:A.EW,labelToShow:A.EW,hidden:A.EW,getSizeClassName:A.XI,setActiveInfo:A.XI}),this.__playerSize=e,this.__playback=t,this.__shortcuts=n,this.__extraActions=i,this.__data=r}init(){const e=this.setPlayPause(),t=this.setMuteInfo(),n=this.setSeekForwardInfo(),i=this.setSeekBackwardInfo(),r=this.setSeekForwardIPlaybacknfo(),a=this.setSeekBackwardIPlaybacknfo(),s=this.setVolumeUp(),o=this.setVolumeDown(),l=this.setSubtitles(),u=this.setCopyTech(),c=this.setCopyLinkAtTime(),d=this.setCopyLink(),h=this.setCopyEmbedPlayerCode(),p=this.setShowTechInfo(),v=this.setReplay(),m=this.setPlaybackRate(),_=this.setPlaybackRateFromShortcuts(),f=this.toggleFramelessMode();return()=>{[e,t,n,i,r,a,s,o,l,u,c,d,h,p,v,m,_,f].forEach((e=>e()))}}initVisibilityChange(){return(0,A.mJ)((()=>this._visibilityState.isVisible),(()=>{this.isInfoPrevented=!0}))}setPlayPause(){return(0,A.mJ)((()=>this.__playback.paused),(e=>{qt.B.isMobile||(this.__isFirstReaction?this.__isFirstReaction=!1:e?this.__data.isTVStream?this.setActiveInfo({icon:Jn.STOP}):this.setActiveInfo({icon:Jn.PAUSE}):this.setActiveInfo({icon:Jn.PLAY}))}))}setSeekForwardInfo(){return this.subscribeShortcutsEvent(xn.seekForward,(()=>{this.setActiveInfo({icon:Jn.NEXT_SEEK})}))}setSeekForwardIPlaybacknfo(){return this.subscribePlaybackActions(Ln.p.defaultForwardSeek,(()=>{this.setActiveInfo({icon:Jn.NEXT_SEEK})}))}setSeekBackwardIPlaybacknfo(){return this.subscribePlaybackActions(Ln.p.defaultBackwardSeek,(()=>{this.setActiveInfo({icon:Jn.PREV_SEEK})}))}setSeekBackwardInfo(){return this.subscribeShortcutsEvent(xn.seekBackward,(()=>{this.setActiveInfo({icon:Jn.PREV_SEEK})}))}setMuteInfo(){return this.subscribePlaybackActions(Ln.p.mute,(()=>{"Enabled"!==this.__playback.autoPlayWithMute&&this.setActiveInfo({label:`Ð—Ð²ÑƒÐº Ð²${this.__playback.muted?"":"Ñ‹"}ÐºÐ»ÑŽÑ‡ÐµÐ½`,icon:this.__playback.muted?Jn.UNMUTE:Jn.MUTE})}))}setPlaybackRateFromShortcuts(){return this.subscribeShortcutsEvent(xn.playbackRate,(e=>{let{newRate:t}=e;this.setActiveInfo({label:`Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ñ: ${100*t}%`,shortLabel:`Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ: ${t}`})}))}setPlaybackRate(){return this.subscribePlaybackActions(Ln.p.playbackRate,(e=>{let{rate:t,withoutInfo:n}=e;n||this.setActiveInfo({label:`Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ñ: ${100*t}%`,shortLabel:`Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ: ${t}`})}))}setVolumeUp(){return this.subscribeShortcutsEvent(xn.volumeUp,(e=>{let{newVolume:t}=e;this.setActiveInfo({icon:Jn.VOLUME_UP,label:`Ð“Ñ€Ð¾Ð¼ÐºÐ¾ÑÑ‚ÑŒ ${t}%`})}))}setVolumeDown(){return this.subscribeShortcutsEvent(xn.volumeDown,(e=>{let{newVolume:t}=e;t>0?this.setActiveInfo({icon:Jn.VOLUME_DOWN,label:`Ð“Ñ€Ð¾Ð¼ÐºÐ¾ÑÑ‚ÑŒ ${t}%`}):this.setActiveInfo({icon:Jn.MUTE,label:"Ð—Ð²ÑƒÐº Ð²Ñ‹ÐºÐ»ÑŽÑ‡ÐµÐ½"})}))}setSubtitles(){return this.subscribeShortcutsEvent(xn.subtitles,(e=>{this.setActiveInfo({label:`Ð¡ÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹ Ð²${e?"":"Ñ‹"}ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹`})}))}setCopyTech(){return this.subscribeExtraActions(Ft.copyTechInfo,(()=>{this.setActiveInfo({label:"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"})}))}setCopyLinkAtTime(){return this.subscribeExtraActions(Ft.copyLinkAtTime,(()=>{this.setActiveInfo({icon:Jn.LINK})}))}setCopyLink(){return this.subscribeExtraActions(Ft.copyLink,(()=>{this.setActiveInfo({icon:Jn.LINK})}))}setCopyEmbedPlayerCode(){return this.subscribeExtraActions(Ft.copyCode,(()=>{this.setActiveInfo({icon:Jn.TAG})}))}setShowTechInfo(){return this.subscribeExtraActions(Ft.toggleTechInfo,(()=>{}))}setReplay(){return this.subscribeExtraActions(Ft.replay,(()=>{this.setActiveInfo({icon:Jn.REPLAY_SQUARE})}))}subscribeShortcutsEvent(e,t){return this.__shortcuts.on(e,t),()=>{this.__shortcuts.off(e,t)}}subscribeExtraActions(e,t){var n;return null===(n=this.__extraActions)||void 0===n||n.on(e,t),()=>{var n;null===(n=this.__extraActions)||void 0===n||n.off(e,t)}}subscribePlaybackActions(e,t){var n;return null===(n=this.__playback)||void 0===n||n.on(e,t),()=>{var n;null===(n=this.__playback)||void 0===n||n.off(e,t)}}toggleFramelessMode(){return this.subscribePlaybackActions(Ln.p.toggleFramelessMode,(e=>{const t=e?"Ð‘ÐµÐ· Ð¿Ð¾Ð»ÐµÐ¹":"C Ð¿Ð¾Ð»ÑÐ¼Ð¸";this.forceToShow=!0,this.setActiveInfo({label:t,shortLabel:t})}))}get activeInfo(){return this.__activeInfo.get()}get playerWidth(){var e;return(null===(e=this.__playerSize.size)||void 0===e?void 0:e.width)||0}get labelToShow(){if(!this.activeInfo)return"";const{label:e,shortLabel:t}=this.activeInfo;return this.playerWidth&&this.playerWidth<550&&t?t:e||""}get forceToShow(){return this.__forceToShow}set forceToShow(e){this.__forceToShow=e}get hidden(){var e,t,n;return!(null===(e=this.__data.appearance)||void 0===e||!e.forbid_html_controls)||qt.B.isMobile&&!((n=null===(t=this.activeInfo)||void 0===t?void 0:t.icon)&&ei.includes(n))&&!this.__forceToShow}get labelIcon(){var e;return null===(e=this.activeInfo)||void 0===e?void 0:e.labelIcon}get withoutAnimation(){var e;return(null===(e=this.activeInfo)||void 0===e?void 0:e.withoutAnimation)||!1}get isInfoPrevented(){return this.__isInfoPrevented}set isInfoPrevented(e){this.__isInfoPrevented=e}setActiveInfo(e){var t,n;if(null!==e&&null!==(t=this.activeInfo)&&void 0!==t&&t.persistent||this.isInfoPrevented||this.__playback.isInfoPrevented)return this.isInfoPrevented=!1,void(this.__playback.isInfoPrevented=!1);const i=(0,l.A)((0,l.A)({},e),{},{updatedAt:null!==(n=null==e?void 0:e.updatedAt)&&void 0!==n?n:(new Date).getTime()});this.__activeInfo.set(i)}getSizeClassName(e){return this.__playerSize.getSizeClassName(e)}customStylesForLabel(){}getCustomStyles(){return this.customStylesForLabel()}},({e:[ii],c:[si,ri]}=(0,S.A)(ni,[(0,k.k_)({implement:"IInfoLayerPlugin",ctor_args:["IPlayerSizePlugin","IPlayback","IShortcutsPlugin",{implement:"IExtraActionsPlugin",optional:!0},"IDataPlugin","IVisibilityStatePlugin"]})],[[(0,k.o7)(),2,"init"],[(0,k.o7)(),2,"initVisibilityChange"]],0,void 0,k.j8)),ai=ni,(ti=class extends V{constructor(){super(si),this.InfoLayerPluginView=Zn,ri()}})[ai]=void 0,ti);class di extends k.j8{constructor(e,t,n,i,r){super(),this._isMediaSession=(li(this),"object"==typeof navigator&&"mediaSession"in navigator),this._data=e,this._playback=t,this._nextPlugin=n,this._playlist=i,this._config=r,(0,A.Gn)(this,{isSeekable:A.EW},{autoBind:!0})}setMediaSessionHandlers(){if(!this._isMediaSession)return;navigator.mediaSession.setActionHandler("play",(()=>{var e;this._playback.isPlaying||null!==(e=this._config)&&void 0!==e&&e.get("isPlaybackDisabled")||this._playback.play().catch(console.warn)})),navigator.mediaSession.setActionHandler("pause",(()=>{this._playback.isPlaying&&this._playback.pause()}));const e=this.syncTrackData.bind(this);return this._playback.player.addEventListener("play",e),this._playback.player.addEventListener("pause",e),()=>{navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",null),navigator.mediaSession.setActionHandler("seekforward",null),navigator.mediaSession.setActionHandler("seekbackward",null),navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.metadata=null,navigator.mediaSession.playbackState="none",this._playback.player.removeEventListener("play",e),this._playback.player.removeEventListener("pause",e)}}setMediaMetaData(){return(0,A.mJ)((()=>{var e;return{title:this._data.title,poster:this._data.poster,author:null===(e=this._data.author)||void 0===e?void 0:e.name}}),(e=>{let{title:t,poster:n,author:i}=e;this._isMediaSession&&(navigator.mediaSession.metadata=new MediaMetadata({title:t,artist:i,artwork:[{src:n||"",type:"image/jpg",sizes:"709x398"}]}))}))}setupMediaSessionNavigation(){if(!this._isMediaSession)return;const e=()=>{var e;null===(e=this._playlist)||void 0===e||e.onClickPrev()},t=()=>{var e;null===(e=this._nextPlugin)||void 0===e||e.onClick()},n=()=>{var e;null===(e=this._playlist)||void 0===e||e.onClickNext()};return(0,A.mJ)((()=>{var e,t,n,i;return{nextPlaylistVideo:null===(e=this._playlist)||void 0===e?void 0:e.nextVideo,prevPlaylistVideo:null===(t=this._playlist)||void 0===t?void 0:t.prevVideo,nextRecommendedVideo:null===(n=this._nextPlugin)||void 0===n?void 0:n.nextVideo,isVideoFromPlaylist:null===(i=this._playlist)||void 0===i?void 0:i.playlistId}}),(i=>{let{nextPlaylistVideo:r,prevPlaylistVideo:a,nextRecommendedVideo:s,isVideoFromPlaylist:o}=i;if(o)return navigator.mediaSession.setActionHandler("previoustrack",a?e:null),void navigator.mediaSession.setActionHandler("nexttrack",r?n:null);s&&navigator.mediaSession.setActionHandler("nexttrack",t)}))}setSeekButtons(){const e=()=>{this._playback.seekForward(10)},t=()=>{this._playback.seekBack(10)},n=e=>{e.seekTime&&(this._playback.seek(e.seekTime),this.syncTrackData())};return(0,A.mJ)((()=>({seekable:this.isSeekable})),(i=>{let{seekable:r}=i;this._isMediaSession&&r&&(navigator.mediaSession.setActionHandler("seekforward",e),navigator.mediaSession.setActionHandler("seekbackward",t),navigator.mediaSession.setActionHandler("seekto",n))}),{fireImmediately:!0})}syncPositionOnChange(){return(0,A.mJ)((()=>({position:this._playback.currentTime,duration:this._playback.duration})),this.syncTrackData.bind(this),{fireImmediately:!0})}syncTrackData(){if(this._isMediaSession){navigator.mediaSession.playbackState=this._playback.isPlaying?"playing":"paused";const e=void 0!==this._playback.currentTime&&!isNaN(this._playback.currentTime),t=void 0!==this._playback.duration&&!isNaN(this._playback.duration),n=void 0!==this._playback.playbackRate&&!isNaN(this._playback.playbackRate);e&&t&&n&&navigator.mediaSession.setPositionState({position:this._playback.currentTime,duration:this._playback.duration,playbackRate:this._playback.playbackRate})}}get isSeekable(){return!this._data.isLive||this._data.isDVR&&!this._data.isTVStream}}var hi,pi;let vi,mi;oi=di,({e:[li],c:[ci,ui]}=(0,S.A)(oi,[(0,k.k_)({implement:"MediaSessionPlugin",ctor_args:["IDataPlugin","IPlayback",{implement:"INextVideoPlugin",optional:!0},{implement:"IPlaylistPlugin",optional:!0},{implement:"IPlayerConfigPlugin",optional:!0}]})],[[(0,k.o7)(),2,"setMediaSessionHandlers"],[(0,k.o7)(),2,"setMediaMetaData"],[(0,k.o7)(),2,"setupMediaSessionNavigation"],[(0,k.o7)(),2,"setSeekButtons"],[(0,k.o7)(),2,"syncPositionOnChange"]],0,void 0,k.j8)),ui();class _i extends(hi=k.j8){static assertInstance(e){if(!(e instanceof mi))throw new Error("not a PlayerConfigPlugin")}static getObservableKey(e){return`__${e.toString()}`}constructor(e){super(),this._warehouse={};for(const t in e.value)this.createProperty(t,e.value[t])}createProperty(e,t){const n=mi.getObservableKey(e);Object.defineProperty(this._warehouse,n,{value:A.sH.box(t),writable:!1})}get(e){const t=mi.getObservableKey(e);return t in this._warehouse||this.createProperty(e,void 0),this._warehouse[t].get()}set(e,t){const n=mi.getObservableKey(e);n in this._warehouse||this.createProperty(e,t),(0,A.h5)((()=>{this._warehouse[n].set(t)}))}setBulk(e){(0,A.h5)((()=>e.forEach((e=>{let{key:t,value:n}=e;const i=mi.getObservableKey(t);i in this._warehouse||this.createProperty(t,n),this._warehouse[i].set(n)}))))}}pi=_i,[mi,vi]=(0,S.A)(pi,[(0,k.k_)({implement:"IPlayerConfigPlugin",ctor_args:["InitialProps"]})],[],0,void 0,hi).c,vi();s(9928);var fi=s(1862);const gi={common:fi.b9,stats:fi.nd},yi=(e,t)=>{if("number"!=typeof e||!t)return null;const n=gi[t],i=Object.keys(n).reverse(),r=i.find(((t,n)=>e>Number(i[n])));return r?n[Number(r)]:null};function bi(e,t){var n=this;let i;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];clearTimeout(i),i=setTimeout((()=>e.apply(n,a)),t)}}var Ei;let wi,Si,Ai;class ki extends k.j8{constructor(){super(),this._wrapperRef=(wi(this),A.sH.box(null)),this._size=A.sH.box(null),this._sizeObserver=null,this._coordinates=A.sH.box(null),this._windowWidth=A.sH.box(0),(0,A.Gn)(this,{wrapperRef:A.EW,size:A.EW,sizeId:A.EW,getSizeClassName:A.XI,coordinates:A.EW,updateWindowWidth:A.XI})}get wrapperRef(){return this._wrapperRef.get()}set wrapperRef(e){this._wrapperRef.set(e)}get size(){return this._size.get()}set size(e){this._size.set(e)}get sizeId(){var e;return yi(null===(e=this.size)||void 0===e?void 0:e.width,"common")}get sizeIdForStats(){var e;return yi(null===(e=this.size)||void 0===e?void 0:e.width,"stats")}get coordinates(){return this._coordinates.get()}set coordinates(e){this._coordinates.set(e)}get windowWidth(){return this._windowWidth.get()}updateWindowWidth(){globalThis.window&&this._windowWidth.set(window.innerWidth)}init(){const e=[];if(e.push((0,A.mJ)((()=>this.wrapperRef),(e=>{this._sizeObserver&&this._sizeObserver.disconnect(),e&&(this.size={width:e.offsetWidth,height:e.offsetHeight},this.initResizeObserver(e))}))),globalThis.window){const t=bi((()=>{(0,A.h5)((()=>{this.updateWindowWidth()}))}),100);this.updateWindowWidth(),window.addEventListener("resize",t),e.push((()=>window.removeEventListener("resize",t)))}return()=>e.forEach((e=>e()))}initResizeObserver(e){const t=bi((()=>{this.size={width:e.offsetWidth,height:e.offsetHeight};const{x:t,y:n}=e.getBoundingClientRect();(0,A.h5)((()=>this.coordinates={x:t,y:n}))}),100);this._sizeObserver=new ResizeObserver(t),this._sizeObserver.observe(e)}getSizeClassName(e){const t=this.sizeId||"";return t in e?e[t]:void 0}}function Ci(){}Ei=ki,({e:[wi],c:[Ai,Si]}=(0,S.A)(Ei,[(0,k.k_)("IPlayerSizePlugin")],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),Si();const Pi=/(rutube|rtbcdn)\.(ru|su)/;var Ti;let Ii,Ri,Li;class xi extends k.j8{constructor(e,t,n,i){super(),this._previewPosition=(Ii(this),A.sH.box(null)),this._isShowPreview=A.sH.box(!1),this._isAllowedToShowPreview=A.sH.box(!1),this._time=A.sH.box(null),this._tipType=A.sH.box("double-tap"),this._url=A.sH.box(""),this._isEmbed=void 0,this._data=e,this._playback=t,this._provider=n,this._isEmbedResolvable=i,(0,A.Gn)(this,{isAllowedToShowPreview:A.EW,isShowPreview:A.EW,url:A.EW,previewPosition:A.EW,setAnotherTip:A.XI,time:A.EW}),this._isEmbed=i.value,this.setAnotherTip=this.setAnotherTip.bind(this)}init(){const e=this.clearPreview();return(0,A.mJ)((()=>this._previewPosition.get()),(e=>{this.isShowPreview=null!==e&&this.isAllowedToShowPreview,null===this._previewPosition.get()&&(this.time=null);const t=this._playback.duration||0,n=this._previewPosition.get()||0,i=Math.floor(t*(n/100));this.time=i,this.url=(e=>{let{previewUrl:t,time:n}=e;return`${t}/Sec${n}.jpg?size=m`})({previewUrl:this._provider.previewUrl,time:i})||""})),(0,A.mJ)(Ci,e)}initReactions(){const e=[(0,A.mJ)((()=>{var e;return{isLiveStream:null===(e=this._data)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.live_streams)||void 0===e?void 0:e.hls,isPreviewUrlValid:Pi.test(this._provider.previewUrl),ended:this._playback.ended}}),(e=>{let{isLiveStream:t,isPreviewUrlValid:n,ended:i}=e;return this.isAllowedToShowPreview=!t&&n&&!i}))];return()=>e.forEach((e=>e()))}get isEmbed(){return this._isEmbed}get isAllowedToShowPreview(){return this._isAllowedToShowPreview.get()}set isAllowedToShowPreview(e){this._isAllowedToShowPreview.set(e)}get isShowPreview(){return this._isShowPreview.get()}set isShowPreview(e){this._isShowPreview.set(e)}get time(){return this._time.get()}set time(e){this._time.set(e)}get url(){return this._url.get()}set url(e){this._url.set(e)}get previewPosition(){return this._previewPosition.get()}set previewPosition(e){this._previewPosition.set(e)}get tipType(){return this._tipType.get()}setAnotherTip(){this._tipType.set("double-tap"===this._tipType.get()?"long-press":"double-tap")}clearPreview(){const e=()=>{(0,A.h5)((()=>{this._isShowPreview.set(!1)}))};return this._playback.player.addEventListener("seeked",e),()=>{this._playback.player.removeEventListener("seeked",e)}}}Ti=xi,({e:[Ii],c:[Li,Ri]}=(0,S.A)(Ti,[(0,k.k_)({implement:"IPreviewPlugin",ctor_args:["IDataPlugin","IPlayback","IProviderPlugin","IsEmbed"]})],[[(0,k.o7)(),2,"init"],[(0,k.o7)(),2,"initReactions"]],0,void 0,k.j8)),Ri();s(5745);const Oi="auto",Ni=["144p","240p","360p","480p","720p","1080p","1440p","2160p","4320p"],Di={144:"144p",240:"240p",360:"360p",480:"480p",720:"720p",1080:"1080p",1440:"1440p",2160:"2160p",4320:"4320p"},Mi=(e,t,n)=>{if(!e&&!t)return 0;const i=e&&t&&(e/t===fi.qZ||t>e),r=e&&i?e:t;return n&&e?e/fi.$c:r||0},Bi=(e,t)=>{const n=Object.keys(Di),i=!(!t||!e)&&t/e>parseFloat(fi.$c.toFixed(1));for(let r=1;r<n.length;r++){const a=+n[r-1],s=+n[r];if(Mi(t,e,i)<=a+(s-a)/2)return Di[a]}const r=Number(n[n.length-1]);return Di[r]},Fi=e=>{try{return localStorage.getItem(e)}catch(e){}},Hi=(e,t)=>{try{return localStorage.setItem(e,String(t))}catch(e){}},Vi=e=>{try{return sessionStorage.getItem(e)}catch(e){console.warn(e)}},Ui=(e,t)=>{try{return t?sessionStorage.setItem(e,t):sessionStorage.setItem(e,"")}catch(e){console.warn(e)}},ji=e=>{try{return sessionStorage.removeItem(e)}catch(e){console.warn(e)}};var Wi;let zi,$i,Gi;class qi extends k.j8{constructor(){super(),this.__qualities=(zi(this),A.sH.box([])),this.__activeQualityIndex=A.sH.box(-1),this.__autoQuality=A.sH.box(!1),this.__embedQuality=A.sH.box(""),this.__manuallySettedQualityIndex=A.sH.box(-1),(0,A.Gn)(this,{qualities:A.EW,activeQualityIndex:A.EW,manuallySettedQualityIndex:A.EW,manuallySettedQuality:A.EW,activeQualityValue:A.EW,autoQuality:A.EW,frameDuration:A.EW})}init(){return(0,A.mJ)((()=>({activeQualityIndex:this.activeQualityIndex,autoQuality:this.autoQuality})),(e=>{let{activeQualityIndex:t,autoQuality:n}=e;if(-1===t||n)Hi(fi.Ok.USER_QUALITY,Oi);else{const e=this.qualities.find((e=>e.index===t));e&&Hi(fi.Ok.USER_QUALITY,parseInt(e.value).toString())}}))}get qualities(){return(0,A.HO)(this.__qualities.get())}set qualities(e){const t=[{level:-1,value:Oi,index:-1}],n=e.filter((e=>e.height)),i=(n.length?(e=>e.map(((e,t)=>{let n;return n="number"==typeof e.qualityIndex?e.qualityIndex:"number"==typeof e.level?e.level:t,{value:Bi(e.height,e.width),height:e.height,width:e.width,level:n,bitrate:e.bitrate,frameRate:e.frameRate,frameDuration:e.frameDuration,edge:e.edge,isAuto:e.isAuto}})))(n):(e=>e.filter((e=>e.bitrate)).map(((e,t)=>{let n;n="number"==typeof e.qualityIndex?e.qualityIndex:"number"==typeof e.level?e.level:t;const i={level:n,bitrate:e.bitrate,frameRate:e.frameRate,frameDuration:e.frameDuration,edge:e.edge,isAuto:e.isAuto};return e.bitrate&&e.bitrate>35e6?(0,l.A)((0,l.A)({},i),{},{value:"2160p",height:2160,width:3840}):e.bitrate&&e.bitrate>16e6?(0,l.A)((0,l.A)({},i),{},{value:"1440p",height:1440,width:2560}):e.bitrate&&e.bitrate>65e5?(0,l.A)((0,l.A)({},i),{},{value:"1080p",height:1080,width:1920}):e.bitrate&&e.bitrate>45e5?(0,l.A)((0,l.A)({},i),{},{value:"720p",height:720,width:1280}):e.bitrate&&e.bitrate>25e5?(0,l.A)((0,l.A)({},i),{},{value:"480p",height:480,width:640}):e.bitrate&&e.bitrate>1e6?(0,l.A)((0,l.A)({},i),{},{value:"360p",height:360,width:480}):(0,l.A)((0,l.A)({},i),{},{value:"144p",height:144,width:256})})))(e)).sort(((e,t)=>{if(t.height&&e.height){if(e.height<t.height)return 1;if(t.height<e.height)return-1}return 0}));i.forEach(((e,t)=>{e.index=t+1})),t.push(...i),this.__qualities.set(t)}get activeQuality(){return this.qualities.find((e=>e.index===this.activeQualityIndex))}get activeQualityIndex(){return this.__activeQualityIndex.get()}set activeQualityIndex(e){this.__activeQualityIndex.set(e)}get activeQualityLevel(){const e=this.qualities.find((e=>e.index===this.activeQualityIndex));return e?e.level:-1}set activeQualityLevel(e){const t=this.qualities.find((t=>t.level===e));t&&void 0!==t.index&&(this.activeQualityIndex=t.index)}set manuallySettedQualityIndex(e){this.__manuallySettedQualityIndex.set(e)}get manuallySettedQualityIndex(){return this.__manuallySettedQualityIndex.get()}get manuallySettedQuality(){var e;const t=this.__manuallySettedQualityIndex.get();return null===t?null:(null===(e=this.qualities.find((e=>e.index===t)))||void 0===e?void 0:e.value)||Oi}get activeQualityValue(){const e=this.qualities.find((e=>e.index===this.activeQualityIndex));return(null==e?void 0:e.value)||Oi}get activeQualityTransferValue(){return this.activeQualityValue===Oi?this.activeQualityValue:parseInt(this.activeQualityValue).toString()}get autoQuality(){return this.__autoQuality.get()}get frameDuration(){var e;return null===(e=this.activeQuality)||void 0===e?void 0:e.frameDuration}set autoQuality(e){this.__autoQuality.set(e)}get embedQuality(){return this.__embedQuality.get()}set embedQuality(e){this.__embedQuality.set(e)}getUserQuality(){try{const e=this.getQualityValue();if("string"!=typeof e)return null;if(e===Oi)return-1;const t=this.qualities.find((t=>parseInt(t.value).toString()===e));return t?t.level:this.findFallbackQuality(e)}catch(e){return null}}getQualityValue(){return Fi(fi.Ok.USER_QUALITY)||this.embedQuality}findFallbackQuality(e){const t=Ni.findIndex((t=>t===e+"p"));if(-1===t)return-1;if(t<=3){for(let e=t-1;e>=0;e--){const t=this.qualities.find((t=>t.value===Ni[e]));if(t)return t.level}for(let e=1;e<=Ni.length-t;e++){const n=this.qualities.find((n=>n.value===Ni[t+e]));if(n)return n.level}}if(t>3){for(let e=1;e<=Ni.length-t;e++){const n=this.qualities.find((n=>n.value===Ni[t+e]));if(n)return n.level}for(let e=t-1;e>=0;e--){const t=this.qualities.find((t=>t.value===Ni[e]));if(t)return t.level}}return-1}}var Ki;let Yi,Qi;Wi=qi,({e:[zi],c:[Gi,$i]}=(0,S.A)(Wi,[(0,k.k_)({implement:"IQualitiesPlugin",ctor_args:[]})],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),$i();let Xi;class Zi extends k.j8{constructor(e){super(),this._playback=void Yi(this),this._lastProcessedTimestamp=null,this._watchTime=A.sH.box(0),this._watchTimePerGo=0,this._incrementTimer=null,this._isPauseScreenAvailable=A.sH.box(!1),this._tenSecPassed=A.sH.box(!1),this._playback=e,(0,A.Gn)(this,{isPauseScreenAvailable:A.EW,tenSecPassed:A.EW,watchTime:A.EW})}init(){const e=[];return e.push((0,A.mJ)((()=>this._playback.isPlaying),(e=>{e?(this.start(),this.increment()):this.stop()}))),()=>e.forEach((e=>e))}clearTimer(){return()=>{this.clear()}}resetWatchTime(){this.watchTime=0,this.watchTimePerGo=0,this.isPauseScreenAvailable=!1}resetWatchTimePerGo(){this.watchTimePerGo=0}start(){this._lastProcessedTimestamp=Date.now()}increment(){this._playback.isPlaying?this._incrementTimer=setTimeout((()=>{const e=Date.now(),t=this._lastProcessedTimestamp?e-this._lastProcessedTimestamp:0;this.watchTime>=1e4&&!this.tenSecPassed&&(this.tenSecPassed=!0),this.watchTime>=fi.F1&&!this.isPauseScreenAvailable&&(this.isPauseScreenAvailable=!0),t>0&&t<250?(this.watchTime+=t,this.watchTimePerGo+=t,this._playback.fragmentTime&&(this._playback.fragmentTime+=t)):t>=250&&(this.watchTime+=200,this.watchTimePerGo+=200,this._playback.fragmentTime&&(this._playback.fragmentTime+=200)),this._lastProcessedTimestamp=e,this.increment()}),200):this.clear()}clear(){this._incrementTimer&&(clearTimeout(this._incrementTimer),this._incrementTimer=null)}stop(){this._lastProcessedTimestamp&&(this.watchTime+=Date.now()-this._lastProcessedTimestamp),this._lastProcessedTimestamp=null}get watchTime(){return this._watchTime.get()}set watchTime(e){this._watchTime.set(e)}get watchTimePerGo(){return this._watchTimePerGo}set watchTimePerGo(e){this._watchTimePerGo=e}get tenSecPassed(){return this._tenSecPassed.get()}set tenSecPassed(e){this._tenSecPassed.set(e)}get isPauseScreenAvailable(){return this._isPauseScreenAvailable.get()}set isPauseScreenAvailable(e){this._isPauseScreenAvailable.set(e)}}Ki=Zi,({e:[Yi],c:[Xi,Qi]}=(0,S.A)(Ki,[(0,k.k_)({implement:"IStatisticWatchTimePlugin",ctor_args:["IPlayback"]})],[[(0,k.o7)(),2,"init"],[(0,k.o7)(),2,"clearTimer"]],0,void 0,k.j8)),Qi();var Ji,er,tr=s(4766);let nr,ir,rr,ar;new(er=class extends k.j8{constructor(t,n,i,r){super(),this._isMediaSession=(nr(this),"object"==typeof navigator&&"mediaSession"in navigator),this._resolve=void 0,this._UUID=A.sH.box(""),this._followedLink=A.sH.box(""),this._followedResourceId=A.sH.box(),this._rlineId=A.sH.box(""),this._guid=A.sH.box(),this._playlistId=void 0,this._playerConfig=void 0,this._isBackground=A.sH.box(),this._playback=n,this._visibilityState=r,this._resolve=t.value,this.uuid=(0,e.yk)(),this.guid=(0,tr.A)(),this._playlistId=null==i?void 0:i.get("playlistId"),this._playerConfig=i,this.isBackground=!r.isVisible,(0,A.Gn)(this,{uuid:A.EW,followedLink:A.EW,followedResourceId:A.EW,rlineId:A.EW,guid:A.EW})}allowBackground(){const e=!qt.B.isMobile,t=Boolean(this.userId);return e||t}setBackgroundViewHandlers(){const e=()=>{this.isBackground=this.shouldBeBackground},t=(0,A.mJ)((()=>this._visibilityState.isVisible),(()=>{e()}));return()=>{this.isBackground=!1,t()}}get shouldBeBackground(){return document.hidden&&this.allowBackground()&&this._isMediaSession}get isBackground(){return this._isBackground.get()}set isBackground(e){this._isBackground.set(e)}get uuid(){return this._UUID.get()}set uuid(e){this._UUID.set(e)}get isPlaying(){return this._playback.isPlaying}get followedResourceId(){return this._followedResourceId.get()}set followedResourceId(e){this._followedResourceId.set(e)}get followedLink(){return this._followedLink.get()}set followedLink(e){this._followedLink.set(e)}get rlineId(){return this._rlineId.get()}set rlineId(e){this._rlineId.set(e)}get guid(){return this._guid.get()}set guid(e){this._guid.set(e)}get playlistId(){return this._playlistId}get userId(){var e;return null===(e=this._playerConfig)||void 0===e?void 0:e.get("userId")}},({e:[nr],c:[ar,ir]}=(0,S.A)(er,[(0,k.k_)({implement:"IStatisticValues",ctor_args:["Resolve","IPlayback",{implement:"IPlayerConfigPlugin",optional:!0},"IVisibilityStatePlugin"]})],[[(0,k.o7)(),2,"setBackgroundViewHandlers"]],0,void 0,k.j8)),rr=er,(Ji=class extends V{constructor(){super(ar),this.useStatisticStore=()=>(0,Dt.Ks)("IStatisticValues"),this.getStatisticStore=e=>e("IStatisticValues"),ir()}})[rr]=void 0,Ji);var sr=s(9912);const or=()=>(0,Dt.p5)().resolve("IStubPlugin"),lr="https://static.rutube.ru/static/img/png/player-stubs/countdown-default-bg.png";class ur extends t.Component{constructor(e){super(e),this.state={hasUnknownError:!1}}static getDerivedStateFromError(){return{hasUnknownError:!0}}componentDidCatch(){this.setState({hasUnknownError:!0})}componentDidMount(){this.state.hasUnknownError&&this.props.stubPlugin.setStub("info",{title:fi.gE[this.props.stubPlugin.activeLanguage].title,backgroundImage:lr})}componentDidUpdate(){this.state.hasUnknownError&&this.props.stubPlugin.setStub("info",{title:fi.gE[this.props.stubPlugin.activeLanguage].title,backgroundImage:lr})}render(){return this.props.children}}const cr="stub-iframe-module__iframeWrapper___Wzny2",dr="stub-iframe-module__preview___Pz7U_",hr="spinner-module__spinner___wvZBi",pr=e=>{let{showDelay:n=100,show:i=!0,className:r}=e;const a=(0,t.useRef)(),[s,o]=t.useState((()=>i)),{getDataAttribute:l}=(0,Yn.f)();return(0,t.useEffect)((()=>()=>(null==a?void 0:a.current)&&clearTimeout(a.current)),[]),(0,t.useEffect)((()=>{null!=a&&a.current&&clearTimeout(a.current),i?n?a.current=setTimeout((()=>o(i)),n):o(i):o(!1)}),[n,i]),s?t.createElement("div",(0,On.A)({"data-testid":"spinner",className:gt()(hr,r)},l(Qn.R.SPINNER_VIDEO))):null},vr=e=>{let{url:n,title:i,isExternalLoading:r,isIframeLoaded:a}=e;const{isPreview:s}=or(),o=r?{opacity:a?1:0}:void 0;return t.createElement(t.Fragment,null,t.createElement("div",{className:cr,style:o},t.createElement("iframe",{src:n,title:i,allowFullScreen:!0,className:gt()({[dr]:s})})),r&&!a&&t.createElement(pr,null))};s(8668);const mr="stub-info-module__stub___eVOUW",_r="stub-info-module__blurry___XdUjD",fr="stub-info-module__body___aZXEV",gr="stub-info-module__title___iL8Nr",yr="stub-info-module__description___hP_s1",br="stub-info-module__header___ziZR1",Er="stub-info-module__lang___rILT2",wr="stub-info-module__active___Q7vXY",Sr="stub-info-module__mail___OHSLK",Ar="stub-info-module__preview___HpI6t",kr=e=>{let{title:n,hasLanguagePicker:i,backgroundImage:r,description:a,activeLanguage:s,setLanguage:o,children:l,isPreview:u,isBlurred:c=!1,email:d}=e;return t.createElement("div",{"data-testid":"stub",className:gt()(mr,{[_r]:c,[Ar]:u}),style:{backgroundImage:r?`url(${r})`:void 0}},t.createElement("div",{className:br},t.createElement("div",null,t.createElement("a",{href:`mailto:${d}`,className:Sr,target:"_blank",rel:"noreferrer","data-testid":"stub-support-mail"},fi.Xl[s])),i&&t.createElement("div",null,t.createElement("span",{onClick:()=>o(sr.Y.RU),className:gt()(Er,{[wr]:s===sr.Y.RU})},"Rus"),t.createElement("span",{onClick:()=>o(sr.Y.ENG),className:gt()(Er,{[wr]:s===sr.Y.ENG})},"Eng"))),t.createElement("div",{className:fr},n&&t.createElement("div",{className:gr,"data-testid":"stub-title"},n),a&&t.createElement("div",{className:yr,"data-testid":"stub-description"},a),l))};var Cr=s(1824);const Pr="stub-info-with-action-module__buttons___lECec",Tr="stub-info-with-action-module__button___ljPFC",Ir="stub-info-with-action-module__preview___qMvIe",Rr=["btnText","onBtnClick","backgroundColor","isPreview"],Lr=e=>{let{btnText:n,onBtnClick:i,backgroundColor:r,isPreview:a}=e,s=(0,Cr.A)(e,Rr);return t.createElement(kr,(0,On.A)({},s,{isPreview:a}),t.createElement("div",{className:gt()(Pr,{[Ir]:a})},t.createElement("button",{className:Tr,type:"button",onClick:e=>i(e.nativeEvent),style:{backgroundColor:r}},n)))},xr=(0,_t.PA)((()=>{var e;const n=or(),i=e=>{n.activeLanguage=e};if(!n.isStubAvailable)return null;if(n.hasCustomComponent&&n.customStubComponent){const e=n.customStubComponent;return t.createElement(e,null)}switch(null===(e=n.stub)||void 0===e?void 0:e.type){case"info":return t.createElement(kr,(0,On.A)({},n.stub.params,{activeLanguage:n.activeLanguage,setLanguage:i,email:n.email,isPreview:null==n?void 0:n.isPreview}));case"infoWithAction":return t.createElement(Lr,(0,On.A)({},n.stub.params,{activeLanguage:n.activeLanguage,setLanguage:i,email:n.email,isPreview:null==n?void 0:n.isPreview}));case"iframe":return t.createElement(vr,n.stub.params);default:return null}})),Or=(0,_t.PA)((e=>{let{children:n}=e;const i=or();return null!==i.stub?t.createElement(xr,null):t.createElement(ur,{stubPlugin:i},n)})),Nr=t.memo((function(e){let{children:n}=e;return t.createElement(Or,null,n)}));var Dr,Mr;let Br,Fr,Hr,Vr;new(Mr=class extends k.j8{constructor(e,t,n){super(),this._email=(Br(this),A.sH.box("")),this.__stub=A.sH.box(null),this.__activeLanguage=A.sH.box(sr.Y.RU),this.__customStubComponent=null,this.__hasCustomComponent=A.sH.box(!1),this._isPreview=void 0,this._config=e,t&&(this.email=t.value),this._isPreview=Boolean(null==n?void 0:n.value)}setStub(e,t){this.__stub.set({type:e,params:t})}stubAvailable(){var e;const t=(null===(e=this.stub)||void 0===e||null===(e=e.params)||void 0===e?void 0:e.type)===fi.GL.PAID_ACCESS,n=this._config.get("paywallEnabled");return void 0===n||(t&&n||!t)}get isStubAvailable(){return this.stubAvailable()}setCustomStubComponent(e){this.__customStubComponent=e,this.hasCustomComponent=null!==e}get stub(){return this.__stub.get()}set stub(e){this.__stub.set(e)}get activeLanguage(){return this.__activeLanguage.get()}get email(){return this._email.get()}set email(e){this._email.set(e)}set activeLanguage(e){this.__activeLanguage.set(e)}get customStubComponent(){return this.__customStubComponent}get hasCustomComponent(){return this.__hasCustomComponent.get()}set hasCustomComponent(e){this.__hasCustomComponent.set(e)}get isPreview(){return this._isPreview}},({e:[Br],c:[Vr,Fr]}=(0,S.A)(Mr,[(0,k.k_)({implement:"IStubPlugin",ctor_args:["IPlayerConfigPlugin",{implement:"StubEmail",optional:!0},{implement:"IsPreview",optional:!0}]})],[[A.XI,2,"setStub"]],0,void 0,k.j8)),Hr=Mr,(Dr=class extends V{constructor(){super(Vr),this.StubPluginView=Nr,Fr()}})[Hr]=void 0,Dr);var Ur,jr=s(7234);let Wr,zr,$r;class Gr extends k.j8{constructor(e){super(),this._isUserAdult=(Wr(this),A.sH.box(!1)),this.__isAutoplayEnabled=A.sH.box(!0),this._playOptions=e,(0,A.Gn)(this,{isUserAdult:A.EW,isAutoplayEnabled:A.EW})}init(){const e=Fi(fi.Ok.LS_KEY_USER_ADULT),t="string"==typeof e&&"1"===e,n=Fi(fi.Ok.AUTOPLAY_NEXT_FLAG),i="string"!=typeof n||"1"===n;(0,A.h5)((()=>{this._isUserAdult.set(t),this.__isAutoplayEnabled.set(i)})),jr.Ug.emit(fi.L2.IS_USER_ADULT,{value:t})}get isUserAdult(){var e;return null===(e=this._playOptions.data)||void 0===e||!e.is_adult||this._playOptions.data.is_adult&&this._isUserAdult.get()}set isUserAdult(e){this._isUserAdult.set(e),Hi(fi.Ok.LS_KEY_USER_ADULT,e?"1":"0"),jr.Ug.emit(fi.L2.IS_USER_ADULT,{value:e})}get isAutoplayEnabled(){return this.__isAutoplayEnabled.get()}set isAutoplayEnabled(e){this.__isAutoplayEnabled.set(e),Hi(fi.Ok.AUTOPLAY_NEXT_FLAG,e?"1":"0")}}var qr;let Kr,Yr,Qr;Ur=Gr,({e:[Wr],c:[$r,zr]}=(0,S.A)(Ur,[(0,k.k_)({implement:"IUserSettingsPlugin",ctor_args:["IDataPlugin"]})],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),zr();class Xr extends k.j8{constructor(){super(),this._isVisible=(Kr(this),A.sH.box("visible"===document.visibilityState)),(0,A.Gn)(this,{isVisible:A.EW})}initVisibilityChangeHandler(){const e=()=>{this.isVisible="visible"===document.visibilityState};return document.addEventListener("visibilitychange",e),window.addEventListener("pagehide",e),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("pagehide",e)}}get isVisible(){return this._isVisible.get()}set isVisible(e){this._isVisible.set(e)}}var Zr;let Jr,ea;qr=Xr,({e:[Kr],c:[Qr,Yr]}=(0,S.A)(qr,[(0,k.k_)("IVisibilityStatePlugin")],[[(0,k.o7)(),2,"initVisibilityChangeHandler"]],0,void 0,k.j8)),Yr();class ta extends k.j8{constructor(){super(),this.attributes={},this.getDataAttribute=this.getDataAttribute.bind(this)}getDataAttribute(e){return this.attributes[e]||{}}}Zr=ta,[ea,Jr]=(0,S.A)(Zr,[(0,k.k_)("IDataAttributePlugin")],[],0,void 0,k.j8).c,Jr();var na=s(290);const ia=(e,t)=>e.reduce(((e,n)=>(e[n[t]]?e[n[t]].push(n):e[n[t]]=[n],e)),{});let ra=function(e){return e.load="load",e.start="start",e.startTriggered="start_triggered",e.alreadyStarted="already_started",e.startOnStateChange="start_on_state_change",e.end="end",e.error="error",e.initError="initError",e.skippable="adSkippableStateChange",e.adBlockerFound="ad-blocker-found",e.request="request",e}({});class aa{constructor(){this.__disposers=[]}destroy(){this.__disposers.forEach((e=>e()))}}const sa=/mobile?/,oa="ADFOX_SDK",la="NATIVE",ua=["preroll","midroll","midpostroll","postroll","livemidroll"],ca="raichu-adver-tag",da="raichu_yasdk_container",ha="debug_raichu_advert",pa=e=>ua.includes(e),va=e=>e.reduce(((e,t)=>(e[t.name]=t.limit,e)),{});class ma extends aa{constructor(e,t){super(),this._timer=null,this._managePrerolls=e=>{const t=this._manager.items.preroll,n=va(this._manager.limits).preroll;e&&null!=t&&t.length&&(this._manager.currentItems=n?t.slice(0,n):t,this._manager.currentState="show")},this._runDurationTimer=()=>{var e;this._timer&&(clearTimeout(this._timer),this._timer=null);const t=null===(e=this._playback)||void 0===e||null===(e=e.adapter)||void 0===e?void 0:e.liveMidrollDuration;t&&(this._timer=setTimeout((()=>{this._manager.destroyCurrent()}),1e3*parseInt(t)))},this._manager=e,this._playback=t}init(){this.__disposers.push((0,A.mJ)((()=>this._playback.wasStarted),this._managePrerolls)),this.__disposers.push((0,A.mJ)((()=>{var e;return null===(e=this._playback.adapter)||void 0===e?void 0:e.liveMidrollActive}),(e=>{const t=this._manager.items.livemidroll;e&&null!=t&&t.length&&!this._manager.currentItems.length&&(this._manager.currentItems=t,this._manager.currentState="prefetch")}))),this.__disposers.push((0,A.mJ)((()=>{var e;return null===(e=this._playback)||void 0===e||null===(e=e.adapter)||void 0===e?void 0:e.liveMidrollStartPlay}),(e=>{e&&this._manager.currentItems.length&&(this._manager.currentState="show",this._runDurationTimer())}))),this.__disposers.push((0,A.mJ)((()=>({state:this._manager.currentState,hasItems:this._manager.currentItems.length,loading:this._manager.isLoading})),(e=>{let{state:t,hasItems:n,loading:i}=e;n?"show"===t&&i&&this._playback.pause():this._playback.playWithHandlePermissions(!0)}))),this.__disposers.push((0,A.mJ)((()=>0===this._manager.currentItems.length),(e=>{e&&this._timer&&(clearTimeout(this._timer),this._timer=null)})))}}class _a extends aa{constructor(e,t){super(),this._limits=A.sH.box({}),this._items=A.sH.box({}),this._viewedItems=A.sH.box([]),this._manageStartTime=e=>{const t=this.items[0]||this.items[Math.floor(this._playback.currentTime)]||[];if(e){const{viewedItems:e,limits:n}=this,i=Ac({items:t,viewedItems:e,limits:n});i.length&&(this._addViewed(i),this._manager.currentItems=i,this._manager.currentState="show",this._playback.preventStatSend=!0)}},this._manageEndTime=e=>{if(!e)return;if(this._manager.currentItems&&"prefetch"===this._manager.currentState)return void(this._manager.currentState="show");const t=this.items[Math.floor(this._playback.duration)],{limits:n,viewedItems:i}=this;if(null!=t&&t.length){const e=Ac({items:t,viewedItems:i,limits:n});e.length?(this._addViewed(e),this._manager.currentItems=e,this._manager.currentState="show"):this._playback.canReplay=!0}else this._playback.canReplay=!0},this._manageTimeUpdate=e=>{const{isPlaying:t}=this._playback;var n;t&&!this._playback.ended&&(!this._manager.currentItems.length||this._manager.startTimer?this._manager.currentItems.length||(0===e&&null!==(n=this.items[0])&&void 0!==n&&n.length?this._manageStartTime(!0):this._managePlaybackTime(e)):this._manageAdvertStartTimer(e))},this._manageAdvertStartTimer=e=>{const{duration:t}=this._playback,n=Math.round(t-e);if(!(n<2||"prefetch"!==this._manager.currentState||this._manager.startTimer)){var i;const t=null===(i=this._manager.currentItems[0])||void 0===i?void 0:i.start;(e>=t||Math.floor(t-e)<=5)&&(this._manager.startTimer=Math.min(5,n))}},this._onChangeActivePage=()=>{var e;null===(e=this._manager.currentProvider)||void 0===e||e[document.hidden?"pause":"resume"]()},this._manager=e,this._playback=t,this.reCalc(),(0,A.Gn)(this,{limits:A.EW,viewedItems:A.EW})}init(){this.__disposers.push((0,A.mJ)((()=>({ready:this._manager.playbackReady,provider:this._manager.currentProvider})),(e=>{let{ready:t,provider:n}=e;t&&n&&n.registerEvents({onEnd:this.onEnd.bind(this)})}))),this.__disposers.push((0,A.mJ)((()=>this._playback.wasStarted),this._manageStartTime)),this.__disposers.push((0,A.mJ)((()=>this._playback.ended),this._manageEndTime)),this.__disposers.push((0,A.mJ)((()=>Math.floor(this._playback.currentTime)),this._manageTimeUpdate)),this.__disposers.push((0,A.mJ)((()=>({state:this._manager.currentState,hasItems:!!this._manager.currentItems.length,ended:this._playback.ended,loaded:this._manager.isLoaded})),(e=>{let{state:t,hasItems:n,ended:i}=e;n||i?"show"===t&&this._playback.pause():(this._playback.preventStatSend=!1,this._playback.isCommunicationBannerPrevented=!0,this._playback.isPlaying||this._playback.playWithHandlePermissions())}),{equals:A.m3.structural}))}reCalc(){const e=this._manager.items.preroll||[],t=this._manager.items.midroll||[],n=this._manager.items.midpostroll||[],i=this._manager.items.postroll||[];this.limits=va(this._manager.limits),this.items=this.calcAdverts([...e,...t,...n,...i]),this._playback.wasStarted&&this._playback.canReplay&&(this.viewedItems=[],this._playback.canReplay=!1,this._manageStartTime(!0)),this._updateCuePoints()}calcAdverts(e){const t=ia(e,"start");return Object.keys(t).forEach((e=>{t[e].sort(((e,t)=>{var n,i;const r=parseInt((null===(n=e.name.match(/^[a-z]+(\d+)$/))||void 0===n?void 0:n[1])||"0",10),a=parseInt((null===(i=t.name.match(/^[a-z]+(\d+)$/))||void 0===i?void 0:i[1])||"0",10);if(r===a){return ua.findIndex((t=>e.name.startsWith(t)))>ua.findIndex((e=>t.name.startsWith(e)))?1:-1}return r>a?1:-1}))})),t}_updateCuePoints(){this._manager.cuePoints=Object.keys(this.items).map((e=>Number(e)))}_addViewed(e){const t=e.map((e=>e.name));this.viewedItems=[...this.viewedItems,...t]}_managePlaybackTime(e){const t=Object.keys(this.items).filter((t=>Number.parseFloat(t)>=e));if(t.length){let n;for(const i of t){const t=parseInt(i,10),r=t-e,a=(this.items[i],5);if(t===e||r>0&&r<=a){n=i;break}if(r>0)break}if(n&&this.items[n]){const{viewedItems:t,limits:i}=this,r=Ac({items:this.items[n],viewedItems:t,limits:i});r.length&&(this._addViewed(r),this._manager.currentItems=r,this._manager.currentState="prefetch",this._manageAdvertStartTimer(e))}}}onEnd(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(document.removeEventListener("visibilitychange",this._onChangeActivePage),this._manager.currentAdvert){const{name:t,type:n}=this._manager.currentAdvert;this.viewedItems=[...this.viewedItems,t],void 0!==this.limits[n]&&e&&(this.limits=(0,l.A)((0,l.A)({},this.limits),{},{[n]:(this.limits[n]||1)-1}))}this._updateCuePoints()}onError(e){this.viewedItems.push(e.name)}get limits(){return this._limits.get()}set limits(e){this._limits.set(e)}get items(){return this._items.get()}set items(e){this._items.set(e)}get viewedItems(){return this._viewedItems.get()}set viewedItems(e){this._viewedItems.set(e)}}function fa(){return(0,Dt.p5)().resolve("IAdvertPlugin")}const ga=e=>e("IAdvertPlugin"),ya="https://static.rutube.ru/static/img/jpg/black.jpg",ba="yandex-advert-module__SDKWrapper___RUvIF",Ea="yandex-advert-module__SDKVideo___jxyQd",wa="yandex-advert-module__SDKVideoHidden___ECHmh",Sa="advert-counter-module__wrapper___NuVzb",Aa=(0,_t.PA)((()=>{const{currentAdvert:e,currentState:n,blockState:r,customTitle:a}=fa();if(e&&"show"===n&&r&&r.total>1){const{total:n,viewed:s}=r,o=`${a||(e=>{const t=(0,i.al)(e.url_template);return(null==t?void 0:t.gowast_title)||"Ð ÐµÐºÐ»Ð°Ð¼Ð°"})(e)} ${s+1} Ð¸Ð· ${n}`;return t.createElement("span",{role:"alert","aria-live":"polite",className:Sa},o)}return null})),ka="advert-timeline-module__timeline___QbYLv",Ca="advert-timeline-module__timeline_filled___lSokD",Pa=(0,_t.PA)((()=>{const{currentProgress:e}=fa();return e?t.createElement("div",{className:ka},t.createElement("div",{className:Ca,style:{transform:`scaleX(${e.toString()}%)`}})):null})),Ta=e=>{const n=fa().playback.volume;return(0,t.useCallback)((()=>{if(e.current){e.current.volume>n&&(e.current.volume=n)}}),[e,n])};s(6530);var Ia=s(5374);class Ra{constructor(e){this._adStartTimer=null,this._events=[],this._error=!1,this._destroyed=!1,this.config=void 0,this.traceId=null,this.config=e}registerInternalEvents(){const e=this.prepareEvents({onStart:()=>this._onStart(),onError:()=>this._onError()});this.subscribe(e)}registerEvents(e){this._events.push(e);const t=this.prepareEvents(e);this.subscribe(t)}forceDispatch(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this._events.forEach((t=>{var i;null===(i=t[e])||void 0===i||i.call(t,...n)}))}play(){this._adStartTimer=setTimeout((()=>{this.forceDispatch("onError","timeout error"),this.forceDispatch("onEnd",!1)}),1e4)}_onStart(){this._adStartTimer&&clearTimeout(this._adStartTimer)}_onError(){this._error=!0}destroy(){this._destroyed=!0,this._adStartTimer&&clearTimeout(this._adStartTimer)}}const La=e=>{const t=e.xmlString;return(new DOMParser).parseFromString(t,"text/xml")},xa=e=>{var t,n;if(!e||!window.DOMParser)return;const i=null!==(t=null===(n=La(e).querySelector("Creative Duration"))||void 0===n||null===(n=n.childNodes[0])||void 0===n?void 0:n.nodeValue)&&void 0!==t?t:"";if(!i)return e.children.length?xa(e.children[0]):void 0;const r=i.split(":"),a=parseInt(r[2],10)+60*parseInt(r[1],10);return"number"==typeof a?a:void 0},Oa=e=>{var t;if(e&&window.DOMParser)return(null===(t=La(e).querySelector("Ad"))||void 0===t?void 0:t.getAttribute("id"))||""},Na=e=>{var t,n;if(!e||!window.DOMParser)return 0;const i=La(e),r=null===(t=i.querySelector("[skipoffset]"))||void 0===t?void 0:t.getAttribute("skipoffset"),a=null===(n=i.querySelector("[type=skipTime]"))||void 0===n?void 0:n.textContent;return Da(r,1)||Da(a)};function Da(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?parseInt(e.split(":")[t],10):0}const Ma=e=>{var t;if(!e||!window.DOMParser)return;const n=La(e).querySelector("Extension[type=campaignId]");return(null==n||null===(t=n.textContent)||void 0===t?void 0:t.trim())||""},Ba=["AdClickThru","AdContentSizeChange","AdPlayingStateChange","AdPodClose","AdPodComplete","AdPodError","AdPodImpression","AdPodSkipped","AdPodStarted","AdPodStopped","AdPodVideoFirstQuartile","AdPodVideoMidpoint","AdPodVideoThirdQuartile","AdRemainingTimeChange","AdSkippableStateChange","AdStarted","AdStopped","AdVolumeAvailabilityStateChange","AdVolumeChange","AllAdPodVideoComplete"];s(135),s(7863),s(5506),s(1399),s(2472),s(8898),s(3642),s(509),s(6986),s(1433),s(1e3),s(9020),s(8956);const Fa=e=>{if(!e)return;const t=(new TextEncoder).encode(e),n=Array.from(t,(e=>String.fromCodePoint(e))).join("");return window.btoa(n)};var Ha;let Va;class Ua extends Ra{constructor(e,t){var n;super(e),this._instance=(Va(this),null),this._urlParams=void 0,this._adfoxParams=void 0,this._timeout=void 0,this._duration=null,this._viewedPercent=0,this._info=null,this._placeholders=null,this.url=void 0,this.url_template=void 0,this._preventAdvertLogic=void 0,this._playbackParams=null,this._adSkippable=!1,this.config=void 0,this.load=async()=>{const e=window.ya,t=this._getSdkParams();if(!e)throw new Error("YandexSDK: No SDK found");try{const n=await e.videoAd.loadModule("AdLoader"),i=await n.AdLoader.create(t),r=await i.loadAd();this._instance={adViewer:r},this._setInfo(r.getNonYandexVastXmlTree()),this._setPlaceholders(r),this.volume=0,this._debug(r.getNonYandexVastXmlTree())}catch(e){throw console.warn(e),e}},this.skipAd=()=>{var e;null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e||e.skipAd()},this.config=e,this.config.data=(0,l.A)((0,l.A)({},e.data),{},{url_template:e.data.url_template}),this.url_template=this.config.data.url_template,this.url=t(this.config.data.url_template),this._urlParams=(0,i.al)(this.url),this._adfoxParams=(0,i.al)(this.url.toLowerCase(),!0,"ownerid"),this._preventAdvertLogic=(null===(n=this._playbackParams)||void 0===n?void 0:n.preventStartAdvert)||!1,this._timeout=1e3*(this.config.data.adtimeout||fi.kC)}_getSdkParams(){if(this.url.indexOf("adfoxsdk")>=0)return{wrapperMaxCount:5,adFoxParameters:{ownerId:this._adfoxParams.ownerid,params:this._adfoxParams,containerId:da}};if(this.url.indexOf("ads/adfox")>=0)return{wrapperMaxCount:5,category:+this._urlParams.category||0,vastUrl:this.url,adBreakType:this.config.data.type};{const e=window.location.href,t={wrapperMaxCount:5,partnerId:+this._urlParams.partnerid,impId:+this._urlParams.impid,category:+this._urlParams.category||0,vmapLoadTimeout:this._timeout,targetRef:e,additionalParams:{"partner-stat-id":e}},n={wrapperMaxCount:5,vmapLoadTimeout:this._timeout,targetRef:e,adBreakType:"preroll",vastUrl:this.url};return this.url.includes("ssp.rutube")?n:t}}subscribe(e){Object.keys(e).forEach((t=>{const n=t,i=e[n];var r;i&&(null===(r=this._instance)||void 0===r||null===(r=r.adPlaybackController)||void 0===r||r.subscribe(n,i))}))}prepareEvents(e){const t=e.onSuccess?(0,Ia.once)(e.onSuccess):void 0;let n=!1;return{AdPodStarted:()=>{var t,i;n?null===(t=e.onAlreadyStarted)||void 0===t||t.call(e):(null===(i=e.onStart)||void 0===i||i.call(e),n=!0)},AdPodError:t=>{var n;return null===(n=e.onError)||void 0===n?void 0:n.call(e,t)},AdPodSkipped:()=>{var t;null===(t=e.onSkip)||void 0===t||t.call(e)},AdPodClose:()=>{var t;null===(t=e.onClose)||void 0===t||t.call(e)},AdClickThru:()=>{var t;return null===(t=e.onClick)||void 0===t?void 0:t.call(e)},AdPodImpression:()=>{var t;return null===(t=e.onImpression)||void 0===t?void 0:t.call(e)},AdPodStopped:()=>{var t;n||(null===(t=e.onInitError)||void 0===t||t.call(e))},AdStopped:()=>{var t;this._destroyed||(null===(t=e.onEnd)||void 0===t||t.call(e,!0))},AdPodComplete:()=>{null==t||t()},AdPlayingStateChange:t=>{if("string"!=typeof t){var i,r,a;if(!n&&"play"===(null==t?void 0:t.playingState))null===(i=e.startOnStateChange)||void 0===i||i.call(e),null===(r=e.onStart)||void 0===r||r.call(e),n=!0;if(null!=t&&t.playingState&&["pause","play"].includes(t.playingState))null===(a=e.onPlayingState)||void 0===a||a.call(e,"play"===(null==t?void 0:t.playingState))}},AdRemainingTimeChange:()=>{var t,n;const i=null===(t=this._instance)||void 0===t||null===(t=t.adPlaybackController)||void 0===t?void 0:t.getAdRemainingTime();this._duration||(this._duration=i||null);const r=((e,t)=>{if(!e||null===t)return 0;let n=e-t;return n&&!isNaN(n)?(n=Math.max(n,0),Math.min(n/e*100,100)):0})(this._duration,i||null);this._viewedPercent=this._viewedPercent>r?this._viewedPercent:r,null===(n=e.onProgress)||void 0===n||n.call(e,this._viewedPercent)},AdSkippableStateChange:t=>{var n;"string"!=typeof t&&(null!=t&&t.skippableState&&(this.adSkippable=!0,null==e||null===(n=e.onSkippableStateChangeToTrue)||void 0===n||n.call(e)))},AdPodVideoFirstQuartile:()=>{var t;null===(t=e.onViewQuartile)||void 0===t||t.call(e,"first")},AdPodVideoMidpoint:()=>{var t;null===(t=e.onViewQuartile)||void 0===t||t.call(e,"second")},AdPodVideoThirdQuartile:()=>{var t;null===(t=e.onViewQuartile)||void 0===t||t.call(e,"third")}}}initPlayback(e){this._playbackParams=e;const{video:t,wrapper:n}=e;this.volume=0;const i=Boolean(t.offsetWidth&&t.offsetWidth>450);var r;(this._fixNotAllowed(t),this._instance)&&(this._instance.adPlaybackController=null===(r=this._instance)||void 0===r?void 0:r.adViewer.createPlaybackController(t,n,{vpaidTimeout:this._timeout,bufferEmptyLimit:3,bufferFullTimeout:5e3,controlsSettings:{controlsVisibility:{play:i,mute:i,adLabel:!1,timeline:!1,loader:!0},visibility:!this._playbackParams.hideControls}}),this.registerInternalEvents())}_setInfo(e){e&&(this._info={campaignId:Ma(e),duration:xa(e),skipDuration:Na(e),advertId:Oa(e),vastBase64:Fa(e.xmlString),framework:"VAST"})}_debug(e){const t="undefined"!=typeof window&&-1!==window.location.search.indexOf("debug_yandex_sdk"),n=null==e?void 0:e.xmlString;if(t){var i,r,a,s;const e=e=>(new DOMParser).parseFromString(e,"text/xml");console.info("xmlString:",e(n)),console.info("Creative Duration",e(n).querySelector("Creative Duration")),console.info("Creative Linear",null===(i=e(n))||void 0===i?void 0:i.querySelector("Creative Linear")),console.info("Duration:",null===(r=this.info)||void 0===r?void 0:r.duration),console.info("SkipDuration:",null===(a=this.info)||void 0===a?void 0:a.skipDuration),console.info("isSkippable:",null===(s=this._instance)||void 0===s||null===(s=s.adPlaybackController)||void 0===s?void 0:s.getAdSkippableState()),Ba.forEach((e=>{var t;null===(t=this._instance)||void 0===t||null===(t=t.adPlaybackController)||void 0===t||t.subscribe(e,(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return console.info(e,n)}))}))}}_setPlaceholders(e){try{var t,n,i,r,a,s;if(!e)throw new Error("No adViewer");const o=Oa(e.getNonYandexVastXmlTree())||(null==e||null===(t=e.getAdMetadata)||void 0===t||null===(t=t.call(e)[0])||void 0===t?void 0:t.adId)||"",u=(null===(n=this._info)||void 0===n?void 0:n.campaignId)||e.getNonYandexVastXmlTree()&&(null===(i=this._info)||void 0===i||null===(i=i.advertId)||void 0===i||null===(i=i.split("-"))||void 0===i?void 0:i[0])||"",c=this.advert.url_template||"",d=this.ownerId||"",h=(null===(r=this._info)||void 0===r?void 0:r.duration)||e.getAdDuration()||"",p=(null===(a=this._instance)||void 0===a||null===(a=a.adPlaybackController)||void 0===a?void 0:a.getAdSkippableState())&&null!==(s=this._info)&&void 0!==s&&s.skipDuration?"1":"0";this._placeholders=(0,l.A)((0,l.A)({},this._placeholders),{},{advertId:o,campaignId:u,adsUrlTemplate:c,adsOwnerId:d,adDur:h,adsSkipt:p})}catch(e){console.log(e)}}_fixNotAllowed(e){const t=e.play.bind(e);e.play=()=>t().catch((n=>{if("NotAllowedError"===(null==n?void 0:n.name)&&!e.muted)return e.muted=!0,t().catch(console.warn);throw n})).finally((()=>{e.play=t}))}preload(){var e,t,n,i;if(!this._playbackParams)return;const{quality:r}=this._playbackParams,a={desiredBitrate:null!==(e=null==r?void 0:r.bitrate)&&void 0!==e?e:319600,preferableAdSize:{height:null!==(t=null==r?void 0:r.height)&&void 0!==t?t:720,width:null!==(n=null==r?void 0:r.width)&&void 0!==n?n:1280}};null===(i=this._instance)||void 0===i||null===(i=i.adViewer)||void 0===i||i.preload((0,l.A)({videoSlot:this._playbackParams.video},a))}play(){var e;this._preventAdvertLogic?this.destroy():(super.play(),null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e||e.playAd())}resume(){var e;null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e||e.resumeAd()}pause(){var e;null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e||e.pauseAd()}toggleControls(e){var t;null===(t=this._instance)||void 0===t||null===(t=t.adPlaybackController)||void 0===t||t.setControlsVisibility({play:e,mute:e,adLabel:!1,timeline:!1,loader:!0})}destroy(){var e;super.destroy(),null!==(e=this._instance)&&void 0!==e&&null!==(e=e.adViewer)&&void 0!==e&&e.destroy&&(this._instance.adViewer.destroy(),this._instance=null)}get info(){return this._info}get placeholders(){return this._placeholders}get volume(){var e;return null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e?void 0:e.getAdVolume()}set volume(e){var t;null===(t=this._instance)||void 0===t||null===(t=t.adPlaybackController)||void 0===t||t.setAdVolume(e||0)}get advert(){return this.config.data}get adVolumeAvailability(){var e;return null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e?void 0:e.getAdVolumeAvailabilityState()}get adSkippable(){return this._adSkippable}set adSkippable(e){this._adSkippable=e}get ownerId(){return this._adfoxParams.ownerid}}Ha=Ua,[Va]=(0,S.A)(Ha,[],[[k.zm,2,"preload"],[k.zm,2,"play"],[k.zm,2,"resume"],[k.zm,2,"pause"],[k.zm,2,"toggleControls"],[k.zm,2,"destroy"]],0,void 0,Ra).e;const ja=Le.builder().use(Ue).group("qualities").event("changeQuality").message((()=>({methodName:Ve.t_.QUALITY}))).commit().endGroup().build(),Wa=Le.builder().use(Ue).group("CommunicationBanner").event("Show").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.CBANNER_SHOW,resolvers:[{names:["{{onboarding_id}}"],value:t.onboardingId},{names:["{{anums_lp}}"],value:String(t.anumsLp)}]}})).commit().event("Click").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.CBANNER_CLICK,resolvers:[{names:["{{onboarding_id}}"],value:t.onboardingId},{names:["{{anums_lp}}"],value:String(t.anumsLp)},{names:["{{num_lp}}"],value:String(t.numLp)},{names:["{{ind_lp}}"],value:String(t.indLp)}]}})).commit().event("Close").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.CBANNER_CLOSE,resolvers:[{names:["{{onboarding_id}}"],value:t.onboardingId},{names:["{{anums_lp}}"],value:String(t.anumsLp)}]}})).commit().endGroup().build(),za=Le.builder().use(Ue).group("activities").event("showCreditsSkipButton").message((()=>({methodName:Ve.jI.CREDS_SKIP_SHOW}))).commit().event("clickCreditsSkipButton").message((()=>({methodName:Ve.jI.CREDS_SKIP_CLICK}))).commit().event("showCreditsWatchButton").message((()=>({methodName:Ve.jI.CREDS_WATCH_SHOW}))).commit().event("clickCreditsWatchButton").message((()=>({methodName:Ve.jI.CREDS_WATCH_CLICK}))).commit().event("showIntroSkipButton").message((()=>({methodName:Ve.jI.INTRO_SKIP_SHOW}))).commit().event("clickIntroSkipButton").message((()=>({methodName:Ve.jI.INTRO_SKIP_CLICK}))).commit().event("showIntroWatchButton").message((()=>({methodName:Ve.jI.INTRO_WATCH_SHOW}))).commit().event("clickIntroWatchButton").message((()=>({methodName:Ve.jI.INTRO_WATCH_CLICK}))).commit().event("showNextEpisodeButton").params().message((e=>{var t,n;let{params:i}=e;return{methodName:Ve.jI.NEXT_EPISODE_SHOW,resolvers:[{names:["{{vl_video_id}}"],value:null!==(t=i.nextItemId)&&void 0!==t?t:""},{names:["{{cs_id_list}}"],value:null!==(n=i.userSubscriptionId)&&void 0!==n?n:""}]}})).commit().event("clickNextEpisodeButton").params().message((e=>{var t,n;let{params:i}=e;return{methodName:Ve.jI.NEXT_EPISODE_CLICK,resolvers:[{names:["{{vl_video_id}}"],value:null!==(t=i.nextItemId)&&void 0!==t?t:""},{names:["{{cs_id_list}}"],value:null!==(n=i.userSubscriptionId)&&void 0!==n?n:""}]}})).commit().event("autoNextEpisodeButton").params().message((e=>{var t,n;let{params:i}=e;return{methodName:Ve.jI.NEXT_EPISODE_AUTO,resolvers:[{names:["{{vl_video_id}}"],value:null!==(t=i.nextItemId)&&void 0!==t?t:""},{names:["{{cs_id_list}}"],value:null!==(n=i.userSubscriptionId)&&void 0!==n?n:""}]}})).commit().group("interactive").event("click").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.INTERACTIVE_BUTTON,resolvers:[{names:["{{action}}"],value:"click"},{names:["{{stage}}"],value:String(t.stage)},{names:["{{Ñurrent_fragment}}"],value:String(t.current)},{names:["{{clicked_fragment}}"],value:String(t.clicked)},{names:["{{frag_num}}"],value:String(t.clicked)}]}})).commit().endGroup().endGroup().build(),$a={ADVERT_STAT_RECEIVE:"adreceive",ADVERT_STAT_RECEIVE_PREROLL:"adreceivepreroll",ADVERT_STAT_RECEIVE_MIDROLL:"adreceivemidroll",ADVERT_STAT_RECEIVE_POSTROLL:"adreceivepostroll",ADVERT_STAT_RECEIVE_OVERLAY:"adreceiveoverlay",ADVERT_STAT_START:"adstart",ADVERT_STAT_START_PREROLL:"adstartpreroll",ADVERT_STAT_START_MIDROLL:"adstartmidroll",ADVERT_STAT_START_POSTROLL:"adstartpostroll",ADVERT_STAT_START_OVERLAY:"adstartoverlay",ADVERT_STAT_BLOCK_START:"ad_block_start",ADVERT_STAT_BLOCK_START_PREROLL:"ad_preroll_block_start",ADVERT_STAT_BLOCK_START_MIDROLL:"ad_midroll_block_start",ADVERT_STAT_BLOCK_START_NEWMIDROLL:"ad_newmidroll_block_start",ADVERT_STAT_BLOCK_START_LIVEMIDROLL:"ad_livemidroll_block_start",ADVERT_STAT_BLOCK_START_POSTROLL:"ad_postroll_block_start",ADVERT_STAT_BLOCK_END:"ad_block_end",ADVERT_STAT_BLOCK_END_PREROLL:"ad_preroll_block_end",ADVERT_STAT_BLOCK_END_MIDROLL:"ad_midroll_block_end",ADVERT_STAT_BLOCK_END_NEWMIDROLL:"ad_newmidroll_block_end",ADVERT_STAT_BLOCK_END_LIVEMIDROLL:"ad_livemidroll_block_end",ADVERT_STAT_BLOCK_END_POSTROLL:"ad_postroll_block_end",ADVERT_STAT_END:"ad_end",ADVERT_STAT_END_CLOSE:"ad_end_close",ADVERT_STAT_CLICK:"ad_click",ADVERT_STAT_CLOSE:"adclose",ADVERT_STAT_ERROR:"ad_error",ADVERT_STAT_SEND:"adsend",ADVERT_STAT_SKIP:"ad_skip",ADVERT_STAT_SEND_PREROLL:"adsendpreroll",ADVERT_STAT_SEND_MIDROLL:"adsendmidroll",ADVERT_STAT_SEND_POSTROLL:"adsendpostroll",ADVERT_STAT_SEND_OVERLAY:"adsendoverlay",FIRST_QUARTILE:"ad_25",SECOND_QUARTILE:"ad_50",THIRD_QUARTILE:"ad_75",RULE_RESPONSE:"ad_rule_response"},Ga=["event"],qa=["event"],Ka=e=>{var t;return[{names:["{{type_ad}}"],value:e.type||""},{names:["{{ads_url_template}}"],value:e.urlTemplate||""},{names:["{{adformat}}"],value:e.advertName||""},{names:["{{format}}"],value:e.advertName||""},{names:["{{campaign_id}}"],value:e.campaignId||""},{names:["{{ads_owner_id}}"],value:e.ownerId||""},{names:["{{ad_dur}}"],value:(null===(t=e.duration)||void 0===t?void 0:t.toString())||""},{names:["{{ads_skipt}}"],value:e.skipDuration||""},{names:["{{ad_id}}"],value:e.advertId||""}]},Qa=Le.builder().use(Ue).group("advert").event("request").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.AD_REQUEST,resolvers:Ka(t)}})).commit().event("send").params().message((e=>{let{params:t}=e;return{methodName:$a.ADVERT_STAT_SEND,resolvers:Ka(t)}})).commit().event("sendByType").params().message((e=>{let{params:{advertName:t,type:n}}=e;return{methodName:$a[`ADVERT_STAT_SEND_${n.toUpperCase()}`],resolvers:[{names:["{{adformat}}"],value:t}]}})).commit().event("receive").params().message((e=>{let{params:t}=e;return{methodName:$a.ADVERT_STAT_RECEIVE,resolvers:Ka(t)}})).commit().event("receiveByType").params().message((e=>{var t;let{params:n}=e;return{methodName:$a[`ADVERT_STAT_RECEIVE_${null===(t=n.type)||void 0===t?void 0:t.toUpperCase()}`],resolvers:Ka(n)}})).commit().event("start").params().message((e=>{let{params:t}=e;return{methodName:$a.ADVERT_STAT_START,resolvers:Ka(t)}})).commit().event("startByType").params().message((e=>{let{params:t}=e;return{methodName:$a[`ADVERT_STAT_START_${t.type.toUpperCase()}`],resolvers:Ka(t)}})).commit().event("close").params().message((e=>{let{params:t}=e;return{methodName:$a.ADVERT_STAT_CLOSE,resolvers:Ka(t)}})).commit().event("skip").params().message((e=>{let{params:t}=e;return{methodName:$a.ADVERT_STAT_SKIP,resolvers:Ka(t)}})).commit().event("error").params().message((e=>{let{params:t}=e;return{methodName:$a.ADVERT_STAT_ERROR,resolvers:[...Ka(t),{names:["{{ad_errorcode}}"],value:t.errorCode||""},{names:["{{ad_traceid}}"],value:t.errorTraceId||""}]}})).commit().event("click").params().message((e=>{let{params:t}=e;return{methodName:$a.ADVERT_STAT_CLICK,resolvers:Ka(t)}})).commit().event("adClick").params().message((e=>{let{params:t}=e;return{methodName:$a.ADVERT_STAT_CLICK,resolvers:Ka(t)}})).commit().event("end").params().message((e=>{let{params:t}=e;return{methodName:$a.ADVERT_STAT_END,resolvers:Ka(t)}})).commit().event("loadAfterAd").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.LOAD_AFTER_AD,resolvers:Ka(t)}})).commit().event("unload").params().message((e=>{let{params:t}=e;return{methodName:$a.ADVERT_STAT_END_CLOSE,resolvers:Ka(t)}})).commit().event("blockStart").params().message((e=>{let{params:t}=e;return{methodName:$a.ADVERT_STAT_BLOCK_START,resolvers:Ka(t)}})).commit().event("blockStartByType").params().message((e=>{let{params:t}=e;return{methodName:$a[`ADVERT_STAT_BLOCK_START_${t.type.toUpperCase()}`],resolvers:Ka(t)}})).commit().event("blockStartYm").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.ADVERT_STAT_BLOCK_START,resolvers:Ka(t)}})).commit().event("blockStartYmCustom").params().message((e=>{let{params:{event:t}}=e,n=(0,Cr.A)(e.params,Ga);return{methodName:Ve.t_[t],resolvers:Ka(n)}})).commit().event("blockEnd").params().message((e=>{let{params:t}=e;return{methodName:$a.ADVERT_STAT_BLOCK_END,resolvers:Ka(t)}})).commit().event("blockEndByType").params().message((e=>{let{params:t}=e;return{methodName:$a[`ADVERT_STAT_BLOCK_END_${t.type.toUpperCase()}`],resolvers:Ka(t)}})).commit().event("blockEndYm").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.ADVERT_STAT_BLOCK_END,resolvers:Ka(t)}})).commit().event("blockEndYmCustom").params().message((e=>{let{params:{event:t}}=e,n=(0,Cr.A)(e.params,qa);return{methodName:Ve.t_[t],resolvers:Ka(n)}})).commit().event("view").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.AD_VIEW,resolvers:Ka(t)}})).commit().event("firstQuartile").params().message((e=>{let{params:t}=e;return{methodName:$a.FIRST_QUARTILE,resolvers:Ka(t)}})).commit().event("secondQuartile").params().message((e=>{let{params:t}=e;return{methodName:$a.SECOND_QUARTILE,resolvers:Ka(t)}})).commit().event("thirdQuartile").params().message((e=>{let{params:t}=e;return{methodName:$a.THIRD_QUARTILE,resolvers:Ka(t)}})).commit().event("ruleResponse").params().message((e=>{let{params:{ruleId:t,section:n}}=e;return{methodName:$a.RULE_RESPONSE,resolvers:[{names:["{{ads_rule_id}}"],value:String(null!=t?t:"")},{names:["{{ads_section}}"],value:String(n)}]}})).commit().group("mrc").group("halfVisible").event("oneSec").params().message((e=>{let{params:t}=e;return{methodName:Ve.jI.ADVERT_MRC_50_1,resolvers:Ka(t)}})).commit().event("twoSec").params().message((e=>{let{params:t}=e;return{methodName:Ve.jI.ADVERT_MRC_50_2,resolvers:Ka(t)}})).commit().endGroup().group("fullVisible").event("oneSec").params().message((e=>{let{params:t}=e;return{methodName:Ve.jI.ADVERT_MRC_100_1,resolvers:Ka(t)}})).commit().event("twoSec").params().message((e=>{let{params:t}=e;return{methodName:Ve.jI.ADVERT_MRC_100_2,resolvers:Ka(t)}})).commit().endGroup().endGroup().endGroup().build(),Xa=Le.builder().use(Ue).group("captions").event("show").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.SUBTITLES,resolvers:[{names:["{{action}}"],value:t.action},{names:["{language}"],value:t.language},{names:["{result}"],value:t.result}]}})).commit().event("click").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.SUBTITLES,resolvers:[{names:["{{action}}"],value:t.action},{names:["{language}"],value:t.language},{names:["{result}"],value:t.result}]}})).commit().endGroup().build(),Za=Le.builder().use(Ue).group("channelSubscription").event("show").message((()=>({methodName:Ve.t_.SUBSCRIBE_SHOW}))).commit().group("click").event("subscribe").message((()=>({methodName:Ve.t_.SUBSCRIBE_CLICK}))).commit().event("unsubscribe").message((()=>({methodName:Ve.t_.UNSUBSCRIBE_CLICK}))).commit().endGroup().group("notify").event("on").message((()=>({methodName:Ve.t_.SUBSCRIBE_NOTIFY_ON}))).commit().event("off").message((()=>({methodName:Ve.t_.SUBSCRIBE_NOTIFY_OFF}))).commit().endGroup().endGroup().build(),Ja=Le.builder().use(Ue).group("chapters").event("menuClick").message((()=>({methodName:Ve.t_.CHAPTER_MENU_CLICK}))).commit().event("descriptionClick").message((()=>({methodName:Ve.t_.CHAPTER_DESC_CLICK}))).commit().event("buttonShow").message((()=>({methodName:Ve.t_.CHAPTER_BUTTON_SHOW}))).commit().event("buttonClick").message((()=>({methodName:Ve.t_.CHAPTER_BUTTON_CLICK}))).commit().endGroup().build(),es=Le.builder().use(Ue).group("controls").event("logoClick").params().message((e=>{let{params:{videoUrl:t}}=e;return{methodName:Ve.t_.CLICK_EVENT,resolvers:[{names:["{{type_button}}"],value:Ve.NN.SITE_LOGO},{names:["{{clicked_url}}"],value:t}]}})).commit().event("unmuteClick").message((()=>({methodName:Ve.t_.UNMUTE_CLICK}))).commit().event("unmuteShow").message((()=>({methodName:Ve.t_.UNMUTE_VIEW}))).commit().endGroup().build(),ts=Le.builder().use(Ue).group("playerMode").event("fullscreen").params().message((e=>{let{params:{isFullScreen:t}}=e;return{methodName:t?Ve.jI.ENTER_FULLSCREEN:Ve.jI.EXIT_FULL_SCREEN}})).commit().event("change").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.SCREEN_MODE,resolvers:[{names:["{{screen_mode}}"],value:t}]}})).commit().endGroup().build(),ns=Le.builder().use(Ue).group("pauseScreen").event("show").params().message((()=>({methodName:Ve.t_.RECOMMENDATIONS_PAUSE_SCREEN_SHOW,resolvers:[]}))).commit().event("click").params().message((()=>({methodName:Ve.t_.RECOMMENDATIONS_PAUSE_SCREEN_CLICK,resolvers:[]}))).commit().event("action").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.PAUSE_SCREEN,resolvers:[{names:["{{action}}"],value:t.action},{names:["{{list_of_cards}}"],value:t.list_of_cards?JSON.stringify(t.list_of_cards):""},{names:["{{clicked_url}}"],value:t.clicked_url||""},{names:["{{position}}"],value:t.position||""}]}})).commit().endGroup().group("recommendationButton").event("show").params().message((()=>({methodName:Ve.t_.RECOMMENDATIONS_BUTTON_SHOW,resolvers:[]}))).commit().event("click").params().message((()=>({methodName:Ve.t_.RECOMMENDATIONS_BUTTON_CLICK,resolvers:[]}))).commit().endGroup().build(),is=Le.builder().use(Ue).group("pictureInPicture").event("enterClick").message((()=>({methodName:Ve.jI.PIP_ENTER_CLICK}))).commit().event("exitClick").message((()=>({methodName:Ve.jI.PIP_EXIT_CLICK}))).commit().event("backShow").message((()=>({methodName:Ve.jI.PIP_BACK_SHOW}))).commit().event("backClick").message((()=>({methodName:Ve.jI.PIP_BACK_CLICK}))).commit().endGroup().build(),rs=Le.builder().use(Ue).group("platformSubscription").event("showRemoveAdsButton").params().message((e=>{let{params:t}=e;return{methodName:Ve.jI.AD_OFF_BUTTON_SHOW,resolvers:Ka(t)}})).commit().event("clickRemoveAdsButton").params().message((e=>{let{params:t}=e;return{methodName:Ve.jI.AD_OFF_BUTTON_CLICK,resolvers:Ka(t)}})).commit().endGroup().build(),as=Le.builder().use(Ue).group("replayWidget").event("click").message((()=>({methodName:Ve.t_.FROM_BEGINNINIG}))).commit().endGroup().group("watchFromStart").event("click").message((()=>({methodName:Ve.t_.WATCH_FROM_START_CLICK}))).commit().event("show").message((()=>({methodName:Ve.t_.WATCH_FROM_START_SHOW}))).commit().endGroup().build(),ss=Le.builder().use(Ue).group("seasons").event("ButtonShow").params().message((()=>({methodName:Ve.t_.RECOMMENDATIONS_SEASONS_BUTTON_SHOW,resolvers:[]}))).commit().event("show").params().message((()=>({methodName:Ve.t_.RECOMMENDATIONS_SEASONS_OPEN,resolvers:[]}))).commit().event("click").params().message((e=>{let{params:{clicked_url:t}}=e;return{methodName:Ve.t_.RECOMMENDATIONS_SEASONS_EPISODE_CLICK,resolvers:[{names:["{{clicked_url}}"],value:t}]}})).commit().endGroup().build(),os=Le.builder().use(Ue).group("settings").event("autoplay").params().message((e=>{let{params:{action:t}}=e;return{methodName:Ve.t_.PLAYBACK_AUTOPLAY,resolvers:[{names:["{{action}}"],value:t}]}})).commit().event("playbackRate").params().message((e=>{let{params:t}=e;return{methodName:Ve.t_.SPEED,resolvers:[{names:["{{playback_speed}}"],value:String(t)}]}})).commit().event("click").message((()=>({methodName:Ve.t_.SETTINGS_CLICK}))).commit().group("moreMenu").event("copyLinkVideo").message((()=>({methodName:Ve.t_.MORE_MENU_COPY_LINK_VIDEO}))).commit().event("copyLinkAtTime").message((()=>({methodName:Ve.t_.MORE_MENU_COPY_LINK_AT_TIME}))).commit().event("copyTag").message((()=>({methodName:Ve.t_.MORE_MENU_COPY_TAG}))).commit().event("replay").message((()=>({methodName:Ve.t_.MORE_MENU_REPLAY}))).commit().event("reportError").message((()=>({methodName:Ve.t_.MORE_MENU_REPORT_ERROR}))).commit().event("copyInfo").message((()=>({methodName:Ve.t_.MORE_MENU_COPY_INFO}))).commit().event("reportVideo").message((()=>({methodName:Ve.t_.MORE_MENU_REPORT_VIDEO}))).commit().event("hotkeyManual").message((()=>({methodName:Ve.t_.MORE_MENU_HOTKEY_MANUAL}))).commit().event("replayVideoOn").message((()=>({methodName:Ve.t_.MORE_MENU_REPLAY_VIDEO_ON}))).commit().event("replayVideoOff").message((()=>({methodName:Ve.t_.MORE_MENU_REPLAY_VIDEO_OFF}))).commit().endGroup().endGroup().build(),ls=Le.builder().use(Ue).group("sharing").event("Share").params().message((e=>{let{params:{socialNetwork:t}}=e;return{methodName:Ve.t_.SHARE,resolvers:[{names:["{{action}}"],value:"share"},{names:["{{social_network}}"],value:t}]}})).commit().event("Show").message((()=>({methodName:Ve.t_.SHARE,resolvers:[{names:["{{action}}"],value:"show"}]}))).commit().endGroup().build(),us=Le.builder().use(Ue).group("header").event("logoClick").params().message((e=>{let{params:{videoUrl:t}}=e;return{methodName:Ve.t_.CLICK_EVENT,resolvers:[{names:["{{type_button}}"],value:Ve.NN.CHANNEL_LOGO},{names:["{{clicked_url}}"],value:t}]}})).commit().event("titleClick").params().message((e=>{let{params:{videoUrl:t}}=e;return{methodName:Ve.t_.CLICK_EVENT,resolvers:[{names:["{{type_button}}"],value:Ve.NN.VIDEO_TITLE},{names:["{{clicked_url}}"],value:t}]}})).commit().endGroup().build(),cs=Le.builder().use(Ue).group("mrc").group("halfVisible").event("oneSec").message((()=>({methodName:Ve.jI.MRC_50_1}))).commit().event("twoSec").message((()=>({methodName:Ve.jI.MRC_50_2}))).commit().endGroup().group("fullVisible").event("oneSec").message((()=>({methodName:Ve.jI.MRC_100_1}))).commit().event("twoSec").message((()=>({methodName:Ve.jI.MRC_100_2}))).commit().endGroup().endGroup().build();var ds;let hs,ps;ds=class extends pt{constructor(e,t,n,i){super(e,t,n,i),this._counterHelper=void 0,this._counterHelper=this.buildCounter()}getCounter(){return super.getCounter().extends(ns).extends(ss).extends(os).extends(Xa).extends(ts).extends(us).extends(Qa).extends(Za).extends(es).extends(ls).extends(rs).extends(as).extends(Ja).extends(is).extends(ja).extends(za).extends(Wa).extends(cs)}buildCounter(){return this.getCounter().build()}get counterHelper(){return this._counterHelper}},[ps,hs]=(0,S.A)(ds,[(0,k.k_)({implement:"IStatisticState",ctor_args:["StatisticNamespace","IStatisticStore","Resolve","IPlaceholdersState"]})],[],0,void 0,pt).c,hs();const vs=()=>{const e=(0,Dt.Ks)("IStatisticState");return e instanceof ps?e:null};class ms extends Error{constructor(e,t){super(e),this.fatal=void 0,this.fatal=t}}class _s{constructor(e,t,n){this._playAfterQualityChange=!1,this._timeAfterQualityChange=void 0,this._isChangingQuality=!1,this.instance=void 0,this._provider=e,this._playback=t,this._src=n}_onDataLoaded(){this._isChangingQuality=!1}_onCanPlay(){this._isChangingQuality||this._playAfterQualityChange&&(this._playAfterQualityChange=!1,this._timeAfterQualityChange&&this._playback.seek(this._timeAfterQualityChange),this._playback.play().catch((e=>{console.warn("_onCanPlay:",e)})))}init(){return this._playback.player.addEventListener("loadeddata",this._onDataLoaded.bind(this)),this._playback.player.addEventListener("canplay",this._onCanPlay.bind(this)),this._playback.player.src=this._src,new Promise((e=>{e(this)}))}destroy(){this._playback.player.removeEventListener("loadeddata",this._onDataLoaded.bind(this)),this._playback.player.removeEventListener("canplay",this._onCanPlay.bind(this))}get type(){return"default"}changeLevel(e){this._provider.autoQuality=-1===e,this._isChangingQuality=!0;const t=this._provider.qualities.findIndex((t=>t.level===e)),n=this._provider.qualities.findIndex((e=>e.isAuto));this._provider.activeQualityIndex=this._provider.autoQuality?n:t;const i=this._provider.qualities[this._provider.activeQualityIndex];if(i&&this._playback){this._playback.paused?this._playAfterQualityChange=!1:(this._playback.pause(),this._playAfterQualityChange=!0),this._playback&&i.edge&&(this._timeAfterQualityChange=this._playback.currentTime,this._playback.src=i.edge,this._playback.load())}}}const fs=(e,t,n)=>{var i;const r=document.createElement("script");r.src=e,r.onload=t,r.onerror=n;const a=document.getElementsByTagName("script")[0];null==a||null===(i=a.parentNode)||void 0===i||i.insertBefore(r,a)},gs={},ys=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>!0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:fs;const a=e=>window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:void 0,s=a(t);return s&&i(s)?Promise.resolve(s):new Promise(((i,s)=>{if(gs[e])return void gs[e].push({resolve:i,reject:s});gs[e]=[{resolve:i,reject:s}];const o=t=>{gs[e].forEach((e=>e.resolve(t)))};if(n){const e=()=>window[n];window[n]=()=>{e&&e(),o(a(t))}}r(e,(()=>{n||o(a(t))}),(t=>{gs[e].forEach((e=>{e.reject(t)})),delete gs[e]}))}))},bs=4e3,Es="manifestLoadError",ws="manifestParsingError",Ss="levelLoadError",As="fragLoadError",ks="bufferAppendError",Cs="manifestIncompatibleCodecsError",Ps="keySystemNoKeys",Ts="keySystemNoAccess",Is="keySystemNoSession",Rs="keySystemNoConfiguredLicense",Ls="keySystemLicenseRequestFailed",xs="keySystemServerCertificateUpdateFailed",Os={manifestLoadError:Es,manifestLoadTimeOut:"manifestLoadTimeOut",manifestParsingError:ws,levelLoadError:Ss,levelLoadTimeOut:"levelLoadTimeOut",fragLoadError:As,fragLoadTimeOut:"fragLoadTimeOut",bufferAppendError:ks,bufferAppendingError:ks,manifestIncompatibleCodecsError:Cs,keySystemNoKeys:Ps,keySystemNoAccess:Ts,keySystemNoSession:Is,keySystemNoConfiguredLicense:Rs,keySystemLicenseRequestFailed:Ls,keySystemServerCertificateUpdateFailed:xs},Ns={MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE:10,MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE:11,XLINK_LOADER_LOADING_FAILURE_ERROR_CODE:12,SEGMENT_BASE_LOADER_ERROR_CODE:15,TIME_SYNC_FAILED_ERROR_CODE:16,FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE:17,FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE:18,URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE:19,APPEND_ERROR_CODE:20,REMOVE_ERROR_CODE:21,DATA_UPDATE_FAILED_ERROR_CODE:22,CAPABILITY_MEDIASOURCE_ERROR_CODE:23,CAPABILITY_MEDIAKEYS_ERROR_CODE:24,DOWNLOAD_ERROR_ID_MANIFEST_CODE:25,DOWNLOAD_ERROR_ID_SIDX_CODE:26,DOWNLOAD_ERROR_ID_CONTENT_CODE:27,DOWNLOAD_ERROR_ID_INITIALIZATION_CODE:28,DOWNLOAD_ERROR_ID_XLINK_CODE:29,MANIFEST_ERROR_ID_PARSE_CODE:31,MANIFEST_ERROR_ID_NOSTREAMS_CODE:32,TIMED_TEXT_ERROR_ID_PARSE_CODE:33,MANIFEST_ERROR_ID_MULTIPLEXED_CODE:34,MEDIASOURCE_TYPE_UNSUPPORTED_CODE:35,MEDIA_KEYERR_CODE:100,MEDIA_KEYERR_UNKNOWN_CODE:101,MEDIA_KEYERR_CLIENT_CODE:102,MEDIA_KEYERR_SERVICE_CODE:103,MEDIA_KEYERR_OUTPUT_CODE:104,MEDIA_KEYERR_HARDWARECHANGE_CODE:105,MEDIA_KEYERR_DOMAIN_CODE:106,MEDIA_KEY_MESSAGE_ERROR_CODE:107,MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE:108,SERVER_CERTIFICATE_UPDATED_ERROR_CODE:109,KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE:110,MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE:111,KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE:112,KEY_SESSION_CREATED_ERROR_CODE:113,MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE:114,MSS_NO_TFRF_CODE:200,MSS_UNSUPPORTED_CODEC_CODE:201,OFFLINE_ERROR:11e3,INDEXEDDB_QUOTA_EXCEED_ERROR:11001,INDEXEDDB_INVALID_STATE_ERROR:11002,INDEXEDDB_NOT_READABLE_ERROR:11003,INDEXEDDB_NOT_FOUND_ERROR:11004,INDEXEDDB_NETWORK_ERROR:11005,INDEXEDDB_DATA_ERROR:11006,INDEXEDDB_TRANSACTION_INACTIVE_ERROR:11007,INDEXEDDB_NOT_ALLOWED_ERROR:11008,INDEXEDDB_NOT_SUPPORTED_ERROR:11009,INDEXEDDB_VERSION_ERROR:11010,INDEXEDDB_TIMEOUT_ERROR:11011,INDEXEDDB_ABORT_ERROR:11012,INDEXEDDB_UNKNOWN_ERROR:11013},Ds={[Ns.DOWNLOAD_ERROR_ID_MANIFEST_CODE]:Es,[Ns.MANIFEST_ERROR_ID_PARSE_CODE]:ws,[Ns.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE]:Ss,[Ns.DOWNLOAD_ERROR_ID_CONTENT_CODE]:As,[Ns.APPEND_ERROR_CODE]:ks,[Ns.CAPABILITY_MEDIASOURCE_ERROR_CODE]:Cs,[Ns.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE]:Ps,[Ns.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE]:Ts,[Ns.KEY_SESSION_CREATED_ERROR_CODE]:Is,[Ns.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE]:Rs,[Ns.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE]:Ls,[Ns.SERVER_CERTIFICATE_UPDATED_ERROR_CODE]:xs,[Ns.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE]:"MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE",[Ns.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE]:"MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE",[Ns.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE]:"XLINK_LOADER_LOADING_FAILURE_ERROR_CODE",[Ns.SEGMENT_BASE_LOADER_ERROR_CODE]:"SEGMENT_BASE_LOADER_ERROR_CODE",[Ns.TIME_SYNC_FAILED_ERROR_CODE]:"TIME_SYNC_FAILED_ERROR_CODE",[Ns.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE]:"FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE",[Ns.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE]:"FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE",[Ns.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE]:"URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE",[Ns.REMOVE_ERROR_CODE]:"REMOVE_ERROR_CODE",[Ns.DATA_UPDATE_FAILED_ERROR_CODE]:"DATA_UPDATE_FAILED_ERROR_CODE",[Ns.CAPABILITY_MEDIAKEYS_ERROR_CODE]:"CAPABILITY_MEDIAKEYS_ERROR_CODE",[Ns.DOWNLOAD_ERROR_ID_SIDX_CODE]:"DOWNLOAD_ERROR_ID_SIDX_CODE",[Ns.DOWNLOAD_ERROR_ID_XLINK_CODE]:"DOWNLOAD_ERROR_ID_XLINK_CODE",[Ns.MANIFEST_ERROR_ID_NOSTREAMS_CODE]:"MANIFEST_ERROR_ID_NOSTREAMS_CODE",[Ns.TIMED_TEXT_ERROR_ID_PARSE_CODE]:"TIMED_TEXT_ERROR_ID_PARSE_CODE",[Ns.MANIFEST_ERROR_ID_MULTIPLEXED_CODE]:"MANIFEST_ERROR_ID_MULTIPLEXED_CODE",[Ns.MEDIASOURCE_TYPE_UNSUPPORTED_CODE]:"MEDIASOURCE_TYPE_UNSUPPORTED_CODE",[Ns.MSS_NO_TFRF_CODE]:"MSS_NO_TFRF_CODE",[Ns.MSS_UNSUPPORTED_CODEC_CODE]:"MSS_UNSUPPORTED_CODEC_CODE",[Ns.OFFLINE_ERROR]:"OFFLINE_ERROR",[Ns.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE]:"KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE",[Ns.MEDIA_KEYERR_CLIENT_CODE]:"MEDIA_KEYERR_CLIENT_CODE",[Ns.MEDIA_KEYERR_CODE]:"MEDIA_KEYERR_CODE",[Ns.MEDIA_KEYERR_DOMAIN_CODE]:"MEDIA_KEYERR_DOMAIN_CODE",[Ns.MEDIA_KEYERR_HARDWARECHANGE_CODE]:"MEDIA_KEYERR_HARDWARECHANGE_CODE",[Ns.MEDIA_KEYERR_OUTPUT_CODE]:"MEDIA_KEYERR_OUTPUT_CODE",[Ns.MEDIA_KEYERR_SERVICE_CODE]:"MEDIA_KEYERR_SERVICE_CODE",[Ns.MEDIA_KEYERR_UNKNOWN_CODE]:"MEDIA_KEYERR_UNKNOWN_CODE",[Ns.MEDIA_KEY_MESSAGE_ERROR_CODE]:"MEDIA_KEY_MESSAGE_ERROR_CODE"},Ms=[Ns.DOWNLOAD_ERROR_ID_MANIFEST_CODE,Ns.MANIFEST_ERROR_ID_PARSE_CODE,Ns.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE,Ns.CAPABILITY_MEDIASOURCE_ERROR_CODE,Ns.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,Ns.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,Ns.KEY_SESSION_CREATED_ERROR_CODE,Ns.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,Ns.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,Ns.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,Ns.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,Ns.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Ns.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,Ns.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,Ns.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,Ns.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,Ns.DATA_UPDATE_FAILED_ERROR_CODE,Ns.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,Ns.MSS_UNSUPPORTED_CODEC_CODE,Ns.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,Ns.MEDIA_KEYERR_CODE,Ns.MEDIA_KEY_MESSAGE_ERROR_CODE,Ns.CAPABILITY_MEDIAKEYS_ERROR_CODE,Ns.DOWNLOAD_ERROR_ID_XLINK_CODE,Ns.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,Ns.MEDIA_KEYERR_CLIENT_CODE,Ns.MEDIA_KEYERR_DOMAIN_CODE,Ns.MEDIA_KEYERR_HARDWARECHANGE_CODE,Ns.MEDIA_KEYERR_OUTPUT_CODE,Ns.MEDIA_KEYERR_SERVICE_CODE],Bs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return{retryIntervals:{MPD:e,MediaSegment:e,InitializationSegment:e,IndexSegment:e,other:e},retryAttempts:{MPD:t,MediaSegment:t,InitializationSegment:t,BitstreamSwitchingSegment:t,IndexSegment:t,other:t},manifestRequestTimeout:1e4,fragmentRequestTimeout:2e4}},Fs=e=>e&&"string"==typeof e.type&&e.error&&"object"==typeof e.error&&"number"==typeof e.error.code&&Object.values(Ns).includes(e.error.code)&&"string"==typeof e.error.message&&"object"==typeof e.error.data,Hs=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join("-")},Vs=e=>Fs(e)?e.error.code in Ds?Ds[e.error.code]:Hs(e.error.message,String(e.error.code)):(e=>e&&"string"==typeof e.type&&"download"===e.error&&e.event&&"object"==typeof e.event&&"string"==typeof e.event.id&&"string"==typeof e.event.url&&e.event.request instanceof XMLHttpRequest)(e)?Hs(e.error,e.event.url):(e=>e&&"string"==typeof e.type&&"manifestError"===e.error&&e.event&&"object"==typeof e.event&&"string"==typeof e.event.id&&"string"==typeof e.event.message&&(void 0===e.event.manifest||"object"==typeof e.event.manifest)&&(void 0===e.event.event||"string"==typeof e.event.event))(e)?Hs(e.error,e.event.message):(e=>e&&"string"==typeof e.type&&"cc"===e.error&&e.event&&"object"==typeof e.event&&"string"==typeof e.event.id&&"string"==typeof e.event.message&&"string"==typeof e.event.cc)(e)?Hs(e.error,e.event.message,e.event.cc):(e=>e&&"string"==typeof e.type&&"string"==typeof e.error&&["capability","mediasource","key_session","key_message"].includes(e.error)&&"string"==typeof e.event)(e)?Hs(e.error,e.event):"Unknown error";class Us{canPlayHandler(e){const t=e.getBitrateInfoListFor("video");this._providerPlugin.qualities=t,this._eventBus.emit(fi.L2.QUALITY_LIST,{list:this._getBitratesHeight()}),this._eventBus.emit(fi.L2.BITRATES_LEVELS,{bitrates:this._getBitratesBandwidth()});this._providerPlugin.activeQualityIndex=(()=>{const t=e.getQualityFor("video");let n=-1;return this._providerPlugin.qualities.forEach(((e,i)=>{e.level===t&&(n=i)})),n})()}constructor(e,t,n){this._instance=null,this._eventBus=void 0,this._getBitratesBandwidth=()=>this._providerPlugin.qualities.reduce(((e,t)=>(t.bitrate&&e.push(t.bitrate),e)),[]),this._getBitratesHeight=()=>this._providerPlugin.qualities.reduce(((e,t)=>(t.height&&e.push(t.height),e)),[]),this._initParams=e,this._providerPlugin=t,this._eventBus=null!=n?n:jr.Ug}async init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(await ys("https://static.rutube.ru/static/player_sdk/dash/4.7.4/dash.all.min.js","dashjs")).MediaPlayer().create();t.updateSettings({streaming:(0,l.A)((0,l.A)({},Bs()),{},{abr:{initialBitrate:{video:-1}}})}),this._initParams.drmLink&&t.setProtectionData({"com.widevine.alpha":{serverURL:this._initParams.drmLink,priority:1}}),t.initialize(this._initParams.playbackPlugin.player,this._initParams.src,e.autoPlay);return this.instance=(0,l.A)((0,l.A)({},t),{},{liveSyncPosition:null,currentLevel:t.getQualityFor("video"),levels:()=>{const e=t.getBitrateInfoListFor("video");for(const t of e)t&&!t.url&&(t.url="");return e},bandwidthEstimate:()=>1e3*t.getAverageThroughput("video")}),t.on("error",(e=>{this.handleDashError(e)})),t.on("canPlay",(()=>this.canPlayHandler(t))),t.on("fragmentLoadingCompleted",this.onFragmentLoadingCompleted.bind(this)),this||null}handleDashError(e){(e=>Fs(e)&&Ms.includes(Number(e.error.code)))(e)&&(this._providerPlugin.hasLoadError=!0)}get instance(){return this._instance}set instance(e){this._instance=e}destroy(){var e;null===(e=this._instance)||void 0===e||e.destroy()}changeLevel(e){var t,n,i,r;const a=this._providerPlugin.qualities.findIndex((t=>t.level===e));var s;if(-1===e)return null===(s=this._instance)||void 0===s||s.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!0}}}}),this._eventBus.emit(fi.L2.CURRENT_QUALITY,{quality:{height:-1,quality:this._providerPlugin.activeQualityTransferValue,isAutoQuality:this._providerPlugin.autoQuality}}),void this._eventBus.emit(fi.L2.BITRATE_SWITCH,{bitrate:-1});null===(t=this._instance)||void 0===t||t.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),null===(n=this._instance)||void 0===n||n.setQualityFor("video",e);const o=this._providerPlugin.qualities[a];this._eventBus.emit(fi.L2.CURRENT_QUALITY,{quality:{height:null!==(i=o.height)&&void 0!==i?i:0,quality:this._providerPlugin.activeQualityTransferValue,isAutoQuality:this._providerPlugin.autoQuality}}),this._eventBus.emit(fi.L2.BITRATE_SWITCH,{bitrate:null!==(r=o.bitrate)&&void 0!==r?r:0})}onOnlineToggle(e){var t;const n=e?Bs():Bs(500,1/0);null===(t=this._instance)||void 0===t||t.updateSettings({streaming:(0,l.A)({},n)})}onFragmentLoadingCompleted(e){const t=e.request.serviceLocation,n=t?t.split("//")[1].split("/")[0]:"";this._providerPlugin.previewUrl=t,this._providerPlugin.cdnHost=n}}const js=()=>{var e,t;return null!==(e=window.performance)&&void 0!==e&&e.now?parseInt(null===(t=window.performance.now())||void 0===t?void 0:t.toFixed()):(new Date).getTime()},Ws="SCTE35-OUT",zs="EXT-X-DATERANGE",$s="PLANNED-DURATION";class Gs{constructor(e,t,n){this.fallbackTimer=null,this._hls=e,this._params=t,this._error=n}handleError(){var e;const{playbackPlugin:t}=this._params;this._error.type===(null===(e=this._hls.Hls)||void 0===e?void 0:e.ErrorTypes.MEDIA_ERROR)&&this.onBufferStalledError(),P()&&t.currentTime.toFixed(0)===t.duration.toFixed(0)&&this.onSafariBufferError()}onBufferStalledError(){var e,t,n;const{playbackPlugin:i}=this._params,r=Math.max((null===(e=this._hls.instance)||void 0===e?void 0:e.currentLevel)||0,0),a=null!==(t=null===(n=this._hls.instance)||void 0===n?void 0:n.levels[r].url.length)&&void 0!==t?t:1,s=e=>{i.player.buffered&&i.player.buffered.length&&i.player.buffered.end(i.player.buffered.length-1)<=e+.01&&this._hls.removeDamagedStream(r)};if(a>1&&i.player.buffered){const e=i.player.buffered.end(i.player.buffered.length-1);this.fallbackTimer=setTimeout((()=>s(e)),bs)}}onSafariBufferError(){const{playbackPlugin:e}=this._params;e.seek(e.duration+1)}onDestroy(){null!==this.fallbackTimer&&clearTimeout(this.fallbackTimer)}}const qs=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3,r=e;return()=>{r<=0?n&&n():setTimeout((()=>{t(),navigator.onLine&&(r-=1)}),i)}};class Ks{constructor(e,t,n){this.loadRetry=void 0,this._hls=e,this._provider=t,this._error=n,this.loadRetry=qs(10,(()=>{var e;null===(e=this._hls.instance)||void 0===e||e.startLoad()}),(()=>{this._provider.hasLoadError=!0}))}handleError(){var e,t,n;switch(this._error.type){case null===(e=this._hls.Hls)||void 0===e?void 0:e.ErrorTypes.NETWORK_ERROR:this.loadRetry();break;case null===(t=this._hls.Hls)||void 0===t?void 0:t.ErrorTypes.MEDIA_ERROR:this._hls.onMediaError();break;default:null===(n=this._hls.instance)||void 0===n||n.destroy()}}}let Ys=function(e){return e.PUBLIC="public",e.PRIVATE="private",e}({}),Qs=function(e){return e.EXPECT_START="expect_start",e.STREAM_ACTIVE="actual",e.STREAM_DISABLE="disable",e.STREAM_WAIT="wait",e.STREAM_DONE="done",e.STREAM_FINISH_ERR="fin_err",e.STREAM_IDLE="idle",e.STREAM_BLOCKED="blocked",e.STATUS_PLAYING="play_now",e.STATUS_FINISHED="already_finish",e}({});class Xs{constructor(e,t,n,i){this.numOfFragLoadRetry=5,this._hls=e,this._params=t,this._provider=n,this._error=i}handleError(){var e,t,n,i;const{playbackPlugin:r}=this._params,{isTVStream:a}=null!==(e=null==r?void 0:r.data)&&void 0!==e?e:{},s=(null===(t=this._error.frag)||void 0===t?void 0:t.level)||0;if((null!==(n=null===(i=this._hls.instance)||void 0===i?void 0:i.levels[s].url.length)&&void 0!==n?n:1)<=1)if(this.numOfFragLoadRetry<=0){var o;null===(o=this._hls.instance)||void 0===o||o.stopLoad();const{streamStatus:e}=r.adapter||{};e===Qs.STREAM_ACTIVE||a?setTimeout((()=>{var e;this._hls.instance&&(this._hls.instance.currentLevel=-1,this.numOfFragLoadRetry=5,null===(e=this._hls.instance)||void 0===e||e.startLoad())}),bs):(this._provider.hasLoadError=!0,console.warn("FRAG_LOAD_ERROR:",this._error))}else navigator.onLine&&(this.numOfFragLoadRetry-=1)}}class Zs{constructor(e,t){var n;this._retryCount=void 0,this._hls=e,this._provider=t,this._retryCount=(null===(n=this._hls.instance)||void 0===n?void 0:n.config.fragLoadingMaxRetry)||1}handleError(){if(this._hls.instance&&!this._provider.autoQuality)this._hls.instance.currentLevel=-1;else if(this._retryCount>=1)this._retryCount--;else{var e;this._provider.hasLoadError=!0,null===(e=this._hls.instance)||void 0===e||e.stopLoad()}}}class Js{constructor(e,t){this._hls=e,this._provider=t}handleError(){this._hls.destroy(),this._provider.hasLoadError=!0}}class eo{constructor(e,t,n){this._retryConfig=null,this.levelLoadRetry=null,this._hls=e,this._provider=t,this._error=n}handleError(){var e,t,n,i,r;const a=this._error.url;this._provider.cdnHost=null!==(e=null===(t=(0,R.Qv)(a))||void 0===t?void 0:t.host)&&void 0!==e?e:"",this.prepareHandling();const s=null!==(n=null===(i=this._error)||void 0===i||null===(i=i.context)||void 0===i?void 0:i.level)&&void 0!==n?n:0;var o;1===(null===(r=this._hls.instance)||void 0===r||null===(r=r.levels[s])||void 0===r?void 0:r.url.length)&&null!==this.levelLoadRetry&&(null===(o=this._hls.instance)||void 0===o||o.stopLoad(),this.levelLoadRetry())}prepareHandling(){var e;if(this.retryConfig)return;const t=(null===(e=this._hls.instance)||void 0===e?void 0:e.config.playlistLoadPolicy.default.errorRetry)||null;t?(this.retryConfig=t,this.setLevelLoadRetry()):this.levelLoadRetry=null}setLevelLoadRetry(){const e=this.retryConfig;this.levelLoadRetry=qs(e.maxNumRetry,(()=>{var e;null===(e=this._hls.instance)||void 0===e||e.startLoad()}),(()=>{this._provider.hasLoadError=!0}),e.retryDelayMs)}set retryConfig(e){this._retryConfig=e}get retryConfig(){return this._retryConfig}}class to{constructor(e,t,n,i){this.numOfManifestLoadRetry=10,this.manifestLoadRetry=void 0,this._hls=e,this._params=t,this._provider=n,this._error=i,this.manifestLoadRetry=qs(this.numOfManifestLoadRetry,this.retry.bind(this),(()=>{this._provider.hasLoadError=!0}))}retry(){var e,t;null===(e=this._hls.instance)||void 0===e||e.loadSource(this._params.src),null===(t=this._hls.instance)||void 0===t||t.startLoad()}handleError(){var e,t,n;const i=this._error.url;this._provider.cdnHost=null!==(e=null===(t=(0,R.Qv)(i))||void 0===t?void 0:t.host)&&void 0!==e?e:"";const{playbackPlugin:r}=this._params,{isLive:a,isTVStream:s}=null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{};if(a){const{streamStatus:e}=r.adapter||{};var o;if(e===Qs.STREAM_ACTIVE||s)null===(o=this._hls.instance)||void 0===o||o.stopLoad(),setTimeout(this.retry.bind(this),bs)}else this.manifestLoadRetry()}}class no{constructor(e,t,n){this.errors=new Map,this.currentErrors=[],this._hls=e,this._params=t,this._provider=n}prepareHandlers(e){var t;if(null===e||null===(t=this._hls)||void 0===t||!t.Hls)return;const n=this._hls.Hls.ErrorDetails;e.fatal?this.pushCurrentError(new Ks(this._hls,this._provider,e)):e.details===n.LEVEL_EMPTY_ERROR?this.pushCurrentError(new Js(this._hls,this._provider)):e.details===n.MANIFEST_LOAD_ERROR?this.pushCurrentError(new to(this._hls,this._params,this._provider,e)):e.details===n.LEVEL_LOAD_ERROR||e.details===n.LEVEL_LOAD_TIMEOUT?this.pushCurrentError(new eo(this._hls,this._provider,e)):e.details===n.FRAG_LOAD_ERROR?this.pushCurrentError(new Xs(this._hls,this._params,this._provider,e)):e.details===n.BUFFER_STALLED_ERROR?this.pushCurrentError(new Gs(this._hls,this._params,e)):e.details===n.FRAG_LOAD_TIMEOUT&&this.pushCurrentError(new Zs(this._hls,this._provider))}pushCurrentError(e){const t=this.errors.get(e.constructor);t?this.currentErrors.push(t):(this.currentErrors.push(e),this.errors.set(e.constructor,e))}handleErrors(){this.currentErrors.forEach((e=>{e.handleError()})),this.currentErrors=[]}purge(){this.currentErrors.forEach((e=>{e.onDestroy&&e.onDestroy()})),this.errors=new Map}}const io={debug:"undefined"!=typeof window&&window.location.search.includes("raichu_hls_debug"),enableWorker:!0,lowLatencyMode:!0,maxMaxBufferLength:fi.JT,autoStartLoad:!0,startLevel:3,liveSyncDurationCount:2,capLevelToPlayerSize:!0,manifestLoadPolicy:{default:{maxTimeToFirstByteMs:5e3,maxLoadTimeMs:5e3,timeoutRetry:{maxNumRetry:1,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:10,retryDelayMs:1e3,maxRetryDelayMs:2e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:5e3,timeoutRetry:{maxNumRetry:1,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:5e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:4,retryDelayMs:1e3,maxRetryDelayMs:2e3}}}};s(4175),s(5343);const ro=(e,t)=>{t.previewUrl=e?(null==e?void 0:e.split(".mp4")[0])+".mp4"||0:""},ao=e=>{var t;return(null==e||null===(t=e.details)||void 0===t?void 0:t.fragments)||[]},so=e=>e.tagList.reduce(((e,t)=>(e[t[0]]=t[1],e)),{}),oo=e=>{const t=ao(e);return 0===t.length?{}:t.reduce(((e,t)=>(e[t.relurl]=so(t),e)),{})},lo=e=>{if(e){return e.split(",").reduce(((e,t)=>{const[n,i]=t.split("=");return e[n]=i,e}),{})}return{}},uo=(e,t,n,i)=>{if(!n)return[];const r=i||oo(e);let a;const s=((e,t)=>{const n=ao(e);return n?n.reduce(((e,n)=>(so(n)[t]&&n.relurl&&e.push(n.relurl),e)),[]):[]})(e,n);return s.reduce(((e,i)=>(r[i]&&(a=lo(r[i][n]),a[t]&&e.push(i)),e)),[])},co=e=>{if(!e)return;const t=parseFloat(e);if(t&&!isNaN(t)){if(t>100)return 120;if(t>50)return 60}},ho=e=>{var t;if(!e||!Array.isArray(e._attrs))return fi.hW;const n=null===(t=e._attrs.find((e=>e["FRAME-RATE"])))||void 0===t?void 0:t["FRAME-RATE"];if(!n)return fi.hW;const i=parseFloat(n);return i>0?1/i:fi.hW},po=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e)return e;if(t){const e=/.+(\d\d\d\d|\d\d)_?(\d\d)_?(\d\d)_(\d\d)_?(\d\d)_?(\d\d)-\d+\.ts/.exec(t)||[],n=(e?[...e.splice(1,6)]:[]).map((e=>parseInt(e)));if(6===n.length&&!n.some(isNaN)){const[e,t,i,r,a,s]=n,o=new Date(e<100?e+2e3:e,t-1,i,r,a,s),l=(new Date).getTimezoneOffset()+180;return o.getTime()-60*l*1e3}}};class vo{constructor(e,t){this.Hls=void 0,this.instance=null,this.recoverDecodingErrorDate=null,this.recoverSwapAudioCodecDate=null,this.currentFragId=void 0,this.levelTags={},this.advertNextFrag=!1,this.advertThisFrag=!1,this.needToPrefetchMidroll=!1,this.fragmentTimeWasSet=!1,this.hlsErrorManager=void 0,this._getBitratesBandwidth=()=>this._providerPlugin.qualities.reduce(((e,t)=>(t.bitrate&&e.push(t.bitrate),e)),[]),this._getBitratesHeight=()=>this._providerPlugin.qualities.reduce(((e,t)=>(t.height&&e.push(t.height),e)),[]),this.onVideoEvent=e=>{if("error"===e.type){const t=e.currentTarget.error;null!=t&&t.MEDIA_ERR_DECODE&&this.onMediaError()}},this._params=e,this._providerPlugin=t,this.hlsErrorManager=new no(this,this._params,this._providerPlugin)}async init(){var e,t,n,i,r,a,s,o;let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{playbackPlugin:c}=this._params;return this.Hls=await this.loadSdk(),this.Hls&&this.Hls.isSupported()?(this.instance=new this.Hls((0,l.A)((0,l.A)({},io),this.parseConfig(u))),c.player?(null===(e=this.instance)||void 0===e||e.on(this.Hls.Events.MEDIA_ATTACHED,this.onMediaAttached.bind(this)),null===(t=this.instance)||void 0===t||t.on(this.Hls.Events.MANIFEST_PARSED,this.onLevelsLoaded.bind(this)),null===(n=this.instance)||void 0===n||n.on(this.Hls.Events.LEVEL_UPDATED,this.onLevelUpdated.bind(this)),null===(i=this.instance)||void 0===i||i.on(this.Hls.Events.FRAG_CHANGED,this.onFragmentChanged.bind(this)),null===(r=this.instance)||void 0===r||r.on(this.Hls.Events.ERROR,this.onError.bind(this)),null===(a=this.instance)||void 0===a||a.on(this.Hls.Events.LEVEL_LOADED,this.onLevelLoaded.bind(this)),null===(s=this.instance)||void 0===s||s.on(this.Hls.Events.LEVEL_SWITCHING,this.onLevelSwitching.bind(this)),c.player.addEventListener("error",this.onVideoEvent),null===(o=this.instance)||void 0===o||o.attachMedia(c.player),this||null):null):null}startLoad(){var e;null===(e=this.instance)||void 0===e||e.startLoad()}changeLevel(e){this.instance&&(this.instance.nextLevel=e,this._providerPlugin.autoQuality=Boolean(this.instance&&this.instance.autoLevelEnabled),this.sendChangeQualityPostmessages(e))}async loadSdk(){try{return await ys("https://static.rutube.ru/static/player_sdk/hls/1.4.3/hls.min.js?hash=123","Hls")}catch(e){throw console.warn(e),new ms("Fail to load Hls SDK",!0)}}onMediaAttached(){var e;null===(e=this.instance)||void 0===e||e.loadSource(this._params.src)}onLevelsLoaded(e,t){const{levels:n}=t;this._providerPlugin.qualities=n.map(((e,t)=>{var n,i,r;if(!this._providerPlugin.previewUrl){var a;if("720p"===Bi(e.height))ro(null===(a=e.url)||void 0===a?void 0:a[0],this._providerPlugin)}return{id:t,width:e.width,height:e.height,edge:null===(n=e.url)||void 0===n?void 0:n[0],bitrate:e.bitrate,frameRate:(i=e,co(Array.isArray(i._attrs)?null===(r=i._attrs.find((e=>e["FRAME-RATE"])))||void 0===r?void 0:r["FRAME-RATE"]:void 0)),frameDuration:ho(e)}}));const i=this._providerPlugin.getUserQuality();this.instance&&null!==i&&(this.instance.loadLevel=i),jr.Ug.emit(fi.L2.QUALITY_LIST,{list:this._getBitratesHeight()}),jr.Ug.emit(fi.L2.BITRATES_LEVELS,{bitrates:this._getBitratesBandwidth()})}onLevelLoaded(e,t){this._providerPlugin.activeQualityLevel=t.level,this._providerPlugin.autoQuality=Boolean(this.instance&&this.instance.autoLevelEnabled)}onLevelSwitching(e,t){const n=this._providerPlugin.activeQualityLevel,{level:i}=t;this._providerPlugin.autoQuality=Boolean(this.instance&&this.instance.autoLevelEnabled),this._providerPlugin.activeQualityLevel=i,n!==i&&this.sendChangeQualityPostmessages(i)}onLevelUpdated(e,t){var n,i;this._providerPlugin.previewUrl||ro(t.details.url,this._providerPlugin);let r=null,a=null;this._providerPlugin.cdnHost=null!==(n=null===(i=(0,R.Qv)(t.details.url))||void 0===i?void 0:i.host)&&void 0!==n?n:"";const s=ao(t);this.levelTags=oo(t);const o=uo(t,Ws,zs,this.levelTags),l=o[o.length-1];if(s[0]){const e=po(s[0].programDateTime,s[0].relurl);!this.fragmentTimeWasSet&&e&&(this.fragmentTimeWasSet=!0,this._params.playbackPlugin.fragmentTime=e)}s.forEach(((e,t)=>{const n=e.relurl;n===this.currentFragId&&(r=t),n===l&&(a=t)})),"number"==typeof a&&"number"==typeof r&&a-r<=3&&a-r>0&&(this.needToPrefetchMidroll=!0)}onFragmentChanged(e,t){const{playbackPlugin:n}=this._params;this.hlsErrorManager.purge();const i=t.frag.relurl&&this.levelTags[t.frag.relurl];this.currentFragId=t.frag.relurl;const r=po(t.frag.programDateTime,t.frag.relurl);r&&(this._params.playbackPlugin.fragmentTime=r);let a=null,s=null;this.advertThisFrag&&(this.advertThisFrag=!1),this.advertNextFrag&&(this.advertNextFrag=!1,this.advertThisFrag=!0),i&&i[zs]&&(a=lo(i[zs]),a[Ws]&&(this.advertNextFrag=!0),a[$s]&&(s=a[$s])),n.adapter&&(n.adapter.liveMidrollData={startPlay:this.advertThisFrag,needToPrefetch:this.needToPrefetchMidroll,duration:s,active:this.needToPrefetchMidroll}),this.needToPrefetchMidroll=!1}onError(e,t){return this.hlsErrorManager.prepareHandlers(t),this.hlsErrorManager.handleErrors(),this.instance}onMediaError(){const{playbackPlugin:e}=this._params,t=js();if(!this.recoverDecodingErrorDate||t-this.recoverDecodingErrorDate>3e3){this.recoverDecodingErrorDate=js(),console.warn("trying to recover media error.");try{var n;null===(n=this.instance)||void 0===n||n.recoverMediaError()}catch(e){console.warn(e)}}else if(!this.recoverSwapAudioCodecDate||t-this.recoverSwapAudioCodecDate>3e3){this.recoverSwapAudioCodecDate=js(),console.warn("trying to swap audio codec and recover media error.");try{var i,r;null===(i=this.instance)||void 0===i||i.swapAudioCodec(),null===(r=this.instance)||void 0===r||r.recoverMediaError()}catch(e){console.warn(e)}}else console.warn("cannot recover. Last media error recovery failed."),e.seek(e.currentTime+1)}removeDamagedStream(e,t){var n,i,r,a,s;const o=(null===(n=this.instance)||void 0===n?void 0:n.levels)||[],l=null===(i=o[e])||void 0===i?void 0:i.details,u=t||(null==l?void 0:l.url)||(null===(r=o[e])||void 0===r?void 0:r.uri),c=null!==(a=null===(s=o[e])||void 0===s?void 0:s.url)&&void 0!==a?a:[];for(let e=0;e<c.length;e++)if(c[e]===u)for(let t=0;t<o.length;t++){var d,h;if(null!==(d=o[t])&&void 0!==d&&d.url&&o[t].url.length>e)null===(h=this.instance)||void 0===h||h.removeLevel(t,e)}}changeConfig(e){const t=this.parseConfig(e);this.instance&&Object.keys(t).forEach((e=>{const n=e;this.instance&&(this.instance.config[n]=t[n])}))}parseConfig(e){const t={};return Object.keys(e).forEach((n=>{switch(n){case"autoLoad":t.autoStartLoad=e.autoLoad;break;case"maxBuffer":t.maxMaxBufferLength=e.maxBuffer;break;case"backBuffer":t.backBufferLength=e.backBuffer;break;case"fragLoadPolicy":t.fragLoadPolicy=e.fragLoadPolicy}})),t}sendChangeQualityPostmessages(e){var t,n,i;const r=null===(t=this._providerPlugin.qualities)||void 0===t?void 0:t.find((t=>t.level===e));jr.Ug.emit(fi.L2.CURRENT_QUALITY,{quality:{height:null!==(n=null==r?void 0:r.height)&&void 0!==n?n:0,quality:this._providerPlugin.activeQualityTransferValue,isAutoQuality:this._providerPlugin.autoQuality}}),jr.Ug.emit(fi.L2.BITRATE_SWITCH,{bitrate:null!==(i=null==r?void 0:r.bitrate)&&void 0!==i?i:0})}destroy(){var e;const{playbackPlugin:t}=this._params;t.pause(),t.player.removeEventListener("error",this.onVideoEvent),null===(e=this.instance)||void 0===e||e.destroy(),this.hlsErrorManager.purge(),ro(null,this._providerPlugin)}}const mo="application/vnd.apple.mpegurl",_o="com.apple.fps.1_0",fo=(e,t,n)=>{const i="string"==typeof t?(e=>{const t=e.length,n=new ArrayBuffer(2*t),i=new Uint16Array(n);for(let n=0;n<t;n++)i[n]=e.charCodeAt(n);return i})(t):t,r=e.byteLength+4+i.byteLength+4+n.byteLength;let a=0;const s=new ArrayBuffer(r),o=new DataView(s),l=new Uint8Array(s,a,e.byteLength);l.set(e),a+=l.byteLength,o.setUint32(a,i.byteLength,!0),a+=4;const u=new Uint16Array(s,a,i.length);u.set(i),a+=u.byteLength,o.setUint32(a,n.byteLength,!0),a+=4;return new Uint8Array(s,a,n.byteLength).set(n),new Uint8Array(s,0,s.byteLength)};class go extends _s{constructor(e,t,n,i,r,a){super(e,t,i),this._certificate=null,this._keySession=null,this._saveMode=void 0,this.provider=e,this._certificateUrl=n,this._src=i,this._drmLink=r,this._saveMode=a}async init(){const e=this._playback.player;this._playback.player.addEventListener("loadeddata",this._onDataLoaded.bind(this)),this._playback.player.addEventListener("canplay",this._onCanPlay.bind(this)),await this.fillPreviewUrl();try{await this._loadCertificate()}catch(e){if(!(e instanceof Error))throw new ms("Unknown error",!0);const t=e;throw"SaveMode"===t.message?new ms(t.message,!1):new ms(t.message,!0)}return e.onwebkitneedkey=this._onNeedKey.bind(this),e.src=this._src,this}async fillPreviewUrl(){try{var e;const t=await fetch(`${this._src}`),n=await t.text();this.provider.previewUrl=(null===(e=n.split("\n").find((e=>e.startsWith("https://"))))||void 0===e?void 0:e.split(".mp4")[0])+".mp4"}catch(e){console.warn(`Parse m3u8 error: ${e.message.toString()}`)}}async _loadCertificate(){try{const e=await fetch(this._certificateUrl);this._certificate=await e.arrayBuffer()}catch(e){const t=null==e?void 0:e.message;if(!this._saveMode.hasBeenInteracted)throw this._saveMode.isSaveMode=!0,Error("SaveMode");const n=`Could not load certificate ${this._certificateUrl}. Message: ${t}`;throw this._provider.initError=n,Error(n)}}_onNeedKey(e){if(!this._certificate)return;const t=this._playback.player,n=(e=>{if("undefined"==typeof document)return"";const t=document.createElement("a");t.href=e;const n=t.hostname||"";return t.remove(),n})((i=e.initData,String.fromCharCode.apply(null,new Uint16Array(i.buffer))));var i;const r=fo(e.initData,n,new Uint8Array(this._certificate));this._makeKeys(),t.webkitKeys&&(this._keySession=t.webkitKeys.createSession(mo,r),this._keySession&&(this._keySession.onwebkitkeyerror=this._onKeyError.bind(this),this._keySession.onwebkitkeymessage=this._onKeyMessage.bind(this)))}_onKeyMessage(e){(async()=>{try{const t=await this._getLicense(e.message);e.target.update(new Uint8Array(t))}catch(e){const t="Could not load drm license";this._provider.initError=t,console.warn(t)}})()}_onKeyError(){this._provider.initError="Drm key error"}_makeKeys(){if(void 0===window.WebKitMediaKeys)return;const e=this._playback.player;if(!e.webkitKeys){if(!window.WebKitMediaKeys.isTypeSupported(_o,mo))return;var t;null===(t=e.webkitSetMediaKeys)||void 0===t||t.call(e,new window.WebKitMediaKeys(_o))}}async _getLicense(e){return(await fetch(this._drmLink,{method:"POST",headers:new Headers({"Content-type":"application/octet-stream"}),body:e})).arrayBuffer()}destroy(){var e;null===(e=this._keySession)||void 0===e||e.close();const t=this._playback.player;var n;t.webkitKeys&&(null===(n=t.webkitSetMediaKeys)||void 0===n||n.call(t,void 0),t.onwebkitneedkey=()=>{})}}const yo=async e=>{try{const t=await fetch(e).then((e=>e.text()));return function(){let e=[];const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("\n");if("#EXTM3U"!==t[0])return e;t.shift();let n=0;for(;n<t.length-2;){const i=t[n],r=/CODECS="([^"]+)"/i,a=/^#EXT-X-STREAM-INF:(?=.*BANDWIDTH=(\d+))(?=(.*FRAME-RATE=(\d+))?)(?=.*RESOLUTION=(\d+)x(\d+))/i.exec(i),s=r.exec(i),o=t[n+1];if(a&&0===o.indexOf("http")){const t=a.map((e=>parseInt(e,10)));e.push({id:e.length,bitrate:t[1],frameRate:co(t[3].toString()),width:t[4],height:t[5],codec:s&&s[1]||"",edge:o,value:"",level:0}),n+=2}else n+=1}e=e.reduce(((e,t)=>{const n=e.find((e=>e.width===t.width&&e.codec===t.codec));return n||e.push(t),e}),[]),e.sort(((e,t)=>e.height===t.height?(e.bitrate||0)>(t.bitrate||0)?1:-1:(e.height||0)>(t.height||0)?1:-1));let i=0,r=-1;return e.map((e=>(e.level=i===e.height?r:r+1,r=e.level,i=e.height||0,e)))}(t).reverse()}catch(e){console.warn(`Parse m3u8 error: ${e.message.toString()}`)}return[]};class bo extends _s{async init(){var e;this._playback.player.addEventListener("loadeddata",this._onDataLoaded.bind(this)),this._playback.player.addEventListener("canplay",this._onCanPlay.bind(this));const t=await yo(this._src);this._playback.fragmentTime=await(async e=>{if(!e)return null;const{edge:t}=e[0]||{};if(!t)return null;try{const e=await fetch(t).then((e=>e.text())),n=/^#EXT-X-PROGRAM-DATE-TIME:(.+)/im.exec(e),i=/^(.+\.ts)/im.exec(e),r=n&&n[1]?Date.parse(n[1]):null,a=i&&i[1]?i[1]:"";if(r||a){const e=po(r,a);if(e)return e}}catch(e){console.warn(e)}return null})(t);const[n,i]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:360;const n=e.length?[...e].reduce(((e,n)=>Math.abs(n.height-t)<Math.abs(e.height-t)?n:e)):null;return[e.findIndex((e=>e===n)),n]}(t);n>-1&&(t[n].isAuto=!0),this._provider.qualities=t;const r=this._provider.getUserQuality(),a=t.find((e=>e.level===r)),s=a||i;return this._playback.src=(null==s?void 0:s.edge)||this._src,this._provider.activeQualityIndex=this._provider.qualities.findIndex((e=>(null==s?void 0:s.edge)===e.edge)),null!==(e=this._provider.qualities[this._provider.activeQualityIndex])&&void 0!==e&&e.isAuto&&(this._provider.autoQuality=!0),this._provider.previewUrl=this._playback.src.replace(/(.*\.mp4|.m3u8|.mpd)(.*)$/,"$1"),this._playback.load(),this}}function Eo(e){const t=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}();if(!t)return!1;const n=window.SourceBuffer||window.WebKitSourceBuffer,i=!e||t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported(e),r=!n||n.prototype&&"function"==typeof n.prototype.appendBuffer&&"function"==typeof n.prototype.remove;return i&&r}var wo;let So,Ao;let ko;class Co extends k.j8{constructor(e,t,n,i,r){super(),this.__qualitiesPlugin=void So(this),this.__provider=A.sH.box(null),this.__type=A.sH.box(null),this.__previewUrl=A.sH.box(""),this.__cdnHost=A.sH.box(""),this.__hasLoadError=A.sH.box(!1),this.__initError=A.sH.box(""),this.__manifestUrl=A.sH.box(""),this.__isProviderInitialized=A.sH.box(!1),this.counterHelper=void 0,this.__config=e,this.saveMode=n,this._eventBus=r,(0,A.Gn)(this,{manifestUrl:A.EW,previewUrl:A.EW,provider:A.EW,type:A.EW,qualities:A.EW,changeQuality:A.XI,activeQualityIndex:A.EW,activeQualityValue:A.EW,autoQuality:A.EW,initProvider:A.XI,initError:A.EW,isProviderInit:A.EW,hasLoadError:A.EW,cdnHost:A.EW}),this.__qualitiesPlugin=t,this.changeQuality=this.changeQuality.bind(this),this.counterHelper=i&&i instanceof ps?i.counterHelper:void 0}init(){return(0,A.mJ)((()=>this.provider),(e=>{e instanceof vo?this.type="Hls":e instanceof go?this.type="Safari":e instanceof Us?this.type="Dash":e instanceof _s&&(this.type="Base")}))}destroyProvider(){return()=>{var e;return null===(e=this.provider)||void 0===e?void 0:e.destroy()}}switchVideoId(){return(0,A.mJ)((()=>this.__config.get("videoId")),(()=>{this.isProviderInit=!1,this.cdnHost=""}))}get eventBus(){var e;return null===(e=this._eventBus)||void 0===e?void 0:e.value}get manifestUrl(){return this.__manifestUrl.get()}set manifestUrl(e){this.__manifestUrl.set(e)}get previewUrl(){return this.__previewUrl.get()}set previewUrl(e){this.__previewUrl.set(e)}set hasLoadError(e){this.__hasLoadError.set(e)}get hasLoadError(){return this.__hasLoadError.get()}get qualities(){return this.__qualitiesPlugin.qualities}set qualities(e){this.__qualitiesPlugin.qualities=e}get activeQuality(){return this.__qualitiesPlugin.activeQuality}get activeQualityIndex(){return this.__qualitiesPlugin.activeQualityIndex}set activeQualityIndex(e){this.__qualitiesPlugin.activeQualityIndex=e}get activeQualityLevel(){return this.__qualitiesPlugin.activeQualityLevel}set activeQualityLevel(e){this.__qualitiesPlugin.activeQualityLevel=e}get activeQualityValue(){return this.__qualitiesPlugin.activeQualityValue}get activeQualityTransferValue(){return this.__qualitiesPlugin.activeQualityTransferValue}get autoQuality(){return this.__qualitiesPlugin.autoQuality}set autoQuality(e){this.__qualitiesPlugin.autoQuality=e}get cdnHost(){return this.__cdnHost.get()}set cdnHost(e){this.__cdnHost.set(e)}get provider(){return this.__provider.get()}set provider(e){this.__provider.set(e)}get type(){return this.__type.get()}set type(e){this.__type.set(e)}changeQuality(e,t){var n,i;this.__qualitiesPlugin.activeQualityIndex=e,this.__qualitiesPlugin.autoQuality=-1===t,this.__qualitiesPlugin.manuallySettedQualityIndex=e,null===(n=this.provider)||void 0===n||n.changeLevel(t),null===(i=this.counterHelper)||void 0===i||i.get("mainQualitiesChangeQuality")()}changeConfig(e){var t,n;null===(t=this.provider)||void 0===t||null===(n=t.changeConfig)||void 0===n||n.call(t,e)}destroy(){var e;null===(e=this.provider)||void 0===e||e.destroy()}isNativeHlsSupport(){const e=document.createElement("video"),t=e.canPlayType("application/x-mpegURL")||e.canPlayType("application/vnd.apple.mpegurl");return Boolean(t)}initProvider(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;this.manifestUrl=e;const r=e=>{(0,A.h5)((()=>{this.provider=e,this.isProviderInit=!0}));const{startTime:i}=n;i&&t.seek(i)},a=e=>e.fatal?void(this.initError=e.message):void 0,s=(0,R.rS)(e);if("m3u8"===s)if(!i&&Eo('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')){const n=new vo({playbackPlugin:t,src:e},this);this.initHlsProvider(n,r,a,{})}else if(this.saveMode&&i&&P()){new go(this,t,"https://static.rutube.ru/static/player_sdk/fairplay.cer",e,i,this.saveMode).init().then(r).catch((e=>{a(e)}))}else if(!i&&this.isNativeHlsSupport()){new bo(this,t,e).init().then(r).catch((e=>{a(e)}))}else a(new ms("Hls is not supported",!0));else if("mpd"===s)if(Eo()){var o;const n=new Us({playbackPlugin:t,src:e,drmLink:i},this,null===(o=this._eventBus)||void 0===o?void 0:o.value);this.initDashProvider(n,r,a)}else a(new ms("Dash provider unsupported on device",!0));else if("mp4"===s){new _s(this,t,e).init().then(r).catch((e=>{a(e)}))}}initHlsProvider(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.init(i).then(t).catch((e=>{n(e)}))}initDashProvider(e,t,n){e.init().then(t).catch((e=>{n(e)}))}isProviderInitialized(e){return this.prepareLinkToCompare(this.manifestUrl)===this.prepareLinkToCompare(e)&&this.isProviderInit}get isProviderInit(){return this.__isProviderInitialized.get()}set isProviderInit(e){this.__isProviderInitialized.set(e)}get initError(){return this.__initError.get()}set initError(e){this.__initError.set(e)}prepareLinkToCompare(e){var t;const n=(0,R.Qv)(e||"http://example.com");return null==n||n.searchParams.set("expire",""),null==n||n.searchParams.set("sign",""),null!==(t=null==n?void 0:n.toString())&&void 0!==t?t:""}getUserQuality(){return this.__qualitiesPlugin.getUserQuality()}}wo=Co,({e:[So],c:[ko,Ao]}=(0,S.A)(wo,[(0,k.k_)({implement:"IProviderPlugin",ctor_args:["IPlayerConfigPlugin","IQualitiesPlugin",{implement:"ISaveModePlugin",optional:!0},{implement:"IStatisticState",optional:!0},{implement:"EventBus",optional:!0}]})],[[(0,k.o7)(),2,"init"],[(0,k.o7)(),2,"destroyProvider"],[(0,k.o7)(),2,"switchVideoId"]],0,void 0,k.j8)),Ao();const Po=()=>(0,Dt.Ks)("IProviderPlugin"),To=e=>e("IProviderPlugin"),Io=(0,_t.PA)((()=>{var e;const n=(0,t.useRef)(null),i=(0,t.useRef)(null),r=fa(),a=Po(),s=(0,mt.Qf)("(orientation: landscape)"),{currentState:o,currentAdvert:l,events:u,currentProvider:c,playbackReady:d}=r;(0,t.useEffect)((()=>{if(!d&&i.current&&n.current&&c){const e="number"==typeof a.activeQualityIndex&&a.activeQualityIndex>0?a.activeQualityIndex:0;c&&c instanceof Ua&&(c.initPlayback({video:n.current,wrapper:i.current,quality:a.qualities[e],preventStartAdvert:r.preventAdvertLogic,hideControls:r.isControlsHidden}),r.playbackReady=!0)}}),[d,c,r,a]),(0,t.useEffect)((()=>{c instanceof Ua&&n.current&&c.toggleControls(n.current.offsetWidth>450)}),[c,s]);const h=Ta(n),p=(0,t.useCallback)((e=>{n.current=e,r.advertVideo=e}),[l]);return t.createElement(t.Fragment,null,t.createElement(Aa,null),t.createElement("div",{className:gt()(ba,{[wa]:"show"!==o}),id:da,ref:i},t.createElement("video",{"data-testid":"advert-video",className:gt()(ca,Ea),poster:ya,ref:p,playsInline:!0,onError:e=>{var t;return u.onError&&u.onError((null===(t=e.currentTarget.error)||void 0===t?void 0:t.message)||"Video node error")},onVolumeChange:h,muted:Boolean(null==l||null===(e=l.name)||void 0===e?void 0:e.includes("preroll"))})),t.createElement(Pa,null))})),Ro="advert-module__advert___fza65",Lo="advert-module__loader___nW18n",xo="rutube-advert-module__SDKWrapper___dwe5k",Oo="rutube-advert-module__SDKVideo___In5R_",No="rutube-advert-module__SDKVideoHidden___G_6MZ";s(5198),s(5736),s(4817),s(7224),s(5783),s(1292),s(1446),s(975);function Do(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adId:e.adId||null,sequence:e.sequence||null,apiFramework:e.apiFramework||null,universalAdIds:[],creativeExtensions:[]}}const Mo=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"];function Bo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=[],r=Vo(e);!t.ERRORCODE||n.isCustomCode||/^[0-9]{3}$/.test(t.ERRORCODE)||(t.ERRORCODE=900),t.CACHEBUSTING=$o(Math.round(1e8*Math.random())),t.TIMESTAMP=(new Date).toISOString(),t.RANDOM=t.random=t.CACHEBUSTING;for(const e in t)t[e]=zo(t[e]);for(const e in r){const n=r[e];"string"==typeof n&&i.push(Fo(n,t))}return i}function Fo(e,t){const n=(e=Ho(e,t)).match(/[^[\]]+(?=])/g);if(!n)return e;let i=n.filter((e=>Mo.indexOf(e)>-1));return 0===i.length?e:(i=i.reduce(((e,t)=>(e[t]=-1,e)),{}),Ho(e,i))}function Ho(e,t){let n=e;for(const e in t){const i=t[e];n=n.replace(new RegExp("(?:\\[|%%)(".concat(e,")(?:\\]|%%)"),"g"),i)}return n}function Vo(e){return Array.isArray(e)?e.map((e=>e&&e.hasOwnProperty("url")?e.url:e)):e}function Uo(e){return/^(https?:\/\/|\/\/)/.test(e)}function jo(e,t){for(let n=0;n<t.length;n++)if(Wo(t[n],e))return!0;return!1}function Wo(e,t){if(e&&t){const n=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(t);return n.length===i.length&&e.id===t.id&&e.url===t.url}return!1}function zo(e){return encodeURIComponent(e).replace(/[!'()*]/g,(e=>"%".concat(e.charCodeAt(0).toString(16))))}function $o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return e.toString().padStart(t,"0")}const Go={track:function(e,t,n){Bo(e,t,n).forEach((e=>{"undefined"!=typeof window&&null!==window&&((new Image).src=e)}))},resolveURLTemplates:Bo,extractURLsFromTemplates:Vo,filterUrlTemplates:function(e){return e.reduce(((e,t)=>{const n=t.url||t;return Uo(n)?e.validUrls.push(n):e.invalidUrls.push(n),e}),{validUrls:[],invalidUrls:[]})},containsTemplateObject:jo,isTemplateObjectEqual:Wo,encodeURIComponentRFC3986:zo,replaceUrlMacros:Fo,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},flatten:function e(t){return t.reduce(((t,n)=>t.concat(Array.isArray(n)?e(n):n)),[])},joinArrayOfUniqueTemplateObjs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Array.isArray(e)?e:[],i=Array.isArray(t)?t:[];return n.concat(i).reduce(((e,t)=>(jo(t,e)||e.push(t),e)),[])},isValidTimeValue:function(e){return Number.isFinite(e)&&e>=-2},addLeadingZeros:$o,isValidUrl:Uo,isBrowserEnvironment:function(){return"undefined"!=typeof window},formatMacrosValues:function(e){return"object"!=typeof e?e:JSON.stringify(e)}};function qo(e){return["true","TRUE","True","1"].includes(e)}const Ko={childByName:function(e,t){return Array.from(e.childNodes).find((e=>e.nodeName===t))},childrenByName:function(e,t){return Array.from(e.childNodes).filter((e=>e.nodeName===t))},resolveVastAdTagURI:function(e,t){if(!t)return e;if(e.startsWith("//")){const{protocol:t}=location;return"".concat(t).concat(e)}if(!e.includes("://")){const n=t.slice(0,t.lastIndexOf("/"));return"".concat(n,"/").concat(e)}return e},parseBoolean:qo,parseNodeText:function(e){return e&&(e.textContent||e.text||"").trim()},copyNodeAttribute:function(e,t,n){const i=t.getAttribute(e);i&&n.setAttribute(e,i)},parseAttributes:function(e){return Array.from(e.attributes).reduce(((e,t)=>(e[t.nodeName]=t.nodeValue,e)),{})},parseDuration:function(e){if(null==e)return-1;if(Go.isNumeric(e))return parseInt(e);const t=e.split(":");if(3!==t.length)return-1;const n=t[2].split(".");let i=parseInt(n[0]);2===n.length&&(i+=parseFloat("0.".concat(n[1])));const r=parseInt(60*t[1]),a=parseInt(60*t[0]*60);return isNaN(a)||isNaN(r)||isNaN(i)||r>3600||i>60?-1:a+r+i},getStandAloneAds:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>!parseInt(e.sequence,10)))},getSortedAdPods:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>parseInt(e.sequence,10))).sort(((e,t)=>e.sequence-t.sequence))},assignAttributes:function(e,t){e&&Array.from(e).forEach((e=>{let{nodeName:n,nodeValue:i}=e;if(n&&i&&t.hasOwnProperty(n)){let e=i;"boolean"==typeof t[n]&&(e=qo(e)),t[n]=e}}))},mergeWrapperAdData:function(e,t){var n;e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=t.extensions.concat(e.extensions),t.viewableImpression.length>0&&(e.viewableImpression=[...e.viewableImpression,...t.viewableImpression]),e.followAdditionalWrappers=t.followAdditionalWrappers,e.allowMultipleAds=t.allowMultipleAds,e.fallbackOnNoAd=t.fallbackOnNoAd;const i=(t.creatives||[]).filter((e=>e&&"companion"===e.type)),r=i.reduce(((e,t)=>((t.variations||[]).forEach((t=>{(t.companionClickTrackingURLTemplates||[]).forEach((t=>{Go.containsTemplateObject(t,e)||e.push(t)}))})),e)),[]);e.creatives=i.concat(e.creatives);const a=t.videoClickTrackingURLTemplates&&t.videoClickTrackingURLTemplates.length,s=t.videoCustomClickURLTemplates&&t.videoCustomClickURLTemplates.length;if(e.creatives.forEach((e=>{if(t.trackingEvents&&t.trackingEvents[e.type])for(const n in t.trackingEvents[e.type]){const i=t.trackingEvents[e.type][n];Array.isArray(e.trackingEvents[n])||(e.trackingEvents[n]=[]),e.trackingEvents[n]=e.trackingEvents[n].concat(i)}"linear"===e.type&&(a&&(e.videoClickTrackingURLTemplates=e.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates)),s&&(e.videoCustomClickURLTemplates=e.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates)),!t.videoClickThroughURLTemplate||null!==e.videoClickThroughURLTemplate&&void 0!==e.videoClickThroughURLTemplate||(e.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate)),"companion"===e.type&&r.length&&(e.variations||[]).forEach((e=>{e.companionClickTrackingURLTemplates=Go.joinArrayOfUniqueTemplateObjs(e.companionClickTrackingURLTemplates,r)}))})),t.adVerifications&&(e.adVerifications=e.adVerifications.concat(t.adVerifications)),t.blockedAdCategories&&(e.blockedAdCategories=e.blockedAdCategories.concat(t.blockedAdCategories)),null!==(n=t.creatives)&&void 0!==n&&n.length){const n=t.creatives.filter((e=>{var t;return(null===(t=e.icons)||void 0===t?void 0:t.length)&&!e.mediaFiles.length}));n.length&&(e.creatives=e.creatives.concat(n))}}};function Yo(e,t){const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,adId:n,sequence:i,apiFramework:r}=Do(e);return{id:t,adId:n,sequence:i,apiFramework:r,type:"companion",required:null,variations:[]}}(t);return n.required=e.getAttribute("required")||null,n.variations=Ko.childrenByName(e,"Companion").map((e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adType:"companionAd",width:e.width||0,height:e.height||0,assetWidth:e.assetWidth||null,assetHeight:e.assetHeight||null,expandedWidth:e.expandedWidth||null,expandedHeight:e.expandedHeight||null,apiFramework:e.apiFramework||null,adSlotId:e.adSlotId||null,pxratio:e.pxratio||"1",renderingMode:e.renderingMode||"default",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}(Ko.parseAttributes(e));t.htmlResources=Ko.childrenByName(e,"HTMLResource").reduce(((e,t)=>{const n=Ko.parseNodeText(t);return n?e.concat(n):e}),[]),t.iframeResources=Ko.childrenByName(e,"IFrameResource").reduce(((e,t)=>{const n=Ko.parseNodeText(t);return n?e.concat(n):e}),[]),t.staticResources=Ko.childrenByName(e,"StaticResource").reduce(((e,t)=>{const n=Ko.parseNodeText(t);return n?e.concat({url:n,creativeType:t.getAttribute("creativeType")||null}):e}),[]),t.altText=Ko.parseNodeText(Ko.childByName(e,"AltText"))||null;const n=Ko.childByName(e,"TrackingEvents");n&&Ko.childrenByName(n,"Tracking").forEach((e=>{const n=e.getAttribute("event"),i=Ko.parseNodeText(e);n&&i&&(Array.isArray(t.trackingEvents[n])||(t.trackingEvents[n]=[]),t.trackingEvents[n].push(i))})),t.companionClickTrackingURLTemplates=Ko.childrenByName(e,"CompanionClickTracking").map((e=>({id:e.getAttribute("id")||null,url:Ko.parseNodeText(e)}))),t.companionClickThroughURLTemplate=Ko.parseNodeText(Ko.childByName(e,"CompanionClickThrough"))||null;const i=Ko.childByName(e,"AdParameters");return i&&(t.adParameters={value:Ko.parseNodeText(i),xmlEncoded:i.getAttribute("xmlEncoded")||null}),t})),n}function Qo(e,t){let n;const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,adId:n,sequence:i,apiFramework:r}=Do(e);return{id:t,adId:n,sequence:i,apiFramework:r,type:"linear",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(t);i.duration=Ko.parseDuration(Ko.parseNodeText(Ko.childByName(e,"Duration")));const r=e.getAttribute("skipoffset");if(null==r)i.skipDelay=null;else if("%"===r.charAt(r.length-1)&&-1!==i.duration){const e=parseInt(r,10);i.skipDelay=i.duration*(e/100)}else i.skipDelay=Ko.parseDuration(r);const a=Ko.childByName(e,"VideoClicks");if(a){const e=Ko.childByName(a,"ClickThrough");i.videoClickThroughURLTemplate=e?{id:e.getAttribute("id")||null,url:Ko.parseNodeText(e)}:null,Ko.childrenByName(a,"ClickTracking").forEach((e=>{i.videoClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:Ko.parseNodeText(e)})})),Ko.childrenByName(a,"CustomClick").forEach((e=>{i.videoCustomClickURLTemplates.push({id:e.getAttribute("id")||null,url:Ko.parseNodeText(e)})}))}const s=Ko.childByName(e,"AdParameters");s&&(i.adParameters={value:Ko.parseNodeText(s),xmlEncoded:s.getAttribute("xmlEncoded")||null}),Ko.childrenByName(e,"TrackingEvents").forEach((e=>{Ko.childrenByName(e,"Tracking").forEach((e=>{let t=e.getAttribute("event");const r=Ko.parseNodeText(e);if(t&&r){if("progress"===t){if(n=e.getAttribute("offset"),!n)return;t="%"===n.charAt(n.length-1)?"progress-".concat(n):"progress-".concat(Ko.parseDuration(n))}Array.isArray(i.trackingEvents[t])||(i.trackingEvents[t]=[]),i.trackingEvents[t].push(r)}}))})),Ko.childrenByName(e,"MediaFiles").forEach((e=>{Ko.childrenByName(e,"MediaFile").forEach((e=>{i.mediaFiles.push(function(e){const t={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};t.id=e.getAttribute("id"),t.fileURL=Ko.parseNodeText(e),t.deliveryType=e.getAttribute("delivery"),t.codec=e.getAttribute("codec"),t.mimeType=e.getAttribute("type"),t.mediaType=e.getAttribute("mediaType")||"2D",t.apiFramework=e.getAttribute("apiFramework"),t.fileSize=parseInt(e.getAttribute("fileSize")||0),t.bitrate=parseInt(e.getAttribute("bitrate")||0),t.minBitrate=parseInt(e.getAttribute("minBitrate")||0),t.maxBitrate=parseInt(e.getAttribute("maxBitrate")||0),t.width=parseInt(e.getAttribute("width")||0),t.height=parseInt(e.getAttribute("height")||0);const n=e.getAttribute("scalable");n&&"string"==typeof n&&(t.scalable=Ko.parseBoolean(n));const i=e.getAttribute("maintainAspectRatio");return i&&"string"==typeof i&&(t.maintainAspectRatio=Ko.parseBoolean(i)),t}(e))}));const t=Ko.childByName(e,"InteractiveCreativeFile");t&&(i.interactiveCreativeFile=function(e){const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,apiFramework:e.apiFramework||null,variableDuration:Ko.parseBoolean(e.variableDuration),fileURL:null}}(Ko.parseAttributes(e));return t.fileURL=Ko.parseNodeText(e),t}(t));const n=Ko.childByName(e,"ClosedCaptionFiles");n&&Ko.childrenByName(n,"ClosedCaptionFile").forEach((e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,language:e.language||null,fileURL:null}}(Ko.parseAttributes(e));t.fileURL=Ko.parseNodeText(e),i.closedCaptionFiles.push(t)}));const r=Ko.childByName(e,"Mezzanine"),a=function(e){const t={};let n=!1;return["delivery","type","width","height"].forEach((i=>{e&&e.getAttribute(i)?t[i]=e.getAttribute(i):n=!0})),n?null:t}(r);if(a){const e={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:"2D"};e.id=r.getAttribute("id"),e.fileURL=Ko.parseNodeText(r),e.delivery=a.delivery,e.codec=r.getAttribute("codec"),e.type=a.type,e.width=parseInt(a.width,10),e.height=parseInt(a.height,10),e.fileSize=parseInt(r.getAttribute("fileSize"),10),e.mediaType=r.getAttribute("mediaType")||"2D",i.mezzanine=e}}));const o=Ko.childByName(e,"Icons");return o&&Ko.childrenByName(o,"Icon").forEach((e=>{i.icons.push(function(e){const t={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:"1",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null,iconClickFallbackImages:[],altText:null,hoverText:null};t.program=e.getAttribute("program"),t.height=parseInt(e.getAttribute("height")||0),t.width=parseInt(e.getAttribute("width")||0),t.xPosition=function(e){return-1!==["left","right"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("xPosition")),t.yPosition=function(e){return-1!==["top","bottom"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("yPosition")),t.apiFramework=e.getAttribute("apiFramework"),t.pxratio=e.getAttribute("pxratio")||"1",t.offset=Ko.parseDuration(e.getAttribute("offset")),t.duration=Ko.parseDuration(e.getAttribute("duration")),t.altText=e.getAttribute("altText"),t.hoverText=e.getAttribute("hoverText"),Ko.childrenByName(e,"HTMLResource").forEach((e=>{t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=Ko.parseNodeText(e)})),Ko.childrenByName(e,"IFrameResource").forEach((e=>{t.type=e.getAttribute("creativeType")||0,t.iframeResource=Ko.parseNodeText(e)})),Ko.childrenByName(e,"StaticResource").forEach((e=>{t.type=e.getAttribute("creativeType")||0,t.staticResource=Ko.parseNodeText(e)}));const n=Ko.childByName(e,"IconClicks");if(n){t.iconClickThroughURLTemplate=Ko.parseNodeText(Ko.childByName(n,"IconClickThrough")),Ko.childrenByName(n,"IconClickTracking").forEach((e=>{t.iconClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:Ko.parseNodeText(e)})}));const e=Ko.childByName(n,"IconClickFallbackImages");e&&Ko.childrenByName(e,"IconClickFallbackImage").forEach((e=>{t.iconClickFallbackImages.push({url:Ko.parseNodeText(e)||null,width:e.getAttribute("width")||null,height:e.getAttribute("height")||null})}))}return t.iconViewTrackingURLTemplate=Ko.parseNodeText(Ko.childByName(e,"IconViewTracking")),t}(e))})),i}function Xo(e,t){const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,adId:n,sequence:i,apiFramework:r}=Do(e);return{id:t,adId:n,sequence:i,apiFramework:r,type:"nonlinear",variations:[],trackingEvents:{}}}(t);return Ko.childrenByName(e,"TrackingEvents").forEach((e=>{let t,i;Ko.childrenByName(e,"Tracking").forEach((e=>{t=e.getAttribute("event"),i=Ko.parseNodeText(e),t&&i&&(Array.isArray(n.trackingEvents[t])||(n.trackingEvents[t]=[]),n.trackingEvents[t].push(i))}))})),Ko.childrenByName(e,"NonLinear").forEach((e=>{const t={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:"static",adType:"nonLinearAd",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};t.id=e.getAttribute("id")||null,t.width=e.getAttribute("width"),t.height=e.getAttribute("height"),t.expandedWidth=e.getAttribute("expandedWidth"),t.expandedHeight=e.getAttribute("expandedHeight"),t.scalable=Ko.parseBoolean(e.getAttribute("scalable")),t.maintainAspectRatio=Ko.parseBoolean(e.getAttribute("maintainAspectRatio")),t.minSuggestedDuration=Ko.parseDuration(e.getAttribute("minSuggestedDuration")),t.apiFramework=e.getAttribute("apiFramework"),Ko.childrenByName(e,"HTMLResource").forEach((e=>{t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=Ko.parseNodeText(e)})),Ko.childrenByName(e,"IFrameResource").forEach((e=>{t.type=e.getAttribute("creativeType")||0,t.iframeResource=Ko.parseNodeText(e)})),Ko.childrenByName(e,"StaticResource").forEach((e=>{t.type=e.getAttribute("creativeType")||0,t.staticResource=Ko.parseNodeText(e)}));const i=Ko.childByName(e,"AdParameters");i&&(t.adParameters={value:Ko.parseNodeText(i),xmlEncoded:i.getAttribute("xmlEncoded")||null}),t.nonlinearClickThroughURLTemplate=Ko.parseNodeText(Ko.childByName(e,"NonLinearClickThrough")),Ko.childrenByName(e,"NonLinearClickTracking").forEach((e=>{t.nonlinearClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:Ko.parseNodeText(e)})})),n.variations.push(t)})),n}function Zo(e){const t=[];return e.forEach((e=>{const n=Jo(e);n&&t.push(n)})),t}function Jo(e){if("#comment"===e.nodeName)return null;const t={name:null,value:null,attributes:{},children:[]},n=e.attributes,i=e.childNodes;if(t.name=e.nodeName,e.attributes)for(const e in n)if(n.hasOwnProperty(e)){const i=n[e];i.nodeName&&i.nodeValue&&(t.attributes[i.nodeName]=i.nodeValue)}for(const e in i)if(i.hasOwnProperty(e)){const n=Jo(i[e]);n&&t.children.push(n)}if(0===t.children.length||1===t.children.length&&["#cdata-section","#text"].indexOf(t.children[0].name)>=0){const n=Ko.parseNodeText(e);""!==n&&(t.value=n),t.children=[]}return null===(r=t).value&&0===Object.keys(r.attributes).length&&0===r.children.length?null:t;var r}function el(e){return e.getAttribute("AdID")||e.getAttribute("adID")||e.getAttribute("adId")||null}const tl={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}};function nl(e,t){if(!tl[e.nodeName]||!tl[e.nodeName].attributes)return;const n=tl[e.nodeName].attributes.filter((t=>!e.getAttribute(t)));n.length>0&&al({name:e.nodeName,parentName:e.parentNode.nodeName,attributes:n},t)}function il(e,t,n){const i=tl[e.nodeName],r=!n&&"Wrapper"!==e.nodeName;if(i&&!r){if(i.subElements){const n=i.subElements.filter((t=>!Ko.childByName(e,t)));n.length>0&&al({name:e.nodeName,parentName:e.parentNode.nodeName,subElements:n},t)}n&&i.oneOfinLineResources&&(i.oneOfinLineResources.some((t=>Ko.childByName(e,t)))||al({name:e.nodeName,parentName:e.parentNode.nodeName,oneOfResources:i.oneOfinLineResources},t))}}function rl(e){return e.children&&0!==e.children.length}function al(e,t){let{name:n,parentName:i,attributes:r,subElements:a,oneOfResources:s}=e,o="Element '".concat(n,"'");o+=r?" missing required attribute(s) '".concat(r.join(", "),"' "):a?" missing required sub element(s) '".concat(a.join(", "),"' "):s?" must provide one of the following '".concat(s.join(", "),"' "):" is empty",t("VAST-warning",{message:o,parentElement:i,specVersion:4.1})}const sl=function e(t,n,i){if(t&&t.nodeName)if("InLine"===t.nodeName&&(i=!0),nl(t,n),rl(t)){il(t,n,i);for(let r=0;r<t.children.length;r++)e(t.children[r],n,i)}else 0===Ko.parseNodeText(t).length&&al({name:t.nodeName,parentName:t.parentNode.nodeName},n)};function ol(e,t){let{allowMultipleAds:n,followAdditionalWrappers:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Array.from(e.childNodes).filter((e=>{const t=e.nodeName.toLowerCase();return"inline"===t||!1!==i&&"wrapper"===t}));for(const i of r){if(Ko.copyNodeAttribute("id",e,i),Ko.copyNodeAttribute("sequence",e,i),Ko.copyNodeAttribute("adType",e,i),"Wrapper"===i.nodeName)return{ad:cl(i,t),type:"WRAPPER"};if("InLine"===i.nodeName)return{ad:ll(i,t,{allowMultipleAds:n}),type:"INLINE"};const r=i.nodeName.toLowerCase();t("VAST-warning",{message:"<".concat(i.nodeName,"inline"===r?"> must be written <InLine>":"> must be written <Wrapper>"),wrongNode:i})}}function ll(e,t){let{allowMultipleAds:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!1===n&&e.getAttribute("sequence")?null:ul(e,t)}function ul(e,t){let n=[];t&&sl(e,t);const i=Array.from(e.childNodes),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,sequence:e.sequence||null,adType:e.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:[],system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(Ko.parseAttributes(e));return i.forEach((e=>{switch(e.nodeName){case"Error":r.errorURLTemplates.push(Ko.parseNodeText(e));break;case"Impression":r.impressionURLTemplates.push({id:e.getAttribute("id")||null,url:Ko.parseNodeText(e)});break;case"Creatives":r.creatives=function(e){const t=[];return e.forEach((e=>{const n={id:e.getAttribute("id")||null,adId:el(e),sequence:e.getAttribute("sequence")||null,apiFramework:e.getAttribute("apiFramework")||null},i=[];let r;Ko.childrenByName(e,"UniversalAdId").forEach((e=>{const t={idRegistry:e.getAttribute("idRegistry")||"unknown",value:Ko.parseNodeText(e)};i.push(t)}));const a=Ko.childByName(e,"CreativeExtensions");a&&(r=Zo(Ko.childrenByName(a,"CreativeExtension")));for(const a in e.childNodes){const s=e.childNodes[a];let o;switch(s.nodeName){case"Linear":o=Qo(s,n);break;case"NonLinearAds":o=Xo(s,n);break;case"CompanionAds":o=Yo(s,n)}o&&(i&&(o.universalAdIds=i),r&&(o.creativeExtensions=r),t.push(o))}})),t}(Ko.childrenByName(e,"Creative"));break;case"Extensions":{const t=Ko.childrenByName(e,"Extension");r.extensions=Zo(t),r.adVerifications.length||(n=function(e){let t=null,n=[];return e.some((e=>t=Ko.childByName(e,"AdVerifications"))),t&&(n=dl(Ko.childrenByName(t,"Verification"))),n}(t));break}case"AdVerifications":r.adVerifications=dl(Ko.childrenByName(e,"Verification"));break;case"AdSystem":r.system={value:Ko.parseNodeText(e),version:e.getAttribute("version")||null};break;case"AdTitle":r.title=Ko.parseNodeText(e);break;case"AdServingId":r.adServingId=Ko.parseNodeText(e);break;case"Category":r.categories.push({authority:e.getAttribute("authority")||null,value:Ko.parseNodeText(e)});break;case"Expires":r.expires=parseInt(Ko.parseNodeText(e),10);break;case"ViewableImpression":r.viewableImpression.push(function(e){const t=(e,t)=>{const n=Ko.parseNodeText(t);return n&&e.push(n),e};return{id:e.getAttribute("id")||null,viewable:Ko.childrenByName(e,"Viewable").reduce(t,[]),notViewable:Ko.childrenByName(e,"NotViewable").reduce(t,[]),viewUndetermined:Ko.childrenByName(e,"ViewUndetermined").reduce(t,[])}}(e));break;case"Description":r.description=Ko.parseNodeText(e);break;case"Advertiser":r.advertiser={id:e.getAttribute("id")||null,value:Ko.parseNodeText(e)};break;case"Pricing":r.pricing={value:Ko.parseNodeText(e),model:e.getAttribute("model")||null,currency:e.getAttribute("currency")||null};break;case"Survey":r.survey={value:Ko.parseNodeText(e),type:e.getAttribute("type")||null};break;case"BlockedAdCategories":r.blockedAdCategories.push({authority:e.getAttribute("authority")||null,value:Ko.parseNodeText(e)})}})),n.length&&(r.adVerifications=r.adVerifications.concat(n)),r}function cl(e,t){const n=ul(e,t),i=e.getAttribute("followAdditionalWrappers"),r=e.getAttribute("allowMultipleAds"),a=e.getAttribute("fallbackOnNoAd");n.followAdditionalWrappers=!i||Ko.parseBoolean(i),n.allowMultipleAds=!!r&&Ko.parseBoolean(r),n.fallbackOnNoAd=a?Ko.parseBoolean(a):null;let s=Ko.childByName(e,"VASTAdTagURI");if(s?n.nextWrapperURL=Ko.parseNodeText(s):(s=Ko.childByName(e,"VASTAdTagURL"),s&&(n.nextWrapperURL=Ko.parseNodeText(Ko.childByName(s,"URL")))),n.creatives.forEach((e=>{if(["linear","nonlinear"].includes(e.type)){if(e.trackingEvents){n.trackingEvents||(n.trackingEvents={}),n.trackingEvents[e.type]||(n.trackingEvents[e.type]={});for(const t in e.trackingEvents){const i=e.trackingEvents[t];Array.isArray(n.trackingEvents[e.type][t])||(n.trackingEvents[e.type][t]=[]),i.forEach((i=>{n.trackingEvents[e.type][t].push(i)}))}}e.videoClickTrackingURLTemplates&&(Array.isArray(n.videoClickTrackingURLTemplates)||(n.videoClickTrackingURLTemplates=[]),e.videoClickTrackingURLTemplates.forEach((e=>{n.videoClickTrackingURLTemplates.push(e)}))),e.videoClickThroughURLTemplate&&(n.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate),e.videoCustomClickURLTemplates&&(Array.isArray(n.videoCustomClickURLTemplates)||(n.videoCustomClickURLTemplates=[]),e.videoCustomClickURLTemplates.forEach((e=>{n.videoCustomClickURLTemplates.push(e)})))}})),n.nextWrapperURL)return n}function dl(e){const t=[];return e.forEach((e=>{const n={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},i=Array.from(e.childNodes);Ko.assignAttributes(e.attributes,n),i.forEach((e=>{let{nodeName:t,textContent:i,attributes:r}=e;switch(t){case"JavaScriptResource":case"ExecutableResource":n.resource=i.trim(),Ko.assignAttributes(r,n);break;case"VerificationParameters":n.parameters=i.trim()}}));const r=Ko.childByName(e,"TrackingEvents");r&&Ko.childrenByName(r,"Tracking").forEach((e=>{const t=e.getAttribute("event"),i=Ko.parseNodeText(e);t&&i&&(Array.isArray(n.trackingEvents[t])||(n.trackingEvents[t]=[]),n.trackingEvents[t].push(i))})),t.push(n)})),t}class hl{constructor(){this._handlers=[]}on(e,t){if("function"!=typeof t)throw new TypeError("The handler argument must be of type Function. Received type ".concat(typeof t));if(!e)throw new TypeError("The event argument must be of type String. Received type ".concat(typeof e));return this._handlers.push({event:e,handler:t}),this}once(e,t){return this.on(e,function(e,t,n){const i={fired:!1,wrapFn:void 0};function r(){i.fired||(e.off(t,i.wrapFn),i.fired=!0,n.bind(e)(...arguments))}return i.wrapFn=r,r}(this,e,t))}off(e,t){return this._handlers=this._handlers.filter((n=>n.event!==e||n.handler!==t)),this}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];let r=!1;return this._handlers.forEach((t=>{"*"===t.event&&(r=!0,t.handler(e,...n)),t.event===e&&(r=!0,t.handler(...n))})),r}removeAllListeners(e){return e?(this._handlers=this._handlers.filter((t=>t.event!==e)),this):(this._handlers=[],this)}listenerCount(e){return this._handlers.filter((t=>t.event===e)).length}listeners(e){return this._handlers.reduce(((t,n)=>(n.event===e&&t.push(n.handler),t)),[])}eventNames(){return this._handlers.map((e=>e.event))}}let pl=0,vl=0;const ml=(e,t)=>{!e||!t||e<=0||t<=0||(vl=(vl*pl+8*e/t)/++pl)},_l={ERRORCODE:900,extensions:[]},fl="VAST response version not supported";class gl extends hl{constructor(){let{fetcher:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.maxWrapperDepth=null,this.rootErrorURLTemplates=[],this.errorURLTemplates=[],this.remainingAds=[],this.parsingOptions={},this.fetcher=e||null}trackVastError(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];this.emit("VAST-error",Object.assign({},_l,t,...i)),Go.track(e,t)}getErrorURLTemplates(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}getEstimatedBitrate(){return vl}initParsingStatus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.maxWrapperDepth=e.wrapperLimit||10,this.parsingOptions={allowMultipleAds:e.allowMultipleAds},this.rootURL="",this.resetParsingStatus(),ml(e.byteLength,e.requestDuration)}resetParsingStatus(){this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.vastVersion=null}getRemainingAds(e){if(0===this.remainingAds.length)return Promise.reject(new Error("No more ads are available for the given VAST"));const t=e?this.remainingAds:[this.remainingAds.shift()];return this.errorURLTemplates=[],this.resolveAds(t,{wrapperDepth:0,url:this.rootURL}).then((e=>this.buildVASTResponse(e)))}parseVAST(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(t),t.isRootVAST=!0,this.parse(e,t).then((e=>this.buildVASTResponse(e)))}buildVASTResponse(e){const t=function(e){let{ads:t,errorURLTemplates:n,version:i}=e;return{ads:t||[],errorURLTemplates:n||[],version:i||null}}({ads:e,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion});return this.completeWrapperResolving(t),t}parseVastXml(e,t){let{isRootVAST:n=!1,url:i=null,wrapperDepth:r=0,allowMultipleAds:a,followAdditionalWrappers:s}=t;if(!e||!e.documentElement||"VAST"!==e.documentElement.nodeName){var o;this.emit("VAST-ad-parsed",{type:"ERROR",url:i,wrapperDepth:r});const t="VideoAdServingTemplate"===(null==e||null===(o=e.documentElement)||void 0===o?void 0:o.nodeName);throw new Error(t?fl:"Invalid VAST XMLDocument")}const l=[],u=e.documentElement.childNodes,c=e.documentElement.getAttribute("version");n&&c&&(this.vastVersion=c);for(const e in u){const t=u[e];if("Error"===t.nodeName){const e=Ko.parseNodeText(t);n?this.rootErrorURLTemplates.push(e):this.errorURLTemplates.push(e)}else if("Ad"===t.nodeName){if(this.vastVersion&&parseFloat(this.vastVersion)<3)a=!0;else if(!1===a&&l.length>1)break;const e=ol(t,this.emit.bind(this),{allowMultipleAds:a,followAdditionalWrappers:s});e.ad?(l.push(e.ad),this.emit("VAST-ad-parsed",{type:e.type,url:i,wrapperDepth:r,adIndex:l.length-1,vastVersion:c})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return l}parse(e){let{url:t=null,resolveAll:n=!0,wrapperSequence:i=null,previousUrl:r=null,wrapperDepth:a=0,isRootVAST:s=!1,followAdditionalWrappers:o,allowMultipleAds:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&s&&(l=!0);try{u=this.parseVastXml(e,{isRootVAST:s,url:t,wrapperDepth:a,allowMultipleAds:l,followAdditionalWrappers:o})}catch(e){return Promise.reject(e)}if(1===u.length&&null!=i&&(u[0].sequence=i),!1===n){const e=Ko.getSortedAdPods(u),t=Ko.getStandAloneAds(u);e.length?u=e:t.length&&(u=[t.shift()]),this.remainingAds=t}return this.resolveAds(u,{wrapperDepth:a,previousUrl:r,url:t})}resolveAds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{wrapperDepth:t,previousUrl:n,url:i}=arguments.length>1?arguments[1]:void 0;const r=[];return n=i,e.forEach((e=>{const i=this.resolveWrappers(e,t,n);r.push(i)})),Promise.all(r).then((e=>Go.flatten(e)))}resolveWrappers(e,t,n){const i=(0,l.A)({},e);return new Promise((e=>{var r;if(t++,!i.nextWrapperURL)return delete i.nextWrapperURL,e(i);if(!this.fetcher)return i.VASTAdTagURI=i.nextWrapperURL,delete i.nextWrapperURL,e(i);if(t>=this.maxWrapperDepth)return i.errorCode=302,delete i.nextWrapperURL,e(i);i.nextWrapperURL=Ko.resolveVastAdTagURI(i.nextWrapperURL,n);const a=null!==(r=this.parsingOptions.allowMultipleAds)&&void 0!==r?r:i.allowMultipleAds,s=i.sequence;this.fetcher.fetchVAST({url:i.nextWrapperURL,emitter:this.emit.bind(this),maxWrapperDepth:this.maxWrapperDepth}).then((r=>this.parse(r,{url:i.nextWrapperURL,previousUrl:n,wrapperSequence:s,wrapperDepth:t,followAdditionalWrappers:i.followAdditionalWrappers,allowMultipleAds:a}).then((t=>{if(delete i.nextWrapperURL,0===t.length)return i.creatives=[],e(i);t.forEach((e=>{e&&Ko.mergeWrapperAdData(e,i)})),e(t)})))).catch((t=>{i.errorCode=t.message===fl?102:301,i.errorMessage=t.message,e(i)}))}))}completeWrapperResolving(e){if(0===e.ads.length)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(let t=e.ads.length-1;t>=0;t--){const n=e.ads[t],i=!n.creatives.some((e=>{var t;return(null===(t=e.mediaFiles)||void 0===t?void 0:t.length)>0}));!n.errorCode&&!i||n.VASTAdTagURI||(this.trackVastError(n.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:n.errorCode||303},{ERRORMESSAGE:n.errorMessage||""},{extensions:n.extensions},{system:n.system}),e.ads.splice(t,1))}}}let yl=null;const bl={data:{},length:0,getItem(e){return this.data[e]},setItem(e,t){this.data[e]=t,this.length=Object.keys(this.data).length},removeItem(e){delete this.data[e],this.length=Object.keys(this.data).length},clear(){this.data={},this.length=0}};class El{constructor(){this.storage=this.initStorage()}initStorage(){if(yl)return yl;try{yl="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){yl=null}return yl&&!this.isStorageDisabled(yl)||(yl=bl,yl.clear()),yl}isStorageDisabled(e){const t="__VASTStorage__";try{if(e.setItem(t,t),e.getItem(t)!==t)return e.removeItem(t),!0}catch(e){return!0}return e.removeItem(t),!1}getItem(e){return this.storage.getItem(e)}setItem(e,t){return this.storage.setItem(e,t)}removeItem(e){return this.storage.removeItem(e)}clear(){return this.storage.clear()}}const wl=12e4,Sl={get:async function(e,t){try{const n=new AbortController,i=setTimeout((()=>{throw n.abort(),new Error("URLHandler: Request timed out after ".concat(t.timeout||wl," ms (408)"))}),t.timeout||wl),r=await fetch(e,(0,l.A)((0,l.A)({},t),{},{signal:n.signal,credentials:t.withCredentials?"include":"omit"})).finally((()=>{clearTimeout(i)})),a=function(e){return Go.isBrowserEnvironment()&&"https:"===window.location.protocol&&e.url.includes("http://")?"URLHandler: Cannot go from HTTPS to HTTP.":200===e.status&&e.ok?null:"URLHandler: ".concat(e.statusText," (").concat(e.status,")")}(r);return a?{error:new Error(a),statusCode:r.status}:async function(e){const t=await e.text();let n;return n=Go.isBrowserEnvironment()?new DOMParser:new((await s.e(365).then(s.t.bind(s,9365,19))).DOMParser),{xml:n.parseFromString(t,"text/xml"),details:{byteLength:t.length,statusCode:e.status,rawXml:t}}}(r)}catch(e){return{error:e,statusCode:"AbortError"===e.name?408:null}}}};class Al{constructor(){this.URLTemplateFilters=[]}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.urlHandler=e.urlHandler||e.urlhandler||Sl,this.fetchingOptions={timeout:e.timeout||wl,withCredentials:Boolean(e.withCredentials)}}addURLTemplateFilter(e){"function"==typeof e&&this.URLTemplateFilters.push(e)}removeLastURLTemplateFilter(){this.URLTemplateFilters.pop()}countURLTemplateFilters(){return this.URLTemplateFilters.length}clearURLTemplateFilters(){this.URLTemplateFilters=[]}async fetchVAST(e){var t;let{url:n,maxWrapperDepth:i,emitter:r,wrapperDepth:a=0,previousUrl:s=null,wrapperAd:o=null}=e;const u=Date.now();this.URLTemplateFilters.forEach((e=>{n=e(n)})),r("VAST-resolving",{url:n,previousUrl:s,wrapperDepth:a,maxWrapperDepth:i,timeout:this.fetchingOptions.timeout,wrapperAd:o});const c=await this.urlHandler.get(n,this.fetchingOptions),d=Math.round(Date.now()-u);if(r("VAST-resolved",(0,l.A)({url:n,previousUrl:s,wrapperDepth:a,error:(null==c?void 0:c.error)||null,duration:d,statusCode:(null==c?void 0:c.statusCode)||null},null==c?void 0:c.details)),ml(null==c||null===(t=c.details)||void 0===t?void 0:t.byteLength,d),c.error)throw new Error(c.error);return c.xml}}class kl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new El;this.cappingFreeLunch=e,this.cappingMinimumTimeInterval=t,this.fetcher=new Al,this.vastParser=new gl({fetcher:this.fetcher}),this.storage=n,void 0===this.lastSuccessfulAd&&(this.lastSuccessfulAd=0),void 0===this.totalCalls&&(this.totalCalls=0),void 0===this.totalCallsTimeout&&(this.totalCallsTimeout=0)}addURLTemplateFilter(e){this.fetcher.addURLTemplateFilter(e)}removeLastURLTemplateFilter(){this.fetcher.removeLastURLTemplateFilter()}countURLTemplateFilters(){return this.fetcher.countURLTemplateFilters()}clearURLTemplateFilters(){this.fetcher.clearURLTemplateFilters()}getParser(){return this.vastParser}get lastSuccessfulAd(){return this.storage.getItem("vast-client-last-successful-ad")}set lastSuccessfulAd(e){this.storage.setItem("vast-client-last-successful-ad",e)}get totalCalls(){return this.storage.getItem("vast-client-total-calls")}set totalCalls(e){this.storage.setItem("vast-client-total-calls",e)}get totalCallsTimeout(){return this.storage.getItem("vast-client-total-calls-timeout")}set totalCallsTimeout(e){this.storage.setItem("vast-client-total-calls-timeout",e)}hasRemainingAds(){return this.vastParser.remainingAds.length>0}getNextAds(e){return this.vastParser.getRemainingAds(e)}parseVAST(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetcher.setOptions(t),this.vastParser.parseVAST(e,t)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Date.now();return t.hasOwnProperty("resolveAll")||(t.resolveAll=!1),this.totalCallsTimeout<n?(this.totalCalls=1,this.totalCallsTimeout=n+36e5):this.totalCalls++,new Promise(((i,r)=>{if(this.cappingFreeLunch>=this.totalCalls)return r(new Error("VAST call canceled â€“ FreeLunch capping not reached yet ".concat(this.totalCalls,"/").concat(this.cappingFreeLunch)));const a=n-this.lastSuccessfulAd;if(a<0)this.lastSuccessfulAd=0;else if(a<this.cappingMinimumTimeInterval)return r(new Error("VAST call canceled â€“ (".concat(this.cappingMinimumTimeInterval,")ms minimum interval reached")));this.vastParser.initParsingStatus(t),this.fetcher.setOptions(t),this.vastParser.rootURL=e,this.fetcher.fetchVAST({url:e,emitter:this.vastParser.emit.bind(this.vastParser),maxWrapperDepth:this.vastParser.maxWrapperDepth}).then((n=>(t.previousUrl=e,t.isRootVAST=!0,t.url=e,this.vastParser.parse(n,t).then((e=>{const t=this.vastParser.buildVASTResponse(e);i(t)}))))).catch((e=>r(e)))}))}}class Cl extends hl{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.ad=t,this.creative=n,this.variation=i,this.muted=r,this.impressed=!1,this.skippable=!1,this.trackingEvents={},this.trackedProgressEvents=[],this.lastPercentage=0,this._alreadyTriggeredQuartiles={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"];for(const e in this.creative.trackingEvents){const t=this.creative.trackingEvents[e];this.trackingEvents[e]=t.slice(0)}!function(e){return"linear"===e.type}(this.creative)?this._initVariationTracking():this._initLinearTracking(),e&&this.on("start",(()=>{e.lastSuccessfulAd=Date.now()}))}_initLinearTracking(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}_initVariationTracking(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(const e in this.variation.trackingEvents){const t=this.variation.trackingEvents[e];this.trackingEvents[e]?this.trackingEvents[e]=this.trackingEvents[e].concat(t.slice(0)):this.trackingEvents[e]=t.slice(0)}"nonLinearAd"===this.variation.adType?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):function(e){return"companionAd"===e.adType}(this.variation)&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}setDuration(e){Go.isValidTimeValue(e)?(this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}):this.emit("TRACKER-error",{message:"the duration provided is not valid. duration: ".concat(e)})}setProgress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!Go.isValidTimeValue(e)||"object"!=typeof t)return void this.emit("TRACKER-error",{message:"One given setProgress parameter has the wrong type. progress: ".concat(e,", macros: ").concat(Go.formatMacrosValues(t))});const i=this.skipDelay||-1;if(-1===i||this.skippable||(i>e?this.emit("skip-countdown",i-e):(this.skippable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){const i=Math.round(e/this.assetDuration*100),r=[];if(e>0){r.push("start");for(let e=this.lastPercentage;e<i;e++)r.push("progress-".concat(e+1,"%"));r.push("progress-".concat(e));for(const t in this.quartiles)this.isQuartileReached(t,this.quartiles[t],e)&&(r.push(t),this._alreadyTriggeredQuartiles[t]=!0);this.lastPercentage=i}r.forEach((e=>{this.track(e,{macros:t,once:n})})),e<this.progress&&(this.track("rewind",{macros:t}),this.trackedProgressEvents&&this.trackedProgressEvents.splice(0))}this.progress=e}isQuartileReached(e,t,n){let i=!1;return t<=n&&!this._alreadyTriggeredQuartiles[e]&&(i=!0),i}setMuted(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.muted!==e&&this.track(e?"mute":"unmute",{macros:t}),this.muted=e):this.emit("TRACKER-error",{message:"One given setMuted parameter has the wrong type. muted: ".concat(e,", macros: ").concat(Go.formatMacrosValues(t))})}setPaused(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.paused!==e&&this.track(e?"pause":"resume",{macros:t}),this.paused=e):this.emit("TRACKER-error",{message:"One given setPaused parameter has the wrong type. paused: ".concat(e,", macros: ").concat(Go.formatMacrosValues(t))})}setFullscreen(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen",{macros:t}),this.fullscreen=e):this.emit("TRACKER-error",{message:"One given setFullScreen parameter has the wrong type. fullscreen: ".concat(e,", macros: ").concat(Go.formatMacrosValues(t))})}setExpand(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.expanded!==e&&(this.track(e?"expand":"collapse",{macros:t}),this.track(e?"playerExpand":"playerCollapse",{macros:t})),this.expanded=e):this.emit("TRACKER-error",{message:"One given setExpand parameter has the wrong type. expanded: ".concat(e,", macros: ").concat(Go.formatMacrosValues(t))})}setSkipDelay(e){Go.isValidTimeValue(e)?this.skipDelay=e:this.emit("TRACKER-error",{message:"setSkipDelay parameter does not have a valid value. duration: ".concat(e)})}trackImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates,e),this.track("creativeView",{macros:e})):this.emit("TRACKER-error",{message:"trackImpression parameter has the wrong type. macros: ".concat(e)})}trackViewableImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.ad.viewableImpression.forEach((t=>{this.trackURLs(t.viewable,e)})):this.emit("TRACKER-error",{message:"trackViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackNotViewableImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.ad.viewableImpression.forEach((t=>{this.trackURLs(t.notViewable,e)})):this.emit("TRACKER-error",{message:"trackNotViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackUndeterminedImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.ad.viewableImpression.forEach((t=>{this.trackURLs(t.viewUndetermined,e)})):this.emit("TRACKER-error",{message:"trackUndeterminedImpression given macros has the wrong type. macros: ".concat(e)})}error(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"object"==typeof e&&"boolean"==typeof t?this.trackURLs(this.ad.errorURLTemplates,e,{isCustomCode:t}):this.emit("TRACKER-error",{message:"One given error parameter has the wrong type. macros: ".concat(Go.formatMacrosValues(e),", isCustomCode: ").concat(t)})}errorWithCode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"string"==typeof e&&"boolean"==typeof t?(this.error({ERRORCODE:e},t),console.log("The method errorWithCode is deprecated, please use vast tracker error method instead")):this.emit("TRACKER-error",{message:"One given errorWithCode parameter has the wrong type. errorCode: ".concat(e,", isCustomCode: ").concat(t)})}complete(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("complete",{macros:e}):this.emit("TRACKER-error",{message:"complete given macros has the wrong type. macros: ".concat(e)})}notUsed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?(this.track("notUsed",{macros:e}),this.trackingEvents=[]):this.emit("TRACKER-error",{message:"notUsed given macros has the wrong type. macros: ".concat(e)})}otherAdInteraction(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("otherAdInteraction",{macros:e}):this.emit("TRACKER-error",{message:"otherAdInteraction given macros has the wrong type. macros: ".concat(e)})}acceptInvitation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("acceptInvitation",{macros:e}):this.emit("TRACKER-error",{message:"acceptInvitation given macros has the wrong type. macros: ".concat(e)})}adExpand(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("adExpand",{macros:e}):this.emit("TRACKER-error",{message:"adExpand given macros has the wrong type. macros: ".concat(e)})}adCollapse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("adCollapse",{macros:e}):this.emit("TRACKER-error",{message:"adCollapse given macros has the wrong type. macros: ".concat(e)})}minimize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("minimize",{macros:e}):this.emit("TRACKER-error",{message:"minimize given macros has the wrong type. macros: ".concat(e)})}verificationNotExecuted(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e||"object"!=typeof t)return void this.emit("TRACKER-error",{message:"One given verificationNotExecuted parameter has to wrong type. vendor: ".concat(e,", macros: ").concat(Go.formatMacrosValues(t))});if(!this.ad||!this.ad.adVerifications||!this.ad.adVerifications.length)throw new Error("No adVerifications provided");if(!e)throw new Error("No vendor provided, unable to find associated verificationNotExecuted");const n=this.ad.adVerifications.find((t=>t.vendor===e));if(!n)throw new Error("No associated verification element found for vendor: ".concat(e));const i=n.trackingEvents;if(i&&i.verificationNotExecuted){const e=i.verificationNotExecuted;this.trackURLs(e,t),this.emit("verificationNotExecuted",{trackingURLTemplates:e})}}overlayViewDuration(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&"object"==typeof t?(t.ADPLAYHEAD=e,this.track("overlayViewDuration",{macros:t})):this.emit("TRACKER-error",{message:"One given overlayViewDuration parameters has the wrong type. formattedDuration: ".concat(e,", macros: ").concat(Go.formatMacrosValues(t))})}close(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track(this.linear?"closeLinear":"close",{macros:e}):this.emit("TRACKER-error",{message:"close given macros has the wrong type. macros: ".concat(e)})}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("skip",{macros:e}):this.emit("TRACKER-error",{message:"skip given macros has the wrong type. macros: ".concat(e)})}load(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("loaded",{macros:e}):this.emit("TRACKER-error",{message:"load given macros has the wrong type. macros: ".concat(e)})}click(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!==e&&"string"!=typeof e||"object"!=typeof t)return void this.emit("TRACKER-error",{message:"One given click parameter has the wrong type. fallbackClickThroughURL: ".concat(e,", macros: ").concat(Go.formatMacrosValues(t))});this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates,t);const n=this.clickThroughURLTemplate||e,i=(0,l.A)({},t);if(n){this.progress&&(i.ADPLAYHEAD=this.progressFormatted());const e=Go.resolveURLTemplates([n],i)[0];this.emit("clickthrough",e)}}trackProgressEvents(e,t,n){const i=parseFloat(e.split("-")[1]);Object.entries(this.trackingEvents).filter((e=>{let[t]=e;return t.startsWith("progress-")})).map((e=>{let[t,n]=e;return{name:t,time:parseFloat(t.split("-")[1]),urls:n}})).filter((e=>{let{time:t}=e;return t<=i&&t>this.progress})).forEach((e=>{let{name:i,urls:r}=e;!n&&this.trackedProgressEvents.includes(i)||(this.emit(i,{trackingURLTemplates:r}),this.trackURLs(r,t),n?delete this.trackingEvents[i]:this.trackedProgressEvents.push(i))}))}track(e){let{macros:t={},once:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof t)return void this.emit("TRACKER-error",{message:"track given macros has the wrong type. macros: ".concat(t)});"closeLinear"===e&&!this.trackingEvents[e]&&this.trackingEvents.close&&(e="close"),e.startsWith("progress-")&&!e.endsWith("%")&&this.trackProgressEvents(e,t,n);const i=this.trackingEvents[e],r=this.emitAlwaysEvents.indexOf(e)>-1;i?(this.emit(e,{trackingURLTemplates:i}),this.trackURLs(i,t)):r&&this.emit(e,null),n&&(delete this.trackingEvents[e],r&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(e),1))}trackURLs(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{validUrls:r,invalidUrls:a}=Go.filterUrlTemplates(e);a.length&&this.emit("TRACKER-error",{message:"Provided urls are malformed. url: ".concat(a)});const s=(0,l.A)({},n);this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(s.ASSETURI=this.creative.mediaFiles[0].fileURL),this.progress&&(s.ADPLAYHEAD=this.progressFormatted())),null!==(t=this.creative)&&void 0!==t&&null!==(t=t.universalAdIds)&&void 0!==t&&t.length&&(s.UNIVERSALADID=this.creative.universalAdIds.map((e=>e.idRegistry.concat(" ",e.value))).join(",")),this.ad&&(this.ad.sequence&&(s.PODSEQUENCE=this.ad.sequence),this.ad.adType&&(s.ADTYPE=this.ad.adType),this.ad.adServingId&&(s.ADSERVINGID=this.ad.adServingId),this.ad.categories&&this.ad.categories.length&&(s.ADCATEGORIES=this.ad.categories.map((e=>e.value)).join(",")),this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length&&(s.BLOCKEDADCATEGORIES=this.ad.blockedAdCategories.map((e=>e.value)).join(","))),Go.track(r,s,i)}convertToTimecode(e){if(!Go.isValidTimeValue(e))return"";const t=1e3*e,n=Math.floor(t/36e5),i=Math.floor(t/6e4%60),r=Math.floor(t/1e3%60),a=Math.floor(t%1e3);return"".concat(Go.addLeadingZeros(n,2),":").concat(Go.addLeadingZeros(i,2),":").concat(Go.addLeadingZeros(r,2),".").concat(Go.addLeadingZeros(a,3))}progressFormatted(){return this.convertToTimecode(this.progress)}}const Pl="container-module__vpaidFrame___PnrFL",Tl="container-module__container___OP9MV",Il="container-module__clickable___wdtMv",Rl=5,Ll=5e3,xl=3e3,Ol=!1,Nl="control-module__control___ixtKN",Dl="control-module__controlBg___OOXIg",Ml="control-module__controlText___l68J4",Bl="control-module__icon___uB5OT",Fl="control-module__iconRight___RmLY1",Hl="control-module__noAction___X51_s",Vl="control-module__topLeft___kQQ9s",Ul="control-module__topRight___b9zGf",jl="control-module__bottomLeft___kPYZg",Wl="control-module__bottomRight___syyoX",zl="bottom-controls-module__bottomControls____eDxs",$l="advert-state-module__advertState___O0sC6",Gl=e=>!0,ql=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gl;if(!e.mediaFiles.length)return[];const n=e.mediaFiles.filter((e=>("video/mp4"===e.mimeType||"application/javascript"===e.mimeType&&"VPAID"===e.apiFramework)&&e.fileURL&&t(e)));return n.sort(((e,t)=>e.width===t.width?e.bitrate>t.bitrate?1:-1:e.width>t.width?1:-1)),n},Kl=async(e,t,n)=>new Promise(((i,r)=>{const a=setTimeout((()=>{null==n||n(),r(new Error("Too long execution"))}),t);e.then(i).catch(r).finally((()=>clearTimeout(a)))}));class Yl{constructor(e,t,n,i){this._display="block",this._visible=!0,this._video=e,this._provider=t,this._advert=n,this._config=i}applyStyles(e,t){Object.keys(e).forEach((n=>{const i=n;(t||this._node).style.setProperty(n.replace(/[A-Z]+(?![a-z])|[A-Z]/g,((e,t)=>(t?"-":"")+e.toLowerCase())),e[i]||null)}))}updateVisibility(e){this._visible=e,this.applyStyles({display:e?this._display:"none"})}updateConfig(e){this._config=(0,l.A)((0,l.A)({},this._config),e)}getChildren(e){return null}get node(){return this._node}destroy(){this._node.remove()}}class Ql extends Yl{constructor(){super(...arguments),this._node=document.createElement("div"),this.timeHandler=e=>{let{remain:t}=e;const{total:n,viewed:i}=this._config||{};this._node.innerText=`${(n||0)>1?`${i} Ð¸Ð· ${n}  Â· `:""}${(e=>{if(e<60)return`0:${e<10?"0":""}${e}`;const t=e%60;return`${Math.floor(e/60)}:${t<10?"0":""}${t}`})(Math.floor(t))}`,this.updateVisibility(!0)}}init(){this._provider.subscribe("timeUpdate",this.timeHandler),this.updateVisibility(!1),this._node.classList.add(Nl,Dl,$l)}destroy(){this._provider.unsubscribe("timeUpdate",this.timeHandler),super.destroy()}}class Xl extends Yl{constructor(){super(...arguments),this._node=document.createElement("button"),this._display="flex"}init(){this._node.innerHTML=this.getIcon(this._provider.volume<.1),this._node.classList.add(Nl,Dl),this._provider.subscribe("started",this.updateState.bind(this)),this._provider.subscribe("volumeChange",this.updateState.bind(this)),this._node.addEventListener("click",this.onClick.bind(this))}updateState(){this._node.innerHTML=this.getIcon(this._provider.volume<.1)}onClick(e){var t;(e.stopPropagation(),this._provider.volume<.1)?this._provider.volume=(null===(t=this._config)||void 0===t?void 0:t.volume)||.5:this._provider.volume=0;this.updateState()}getIcon(e){return`<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path\n      d="M3 14.5714V9.42857H6.85714L10.7143 6V18L6.85714 14.5714H3Z"\n      stroke="#fff"\n      stroke-width="1.24"\n      stroke-linecap="round"\n      stroke-linejoin="round"\n    />\n    ${e?this.getMutedPath():this.getUnmutedPath()}\n  </svg>`}getMutedPath(){return'<path d="M20.5713 9L14.5713 15" stroke="#fff" stroke-width="1.24" stroke-linecap="round" stroke-linejoin="round" />\n      <path d="M14.5713 9L20.5713 15" stroke="#fff" stroke-width="1.24" stroke-linecap="round" stroke-linejoin="round" />'}getUnmutedPath(){return'<path d="M15 9.42773C15.5382 10.1441 15.8571 11.0346 15.8571 11.9996C15.8571 12.9646 15.5382 13.8551 15 14.5714" stroke="#fff" stroke-width="1.24" stroke-linecap="round" stroke-linejoin="round"></path>\n    <path d="M18.4292 6.85742C19.5052 8.28998 20.1429 10.0707 20.1429 12.0003C20.1429 13.9299 19.5052 15.7106 18.4292 17.1431" stroke="#fff" stroke-width="1.24" stroke-linecap="round" stroke-linejoin="round"></path>'}}class Zl extends Yl{constructor(){super(...arguments),this._node=document.createElement("button"),this._display="flex",this.updateState=()=>{this._node.innerHTML=this.getIcon(!this._video.paused)}}init(){this._node.innerHTML=this.getIcon(!this._video.paused),this._node.classList.add(Nl,Dl),this._video.addEventListener("play",this.updateState),this._video.addEventListener("pause",this.updateState),this._node.addEventListener("click",this.onClick.bind(this))}onClick(e){e.stopPropagation(),this._video.paused?this._video.play():this._video.pause()}destroy(){this._video.removeEventListener("play",this.updateState),this._video.removeEventListener("pause",this.updateState),super.destroy()}getIcon(e){return`<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">${e?this.getPause():this.getPlay()}</svg>`}getPlay(){return'<path d="M8 5v14l10-7L8 5Z" fill="#fff" stroke="#fff" stroke-width="1.24" stroke-linecap="round" stroke-linejoin="round" />'}getPause(){return'<rect x="15" y="5" width="2" height="14" rx=".5" fill="#fff" />\n    <rect x="7" y="5" width="2" height="14" rx=".5" fill="#fff" />'}}class Jl extends Yl{constructor(){super(...arguments),this._node=document.createElement("div"),this._display="flex",this._playButton=null,this._muteButton=null,this._advertState=null}init(){var e,t;const{_video:n,_provider:i,_advert:r,_config:a}=this;null!=a&&a.playbackControls&&(this._playButton=new Zl(n,i,r),this._node.append(this._playButton.node)),this._muteButton=new Xl(n,i,r,{volume:(null==a?void 0:a.volume)||.5}),this._advertState=new Ql(n,i,r,null==a?void 0:a.blockState),this._node.append(this._muteButton.node,this._advertState.node),this._node.classList.add(jl,zl),null===(e=this._playButton)||void 0===e||e.init(),null===(t=this._muteButton)||void 0===t||t.init(),this._advertState.init()}destroy(){var e,t,n;null===(e=this._playButton)||void 0===e||e.destroy(),null===(t=this._muteButton)||void 0===t||t.destroy(),null===(n=this._advertState)||void 0===n||n.destroy(),super.destroy()}}const eu="cta-button-module__ctaButton___qMIxx",tu=(e,t)=>{if(!Array.isArray(e.extensions))return null;const n=e.extensions.find((e=>{var n;return(null===(n=e.attributes)||void 0===n?void 0:n.type)===t}));if(n)try{return n.value}catch(e){return null}return null},nu=(e,t)=>{const n=tu(e,t);if(n)try{return JSON.parse(n)}catch(e){return null}},iu=e=>{var t;return 1===(null===(t=nu(e,"AdTitle"))||void 0===t?void 0:t.promo)?"ÐŸÑ€Ð¾Ð¼Ð¾":null};class ru extends Yl{constructor(){super(...arguments),this._node=document.createElement("button")}init(){var e,t,n;this._node.classList.add(Ul,Nl,Dl,Ml,eu),this._node.innerText=(e=this._advert,(null===(t=nu(e,"CTA"))||void 0===t?void 0:t.name)||(null===(n=nu(e,"AdCTA"))||void 0===n?void 0:n.name)||void 0||"ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸"),this._node.addEventListener("click",(e=>{this._provider.click(e,!0)}))}}const au="tooltip-module__tooltipArea___uSVR_",su="tooltip-module__topLeft___pBhs7",ou="info-button-module__infoTooltip___ePNH5";class lu extends Yl{constructor(e,t,n){super(e,t,n),this._node=document.createElement("div"),this._display="flex",this._button=document.createElement("button"),this._tooltip=document.createElement("div"),this.title="Ð ÐµÐºÐ»Ð°Ð¼Ð°",this.onClick=e=>{e.stopPropagation();const t=this._tooltip.style.display;this._tooltip.style.display="none"!==t&&t?"none":"block"},this._video=e,this._provider=t,this.title=iu(n)||this.title}init(){const e=this.getText();this._node.classList.add(Vl),this._button.classList.add(Nl,Dl,Ml,Bl,Fl),e?(this._tooltip.classList.add(au,su,ou),this._tooltip.innerHTML=e,this._node.append(this._tooltip),this._button.addEventListener("click",this.onClick)):(this._tooltip.remove(),this._button.classList.add(Hl)),this._button.innerHTML=`<span>${this.title}</span>${e?` ${this.getButtonIcon()}`:""}`,this._node.prepend(this._button)}getText(){const e=(t=this._advert,nu(t,"AdTune"));var t;return e&&1===e.show?`<span>${e.advertiserInfo}</span><br/><span>ERID: ${e.token||""}</span>`:null}getButtonIcon(){return'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 10.6c.4 0 .7.4.7.8v4.4a.7.7 0 1 1-1.5 0v-4.4c0-.4.4-.8.8-.8ZM11.2 8.2c0-.4.4-.7.8-.7A.8.8 0 0 1 12 9a.8.8 0 0 1-.8-.8Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3.5a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17ZM2 12a10 10 0 1 1 20 0 10 10 0 0 1-20 0Z" fill="#fff"/></svg>'}}const uu="loader-module__wrapper___X3Bd4",cu="loader-module__spinner___m93en";class du extends Yl{constructor(){super(...arguments),this._node=document.createElement("div"),this._display="block",this._show=this.updateVisibility.bind(this,!0),this._hide=this.updateVisibility.bind(this,!1)}init(){this._hide();const e=document.createElement("div");e.classList.add(cu),this._node.classList.add(uu),this._node.append(e),this._video.addEventListener("waiting",this._show),this._video.addEventListener("play",this._hide)}destroy(){this._video.removeEventListener("waiting",this._show),this._video.removeEventListener("play",this._hide)}}const hu="progress-bar-module__progressBar___HWstE",pu="progress-bar-module__inner___IhQYS";class vu{constructor(e){this._externalHandlers={},this._started=!1,this._ended=!1,this._skipable=!1,this._skipped=!1,this._preloaded=!1,this._startTimer=null,this._params=e,this._skipable=0===e.creative.skipDelay}subscribe(e,t){var n;this._externalHandlers[e]||(this._externalHandlers[e]=[]),null===(n=this._externalHandlers[e])||void 0===n||n.push(t)}unsubscribe(e,t){var n;this._externalHandlers[e]&&(this._externalHandlers[e]=null===(n=this._externalHandlers[e])||void 0===n?void 0:n.filter((e=>e!==t)))}dispatch(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];null===(t=this._externalHandlers[e])||void 0===t||t.forEach((e=>{e(...i)}))}destroy(){this._startTimer&&clearTimeout(this._startTimer)}get started(){return this._started}get ended(){return this._ended}get skipable(){return this._skipable}get skipped(){return this._skipped}get clickable(){return!1}}var mu=s(3983),_u=s.n(mu);const fu=(e,t)=>{if(!e||null===t)return 0;let n=e-t;return n&&!isNaN(n)?(n=Math.max(n,0),Math.min(n/e*100,100)):0};class gu extends vu{constructor(){var e;super(...arguments),e=this,this.preload=()=>new Promise((e=>{var t;(null===(t=this._params.creative.mediaFiles[0])||void 0===t?void 0:t.fileURL)||""||e(!1),this._params.video.src=this.getSrc();const n=setTimeout((()=>{this._preloaded=!0,e(!0)}),this._params.startTimeout);this._params.video.addEventListener("canplay",(()=>{clearTimeout(n),this._preloaded=!0,e(!0)}),{once:!0}),this._params.video.addEventListener("error",(()=>{clearTimeout(n),this._params.tracker.error({ERRORCODE:405}),e(!1)}),{once:!0})})),this.handleWindowUnload=()=>{this._params.tracker.close()},this.handleMuted=()=>{this._params.tracker.setMuted(this._params.video.muted),this.dispatch("volumeChange")},this.handleImpression=()=>{this._params.tracker.trackImpression(),this.dispatch("impression")},this.handleCompanionImpression=()=>{this._params.companionTracker&&this._params.companionTracker.trackImpression()},this.handleComplete=()=>{this._ended=!0,this._params.tracker.complete()},this.handlePause=()=>{this._params.video.ended||this._params.tracker.setPaused(!0),this.dispatch("playingState",!1)},this.handleResume=()=>{this._started&&this._params.tracker.setPaused(!1),this.dispatch("playingState",!0)},this.handleTimeUpdate=()=>{const{currentTime:e}=this._params.video,{duration:t}=this._params.creative,n=t-e;this._params.tracker.setProgress(e),this.dispatch("timeUpdate",{viewed:e,viewedPercent:fu(t,n),remain:n}),e>t&&this.handleComplete()},this.handleError=()=>{this._params.tracker.error({ERRORCODE:405}),this.dispatch("error")},this.handleFullScreen=()=>{this._params.tracker.setExpand(_u().isFullscreen),this._params.tracker.setFullscreen(_u().isFullscreen)},this.handleClose=()=>{this._params.tracker.close()},this.handleClickThrough=e=>{window.open(e,"_blank")},this.click=function(t){var n;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=t.target;(i||e._params.tracker&&"DIV"===r.tagName)&&(e._params.tracker.click(null,{CLICKPOS:[t.clientX,t.clientY]}),null===(n=e._params.companionTracker)||void 0===n||n.click(),e.dispatch("click"))}}init(){this.initEvents(),this.volume=this._params.volume}initEvents(){const{video:e,container:t,tracker:n,companionTracker:i}=this._params;e.addEventListener("volumechange",this.handleMuted),e.addEventListener("canplay",this.handleImpression),e.addEventListener("timeupdate",this.handleTimeUpdate),e.addEventListener("ended",this.handleComplete),e.addEventListener("play",this.handleResume),e.addEventListener("pause",this.handlePause),e.addEventListener("error",this.handleError),this.clickable&&(t.addEventListener("click",this.click),t.classList.add(Il)),i&&e.addEventListener("canplay",this.handleCompanionImpression),window.addEventListener("beforeunload",this.handleWindowUnload),n.on("start",(()=>{this._started=!0,this.handleFullScreen(),e.addEventListener("play",this.handleResume),this.dispatch("started"),this.skipable&&this.dispatch("skippableStateChange",!0)})),this.skipable||n.on("skip-countdown",(e=>{this.dispatch("skipRemain",e),e||(this.dispatch("skippableStateChange",!0),this._skipable=!0)})),n.on("close",(()=>{this.dispatch("close"),this.dispatch("stopped")})),n.on("complete",(()=>{this.removeEvents(),this.dispatch("complete"),this.dispatch("stopped")})),n.on("skip",(()=>{this._skipped=!0,this.removeEvents(),this.dispatch("skipped"),this.dispatch("stopped")})),n.on("clickthrough",this.handleClickThrough),null==i||i.on("clickthrough",this.handleClickThrough),_u().isEnabled&&_u().on("change",this.handleFullScreen)}removeEvents(){const{video:e,companionTracker:t}=this._params;e.removeEventListener("volumechange",this.handleMuted),e.removeEventListener("canplay",this.handleImpression),e.removeEventListener("timeupdate",this.handleTimeUpdate),e.removeEventListener("ended",this.handleComplete),e.removeEventListener("play",this.handleResume),e.removeEventListener("pause",this.handlePause),e.removeEventListener("error",this.handleError),t&&e.removeEventListener("canplay",this.handleCompanionImpression),window.removeEventListener("beforeunload",this.handleWindowUnload),_u().isEnabled&&_u().off("change",this.handleFullScreen)}destroy(){super.destroy(),this.ended||this.skipped||this.handleClose(),this.removeEvents()}getSrc(){var e;const t=this._params.creative.mediaFiles;return(null===(e=t[t.length-1])||void 0===e?void 0:e.fileURL)||""}skip(){this._params.tracker.skip()}start(){this._startTimer=setTimeout((()=>{0===this._params.video.currentTime&&(this._params.tracker.error({ERRORCODE:900}),this.dispatch("error"))}),this._params.startTimeout);const{video:e}=this._params;this.started||(this._preloaded||(this._params.video.src=this.getSrc()),this._params.video.play().catch((()=>{e.muted||(this._params.video.muted=!0,this._params.video.play().catch((()=>{e.muted=!1})))})))}resume(){this._params.video.play()}pause(){this._params.video.pause()}get clickable(){var e;return!(null===(e=this._params.creative.videoClickThroughURLTemplate)||void 0===e||!e.url)}get volume(){return this._params.video.muted?0:this._params.video.volume}set volume(e){this._params.video.volume=e,this._params.video.muted=!e}}class yu extends vu{constructor(e){super(e),this._iframe=document.createElement("iframe"),this._iframeLoaded=!1,this._creative=null,this._timeUpdateInterval=null,this._resizeObserver=null,this._lastTimeUpdatePayload=null,this._skippableByVpaid=!1,this._durationFromRemain=null,this._initVpaidAdPromise=null,this.handleStart=()=>{this._started=!0,this.dispatch("started"),this._params.tracker.track("start"),this._timeUpdateInterval&&clearInterval(this._timeUpdateInterval),this.handleTimeUpdate(),this._timeUpdateInterval=setInterval(this.handleTimeUpdate,10)},this.handleComplete=()=>{this._ended=!0,this.dispatch("complete"),this._params.tracker.track("complete")},this.handleStopped=()=>{this._ended=!0,this.dispatch("stopped"),this._params.tracker.track("stopped")},this.handlePaused=()=>{this.dispatch("playingState",!1),this._params.tracker.setPaused(!0)},this.handleResume=()=>{this.dispatch("playingState",!0),this._params.tracker.setPaused(!1)},this.handleFirstQuartile=()=>{this._params.tracker.track("firstQuartile")},this.handleMidpoint=()=>{this._params.tracker.track("midpoint")},this.handleThirdQuartile=()=>{this._params.tracker.track("thirdQuartile")},this.handleUserClose=()=>{this._params.tracker.close(),this.dispatch("close")},this.handleDurationChange=()=>{this._timeUpdateInterval&&clearInterval(this._timeUpdateInterval),this.handleTimeUpdate(),this._timeUpdateInterval=setInterval(this.handleTimeUpdate,10)},this.handleTimeUpdate=()=>{var e,t;const n=(null===(e=this._creative)||void 0===e?void 0:e.getAdRemainingTime())||0;let i=this._durationFromRemain?this._durationFromRemain:(null===(t=this._creative)||void 0===t?void 0:t.getAdDuration())||0;if(i<=0&&n>0&&!this._durationFromRemain)this._durationFromRemain=n,i=n;else if(n<=0||i<=0&&!this._durationFromRemain)return;const r=i-n,a=Math.min(this._params.creative.duration,i),s=Math.max(a-r,0),o={viewed:r,remain:s,viewedPercent:fu(a,s)},l=JSON.stringify(o);var u,c;if(l!==this._lastTimeUpdatePayload)if(this._lastTimeUpdatePayload=l,this.dispatch("timeUpdate",{viewed:r,remain:s,viewedPercent:fu(a,s)}),r>=this._params.creative.duration)null===(u=this._creative)||void 0===u||u.stopAd(),null===(c=this._creative)||void 0===c||c.setAdVolume(0),this.handleComplete();else if(!this.skipable&&Number(this._params.creative.skipDelay)>=60){const e=Math.ceil(Number(this._params.creative.skipDelay)-r);this.dispatch("skipRemain",Math.max(0,e)),e<=0&&(this._skipable=!0)}},this.handleImpression=()=>{var e;this._params.tracker.trackImpression(),null===(e=this._params.companionTracker)||void 0===e||e.trackImpression(),this.dispatch("impression")},this.handleSkip=()=>{this._params.tracker.skip(),this.dispatch("skipped")},this.handleSkippableStateChange=()=>{if(!this.skipable){var e;(null===(e=this._creative)||void 0===e?void 0:e.getAdSkippableState())&&(this._skippableByVpaid=!0,this.dispatch("skippableStateChange",!0),this.dispatch("skipRemain",0))}},this.handleVolume=()=>{this._params.tracker.setMuted(this.volume<=.1),this.dispatch("volumeChange")},this.handleClick=(e,t,n)=>{this.dispatch("click"),n&&(e?this.handleClickLink(e):(this._params.tracker.addListener("clickthrough",this.handleClickLink),this._params.tracker.click(),this._params.tracker.removeListener("clickthrough",this.handleClickLink)))},this.handleClickLink=e=>{window.open(e,"_blank")},this.handleExpanded=()=>{var e;const t=!(null===(e=this._creative)||void 0===e||!e.getAdExpanded());this._params.tracker.setFullscreen(t),this._params.tracker.setExpand(t)},this.handleError=()=>{this._params.tracker.error({ERRORCODE:405}),this.dispatch("error")},this._params=e}async init(){this._iframe.classList.add(Pl),this._iframe.addEventListener("load",(()=>{this._iframeLoaded=!0})),this._params.container.prepend(this._iframe),await this.waitIframe();const e=await Kl(this.loadVpaid(),this._params.timeout,(()=>{this._params.tracker.error({ERRORCODE:402})}));if("function"!=typeof e)throw this._params.tracker.error({ERRORCODE:900}),new Error('"getVpaid" is not a function');if(this._creative=e(),!((t=this._creative)&&t.handshakeVersion&&"function"==typeof t.handshakeVersion&&t.initAd&&"function"==typeof t.initAd&&t.startAd&&"function"==typeof t.startAd&&t.stopAd&&"function"==typeof t.stopAd&&t.skipAd&&"function"==typeof t.skipAd&&t.resizeAd&&"function"==typeof t.resizeAd&&t.pauseAd&&"function"==typeof t.pauseAd&&t.resumeAd&&"function"==typeof t.resumeAd&&t.expandAd&&"function"==typeof t.expandAd&&t.collapseAd&&"function"==typeof t.collapseAd&&t.subscribe&&"function"==typeof t.subscribe&&t.unsubscribe&&"function"==typeof t.unsubscribe))throw this._params.tracker.error({ERRORCODE:901}),Error("Bad VPAID object");var t;this.initEvents()}async initVpaidAd(){var e;if(!this._creative)throw new Error("No VPAID Creative");this._initVpaidAdPromise=Kl(new Promise(((e,t)=>{var n,i;null===(n=this._creative)||void 0===n||n.subscribe((()=>{this._params.tracker.error({ERRORCODE:901}),t("VPAID Triggered error on init")}),"AdError"),null===(i=this._creative)||void 0===i||i.subscribe((()=>{e(),this.initResizeObserver(),this.volume=this._params.volume}),"AdLoaded")})),this._params.startTimeout);const t=null!==(e=this._params.creative.adParameters)&&void 0!==e&&e.value?{AdParameters:this._params.creative.adParameters.value}:null,n=this._iframe.contentWindow;if(!n)throw new Error("No iframe window found");const i=n.document.body,r=n.document.createElement("div");r.classList.add(Tl),r.style.height="100%",i.style.margin="0",i.style.padding="0",n.document.body.appendChild(r);const a=this.getContainerSize();return this._creative.initAd(a.width,a.height,a.mode,5e3,t,{slot:r,videoSlot:this._params.video,videoSlotCanAutoPlay:!0}),this._initVpaidAdPromise}async preload(){return(this._initVpaidAdPromise?this._initVpaidAdPromise:this.initVpaidAd()).then((()=>!0)).catch((()=>!1))}loadVpaid(){return new Promise(((e,t)=>{var n;const i=document.createElement("script");i.async=!0,i.type="text/javascript",i.src=this._params.url,i.onload=()=>{var n;const i=null===(n=this._iframe.contentWindow)||void 0===n?void 0:n.getVPAIDAd;"function"==typeof i?e(i):t()},i.onerror=()=>{t()},null===(n=this._iframe.contentWindow)||void 0===n||n.document.head.appendChild(i)}))}waitIframe(){return this._iframeLoaded?Promise.resolve():new Promise((e=>{this._iframeLoaded=!0,this._iframe.addEventListener("load",e)}))}initEvents(){var e,t,n,i,r,a,s,o,l,u,c,d,h,p,v,m,_,f;window.location.search.includes("debug_plutos")&&this.debugEvents(),null===(e=this._creative)||void 0===e||e.subscribe(this.handleImpression,"AdImpression"),null===(t=this._creative)||void 0===t||t.subscribe(this.handleStart,"AdStarted"),null===(n=this._creative)||void 0===n||n.subscribe(this.handleComplete,"AdVideoComplete"),null===(i=this._creative)||void 0===i||i.subscribe(this.handleStopped,"AdStopped"),null===(r=this._creative)||void 0===r||r.subscribe(this.handlePaused,"AdPaused"),null===(a=this._creative)||void 0===a||a.subscribe(this.handleResume,"AdPlaying"),null===(s=this._creative)||void 0===s||s.subscribe(this.handleFirstQuartile,"AdVideoFirstQuartile"),null===(o=this._creative)||void 0===o||o.subscribe(this.handleMidpoint,"AdVideoMidpoint"),null===(l=this._creative)||void 0===l||l.subscribe(this.handleThirdQuartile,"AdVideoThirdQuartile"),null===(u=this._creative)||void 0===u||u.subscribe(this.handleVolume,"AdVolumeChange"),null===(c=this._creative)||void 0===c||c.subscribe(this.handleDurationChange,"AdDurationChange"),null===(d=this._creative)||void 0===d||d.subscribe(this.handleDurationChange,"AdRemainingTimeChange"),null===(h=this._creative)||void 0===h||h.subscribe(this.handleSkip,"AdSkipped"),null===(p=this._creative)||void 0===p||p.subscribe(this.handleSkippableStateChange,"AdSkippableStateChange"),null===(v=this._creative)||void 0===v||v.subscribe(this.handleUserClose,"AdUserClose"),null===(m=this._creative)||void 0===m||m.subscribe(this.handleClick,"AdClickThru"),null===(_=this._creative)||void 0===_||_.subscribe(this.handleExpanded,"AdExpandedChange"),null===(f=this._creative)||void 0===f||f.subscribe(this.handleError,"AdError")}debugEvents(){["AdLoaded","AdStarted","AdStopped","AdSkipped","AdPaused","AdSizeChange","AdPlaying","AdExpandedChange","AdSkippableStateChange","AdLinearChange","AdVolumeChange","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdUserAcceptInvitation","AdUserClose","AdUserMinimize","AdDurationChange","AdRemainingTimeChange","AdImpression","AdClickThru","AdInteraction","AdError","AdLog"].forEach((e=>{var t;null===(t=this._creative)||void 0===t||t.subscribe((function(){}),e)}))}initResizeObserver(){this._resizeObserver=new ResizeObserver((()=>{var e;const t=this.getContainerSize();null===(e=this._creative)||void 0===e||e.resizeAd(t.width,t.height,t.mode?"fullscreen":"normal")})),this._resizeObserver.observe(this._params.container)}getContainerSize(){const e=this._params.container.getBoundingClientRect();return{width:e.width,height:e.height,mode:_u().isEnabled&&_u().isFullscreen?"fullscreen":"normal"}}destroy(){var e,t,n,i,r,a,s,o,l,u,c,d,h,p,v,m,_,f,g;this._params.video.src="",null===(e=this._resizeObserver)||void 0===e||e.disconnect(),super.destroy(),null===(t=this._creative)||void 0===t||t.unsubscribe(this.handleImpression,"AdImpression"),null===(n=this._creative)||void 0===n||n.unsubscribe(this.handleStart,"AdVideoStart"),null===(i=this._creative)||void 0===i||i.unsubscribe(this.handleComplete,"AdVideoComplete"),null===(r=this._creative)||void 0===r||r.unsubscribe(this.handleStopped,"AdStopped"),null===(a=this._creative)||void 0===a||a.unsubscribe(this.handlePaused,"AdPaused"),null===(s=this._creative)||void 0===s||s.unsubscribe(this.handleResume,"AdPlaying"),null===(o=this._creative)||void 0===o||o.unsubscribe(this.handleFirstQuartile,"AdVideoFirstQuartile"),null===(l=this._creative)||void 0===l||l.unsubscribe(this.handleMidpoint,"AdVideoMidpoint"),null===(u=this._creative)||void 0===u||u.unsubscribe(this.handleThirdQuartile,"AdVideoThirdQuartile"),null===(c=this._creative)||void 0===c||c.unsubscribe(this.handleVolume,"AdVolumeChange"),null===(d=this._creative)||void 0===d||d.unsubscribe(this.handleDurationChange,"AdDurationChange"),null===(h=this._creative)||void 0===h||h.unsubscribe(this.handleDurationChange,"AdRemainingTimeChange"),null===(p=this._creative)||void 0===p||p.unsubscribe(this.handleSkip,"AdSkipped"),null===(v=this._creative)||void 0===v||v.unsubscribe(this.handleSkippableStateChange,"AdSkippableStateChange"),null===(m=this._creative)||void 0===m||m.unsubscribe(this.handleUserClose,"AdUserClose"),null===(_=this._creative)||void 0===_||_.unsubscribe(this.handleClick,"AdClickThru"),null===(f=this._creative)||void 0===f||f.unsubscribe(this.handleExpanded,"AdExpandedChange"),null===(g=this._creative)||void 0===g||g.unsubscribe(this.handleError,"AdError"),this._timeUpdateInterval&&clearInterval(this._timeUpdateInterval),this._iframe.style.display="none",setTimeout((()=>{var e;null===(e=this._iframe)||void 0===e||e.remove()}),3e3)}start(){(this._initVpaidAdPromise||this.initVpaidAd()).then((()=>{var e,t;const{video:n}=this._params;if(this.started)return;const i=n.play.bind(n);n.play=()=>i().catch((e=>{if("NotAllowedError"===(null==e?void 0:e.name)&&!n.muted)return n.muted=!0,i().catch((()=>{n.muted=!1}));throw e})).finally((()=>{n.play=i}));const r=this.getContainerSize();null===(e=this._creative)||void 0===e||e.resizeAd(r.width,r.height,r.mode),null===(t=this._creative)||void 0===t||t.startAd()})).catch((()=>{this.dispatch("error")}))}pause(){var e;null===(e=this._creative)||void 0===e||e.pauseAd()}resume(){var e;null===(e=this._creative)||void 0===e||e.resumeAd()}skip(){var e;this._skippableByVpaid?null===(e=this._creative)||void 0===e||e.skipAd():this.skipable&&this.handleSkip()}click(){}get volume(){var e;const{video:t}=this._params;return!t.paused||t.currentTime?t.muted?0:t.volume:(null===(e=this._creative)||void 0===e?void 0:e.getAdVolume())||0}set volume(e){var t;null===(t=this._creative)||void 0===t||t.setAdVolume(e||0),this._params.video.muted=e<.1}}class bu extends Yl{constructor(){super(...arguments),this._node=document.createElement("div"),this.innerDiv=document.createElement("div")}init(){this._node.append(this.innerDiv),this._node.classList.add(hu),this.innerDiv.classList.add(pu),this._provider instanceof yu?this._provider.subscribe("timeUpdate",this.updateState.bind(this)):this._video.addEventListener("play",this.autoUpdate.bind(this))}autoUpdate(){this._video.paused||(this.applyStyles({transform:`scaleX(${this._video.currentTime/this._video.duration})`},this.innerDiv),requestAnimationFrame(this.autoUpdate.bind(this)))}updateState(e){this.applyStyles({transform:`scaleX(${e.viewedPercent}%)`},this.innerDiv)}destroy(){super.destroy(),this._video.removeEventListener("play",this.autoUpdate.bind(this))}}const Eu="skip-module__skipWrapper___LuSG8",wu="skip-module__customUi___xq4mM",Su="skip-module__text___tKMjO",Au="skip-module__textAction___IyNJX",ku="skip-module__skip___K0kwO",Cu="skip-module__disableAd___Y_yn2",Pu="ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐºÐ»Ð°Ð¼Ñƒ";class Tu extends Yl{constructor(){super(...arguments),this._node=document.createElement("div"),this._skip=document.createElement("button"),this._disableAdvert=document.createElement("button"),this._display="flex",this.updateState=e=>{0===e?(this._provider.unsubscribe("skipRemain",this.updateState),this.activateSkipButton()):e>0&&(this._skip.style.display="flex",this._skip.innerHTML=`<span class="${Su}">ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· ${Math.ceil(e)}</span>`)},this.onClick=e=>{e.stopPropagation(),this._provider.skip()},this.activateSkipButton=()=>{this.applyStyles({display:"flex"},this._skip),this._skip.disabled=!1,this._skip.addEventListener("click",this.onClick),this._skip.innerHTML=`<span class="${Su} ${Au}">ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ</span> <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.6 5.6c-.3.2-.3.6 0 .8L14 12l-5.5 5.6a.6.6 0 0 0 .8.8l6-6c.3-.2.3-.6 0-.8l-6-6a.6.6 0 0 0-.8 0Z" fill="#fff"/></svg>`}}init(){var e,t,n,i;this._node.classList.add(Wl,Eu),null!==(e=this._config)&&void 0!==e&&e.onDisable?(this._disableAdvert.addEventListener("click",this._config.onDisable),this._disableAdvert.style.display="flex"):this._disableAdvert.style.display="none",this._disableAdvert.ariaLabel=(null===(t=this._config)||void 0===t?void 0:t.disableText)||Pu,this._disableAdvert.innerText=(null===(n=this._config)||void 0===n?void 0:n.disableText)||Pu,this._disableAdvert.tabIndex=0,this._disableAdvert.classList.add(Nl,Dl,Ml,Cu),this._node.append(this._disableAdvert),null!==(i=this._config)&&void 0!==i&&i.vendorUi&&this._node.classList.add(wu),this._skip.disabled=!0,this._skip.ariaLabel="ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ñ€ÐµÐºÐ»Ð°Ð¼Ñƒ",this._skip.tabIndex=0,this._skip.classList.add(Nl,Dl,Ml,ku),this._node.append(this._skip),this._provider.skipable&&this.activateSkipButton(),this._provider.subscribe("skipRemain",this.updateState)}updateConfig(e){var t;e.onDisable&&(null!==(t=this._config)&&void 0!==t&&t.onDisable&&this._disableAdvert.removeEventListener("click",this._config.onDisable),this._disableAdvert.addEventListener("click",e.onDisable),this._disableAdvert.style.display="flex");"onDisable"in e&&"function"!=typeof e.onDisable&&(this._disableAdvert.style.display="none"),super.updateConfig(e)}}class Iu{constructor(e){this._controls={},this.loader=void 0,this._params=e;const{video:t,provider:n,advert:i}=e;this.loader=new du(t,n,i),n.subscribe("started",(()=>{this.renderControls()})),this.loader.init(),this.initControls()}initControls(){const{video:e,provider:t,advert:n}=this._params;this._controls={progress:new bu(e,t,n),info:new lu(e,t,n)},this._controls.bottom=new Jl(e,t,n,{blockState:this._params.blockState,playbackControls:!this._params.vendorUi,volume:this._params.volume}),!this._params.onDisableAd&&this._params.vendorUi||(this._controls.skip=new Tu(e,t,n,{disableText:this._params.disableText,onDisable:this._params.onDisableAd,vendorUi:this._params.vendorUi})),t.clickable&&(this._controls.link=new ru(e,t,n)),Object.values(this._controls).forEach((e=>{e.init()}))}renderControls(){this._params.container.append(...Object.values(this._controls).map((e=>e.node)))}destroy(){Object.values(this._controls).forEach((e=>{e.destroy()})),this.loader.destroy()}updateControlsVisibility(e){Object.keys(e).forEach((t=>{var n;const i=t;null===(n=this._controls[i])||void 0===n||n.updateVisibility(!!e[i])}))}get controls(){return this._controls}}const Ru=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Array.isArray(e)&&e.forEach((e=>{e&&fetch(e.replaceAll("[ERRORCODE]",t.toString()),{credentials:n?"include":"omit"}).catch((e=>{console.error(e)}))}))};class Lu{constructor(e){this._container=document.createElement("div"),this._client=void 0,this._advert=null,this._creative=null,this._tracker=null,this._vpaid=null,this._videos=[],this._provider=null,this._ui=null,this._params=void 0,this._playbackParams=null,this._loaded=!1,this.checkRealAdvertTime=()=>{var e,t,n,i;null!==(e=this._playbackParams)&&void 0!==e&&e.video&&(null!==(n=this._creative)&&void 0!==n&&n.duration&&Math.abs(this._creative.duration-this._playbackParams.video.duration)>1&&(null===(i=this._tracker)||void 0===i||i.error({ERRORCODE:202})));null===(t=this._provider)||void 0===t||t.unsubscribe("impression",this.checkRealAdvertTime)},this._client=new kl,this._params=(0,l.A)((0,l.A)({},e),{},{wrapperLimit:e.wrapperLimit||Rl,loadTimeout:e.loadTimeout||Ll,startTimeout:e.startTimeout||xl})}async loadAd(){var e;const t=await Kl(this._client.get(this._params.url,{withCredentials:Ol,wrapperLimit:this._params.wrapperLimit}),this._params.loadTimeout);if(this._advert=t.ads.find((e=>e.creatives.length>0))||null,!this._advert)throw new Error("No valid advert found in response");var n,i;if(this._creative=this._advert.creatives.find((e=>"linear"===e.type))||null,!this._creative)throw Ru(null===(n=this._advert)||void 0===n?void 0:n.errorURLTemplates,403,Ol),new Error("No valid creative found in response");if(this._creative.duration<1)throw Ru(null===(i=this._advert)||void 0===i?void 0:i.errorURLTemplates,101,Ol),new Error("Invalid VAST");if(null===this._creative.skipDelay&&this._creative.duration>60?this._creative.skipDelay=60:this._creative.skipDelay&&this._creative.skipDelay>=this._creative.duration&&(this._creative.skipDelay=null),this._tracker=new Cl(this._client,this._advert,this._creative),!ql(this._creative).length)throw this._tracker.error({ERRORCODE:403}),new Error("No media file found in response");const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gl;return ql(e,(e=>{const{width:n,height:i}=e;return!e.width||!e.height||t(e)&&n/i>=1}))}(this._creative);if(null==r||!r.length)throw this._tracker.error({ERRORCODE:203}),new Error("Horizontal resolution media file not found in response");this._vpaid=(null===(e=(e=>e.find((e=>"application/javascript"===e.mimeType&&"VPAID"===e.apiFramework)))(r))||void 0===e?void 0:e.fileURL)||null,this._videos=(e=>e.filter((e=>"video/mp4"===e.mimeType)))(r),this._loaded=!0}async initPlayback(e){const t=isNaN(e.volume)||e.volume<0||e.volume>1?.5:e.volume;this._playbackParams=(0,l.A)((0,l.A)({},e),{},{volume:t});try{await this.initAd(this._vpaid||void 0)}catch(e){if(!this._vpaid||!this._videos.length)throw e;await this.initAd()}}async initAd(e){if(!(this._advert&&this._creative&&this._tracker&&this._playbackParams))throw new Error("Advert was not loaded yet");this._container.classList.add(Tl),this._playbackParams.video.after(this._container);const t=this._advert.creatives.find((e=>"companion"===e.type))||null;const n={video:this._playbackParams.video,container:this._container,advert:this._advert,creative:this._creative,tracker:this._tracker,companionTracker:t?new Cl(null,this._advert,t):void 0,startTimeout:this._params.startTimeout,volume:this._playbackParams.volume};this._provider=e?new yu((0,l.A)((0,l.A)({},n),{},{url:e,timeout:this._params.loadTimeout})):new gu((0,l.A)((0,l.A)({},n),{},{creative:(0,l.A)((0,l.A)({},this._creative),{},{mediaFiles:this._videos})})),this._ui=new Iu({video:this._playbackParams.video,provider:this._provider,advert:this._advert,container:this._container,vendorUi:this._provider instanceof yu,blockState:this._playbackParams.blockState,disableText:this._playbackParams.disableText,onDisableAd:this._playbackParams.onDisableAd,volume:this._playbackParams.volume}),this._provider.subscribe("impression",this.checkRealAdvertTime);try{var i;await(null===(i=this._provider)||void 0===i?void 0:i.init())}catch(e){throw this._provider.unsubscribe("impression",this.checkRealAdvertTime),this._ui.destroy(),e}}destroy(){var e,t,n;null===(e=this._provider)||void 0===e||e.destroy(),null===(t=this._ui)||void 0===t||t.destroy(),null===(n=this._playbackParams)||void 0===n||n.video.removeAttribute("src"),this._container.remove(),this._loaded=!1}get provider(){return this._provider}get volume(){var e;return null===(e=this._provider)||void 0===e?void 0:e.volume}set volume(e){this._provider&&(this._provider.volume=e||0)}play(){var e;null===(e=this._provider)||void 0===e||e.start()}resume(){var e;null===(e=this._provider)||void 0===e||e.resume()}pause(){var e;null===(e=this._provider)||void 0===e||e.pause()}skip(){var e;null===(e=this._provider)||void 0===e||e.skip()}get customTitle(){return this._advert?iu(this._advert):null}get info(){if(!this._advert||!this._creative)return null;let e;return this._loaded&&(e=this._vpaid?"VPAID":"VAST"),{duration:this._creative.duration,skipDuration:this._creative.skipDelay||void 0,campaignId:tu(this._advert,"campaignId")||tu(this._advert,"CampaignId")||void 0,advertId:tu(this._advert,"adId")||tu(this._advert,"AdId")||void 0,ownerId:tu(this._advert,"ownerId")||tu(this._advert,"OwnerId")||void 0,framework:e}}get ui(){return this._ui}}var xu;let Ou;class Nu extends Ra{constructor(e,t){super(e),this._instance=(Ou(this),null),this._playbackParams=null,this._urlParams=void 0,this._wasStarted=!1,this.config=void 0,this.url_template=void 0,this._quartileEvents=new Set,this.adSkippable=!1,this.load=async()=>{const e=this._getSdkParams();try{this._instance=new Lu(e),await this._instance.loadAd()}catch(e){var t;throw null===(t=this._instance)||void 0===t||t.destroy(),console.error(e),e}},this.config=e,this.url_template=this.config.data.url_template,this.config.data=(0,l.A)((0,l.A)({},e.data),{},{url_template:t(e.data.url_template)}),this._urlParams=(0,i.al)(e.data.url_template)}async initPlayback(e){if(!this._instance)throw new Error("No instance found");this._playbackParams=e;try{await this._instance.initPlayback((0,l.A)((0,l.A)({},e),{},{volume:e.volume?.5:0})),this.registerInternalEvents()}catch(e){this._onError()}}_getSdkParams(){const{xmltimeout:e,adtimeout:t}=this.config.data,n=e&&!isNaN(e)?1e3*e:void 0,i=t&&!isNaN(t)?1e3*t:void 0;return{wrapperLimit:5,url:this.config.data.url_template,loadTimeout:n,startTimeout:i}}subscribe(e){Object.keys(e).forEach((t=>{const n=e[t];var i;n&&(null===(i=this._instance)||void 0===i||null===(i=i.provider)||void 0===i||i.subscribe(t,n))}))}prepareEvents(e){let t=!1;const n=e.onSuccess?(0,Ia.once)(e.onSuccess):void 0,i=e.onEnd?(0,Ia.once)((t=>{var n;this._destroyed||(null===(n=e.onEnd)||void 0===n||n.call(e,t))})):void 0;return{started:()=>{var n,i;t?null===(n=e.onAlreadyStarted)||void 0===n||n.call(e):(t=!0,null===(i=e.onStart)||void 0===i||i.call(e))},error:()=>{var t;null===(t=e.onError)||void 0===t||t.call(e,"Native advert player error"),null==i||i(!1)},skipped:()=>{var t;null===(t=e.onSkip)||void 0===t||t.call(e),null==i||i(!0)},close:()=>{var t;null===(t=e.onClose)||void 0===t||t.call(e),null==i||i(!0)},complete:()=>{null==n||n(),null==i||i(!0)},click:()=>{var t;return null===(t=e.onClick)||void 0===t?void 0:t.call(e)},impression:()=>{var t;return null===(t=e.onImpression)||void 0===t?void 0:t.call(e)},stopped:()=>{null==i||i(!0)},playingState:t=>{var n,i,r;!this._wasStarted&&t&&(null===(i=e.startOnStateChange)||void 0===i||i.call(e),null===(r=e.onStart)||void 0===r||r.call(e),this._wasStarted=!0);null===(n=e.onPlayingState)||void 0===n||n.call(e,t)},timeUpdate:t=>{let{viewedPercent:n}=t;if("function"==typeof e.onViewQuartile){var i,r,a;if(n>=75&&!this._quartileEvents.has("third"))return null===(i=e.onViewQuartile)||void 0===i||i.call(e,"third"),void this._quartileEvents.add("third");if(n>=50&&!this._quartileEvents.has("second"))return null===(r=e.onViewQuartile)||void 0===r||r.call(e,"second"),void this._quartileEvents.add("second");if(n>=25&&!this._quartileEvents.has("first"))null===(a=e.onViewQuartile)||void 0===a||a.call(e,"first"),this._quartileEvents.add("first")}},skippableStateChange:t=>{var n;(this.adSkippable=t,t&&!this.adSkippable)&&(null===(n=e.onSkippableStateChangeToTrue)||void 0===n||n.call(e))}}}play(){var e,t;null!==(e=this._playbackParams)&&void 0!==e&&e.preventStartAdvert||(super.play(),null===(t=this._instance)||void 0===t||t.play())}resume(){var e;null===(e=this._instance)||void 0===e||e.resume()}pause(){var e;null===(e=this._instance)||void 0===e||e.pause()}skipAd(){var e;null===(e=this._instance)||void 0===e||e.skip()}getCustomTitle(){var e;return(null===(e=this._instance)||void 0===e?void 0:e.customTitle)||null}preload(){var e,t;return null===(e=this._instance)||void 0===e||null===(e=e.provider)||void 0===e||null===(t=e.preload)||void 0===t?void 0:t.call(e)}destroy(){var e;super.destroy(),null===(e=this._instance)||void 0===e||e.destroy(),this._instance=null}get volume(){var e;return null===(e=this._instance)||void 0===e?void 0:e.volume}set volume(e){this._instance&&e&&(this._instance.volume=e)}get advert(){return this.config.data}get info(){var e;return(null===(e=this._instance)||void 0===e?void 0:e.info)||null}get placeholders(){var e,t;if(!this.info)return null;return{advertId:this.info.advertId||"",campaignId:this.info.campaignId||"",adsUrlTemplate:this.advert.url_template||"",adsOwnerId:this.ownerId,adDur:this.info.duration||"",adsSkipt:"number"==typeof(null===(e=this._instance)||void 0===e||null===(e=e.info)||void 0===e?void 0:e.skipDuration)&&null!==(t=this.info)&&void 0!==t&&t.skipDuration?"1":"0"}}get ui(){var e;return null===(e=this._instance)||void 0===e?void 0:e.ui}get ownerId(){var e;return(null===(e=this._instance)||void 0===e||null===(e=e.info)||void 0===e?void 0:e.ownerId)||this._urlParams.ownerId||100..toString()}}xu=Nu,[Ou]=(0,S.A)(xu,[],[[k.zm,2,"play"],[k.zm,2,"resume"],[k.zm,2,"pause"],[k.zm,2,"skipAd"]],0,void 0,Ra).e;const Du=(0,_t.PA)((()=>{const e=(0,t.useRef)(!1),n=(0,t.useRef)(null),i=(0,t.useRef)(null),r=fa(),{currentAdvert:a,currentState:s,currentProvider:o,blockState:l,events:u,isEmbed:c,playbackReady:d}=r,{requestSubscription:h,registerSubscriptionCTAShow:p,canDisableAds:v,disableAdsButtonTitle:m}=Iy();(0,t.useEffect)((()=>{v&&"show"===s&&p()}),[p,v,s]),(0,t.useEffect)((()=>{d||e.current||i.current&&n.current&&o instanceof Nu&&(e.current=!0,null==o||o.initPlayback({video:n.current,volume:r.playback.muted?0:r.playback.volume,blockState:l?{total:l.total,viewed:l.viewed+1}:void 0,onDisableAd:v?()=>h(fi.JZ.RUTUBE):void 0,disableText:m||""}).then((()=>{r.playbackReady=!0})).catch((e=>{var t;null===(t=u.onError)||void 0===t||t.call(u,e.message),console.error(e)})))}),[d,o,r,l,v,m,c,u,h]),(0,t.useEffect)((()=>{var t;e.current&&o instanceof Nu&&(null===(t=o.ui)||void 0===t||null===(t=t.controls.skip)||void 0===t||t.updateConfig({onDisable:v?()=>h(fi.JZ.RUTUBE):void 0}))}),[h,v,o]);const _=Ta(n),f=(0,t.useCallback)((e=>{n.current=e,r.advertVideo=e}),[a]);return t.createElement("div",{className:gt()(xo,{[No]:"show"!==s}),id:"native-advert_container",ref:i},t.createElement("video",{className:gt()(ca,Oo),poster:ya,ref:f,preload:"auto",playsInline:!0,onError:e=>{var t;return null===(t=u.onError)||void 0===t?void 0:t.call(u,e.type)},onVolumeChange:_}))})),Mu=(0,_t.PA)((e=>{let{removeAdsButton:n}=e;const i=n,{currentState:r,currentAdvert:a,currentProvider:s,currentItems:o,playbackReady:u,isLoaded:c,isNodeConnected:d,backgroundStyles:h}=fa(),p=c&&i&&!(s instanceof Nu)&&"show"===r;if(!o.length||"error"===r||!d)return null;const v=s instanceof Nu?Du:Io;return t.createElement("div",{key:"raichu-advert","data-testid":"advert",className:Ro,style:{pointerEvents:a||c?"all":"none",opacity:"show"===r?1:0,visibility:"show"!==r?"hidden":"visible"}},(!c||!u)&&t.createElement("div",{className:Lo,style:(0,l.A)((0,l.A)({},h),{},{position:"absolute",width:"100%",height:"100%",zIndex:30,pointerEvents:"none"})},t.createElement(pr,null)),t.createElement("div",{style:{opacity:c?"1":"0"}},s&&v&&t.createElement(v,null),p&&t.createElement(i,null)))}));var Bu=s(6545);const Fu="advert-timer-module__wrapper___jp0qc",Hu="advert-timer-module__wrapper_hiddenControls___S97Nd",Vu="advert-timer-module__mobileControlsVisible____zDWP",Uu=(0,_t.PA)((()=>{const{currentState:e,startTimer:n,isShowAdvertTimer:i,preventAdvertLogic:r}=fa(),{isShowControls:a}=(0,Bu.useControls)(),s=gt()(Fu,{[Hu]:!a,[Vu]:qt.B.isMobile&&a});return!e||"show"===e||r?null:i?t.createElement("span",{className:s,"data-testid":"ad-countdown"},"Ð ÐµÐºÐ»Ð°Ð¼Ð° Ð½Ð°Ñ‡Ð½Ñ‘Ñ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· ",n):null})),ju=e=>{let{removeAdsButton:n}=e;return t.createElement(t.Fragment,null,t.createElement(Uu,null),t.createElement(Mu,{removeAdsButton:n}))},Wu=e=>{let{fn:t,timeout:n,maxAttempts:i,onRequest:r,onError:a}=e;return new Promise(((e,s)=>{let o,l=null,u=null,c=0;const d=performance.now(),h=()=>{l&&(clearTimeout(l),l=null),u&&(clearTimeout(u),u=null)};l=setTimeout((()=>{h(),s(o||new Error("Advert timeout exceeded"))}),n);const p=()=>{c++,r(),t().then((t=>{h(),e(t)})).catch((e=>{o=e;const t=performance.now()-d,r=n-t;if(r<=700||c>=i)return h(),void s(e);a(e);const l=Math.min(70*c,r);u=setTimeout((()=>p()),l)}))};p()}))},zu=e=>e.startsWith("https://ssp.rutube.")||e.startsWith("https://a.rutube.")||e.startsWith("https://yandex.ru")||e.includes("debug_url");class $u{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,r=arguments.length>4?arguments[4]:void 0;this.abortController=new AbortController,this.timeout=2e3,this.urls=[],this.advertsByUrl={},this.providersByUrl={},this.loaders={},this.done=!1,this.overallTimer=null,this.log={error:"",results:{}},this._advert=e,this._resolvePlaceholders=t,this._events=n,this._retryAttempts=i,this._forceSdk=r,this.init()}prepareUrls(){this.urls=this._advert.url_template.split("#").map(((e,t)=>this.addUrlPrefix(e,t))).filter((e=>{if(!e)return!1;try{return new URL(e),!0}catch(e){return!1}}))}addUrlPrefix(e,t){return`${e}&order=${t}`}removeUrlPrefix(e){return e.replace(/&order=\d+$/,"")}init(){this.timeout=this._advert.xmltimeout?1e3*this._advert.xmltimeout+1:this.timeout,this.prepareUrls(),this.urls.forEach(((e,t)=>{const n=(0,l.A)((0,l.A)({},this._advert),{},{url_template:this.removeUrlPrefix(e)});if(n.sdk=(e=>{const{url_template:t}=e;return t?zu(t)?la:oa:null})(n),n.sdk){if(this._forceSdk&&(n.sdk=this._forceSdk),"NATIVE"===n.sdk)this.providersByUrl[e]=new Nu({data:n},this._resolvePlaceholders);else{if("ADFOX_SDK"!==n.sdk)return;this.providersByUrl[e]=new Ua({data:n},this._resolvePlaceholders)}this.advertsByUrl[e]=n}else this.urls.splice(t,1)}))}loadProvider(e,t){return new Promise(((n,i)=>{const r=this.abortController.signal;if(r.aborted)return i(r.reason);r.addEventListener("abort",(()=>{i(r.reason)})),Promise.race([Wu({fn:e.load,timeout:this.timeout,maxAttempts:this._retryAttempts,onRequest:()=>this._events.onRequest(this.advertsByUrl[t],e),onError:n=>this._events.onError(this.advertsByUrl[t],e,n)}),this.loadTimer()]).then((e=>{n(e),this.log.results={url:!0}})).catch((n=>{var r;this.log.results[t]=(null==n||null===(r=n.toString)||void 0===r?void 0:r.call(n))||"unknown",this._events.onError(this.advertsByUrl[t],e,n),i(n)}))}))}loadTimer(){return new Promise(((e,t)=>{setTimeout((()=>{t(new Error("Advert loading timeout exceed"))}),this.timeout)}))}makeWaterfall(){Object.keys(this.providersByUrl).forEach((e=>{this.loaders[e]=this.loadProvider(this.providersByUrl[e],e)}))}cleanUp(e){this.overallTimer&&clearTimeout(this.overallTimer),this.abortController.abort("Needle advert url already loaded"),Object.keys(this.providersByUrl).forEach((t=>{var n;t!==e&&(null===(n=this.providersByUrl[t])||void 0===n||n.destroy(),delete this.providersByUrl[t],delete this.loaders[t])}))}async getResult(){return this.makeWaterfall(),Object.keys(this.loaders).length&&this.urls.length?new Promise((e=>{const t={};this.overallTimer=setTimeout((()=>{this.cleanUp(),this.log.error="Overall timeout exceed",this._events.onError(this._advert,void 0,`Waterfall: ${this.log.error}`),e({log:this.log,advert:this._advert})}),this.timeout+100);const n=()=>{if(!this.done)if(this.urls.length){let n=null,i=!1;for(const e of this.urls){if(void 0===t[e]){i=!0;break}if(t[e]){n=e;break}}n?(this.cleanUp(n),this.done=!0,e({advert:this.advertsByUrl[n],provider:this.providersByUrl[n],log:this.log})):i||(this.cleanUp(),e({log:this.log,advert:this._advert}))}else e({log:this.log,advert:this._advert})};Object.keys(this.loaders).forEach((e=>{this.loaders[e].then((()=>{t[e]=!0})).catch((()=>{var n;t[e]=!1,null===(n=this.providersByUrl[e])||void 0===n||n.destroy()})).finally((()=>{n()}))}))})):(this.log.error="No urls found",this._events.onError(this._advert,void 0,`Waterfall: ${this.log.error}`),{advert:this._advert,log:this.log})}}const Gu="1408",qu="404",Ku="1000",Yu=e=>"string"==typeof e?e:e instanceof Error&&!("code"in e)?e.message:e&&"code"in e?e.code:"unknown message",Qu=e=>{const t=Yu(e).toLowerCase();return t.includes("timeout")?Gu:t.includes("network")?qu:Ku},Xu=(e,t)=>{let n=!1;return e.find((e=>e.name.includes("midpostroll")))&&(n=!0),e.reduce(((e,i)=>{const r=i.start>t||i.start<0&&t+i.start<0;if(i.name.search(sa)>=0||r)return e;if(i.start>t)return e;const a=i.name,s=a.replace(/\d+/,"");let o=i.start<0?Math.floor(t)+i.start:i.start;"postroll"===s&&(o=Math.floor(t));const u=t-o,c=n&&i.name.includes("midroll")&&u<50;return pa(s)&&(e=>new RegExp(`^${ua.join("|")}(d+)?$`).test(e))(a)&&!c&&e.push((0,l.A)((0,l.A)({},i),{},{start:o,name:a,type:s})),e}),[])};var Zu,Ju;let ec,tc,nc,ic;var rc,ac;let sc,oc,lc;new(Ju=class extends k.j8{constructor(e,t,n,i,r,a,s,o,u,c,d){super(),this.isEmbed=(ec(this),!1),this.isMobile=qt.B.isMobile,this._adBlock=A.sH.box(null),this._items=A.sH.box({}),this._limits=A.sH.box([]),this._currentItems=A.sH.box([]),this._currentState=A.sH.box(null),this._currentProvider=A.sH.box(null),this._currentProgress=A.sH.box(0),this._playbackReady=A.sH.box(!1),this._loading=A.sH.box(!1),this._startTimer=A.sH.box(null),this._startTimerHandling=!1,this._preloadTimer=null,this._isPlaying=A.sH.box(!1),this._blockState=A.sH.box(null),this._cuePoints=A.sH.box([]),this._advertVideo=A.sH.box(null),this._preventAdvertStart=A.sH.box(!1),this._isAdvertEnded=A.sH.box(!1),this._isControlsHidden=A.sH.box(!1),this._advertRequestTimestamp=A.sH.box(null),this._customTitle=A.sH.box(null),this._adapter=null,this._eventEmitter=void 0,this._canAutoplay=!1,this._isAdvertPlayingDisabled=!1,this._preventAdvertEndEvent=!1,this._preloaded=!1,this._errorPhase="load",this._retryAttempts=5,this._forceSdk=void 0,this._loadSdk=()=>{fi.YL.forEach((e=>{var t;if(!e.id||!document.getElementById(null!==(t=e.id)&&void 0!==t?t:"")){var n,i,r;const t=document.createElement("script");t.id=null!==(n=e.id)&&void 0!==n?n:"",t.src=e.js,null===(i=document.getElementsByTagName("head")[0])||void 0===i||null===(r=i.appendChild)||void 0===r||r.call(i,t)}}))},this.onLoad=async()=>{var e,t;this._eventEmitter.emit(ra.load,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""}),this.loading="loaded",this._canAutoplay=await(()=>{const e=document.createElement("video");return e.playsInline=!0,e.src="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAARmbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAA+gAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAA5B0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+gAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAIAAAACAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPoAAAEAAABAAAAAAMIbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAAyAAAAMgBVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACs21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAnNzdGJsAAAAv3N0c2QAAAAAAAAAAQAAAK9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAIAAgBIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAANWF2Y0MBZAAK/+EAGWdkAAqs2V+IiMBEAAADAAQAAAMAyDxIllgBAAVo74bywP34+AAAAAAQcGFzcAAAAAEAAAABAAAAFGJ0cnQAAAAAAAAfkAAAH5AAAAAYc3R0cwAAAAAAAAABAAAAGQAAAgAAAAAUc3RzcwAAAAAAAAABAAAAAQAAANhjdHRzAAAAAAAAABkAAAABAAAEAAAAAAEAAAoAAAAAAQAABAAAAAABAAAAAAAAAAEAAAIAAAAAAQAACgAAAAABAAAEAAAAAAEAAAAAAAAAAQAAAgAAAAABAAAKAAAAAAEAAAQAAAAAAQAAAAAAAAABAAACAAAAAAEAAAoAAAAAAQAABAAAAAABAAAAAAAAAAEAAAIAAAAAAQAACgAAAAABAAAEAAAAAAEAAAAAAAAAAQAAAgAAAAABAAAKAAAAAAEAAAQAAAAAAQAAAAAAAAABAAACAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAGQAAAAEAAAB4c3RzegAAAAAAAAAAAAAAGQAAAsMAAAAMAAAADAAAAAwAAAAMAAAADQAAAA4AAAAMAAAADAAAAA0AAAAOAAAADAAAAAwAAAANAAAADgAAAAwAAAAMAAAADQAAAA4AAAAMAAAADAAAAA0AAAAOAAAADAAAAAwAAAAUc3RjbwAAAAAAAAABAAAElgAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTkuMTYuMTAwAAAACGZyZWUAAAP6bWRhdAAAAqkGBf//pdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNTUgcjI5MTcgMGE4NGQ5OCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTggLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0xIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgzIG1lPWRpYSBzdWJtZT0xIHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTAgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0wIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PTAgdGhyZWFkcz0xIGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0xIGtleWludD0yNTAga2V5aW50X21pbj0yNSBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmM9Y3JmIG1idHJlZT0wIGNyZj0yMC4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIHBiX3JhdGlvPTEuMzAgYXE9MToxLjAwAIAAAAASZYiEABL/6v/CVT+9s3RcRf/xAAAACEGaJBiCn/7wAAAACEGeQkIJf5KBAAAACAGeYUQR/5eAAAAACAGeY0QR/5eBAAAACUGaaDRMQU/+8QAAAApBnoZFESwT/4yBAAAACAGepUQR/5eBAAAACAGep0QS/5KAAAAACUGarDRMQU/+8AAAAApBnspFFSwT/4yBAAAACAGe6UQS/5KAAAAACAGe60QS/5KAAAAACUGa8DRMQU/+8QAAAApBnw5FFSwT/4yBAAAACAGfLUQS/5KBAAAACAGfL0QS/5KAAAAACUGbNDRMQU/+8AAAAApBn1JFFSwT/4yBAAAACAGfcUQS/5KAAAAACAGfc0QS/5KAAAAACUGbeDRMQU/+8QAAAApBn5ZFFSwU/4aAAAAACAGftUQS/5KBAAAACAGft0QS/5KB",e.autoplay=!0,e.style.visibility="hidden",document.body.appendChild(e),e.play().then((()=>!0)).catch((()=>!1)).finally((()=>{e.remove()}))})()},this.onRequest=(e,t)=>{this._eventEmitter.emit(ra.request,{name:e.name||"",urlTemplate:e.url_template||"",provider:t}),this._stat.onRequest(e)},this.onStart=()=>{var e,t;this._stat.onStart(),this.stabilizeAdVolume(),this.advertVideo&&P()&&this.advertVideo.removeAttribute("poster"),(0,A.h5)((()=>this._isPlaying.set(!0))),this._pip&&(this._pip.isEnterToPiPForbidden=!0),this._eventEmitter.emit(ra.start,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""})},this.onAlreadyStarted=()=>{var e,t;this._eventEmitter.emit(ra.alreadyStarted,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""})},this.startOnStateChange=()=>{var e,t;this._eventEmitter.emit(ra.startOnStateChange,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""})},this.logError=(e,t,n)=>{var i,r;const a=(0,tr.A)(),s=Qu(n);this._stat.onError(e,s,a),this._eventEmitter.emit(ra.error,{name:(null===(i=this.currentAdvert)||void 0===i?void 0:i.name)||"",urlTemplate:(null===(r=this.currentAdvert)||void 0===r?void 0:r.url_template)||"",errorMessage:Yu(n),errorCode:Qu(n),traceId:a,adProvider:t,phase:this._errorPhase})},this.onError=()=>{var e;null!==(e=this.blockState)&&void 0!==e&&e.total&&(this.blockState.total=this.blockState.total-1)},this.onWaterfallError=()=>{this.onError()},this.onAdvertError=e=>{var t;const n=(null===(t=this.currentProvider)||void 0===t?void 0:t.advert)||this.currentAdvert;n&&this.currentProvider&&(this.logError(n,this.currentProvider,e),this.onError())},this.onInitError=()=>{var e,t;this._eventEmitter.emit(ra.initError,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""})},this.onPlayingState=e=>{e&&"start"===this._errorPhase&&(this._errorPhase="playing"),this._stat.onPlayingState(e),(0,A.h5)((()=>this._isPlaying.set(e)))},this.onProgress=e=>{this.currentProgress=e},this.onEnd=e=>{if(!this.isAdvertEnded){var t,n;if(this.isAdvertEnded=!0,!this._preventAdvertEndEvent)this._eventEmitter.emit(ra.end,{name:(null===(t=this.currentAdvert)||void 0===t?void 0:t.name)||"",urlTemplate:(null===(n=this.currentAdvert)||void 0===n?void 0:n.url_template)||""});this._preventAdvertEndEvent=!1,this.loading=!1,(0,A.h5)((()=>this._isPlaying.set(!1))),this._pip&&(this._pip.isEnterToPiPForbidden=!1),this.currentAdvert&&(e&&(0,A.h5)((()=>{this.blockState&&this._blockState.set((0,l.A)((0,l.A)({},this.blockState),{},{viewed:this.blockState.viewed+1}))})),this.data.isLive&&this.currentAdvert.name.includes("preroll")&&this.playback.goLive(),this.removeCurrentAdvert())}},this.onImpression=()=>{var e;this._playback.volume>0&&null!==(e=this.currentProvider)&&void 0!==e&&e.volume&&this.currentProvider.volume>0&&this.stabilizeAdVolume()},this._onBlockStart=()=>{this._stat.onBlockStart(),(0,A.h5)((()=>this._blockState.set({total:this.currentItems.length,viewed:0})))},this._onBlockEnd=()=>{this._stat.onBlockEnd(),(0,A.h5)((()=>this._blockState.set(null))),this._playback.ended&&(this._playback.canReplay=!0)},this.skipAd=()=>{var e,t,n;null!==(e=this.currentProvider)&&void 0!==e&&e.adSkippable&&(this.currentProvider&&(null===(t=(n=this.currentProvider).skipAd)||void 0===t||t.call(n),this.currentProvider.adSkippable=!1))},this.onSkippableStateChangeToTrue=()=>{var e,t;this._eventEmitter.emit(ra.skippable,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""})},this.destroyCurrent=()=>{var e;null===(e=this.currentProvider)||void 0===e||e.destroy(),this._stat.clean(),this.currentItems=[],this.currentState=null,this.loading=!1},this.props=e,this._stat=t,this._playback=n,this._fullscreen=i,this._data=r,this._placeholders=a,this._embed=s,this._config=o,this._domNodeTracker=u,this._visibilityState=c,this._pip=d,this.isEmbed=e.value,this._eventEmitter=new kn,(0,A.Gn)(this,{adBlock:A.EW,items:A.EW,limits:A.EW,currentItems:A.EW,currentState:A.EW,currentProvider:A.EW,currentProgress:A.EW,cuePoints:A.EW,loading:A.EW,isLoading:A.EW,isLoaded:A.EW,startTimer:A.EW,isPlaying:A.EW,blockState:A.EW,data:A.EW,preventAdvertLogic:A.EW,isAdvertEnded:A.EW,isControlsHidden:A.EW,advertRequestTimestamp:A.EW,removeCurrentAdvert:A.XI}),this.resolvePlaceholders=this.resolvePlaceholders.bind(this)}init(){var t;if("player-carousel"===(null===(t=this._embed)||void 0===t||null===(t=t.params)||void 0===t?void 0:t.platform))return;"undefined"!=typeof window&&this._loadSdk();const n=[];return n.push((0,A.mJ)((()=>this._visibilityState.isVisible),(e=>{this._isAdvertPlayingDisabled||"show"!==this.currentState||(e?this.resume():this.pause())}))),n.push((0,A.mJ)((()=>this.currentItems),(e=>{window.location.search.includes(ha)&&console.warn(JSON.parse(JSON.stringify(e)))}))),n.push((0,A.mJ)((()=>({isVideoPlaying:this._playback.isPlaying,isAdPlaying:this.isPlaying})),(e=>{let{isVideoPlaying:t,isAdPlaying:n}=e;var i;C()&&this._fullscreen.isFullscreen||t&&(n||this.currentAdvert&&!this.isShowAdvertTimer)&&(null===(i=this._playback)||void 0===i||i.pause(),this.resume())}))),n.push((0,A.mJ)((()=>this.currentAdvert),(()=>{var e;if(window.location.search.includes(ha)&&console.warn("CURRENT ADVERT",JSON.parse(JSON.stringify(this.currentAdvert))),this._stat.advertUid=null,this.loading=!1,this._preloaded=!1,this.isAdvertEnded=!1,this.playbackReady=!1,null===(e=this.currentProvider)||void 0===e||e.destroy(),this._stat.advert=null,this._stat.provider=null,this._errorPhase="load",this.currentAdvert){if(C()&&this._fullscreen.isFullscreen)return void this.destroyOnIosFullScreen();(0,A.h5)((async()=>{try{this.loading="loading",this.advertRequestTimestamp=(new Date).getTime(),this._stat.makeUid();const e={onRequest:this.onRequest,onError:this.logError},t=new $u(this.currentAdvert,this.resolvePlaceholders.bind(this),e,this._retryAttempts,this._forceSdk),n=await t.getResult();if(null==n||!n.provider)throw new Error(`Waterfall error: ${JSON.stringify(n.log)}`);this._stat.advert=n.advert,this._stat.provider=n.provider,this.currentProvider=n.provider,this._errorPhase="start",this._stat.onLoad(),this.onLoad(),this._customTitle.set(this.currentProvider instanceof Nu?this.currentProvider.getCustomTitle():null)}catch(n){var e,t;this.loading=!1,this.onWaterfallError(),null===(e=this._adapter)||void 0===e||null===(t=e.onError)||void 0===t||t.call(e,this.currentAdvert),this.removeCurrentAdvert(),console.error("Failed to init provider",null==n?void 0:n.toString())}}))}}))),n.push((0,A.mJ)((()=>{var e;return null===(e=this._data)||void 0===e?void 0:e.data}),(t=>{(0,A.h5)((async()=>{t&&(this.adBlock=await(0,e.qZ)("https://static.rutube.ru/static/img/png/adsdkbanner.png"),this.adBlock&&this._eventEmitter.emit(ra.adBlockerFound,{}))}))}))),n.push((0,A.mJ)((()=>this._config.get("videoId")),(()=>{if("show"===this.currentState&&this.currentAdvert&&this.currentProvider){var e,t;if(!this._preventAdvertEndEvent)this._eventEmitter.emit(ra.end,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""});this._stat.onBlockEnd()}this._reset()}))),n.push((0,A.mJ)((()=>{var e;return null!==(e=this._config.get("userPaidSubscription"))&&void 0!==e?e:[]}),(e=>{var t;const n=(null===(t=e.filter((e=>e.is_active)))||void 0===t?void 0:t.length)>0;n&&this._reset()}))),n.push((0,A.mJ)((()=>{var e,t;return{advert:null===(e=this._data)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.advert,limits:null===(t=this._data)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.limits,isLive:this._data.isLive,duration:this._playback.duration}}),(e=>{let{advert:t,limits:n,isLive:i,duration:r}=e;if(n=[],!i&&(!r||isNaN(r)))return;let a=[],s={};(0,A.h5)((()=>{if(Array.isArray(n)&&(a=(e=>e.reduce(((e,t)=>{const n=t.name.search(sa)>=0;if(t.name.search(sa)>=0)return e;const i=n?t.name.replace(sa,""):t.name;return pa(i)&&e.push((0,l.A)((0,l.A)({},t),{},{name:i})),e}),[]))(n),this._limits.set(a)),Array.isArray(t)){const e=Xu(t,this._playback.duration),n=i?fi.UX:fi.RR,r=e.filter((e=>n.includes(e.type)));s=ia(r,"type"),this._items.set(s),window.location.search.includes(ha)&&console.warn("ALL ADVERT",s)}var e,r;this._adapter?null===(e=(r=this._adapter).reCalc)||void 0===e||e.call(r):this.initAdapter()}))}))),n.push((0,A.mJ)((()=>this.preventAdvertLogic),(e=>{e&&this.startTimer&&(this.startTimer=null)}))),n.push((0,A.mJ)((()=>({isPlaying:this._playback.isPlaying,isSeeking:this._playback.seeking,ended:this._playback.ended,startTimer:this.startTimer,loaded:this.isLoaded,prevented:this.preventAdvertLogic})),(e=>{let{isPlaying:t,startTimer:n,ended:i,loaded:r,prevented:a}=e;if(n&&t&&r&&!i){if(C()&&this._fullscreen.isFullscreen)return void this.destroyOnIosFullScreen();this._preloadTimer&&clearTimeout(this._preloadTimer),this._preloadTimer=setTimeout((()=>{this._startTimerHandling||(this._startTimerHandling=!0,this.startTimer=n-1,!this._preloaded&&"prefetch"===this.currentState&&!a&&this.playbackReady&&this.startTimer&&this.preload(),this.startTimer||a||("hidden"===document.visibilityState?(this.removeCurrentAdvert(),this._preventAdvertEndEvent=!0):this.currentState="show"),this._startTimerHandling=!1)}),1e3)}}))),n.push((0,A.mJ)((()=>0===this.currentItems.length),(e=>{e&&(this.currentState=null)}))),n.push((0,A.mJ)((()=>this.playbackReady),(e=>{var t;e&&(this._stat.onPlaybackReady(),null===(t=this.currentProvider)||void 0===t||t.registerEvents(this.events))}))),n.push((0,A.mJ)((()=>({state:this.currentState,prevented:this.preventAdvertLogic,provider:this.currentProvider,ready:this.playbackReady})),(e=>{let{state:t,prevented:n,provider:i,ready:r}=e;if(n)return this.removeCurrentAdvert(),void(this.playback.paused&&this.playback.play().catch(console.warn));var a,s;"show"===t&&i&&r&&(this._eventEmitter.emit(ra.startTriggered,{name:(null===(a=this.currentAdvert)||void 0===a?void 0:a.name)||"",urlTemplate:(null===(s=this.currentAdvert)||void 0===s?void 0:s.url_template)||""}),null==i||i.play())}),{equals:A.m3.default})),n.push((0,A.mJ)((()=>this.currentItems.length),(e=>{0===e&&this.blockState?this._onBlockEnd():e>0&&!this.blockState&&this._onBlockStart()}))),C()&&n.push((0,A.mJ)((()=>this._fullscreen.isFullscreen),(e=>{e&&this.destroyOnIosFullScreen()}))),()=>{this._reset(),n.forEach((e=>e()))}}initAdapter(){this._adapter=this._data.isLive?new ma(this,this._playback):new _a(this,this._playback),this._adapter.init()}removeCurrentAdvert(){setTimeout((()=>{var e;this._preloaded=!1,null===(e=this.currentProvider)||void 0===e||e.destroy(),this.currentProvider=null,this.currentProgress=0,this.playbackReady=!1,this._isPlaying.set(!1),this._stat.clean(),(0,A.h5)((()=>{this._currentItems.set(this.currentItems.slice(1))}))}))}stabilizeAdVolume(){var e,t;const n=!P()&&this.currentProvider instanceof Ua&&this.currentProvider.adVolumeAvailability,i=Boolean("userActivation"in window.navigator&&(null===(e=window.navigator)||void 0===e||null===(e=e.userActivation)||void 0===e?void 0:e.hasBeenActive)),r=null===(t=this.currentAdvert)||void 0===t||null===(t=t.name)||void 0===t?void 0:t.includes("preroll");if((this._canAutoplay||i)&&n){var a;const e=((null===(a=this.currentProvider)||void 0===a?void 0:a.volume)||0)>1?this._playback.volume/100:this._playback.volume,t=this._playback.muted||r?0:e/2;if(t>0&&P())return;this.currentProvider&&this.currentProvider.volume!==t&&(this.currentProvider.volume=t)}}async preload(){if(this._preloaded=!0,this.currentAdvert){var e,t;var n,i;if(!1===await(null===(e=this.currentProvider)||void 0===e||null===(t=e.preload)||void 0===t?void 0:t.call(e)))this.currentItems.length<=1&&(this.startTimer=null),this.onAdvertError("Preload error"),null===(n=this._adapter)||void 0===n||null===(i=n.onError)||void 0===i||i.call(n,this.currentAdvert),this.removeCurrentAdvert()}}_reset(){(0,A.h5)((()=>{var e,t;null===(e=this.currentProvider)||void 0===e||e.destroy(),this.currentProvider=null,null===(t=this._adapter)||void 0===t||t.destroy(),this._adapter=null,this._stat.clean(),this._isPlaying.set(!1),this._loading.set(!1),this._items.set({}),this._currentItems.set([]),this._currentState.set(null),this._currentProgress.set(0),this._startTimer.set(null),this._blockState.set(null),this._cuePoints.set([]),this._preventAdvertStart.set(!1),this._preloaded=!1,this.playbackReady=!1,this._errorPhase="load",this._preloadTimer&&clearTimeout(this._preloadTimer)}))}destroyOnIosFullScreen(){this._preventAdvertEndEvent=!0,this.currentItems=[],this.removeCurrentAdvert(),this._isPlaying.set(!1),this.startTimer=null,this._playback.ended&&(this._playback.canReplay=!0)}resolvePlaceholders(e){return this._placeholders.resolveCommonPlaceholders(e)}on(e,t){this._eventEmitter.on(e,t)}once(e,t){this._eventEmitter.once(e,t)}off(e,t){this._eventEmitter.off(e,t)}pause(){var e;null===(e=this._currentProvider.get())||void 0===e||e.pause()}resume(){var e;null===(e=this._currentProvider.get())||void 0===e||e.resume()}disableAdvertPlaying(){this._isAdvertPlayingDisabled=!0,this.pause()}enableAdvertPlaying(){this._isAdvertPlayingDisabled=!1,this.resume()}get preventAdvertLogic(){return this._preventAdvertStart.get()}set preventAdvertLogic(e){this._preventAdvertStart.set(e)}get adBlock(){return this._adBlock.get()}set adBlock(e){this._adBlock.set(e)}get isAdvertEnded(){return this._isAdvertEnded.get()}set isAdvertEnded(e){this._isAdvertEnded.set(e)}get items(){var e;return C()&&this._fullscreen.isFullscreen||"player-carousel"===(null===(e=this._embed)||void 0===e?void 0:e.params.platform)?{}:this._items.get()}get limits(){return this._limits.get()}get events(){return{onStart:this.onStart,onAlreadyStarted:this.onAlreadyStarted,startOnStateChange:this.startOnStateChange,onEnd:this.onEnd,onError:this.onAdvertError,onInitError:this.onInitError,onPlayingState:this.onPlayingState,onProgress:this.onProgress,onImpression:this.onImpression,onSkippableStateChangeToTrue:this.onSkippableStateChangeToTrue,onClick:()=>this._stat.onClick(),onSkip:()=>this._stat.onSkip(),onViewQuartile:this._stat.onViewQuartile,onSuccess:this._stat.onSuccess}}get currentAdvert(){return this.currentItems[0]||null}get currentState(){return this._currentState.get()}set currentState(e){this._currentState.set(e)}get currentItems(){return this._currentItems.get()}set currentItems(e){this._currentItems.set(e)}get startTimer(){return this._startTimer.get()}set startTimer(e){this._startTimer.set(e)}get currentProvider(){return this._currentProvider.get()}set currentProvider(e){this._currentProvider.set(e)}get currentProgress(){return this._currentProgress.get()}set currentProgress(e){this._currentProgress.set(e)}get isPlaying(){return this._isPlaying.get()}get blockState(){return this._blockState.get()}get isSafeMode(){const{minAge:e,maxAge:t}=this._config.get("safeModeConfig")||{};return null!=e&&null!=t}get loading(){return this._loading.get()}set loading(e){this._loading.set(e)}get isLoading(){return"loading"===this._loading.get()}get isLoaded(){return"loaded"===this._loading.get()}get data(){return this._data}get backgroundStyles(){return{backgroundColor:"black",backgroundSize:"cover",backgroundPosition:"center"}}get playback(){return this._playback}get cuePoints(){return this._cuePoints.get()}set cuePoints(e){this._cuePoints.set(e)}get advertVideo(){return this._advertVideo.get()}set advertVideo(e){this._advertVideo.set(e)}get isShowAdvertTimer(){return Boolean("prefetch"===this.currentState&&this.startTimer&&this.isLoaded)}get customTitle(){return this._customTitle.get()}get playbackReady(){return this._playbackReady.get()}set playbackReady(e){this._playbackReady.set(e)}get isNodeConnected(){return this._domNodeTracker.isConnected}get isControlsHidden(){return this._isControlsHidden.get()}set isControlsHidden(e){this._isControlsHidden.set(e)}get currentAdvertUid(){return this._stat.advertUid}get advertRequestTimestamp(){return this._advertRequestTimestamp.get()}set advertRequestTimestamp(e){this._advertRequestTimestamp.set(e)}get hideControlsOnAdvert(){return!1}},({e:[ec],c:[ic,tc]}=(0,S.A)(Ju,[(0,k.k_)({implement:"IAdvertPlugin",ctor_args:["IsEmbed","IAdvertStatPlugin","IPlayback","IFullscreenPlugin","IDataPlugin","IPlaceholdersState",{implement:"IEmbedPlugin",optional:!0},"IPlayerConfigPlugin","IDomNodeTrackerPlugin","IVisibilityStatePlugin",{implement:"PictureInPicturePlugin",optional:!0}]})],[[(0,k.o7)(),2,"init"],[A.XI,2,"destroyOnIosFullScreen"],[k.zm,2,"disableAdvertPlaying"],[k.zm,2,"enableAdvertPlaying"]],0,void 0,k.j8)),nc=Ju,(Zu=class extends V{constructor(){super(ic),this.Advert=ju,tc()}})[nc]=void 0,Zu),new(ac=class extends k.j8{constructor(e){super(),this._requestTimestamp=null,this._watchTimeInterval=null,this._lastTimestamp=0,this._watchTime=A.sH.box(0),this._advertUid=A.sH.box(null),this._advert=A.sH.box(null),this.provider=null,this._sentEvents=new Map,this.counterHelper=void 0,this.getCommonParams=e=>{var t,n,i,r,a;const{name:s,type:o}=e;return{advertName:s,advertId:null===(t=this.provider)||void 0===t||null===(t=t.placeholders)||void 0===t?void 0:t.advertId,campaignId:(null===(n=this.provider)||void 0===n||null===(n=n.placeholders)||void 0===n?void 0:n.campaignId)||"",urlTemplate:e.url_template,duration:null===(i=this.provider)||void 0===i||null===(i=i.placeholders)||void 0===i||null===(i=i.adDur)||void 0===i?void 0:i.toString(),skipDuration:null===(r=this.provider)||void 0===r||null===(r=r.placeholders)||void 0===r?void 0:r.adsSkipt,ownerId:(null===(a=this.provider)||void 0===a||null===(a=a.placeholders)||void 0===a?void 0:a.adsOwnerId)||"",type:o}},this.onLoad=()=>{var e,t;if(!this.advert)return;const n=this.getCommonParams(this.advert);null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertReceive")(n),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertReceiveByType")(n)},this.onRequest=e=>{var t,n,r;this._requestTimestamp=(new Date).getTime();const a=this.getCommonParams(e);if(!a.ownerId){const t=(0,i.al)(e.url_template);a.ownerId=t.ownerId||"",!a.urlTemplate&&zu(e.url_template)&&(a.ownerId=100..toString())}null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertRequest")(a),null===(n=this.counterHelper)||void 0===n||n.get("mainAdvertSend")(a),null===(r=this.counterHelper)||void 0===r||r.get("mainAdvertSendByType")(a)},this.onStart=()=>{var e,t,n;if(!this.advert)return;const i=this.getCommonParams(this.advert);null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertStart")(i),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertStartByType")(i),null===(n=this.counterHelper)||void 0===n||n.get("mainAdvertView")(i)},this.onSuccess=()=>{var e,t;if(!this.advert)return;const n=this.getCommonParams(this.advert);null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertEnd")(n),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertLoadAfterAd")(n)},this.onSkip=()=>{var e;if(!this.advert)return;const t=this.getCommonParams(this.advert);null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertSkip")(t)},this.onClose=()=>{var e;if(!this.advert)return;const t=this.getCommonParams(this.advert);null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertClose")(t)},this.onError=(e,t,n)=>{var i;if(!e)return;const r=this.getCommonParams(e);null===(i=this.counterHelper)||void 0===i||i.get("mainAdvertError")((0,l.A)((0,l.A)({},r),{},{errorCode:t,errorTraceId:n}))},this.onClick=()=>{var e;if(!this.advert)return;const t=this.getCommonParams(this.advert);null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertClick")(t)},this.onViewQuartile=e=>{var t;if(!this.advert)return;const n=this.getCommonParams(this.advert),i=lc.viewQuartileType[e];null===(t=this.counterHelper)||void 0===t||t.get(i)(n)},this._onUnload=()=>{var e;if(!this.advert)return;const t=this.getCommonParams(this.advert);null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertUnload")(t)},this.onBlockStart=()=>{var e,t,n,i;if(!this.advert)return;const r=this.getCommonParams(this.advert),a=`ADVERT_STAT_BLOCK_START_${r.type.toUpperCase()}`;null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertBlockStart")(r),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertBlockStartByType")(r),null===(n=this.counterHelper)||void 0===n||n.get("mainAdvertBlockStartYm")(r),null===(i=this.counterHelper)||void 0===i||i.get("mainAdvertBlockStartYmCustom")((0,l.A)((0,l.A)({},r),{},{event:a}))},this.onBlockEnd=()=>{var e,t,n,i;if(!this.advert)return;const r=this.getCommonParams(this.advert),a=`ADVERT_STAT_BLOCK_END_${r.type.toUpperCase()}`;null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertBlockEnd")(r),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertBlockEndByType")(r),null===(n=this.counterHelper)||void 0===n||n.get("mainAdvertBlockEndYm")(r),null===(i=this.counterHelper)||void 0===i||i.get("mainAdvertBlockEndYmCustom")((0,l.A)((0,l.A)({},r),{},{event:a}))};const t=this._sentEvents;this.counterHelper=e&&e instanceof ps?new Proxy(e.counterHelper,{get(e,n,i){return"get"===n&&"function"==typeof e[n]?function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];const o=a[0],l=["mainAdvertRequest","mainAdvertError","mainAdvertSend","mainAdvertSendByType"].includes(o);return t.has(o)&&!l?()=>{}:(t.set(o,!0),Reflect.apply(e[n],i,a))}:Reflect.get(e,n,i)}}):void 0,(0,A.Gn)(this,{viewId:A.EW,watchTime:A.EW,advert:A.EW,advertUid:A.EW})}makeUid(){this.advertUid=(0,tr.A)()}onPlaybackReady(){window.addEventListener("beforeunload",this._onUnload)}onPlayingState(e){e?(this._lastTimestamp=(new Date).getTime(),this._watchTimeInterval=setInterval((()=>{this.watchTime+=(new Date).getTime()-this._lastTimestamp,this._lastTimestamp=(new Date).getTime()}),200)):(this._lastTimestamp&&(this.watchTime+=(new Date).getTime()-this._lastTimestamp,this._lastTimestamp=0),this._watchTimeInterval&&clearInterval(this._watchTimeInterval))}clean(){this.watchTime=0,window.removeEventListener("beforeunload",this._onUnload),this._sentEvents.clear()}get viewId(){var e;return`${(null===(e=this.provider)||void 0===e||null===(e=e.info)||void 0===e?void 0:e.advertId)||""}_${String(this._requestTimestamp)}_${Math.random()}`}get watchTime(){return this._watchTime.get()}set watchTime(e){this._watchTime.set(e)}get advertUid(){return this._advertUid.get()}set advertUid(e){this._advertUid.set(e)}get advert(){return this._advert.get()}set advert(e){this._advert.set(e)}},[lc,sc]=(0,S.A)(ac,[(0,k.k_)({implement:"IAdvertStatPlugin",ctor_args:[{implement:"IStatisticState",optional:!0}]})],[],0,void 0,k.j8).c,oc=ac,(rc=class extends V{constructor(){super(lc),this.viewQuartileType={first:"mainAdvertFirstQuartile",second:"mainAdvertSecondQuartile",third:"mainAdvertThirdQuartile"},sc()}})[oc]=void 0,rc);class uc{constructor(){this._timer=null,this._time=0,this._timestamp=null,this._oneSecPassed=A.sH.box(!1),this._twoSecPassed=A.sH.box(!1),(0,A.Gn)(this,{oneSecPassed:A.EW,twoSecPassed:A.EW})}start(){this._timestamp=Date.now(),this.increment()}increment(){this._timer=setTimeout((()=>{const e=Date.now(),t=this._timestamp?e-this._timestamp:0;this._time+=t,this._time>=2e3&&!this.twoSecPassed?this.twoSecPassed=!0:(this._time>=1e3&&!this.oneSecPassed&&(this.oneSecPassed=!0),this._timestamp=e,this.increment())}),200)}clear(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._time=0}reset(){this.clear(),this.oneSecPassed=!1,this.twoSecPassed=!1,this._timestamp=null}set oneSecPassed(e){this._oneSecPassed.set(e)}get oneSecPassed(){return this._oneSecPassed.get()}set twoSecPassed(e){this._twoSecPassed.set(e)}get twoSecPassed(){return this._twoSecPassed.get()}}const cc="mrc_50_1",dc="mrc_50_2",hc="mrc_100_1",pc="mrc_100_2";var vc,mc;let _c;class fc extends(vc=k.j8){constructor(e,t){super(),this._isHalfVisible=(_c(this),A.sH.box(!1)),this._halfVisibleTimer=null,this._isFullVisible=A.sH.box(!1),this._fullVisibleTimer=null,this._observer=null,this._lastRatio=0,this._sentEvents=new Map,this._isHidden=A.sH.box(!1),this._visibilityState=e,this._counterHelper=t,this._halfVisibleTimer=new uc,this._fullVisibleTimer=new uc,(0,A.Gn)(this,{isHalfVisible:A.EW,isFullVisible:A.EW,isHidden:A.EW})}checkIntersecting(e){e.forEach((e=>{e.isIntersecting&&(e.intersectionRatio>=.5?(!this._lastRatio||this._lastRatio&&this._lastRatio<.5)&&(this.isHalfVisible=!0):this.isHalfVisible=!1,this.isFullVisible=Boolean(1===e.intersectionRatio),this._lastRatio=e.intersectionRatio)}))}initObserver(e){e&&(this._observer=new IntersectionObserver(this.checkIntersecting.bind(this),{root:null,threshold:[0,.5,1]}),this._observer.observe(e))}disconnectObserver(){var e,t;this._observer&&(this._observer.disconnect(),this._observer=null,this._lastRatio=0,this._sentEvents.clear(),null===(e=this._halfVisibleTimer)||void 0===e||e.reset(),null===(t=this._fullVisibleTimer)||void 0===t||t.reset(),this.isHalfVisible=!1,this.isFullVisible=!1,this.isHidden=!1)}init(){const e=this.initDisposerHandler();return()=>{this.disconnectObserver(),e()}}initVisibilityChangeHandler(){return(0,A.mJ)((()=>{var e;return null===(e=this._visibilityState)||void 0===e?void 0:e.isVisible}),(e=>{this.isHidden=!e}))}initHalfTimer(){const e=[];return e.push((0,A.mJ)((()=>({isHalfVisible:this.isHalfVisible,isHidden:this.isHidden,isInPiP:this.isInPiP})),(e=>{let{isHalfVisible:t,isHidden:n,isInPiP:i}=e;var r;if((!t||n)&&!i)return void(null===(r=this._halfVisibleTimer)||void 0===r||r.clear());var a;this._sentEvents.has(cc)&&this._sentEvents.has(dc)||(null===(a=this._halfVisibleTimer)||void 0===a||a.start())}))),e.push((0,A.mJ)((()=>{var e;return null===(e=this._halfVisibleTimer)||void 0===e?void 0:e.oneSecPassed}),(e=>{e&&!this._sentEvents.has(cc)&&(this.sendMetric(cc),this._sentEvents.set(cc,!0))}))),e.push((0,A.mJ)((()=>{var e;return null===(e=this._halfVisibleTimer)||void 0===e?void 0:e.twoSecPassed}),(e=>{e&&!this._sentEvents.has(dc)&&(this.sendMetric(dc),this._sentEvents.set(dc,!0))}))),()=>e.forEach((e=>e()))}initFullTimer(){const e=[];return e.push((0,A.mJ)((()=>({isFullVisible:this.isFullVisible,isHidden:this.isHidden,isInPiP:this.isInPiP})),(e=>{let{isFullVisible:t,isHidden:n,isInPiP:i}=e;var r;if((!t||n)&&!i)return void(null===(r=this._fullVisibleTimer)||void 0===r||r.clear());var a;this._sentEvents.has(hc)&&this._sentEvents.has(pc)||(null===(a=this._fullVisibleTimer)||void 0===a||a.start())}))),e.push((0,A.mJ)((()=>{var e;return null===(e=this._fullVisibleTimer)||void 0===e?void 0:e.oneSecPassed}),(e=>{e&&!this._sentEvents.has(hc)&&(this.sendMetric(hc),this._sentEvents.set(hc,!0))}))),e.push((0,A.mJ)((()=>{var e;return null===(e=this._fullVisibleTimer)||void 0===e?void 0:e.twoSecPassed}),(e=>{e&&!this._sentEvents.has(pc)&&(this.sendMetric(pc),this._sentEvents.set(pc,!0))}))),()=>e.forEach((e=>e()))}set isHalfVisible(e){this._isHalfVisible.set(e)}get isHalfVisible(){return this._isHalfVisible.get()}set isFullVisible(e){this._isFullVisible.set(e)}get isFullVisible(){return this._isFullVisible.get()}set isHidden(e){this._isHidden.set(e)}get isHidden(){return this._isHidden.get()}}var gc,yc,bc;let Ec,wc,Sc;mc=fc,[_c]=(0,S.A)(mc,[],[[(0,k.o7)(),2,"init"],[(0,k.o7)(),2,"initVisibilityChangeHandler"],[(0,k.o7)(),2,"initHalfTimer"],[(0,k.o7)(),2,"initFullTimer"]],0,void 0,vc).e,new(bc=class extends(gc=fc){constructor(e,t,n,i){super(t,e instanceof ps?e.counterHelper:void 0),this._advert=n,this._advertStat=i}initDisposerHandler(){return(0,A.mJ)((()=>({node:this._advert.advertVideo,isPlaying:this._advert.isPlaying})),(e=>{let{node:t,isPlaying:n}=e;t?n&&!this._observer&&this.initObserver(t):this.disconnectObserver()}))}sendMetric(e){if(e in Sc.EVENTS&&this._advertStat.advert){var t;const n=this._advertStat.getCommonParams(this._advertStat.advert);null===(t=this._counterHelper)||void 0===t||t.get(Sc.EVENTS[e])(n)}}get isInPiP(){return!1}},[Sc,Ec]=(0,S.A)(bc,[(0,k.k_)({implement:"IAdvertStatisticMRCPlugin",ctor_args:["IStatisticState","IVisibilityStatePlugin","IAdvertPlugin","IAdvertStatPlugin"]})],[],0,void 0,gc).c,wc=bc,(yc=class extends V{constructor(){super(Sc),this.EVENTS={[cc]:"mainAdvertMrcHalfVisibleOneSec",[dc]:"mainAdvertMrcHalfVisibleTwoSec",[hc]:"mainAdvertMrcFullVisibleOneSec",[pc]:"mainAdvertMrcFullVisibleTwoSec"},Ec()}})[wc]=void 0,yc);const Ac=e=>{let{items:t,limits:n,viewedItems:i}=e;const r=t.filter((e=>!i.includes(e.name)));if(!r.length)return r;const a=n[r[0].type];return void 0===a?r:a?r.slice(0,a):[]},kc=()=>t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4C3.34315 4 2 5.34315 2 7V17C2 18.6569 3.34315 20 5 20H19C20.6569 20 22 18.6569 22 17V7C22 5.34315 20.6569 4 19 4H5ZM6.0001 12.2489C5.58589 12.2489 5.25006 12.5846 5.25 12.9988C5.24995 13.413 5.58569 13.7489 5.99991 13.7489L13.4999 13.7499C13.9141 13.7499 14.25 13.4142 14.25 13C14.2501 12.5858 13.9143 12.2499 13.5001 12.2499L6.0001 12.2489ZM6 15.2489C5.58579 15.2489 5.25 15.5847 5.25 15.9989C5.25 16.4131 5.58579 16.7489 6 16.7489H18C18.4142 16.7489 18.75 16.4131 18.75 15.9989C18.75 15.5847 18.4142 15.2489 18 15.2489H6ZM15.25 12.9989C15.25 12.5847 15.5858 12.2489 16 12.2489H18C18.4142 12.2489 18.75 12.5847 18.75 12.9989C18.75 13.4131 18.4142 13.7489 18 13.7489H16C15.5858 13.7489 15.25 13.4131 15.25 12.9989Z",fill:"white"})),Cc=()=>t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"2.62",y:"4.62",width:"18.76",height:"14.76",rx:"2.38",stroke:"white",strokeWidth:"1.24"}),t.createElement("path",{d:"M6 13H13.5",stroke:"white",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("path",{d:"M6 16H18",stroke:"white",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("path",{d:"M16 13H18",stroke:"white",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}));var Pc=s(3218);function Tc(){return(0,Dt.p5)().resolve("ICaptionsPlugin")}const Ic=(0,_t.PA)((e=>{let{size:n}=e;const i=Tc(),{playOptionsCaptions:r,isShowCaptions:a,onCaptionsButtonClick:s,onCaptionsButtonShow:o}=i,{getDataAttribute:l}=(0,Yn.f)(),u=a?kc:Cc,c=a?Ve.m_.CaptionsOff:Ve.m_.CaptionsOn,d=a?"Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹":"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹";return(0,t.useEffect)((()=>{o()}),[]),t.createElement(t.Fragment,null,Boolean(null==r?void 0:r.length)&&t.createElement(Pc.r,(0,On.A)({tabIndex:0,role:"button","aria-label":d,icon:u,onClick:s,tooltipTitle:c,tooltipPlacement:"top",tooltipZIndex:Ve.m_.ControlsTooltipZIndex,size:n},l(a?Qn.R.OFF_SUBTITLE_BUTTON:Qn.R.ON_SUBTITLE_BUTTON))))}));var Rc=s(8572);const Lc={"Ð ÑƒÑÑÐºÐ¸Ð¹":"ru","ÐÐ½Ð³Ð»Ð¸Ð¹ÑÐºÐ¸Ð¹":"en"},xc=(0,_t.PA)((e=>{var n;const{caption:i,cueChangeHandler:r,active:a,isCaptionsOn:s,isFullScreen:o}=e,l=(0,t.useRef)(null),[u,c]=(0,t.useState)(!1),d=Tc();return(0,t.useEffect)((()=>{if(null!=l&&l.current){const e=l.current.track;return a&&C()&&"disabled"===e.mode&&u&&(d.isShowCaptions=!1),e.mode="hidden",a&&s&&o&&C()&&(e.mode="showing",c(!0)),!a||o&&C()||(e.mode="hidden"),a||(e.mode="hidden",e.removeEventListener("cuechange",r)),a&&e.addEventListener("cuechange",r),()=>{e&&e.removeEventListener("cuechange",r)}}}),[l,a,s,o,r,u,d]),t.createElement("track",{id:`${null!==(n=i.langTitle)&&void 0!==n?n:"track_0"}`,ref:l,src:i.file,kind:"captions",srcLang:Lc[i.langTitle]})})),Oc="captions-module__captions___gmT8R",Nc="captions-module__captionsFontMedium___G2LHz",Dc="captions-module__captionsFontSmall___GsMSO",Mc="captions-module__captionsFontLarge___N0bIy",Bc="captions-module__captionsWithControls___bSHpO",Fc="captions-module__span___IRTOI";var Hc=s(7140),Vc=s.n(Hc);const Uc=["script","object","applet","embed","frameset","iframe","form","textarea","input","select","button","img","picture","canvas","figure","audio","video"],jc=(e,t)=>{Array.from(e.childNodes).forEach((e=>{const n=e.nodeName.toLowerCase();if("#text"===n)return;jc(e,t);if(t.includes(n)){const t=document.createElement(n);t.innerHTML=e.innerHTML,e.replaceWith(t)}else e.replaceWith(...e.childNodes)}))},Wc=(0,_t.PA)((()=>{const e=Tc(),{video:n,isControlsShown:i,videoId:r}=e,{getDataAttribute:a}=(0,Yn.f)(),{captions:s,activeCaption:o,isShowCaptions:l,isFullscreen:u,captionsColor:c,captionsTextSize:d,captionsBackgroundColor:h,captionsBackgroundOpacity:p,parsedCaptions:v}=e,[m,_]=(0,t.useState)(null);(0,t.useEffect)((()=>{var t;null!==(t=e.playOptionsCaptions)&&void 0!==t&&t.length&&e.setAllAndActiveCaptionsState(r)}),[e,e.playOptionsCaptions,r]),(0,t.useEffect)((()=>{const t=t=>{const n=null==t?void 0:t.target;if(e.isFullscreen&&C()&&n&&s){const t=Array.from(n).find((e=>"showing"===e.mode)),i=null!=t&&t.id?s[null==t?void 0:t.id]:null;i&&(e.isShowCaptions=!0,e.activeCaption=i)}};return null==n||n.textTracks.addEventListener("change",t),()=>{null==n||n.textTracks.removeEventListener("change",t)}}),[n]);const f=(0,t.useCallback)((e=>{var t;const n=null==e?void 0:e.target;if(n&&null!==(t=n.activeCues)&&void 0!==t&&t.length){const e=n.activeCues[0],t=((e,t)=>{const n=(new DOMParser).parseFromString(e,"text/html");return n.querySelectorAll(Uc.join(",")).forEach((e=>e.remove())),jc(n.body,t),n.body.innerHTML})(e.text,["b","i","strong","em"]);_(t),jr.Ug.emit(fi.L2.CUE_CHANGE,{id:e.id,startTime:e.startTime,endTime:e.endTime,text:e.text,vertical:e.vertical,snapToLines:e.snapToLines,line:e.line,position:e.position,size:e.size,align:e.align})}else _(null)}),[]),g=(0,t.useMemo)((()=>{if(m&&l){var e,n,r;const s=(e=>{e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i}));const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null})(h),o={color:c,background:`rgba(${null!==(e=null==s?void 0:s.r)&&void 0!==e?e:0}, ${null!==(n=null==s?void 0:s.g)&&void 0!==n?n:0}, ${null!==(r=null==s?void 0:s.b)&&void 0!==r?r:0}, ${p/10})`};return t.createElement("div",{className:gt()(Oc,{[Bc]:i,[Nc]:"medium"===d,[Mc]:"large"===d,[Dc]:"small"===d})},t.createElement("span",(0,On.A)({className:Fc,style:o,dangerouslySetInnerHTML:{__html:m}},a(Qn.R.PLAYER_TEXT))))}return null}),[m,l,h,c,p,i,d,a]);return t.createElement(t.Fragment,null,(()=>{if(!n)return null;const e=Object.values(v).map((e=>t.createElement(xc,{key:e.langTitle,active:e.langTitle===(null==o?void 0:o.langTitle),cueChangeHandler:f,caption:e,isCaptionsOn:l,isFullScreen:u})));return Rc.createPortal(e,n)})(),g)}));class zc{constructor(){this.getStorageItem=t=>{const n=e.ae.getItem(fi.Ok.CAPTIONS);if(n){return JSON.parse(n)[t]}return null},this.prepareAndStore=(t,n)=>{let i=e.ae.getItem(fi.Ok.CAPTIONS);if(i){let r=JSON.parse(i);r=(0,l.A)((0,l.A)({},r),{},{[t]:n}),i=JSON.stringify(r),e.ae.setItem(fi.Ok.CAPTIONS,i)}},this.setInitiaSettings=t=>{const n={active:t?"1":"0",color:"#ffffff",size:"medium",bgColor:"#000000",bgOpacity:7,savedSubs:{}};e.ae.setItem(fi.Ok.CAPTIONS,JSON.stringify(n))},this.initStorage=()=>{e.ae.getItem(fi.Ok.CAPTIONS)||this.setInitiaSettings()}}get activeFlag(){return this.getStorageItem("active")}get textColor(){return this.getStorageItem("color")}get textSize(){return this.getStorageItem("size")}get backgroundColor(){return this.getStorageItem("bgColor")}get backgroundOpacity(){return this.getStorageItem("bgOpacity")}get savedSubs(){return this.getStorageItem("savedSubs")}}var $c;let Gc,qc,Kc,Yc,Qc,Xc,Zc;var Jc=G("A"),ed=G("B");class td extends k.j8{static get CaptionButton(){return Ic}static get Captions(){return Wc}get _captions(){return z(this,Jc)[Jc]}set _captions(e){z(this,Jc)[Jc]=e}get _parsedCaptions(){return z(this,ed)[ed]}set _parsedCaptions(e){z(this,ed)[ed]=e}constructor(e,t,n,i,r,a){super(),this._isShowCaption=(Gc(this),A.sH.box(!1)),this._playOptionsCaptions=A.sH.array([]),Object.defineProperty(this,Jc,{writable:!0,value:Kc(this,{})}),Object.defineProperty(this,ed,{writable:!0,value:(Yc(this),Qc(this,{}))}),this._activeCaption=(Xc(this),A.sH.box(null)),this._captionsColor=A.sH.box("#ffffff"),this._captionsBackgroundColor=A.sH.box("#000000"),this._captionsBackgroundOpacity=A.sH.box(7),this._captionsTextSize=A.sH.box("medium"),this._savedSubs={},this._lStorageInstance=void 0,this.counterHelper=void 0,this._config=e,this._dataStore=t,this._playback=n,this._fullscreen=i,this._controls=r,this._lStorageInstance=new zc,this._initCaptions(),this.counterHelper=a&&a instanceof ps?a.counterHelper:void 0,(0,A.Gn)(this,{isShowCaptions:A.EW,captions:A.EW,activeCaption:A.EW,playOptionsCaptions:A.EW,captionLanguage:A.EW,hasCaptions:A.EW,captionsColor:A.EW,captionsBackgroundColor:A.EW,captionsBackgroundOpacity:A.EW,captionsTextSize:A.EW,isControlsShown:A.EW,parsedCaptions:A.EW})}intiCaptions(){return(0,A.mJ)((()=>this._dataStore.captions),(e=>{this._playOptionsCaptions.clear(),this.parsedCaptions={},e&&(this._playOptionsCaptions.replace(e),this.captions=e.reduce(((e,t,n)=>(0===n&&(this.activeCaption=t),t.langTitle in e?"vtt"===t.format&&(e[t.langTitle]=t):e[t.langTitle]=t,e)),{}))}))}initLoadAndParseCaptions(){return(0,A.mJ)((()=>({video:this.video,captions:this._captions})),(e=>{let{video:t,captions:n}=e;if(!t||!n||!Object.keys((0,A.HO)(n)).length)return null;this.loadAndParseCaptions()}),{fireImmediately:!0})}initSetCaptions(){const e=e=>{const t=null==e?void 0:e.data;t&&(0,A.h5)((()=>{var e;this.isShowCaptions=t.enabled,this.activeCaption=null!==(e=Object.values(this.captions).find((e=>e.sub_id===t.current)))&&void 0!==e?e:null}))};return jr.Ug.subscribe(fi.L2.SET_CAPTION,e),()=>jr.Ug.unsubscribe(fi.L2.SET_CAPTION,e)}initChangeCaption(){return(0,A.mJ)((()=>({isShowCaptions:this.isShowCaptions,activeCaption:this.activeCaption})),((e,t)=>{var n;let{isShowCaptions:i,activeCaption:r}=e;var a;this._controls.isNakedMode||i===(null==t?void 0:t.isShowCaptions)&&(null==r?void 0:r.sub_id)===(null==t||null===(n=t.activeCaption)||void 0===n?void 0:n.sub_id)||jr.Ug.emit(fi.L2.CHANGE_CAPTION,{enabled:i,current:null!==(a=null==r?void 0:r.sub_id)&&void 0!==a?a:null})}))}loadAndParseCaptions(){const e=this.captions;Object.keys(e).forEach((t=>{const n=t,i=e[n],r=(0,l.A)({},i);i&&!this.parsedCaptions[n]&&(async e=>{const t=await fetch(e);let n,i="";return t&&(n=await t.blob()),n&&(i=await Vc()(n)),i})(i.file).then((e=>{if(r.file=e,this.parsedCaptions=(0,l.A)((0,l.A)({},this.parsedCaptions),{},{[n]:r}),!r.file)return null})).catch((e=>{console.warn("fetchCaptionError",e)}))}))}get isShowCaptions(){return this._isShowCaption.get()}set isShowCaptions(e){this._lStorageInstance.prepareAndStore("active",e?"1":"0"),this._isShowCaption.set(e)}get parsedCaptions(){return this._parsedCaptions}set parsedCaptions(e){this._parsedCaptions=e}get captions(){return(0,A.HO)(this._captions)}set captions(e){this._captions=e}get hasCaptions(){return this._playOptionsCaptions.length>0}get playOptionsCaptions(){return(0,A.HO)(this._playOptionsCaptions)}get activeCaption(){return this._activeCaption.get()}set activeCaption(e){this._activeCaption.set(e)}get captionLanguage(){var e;return(null===(e=this._activeCaption.get())||void 0===e?void 0:e.langTitle)||""}get captionsColor(){return this._captionsColor.get()}set captionsColor(e){this._lStorageInstance.prepareAndStore("color",e),this._captionsColor.set(e)}get captionsBackgroundColor(){return this._captionsBackgroundColor.get()}set captionsBackgroundColor(e){this._lStorageInstance.prepareAndStore("bgColor",e),this._captionsBackgroundColor.set(e)}get captionsBackgroundOpacity(){return this._captionsBackgroundOpacity.get()}set captionsBackgroundOpacity(e){this._lStorageInstance.prepareAndStore("bgOpacity",e),this._captionsBackgroundOpacity.set(e)}get captionsTextSize(){return this._captionsTextSize.get()}set captionsTextSize(e){this._lStorageInstance.prepareAndStore("size",e),this._captionsTextSize.set(e)}get isFullscreen(){return this._fullscreen.isFullscreen}get videoId(){return this._config.get("videoId")}get video(){return this._playback.player}get isControlsShown(){return this._controls.isShowControls}resetCaptionSettings(){this.captionsTextSize="medium",this.captionsColor="#ffffff",this.captionsBackgroundColor="#000000",this.captionsBackgroundOpacity=7}_initCaptions(){try{this._lStorageInstance.initStorage();const{activeFlag:e,textColor:t,textSize:n,backgroundColor:i,savedSubs:r,backgroundOpacity:a}=this._lStorageInstance;if("string"!=typeof e&&(this._lStorageInstance.prepareAndStore("active","0"),this.isShowCaptions=!1),this.isShowCaptions="1"===e,r){const e=Date.now();for(const t in r)r[t].expire<e&&delete r[t];this._savedSubs=r,this._lStorageInstance.prepareAndStore("savedSubs",r)}t&&(this.captionsColor=t),n&&(this.captionsTextSize=n),i&&(this.captionsBackgroundColor=i),a&&(this.captionsBackgroundOpacity=a)}catch(e){console.info(e)}}setSavedSubs(e,t){try{var n;const i=null!==(n=this._lStorageInstance.savedSubs)&&void 0!==n?n:{};i[e]=t,this._savedSubs=i,this._lStorageInstance.prepareAndStore("savedSubs",i)}catch(e){console.info(e)}}deleteSavedSubs(e){try{var t;const n=null!==(t=this._lStorageInstance.savedSubs)&&void 0!==t?t:{};delete n[e],this._savedSubs=n,this._lStorageInstance.prepareAndStore("savedSubs",n)}catch(e){console.info(e)}}setAllAndActiveCaptionsState(e){try{const t=this._savedSubs&&this._savedSubs[e],n=this.playOptionsCaptions.reduce(((e,t)=>(t.langTitle in e?"vtt"===t.format&&(e[t.langTitle]=t):e[t.langTitle]=t,e)),{});this.captions=n;const i=()=>{var i;if(t){const i=t.sub_id;return n[i]?i:(this.deleteSavedSubs(e),null===(r=this.playOptionsCaptions[0])||void 0===r?void 0:r.langTitle);var r}return null===(i=this.playOptionsCaptions[0])||void 0===i?void 0:i.langTitle},r=i();this.activeCaption=n[r]}catch(e){console.info(e)}}onCaptionsButtonShow(){var e;null===(e=this.counterHelper)||void 0===e||e.get("mainCaptionsShow")({language:this.isShowCaptions?this.captionLanguage:"",action:"show",result:this.isShowCaptions?"on":"off"})}onCaptionsButtonClick(){var e;const t=!this.isShowCaptions;this.isShowCaptions=t,null===(e=this.counterHelper)||void 0===e||e.get("mainCaptionsClick")({result:t?"on":"off",language:t?this.captionLanguage:"",action:"click"})}onCaptionsSettingsClick(e){var t;null===(t=this.counterHelper)||void 0===t||t.get("mainCaptionsClick")({result:"change",language:this.isShowCaptions?e:"",action:"change"})}}$c=td,({e:[Kc,Yc,Qc,Xc,Gc],c:[Zc,qc]}=(0,S.A)($c,[(0,k.k_)({implement:"ICaptionsPlugin",ctor_args:["IPlayerConfigPlugin","IDataPlugin","IPlayback","IFullscreenPlugin","IControlsPlugin",{implement:"IStatisticState",optional:!0}]})],[[A.sH,1,"_captions"],[A.sH,1,"_parsedCaptions"],[(0,k.o7)(),2,"intiCaptions"],[(0,k.o7)(),2,"initLoadAndParseCaptions"],[(0,k.o7)(),2,"initSetCaptions"],[(0,k.o7)(),2,"initChangeCaption"],[k.zm,2,"onCaptionsButtonShow"],[k.zm,2,"onCaptionsButtonClick"],[k.zm,2,"onCaptionsSettingsClick"]],0,void 0,k.j8)),qc();const nd=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"5",y:"8",width:"14",height:"8",stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},id=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"4",y:"6",width:"16",height:"12",stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))};var rd=s(472);const ad=(0,_t.PA)((e=>{let{size:n}=e;const{isCinema:i,handleCinema:r}=(0,Dt.p5)().resolve("CinemaModePlugin"),{tabIndex:a}=(0,Bu.useControls)();return t.createElement(Pc.r,{"data-testid":"ui-cinema",tabIndex:a,"aria-label":(0,rd.T)("ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð² Ñ‚ÐµÐ°Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼","T",!0),role:"button",action:"cinema",icon:i?nd:id,onClick:r,tooltipTitle:i?Ve.m_.CinemaOff:Ve.m_.CinemaOn,tooltipPlacement:"top",tooltipHideOnClick:!0,tooltipZIndex:Ve.m_.ControlsTooltipZIndex,size:n})}));var sd,od;let ld,ud,cd,dd;new(od=class extends k.j8{constructor(e){super(),this._isCinema=(ld(this),A.sH.box(!1)),this._pictureInPicturePlugin=e,(0,A.Gn)(this,{isCinema:A.EW})}handleCinema(){var e,t;null!==(e=this._pictureInPicturePlugin)&&void 0!==e&&e.isInPiP?(this.isCinema=!this.isCinema,null===(t=this._pictureInPicturePlugin)||void 0===t||t.exitFromPiP()):this.isCinema=!this.isCinema}get isCinema(){return this._isCinema.get()}set isCinema(e){this._isCinema.set(e)}},({e:[ld],c:[dd,ud]}=(0,S.A)(od,[(0,k.k_)({implement:"CinemaModePlugin",ctor_args:[{implement:"PictureInPicturePlugin",optional:!0}]})],[[[A.XI,A.XI.bound],18,"handleCinema"]],0,void 0,k.j8)),cd=od,(sd=class extends V{constructor(){super(dd),this.CinemaButton=ad,ud()}})[cd]=void 0,sd);const hd=()=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"none"},t.createElement("rect",{width:"18.667",height:"13.38",x:"7.826",y:"12.534",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.653",rx:"1.333"}),t.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M19.649 19.821a.65.65 0 0 0 .261-.526.65.65 0 0 0-.261-.527l-2.827-2.034a.55.55 0 0 0-.602-.031.64.64 0 0 0-.31.558v4.067c0 .234.12.448.31.558a.55.55 0 0 0 .602-.031zm-2.566.325v-1.703l1.184.852z",clipRule:"evenodd"}),t.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.653",d:"m23.762 10.462-1.386-5.174a1.333 1.333 0 0 0-1.633-.943L5.288 8.486a1.333 1.333 0 0 0-.943 1.633l1.387 5.174"}));var pd=s(9599);const vd={tooltip:"onboarding-tooltip-module__tooltip___pi5ci",tutorialTooltip:"onboarding-tooltip-module__tutorialTooltip___LFDUv",arrow:"onboarding-tooltip-module__arrow___WIsZB",top:"onboarding-tooltip-module__top___qqEhE",bottom:"onboarding-tooltip-module__bottom___Ep3bK",fadeIn:"onboarding-tooltip-module__fadeIn___DsiuT"},md=e=>{let{isTouchDevice:n,playerWidth:i,title:r,wrapperRef:a,placement:s="top"}=e;const o=(0,t.useRef)(null),l=(0,t.useMemo)((()=>({placement:s,strategy:"fixed",modifiers:[{name:"offset",enabled:!0,options:{offset:[0,n?4:24]}},{name:"preventOverflow",options:{boundary:document.getElementById(pd.v.RAICHU_CONTAINER_WITH_PLAYER),padding:n?8:12}},{name:"arrow",options:{element:`.${vd.arrow}`}}]})),[n,s]);return(0,t.useEffect)((()=>{var e,t;null===(e=o.current)||void 0===e||null===(t=e.update)||void 0===t||t.call(e).catch((()=>{}))}),[i]),t.createElement(vt.e0,{instanceRef:o,isPopperShown:!0,renderPopperElements:e=>{let{styles:n}=e;return t.createElement("div",{className:vd.tooltip},r,t.createElement("div",{className:gt()(vd.arrow,{[vd[`${s}`]]:s}),style:n.arrow}))},popperKey:vt.m0.tooltip,popperOptions:l,anchorRef:a,customPopperZIndex:25})},_d=()=>(0,Dt.ei)("IOnboardingPlugin"),fd=()=>(0,Dt.Ks)("IChaptersPlugin"),gd="chapter-button-module__chapter___rppha",yd="chapter-button-module__wrapper___j_9j7",bd="chapter-button-module__border___e058L",Ed="chapter-button-module__name____BGs8",wd="chapter-button-module__button___mV2q_",Sd=t.createElement(t.Fragment,null,"ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ ÑÐ¿Ð¸ÑÐ¾Ðº ÑÐ¿Ð¸Ð·Ð¾Ð´Ð¾Ð²,",t.createElement("br",null),"Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¼ÐµÐ¶Ð´Ñƒ Ð½Ð¸Ð¼Ð¸"),Ad=(0,_t.PA)((e=>{let{buttonSize:n}=e;const{activeChapter:i,count:r,counterHelper:a,isTitleHidden:s,size:o,onButtonClick:l}=fd(),u=(0,mt.Ju)(),{activeOnboarding:c,isShowOnboarding:d}=_d()||{},h=(null==o?void 0:o.width)||0,p=(0,t.useRef)(null),v=null!==i,m="chapters"===c&&d;return(0,t.useEffect)((()=>{v&&(null==a||a.get("mainChaptersButtonShow")())}),[a,v]),v?t.createElement("div",{className:gd,onClick:l},t.createElement("div",{className:yd},t.createElement("div",{className:bd}),t.createElement(Pc.r,{ref:p,"data-testid":"ui-chapter-button",tabIndex:0,role:"button",icon:hd,tooltipTitle:t.createElement("div",null,i),tooltipPlacement:"top",label:t.createElement("div",{className:Ed},s?r:i),className:gt()("front-control",{[wd]:Boolean(m)}),size:n}),m&&t.createElement(md,{wrapperRef:p,playerWidth:h,isTouchDevice:u,title:Sd}))):null})),kd="chapters-popup-module__chaptersPopup___X70ly",Cd=(0,_t.PA)((e=>{let{Component:n}=e;const{activeChapterTime:i,description:r,duration:a,isFullscreen:s,isShowChapters:o,hideChapters:l,thumbnailUrl:u}=fd();return o&&null!==i&&s?t.createElement(n,{activeChapterTime:i,description:r,duration:a,thumbnailUrl:u,className:kd,handleClose:l}):null}));var Pd;let Td,Id,Rd;class Ld extends k.j8{static get ChapterButton(){return Ad}static get ChaptersPopup(){return Cd}constructor(e,t,n,i,r,a,s,o,l,u){super(),this._counterHelper=void Td(this),this._isShowChapters=A.sH.box(!1),this._activeChapter=A.sH.box(null),this._activeChapterTime=A.sH.box(null),this._isTitleHidden=A.sH.box(!1),this._isEmbed=void 0,this._advert=e,this._controls=t,this._playOptions=n,this._fullscreen=i,this._playback=r,this._playerSize=a,this._config=s,this.trackingLinks=u,(0,A.Gn)(this,{count:A.EW,isShowChapters:A.EW,activeChapter:A.EW,isTitleHidden:A.EW,allowOnboarding:A.EW,onButtonClick:A.XI,hideChapters:A.XI}),this._isEmbed=l.value,this._counterHelper=o&&o instanceof ps?o.counterHelper:void 0}initVideoId(){return(0,A.mJ)((()=>this._config.get("videoId")),(()=>{this.activeChapter=null,this.hideChapters()}))}initActiveChapter(){return(0,A.mJ)((()=>this._controls.activeChapter),(e=>{if(!e||""===e.name)return this.activeChapter=null,void(this.activeChapterTime=null);const{name:t,start:n}=e;this.activeChapterTime!==n&&(this.activeChapter=t,this.activeChapterTime=n,jr.Ug.emit(fi.L2.CHAPTER_CHANGE,{time:n}))}))}initTitleHidden(){var e=this;return(0,A.mJ)((()=>{var e;return null===(e=this._playerSize.size)||void 0===e?void 0:e.width}),(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e.isTitleHidden=t<700}))}initHideChapters(){return(0,A.mJ)((()=>this._fullscreen.isFullscreen),(e=>{!e&&this.isShowChapters&&(this.isShowChapters=!1)}))}get count(){var e,t;return null!==(e=null===(t=this._controls.chapters)||void 0===t?void 0:t.length)&&void 0!==e?e:0}get counterHelper(){return this._counterHelper}get isFullscreen(){return this._fullscreen.isFullscreen}set isShowChapters(e){this._isShowChapters.set(e)}get isShowChapters(){return this._isShowChapters.get()}set activeChapter(e){this._activeChapter.set(e)}get activeChapter(){return this._activeChapter.get()}set activeChapterTime(e){this._activeChapterTime.set(e)}get activeChapterTime(){return this._activeChapterTime.get()}get isEmbed(){return this._isEmbed}get size(){return this._playerSize.size}get isShowAdvert(){var e;return"show"===(null===(e=this._advert)||void 0===e?void 0:e.currentState)}get isShowControls(){return this._controls.isShowControls}get duration(){return this._playback.duration}get description(){var e;return null===(e=this._playOptions)||void 0===e?void 0:e.description}get thumbnailUrl(){var e;return null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.thumbnail_url}set isTitleHidden(e){this._isTitleHidden.set(e)}get isTitleHidden(){return this._isTitleHidden.get()}onButtonClick(){var e;this.trackingLinks&&this._isEmbed&&(window.open(this.trackingLinks.generateTrackingLink({campaign:"time_tags",type:"video"}),"_blank"),this._playback.pause()),null===(e=this._counterHelper)||void 0===e||e.get("mainChaptersButtonClick")(),this._fullscreen.isFullscreen?(this.isShowChapters=!this.isShowChapters,this._controls.preventHideControls=!this._controls.preventHideControls):jr.Ug.emit(fi.L2.CHAPTERS_TOGGLE,null)}hideChapters(){this.isShowChapters=!1,this._controls.preventHideControls=!1}get allowOnboarding(){return null!==this.activeChapter}}Pd=Ld,({e:[Td],c:[Rd,Id]}=(0,S.A)(Pd,[(0,k.k_)({implement:"IChaptersPlugin",ctor_args:[{implement:"IAdvertPlugin",optional:!0},"IControlsPlugin",{implement:"IDataPlugin",optional:!0},"IFullscreenPlugin","IPlayback","IPlayerSizePlugin","IPlayerConfigPlugin","IStatisticState","IsEmbed",{implement:"ITrackingLinksPlugin",optional:!0}]})],[[(0,k.o7)(),2,"initVideoId"],[(0,k.o7)(),2,"initActiveChapter"],[(0,k.o7)(),2,"initTitleHidden"],[(0,k.o7)(),2,"initHideChapters"],[k.zm,2,"onButtonClick"],[k.zm,2,"hideChapters"]],0,void 0,k.j8)),Id();class xd extends k.j8{constructor(){super(),this._items=A.sH.array([]),this._perPage=A.sH.box(null),this._error=A.sH.box(null),this._loading=A.sH.box({status:!1,direction:null}),this._loadedPages=A.sH.box([]),this._hasPrev=A.sH.box(!1),this._hasNext=A.sH.box(!1),this._scrollToCurrent=A.sH.box(!1),(0,A.Gn)(this,{items:A.EW,perPage:A.EW,isEmpty:A.EW,error:A.EW,loading:A.EW,loadedPages:A.EW,hasNext:A.EW,hasPrev:A.EW,minPage:A.EW,maxPage:A.EW,prevCount:A.EW,scrollToCurrent:A.EW,loadPrev:A.XI.bound,loadNext:A.XI.bound,loadItems:A.XI.bound})}get items(){return this._items.slice()}set items(e){this._items.replace(e)}get perPage(){return this._perPage.get()}set perPage(e){this._perPage.set(e)}get error(){return this._error.get()}set error(e){this._error.set(e)}get loading(){return this._loading.get()}set loading(e){this._loading.set(e)}get loadedPages(){return this._loadedPages.get()}set loadedPages(e){this._loadedPages.set(e)}get hasPrev(){return this._hasPrev.get()}set hasPrev(e){this._hasPrev.set(e)}get hasNext(){return this._hasNext.get()}set hasNext(e){this._hasNext.set(e)}get minPage(){return this.loadedPages.length?Math.min(...this.loadedPages):0}get maxPage(){return this.loadedPages.length?Math.max(...this.loadedPages):0}get prevCount(){return this.minPage&&this.perPage?(this.minPage-1)*this.perPage:0}get isEmpty(){return!this.items.length}get scrollToCurrent(){return this._scrollToCurrent.get()}set scrollToCurrent(e){this._scrollToCurrent.set(e)}async loadItems(e){try{this.loading.status=!0;const t=await this.fetch(e);"detail"in t||"message"in t?this.error="TODO":(this.error=null,this.items=t.page>this.maxPage?[...this.items,...t.results]:[...t.results,...this.items],this.hasPrev=1!==t.page,t.page>this.maxPage&&(this.hasNext=t.has_next),this.loadedPages.push(t.page))}catch(e){this.error="TODO"}finally{this.loading.status=!1}return Boolean(!this.error)}async loadPrev(){this.hasPrev&&(this.loading.direction="prev",await this.loadItems(this.minPage-1),this.loading.direction=null)}async loadNext(){this.hasNext&&(this.loading.direction="next",await this.loadItems(this.maxPage+1),this.loading.direction=null)}}function Od(){return(0,Dt.p5)().resolve("IControlsPlugin")}const Nd="live-badge-module__badge___XX3wg",Dd="live-badge-module__clickable___Djv6_",Md="live-badge-module__mark___RH4Y1",Bd="live-badge-module__outdated____Z0Ap",Fd="live-badge-module__liveText___yAhey",Hd="live-badge-module__liveTextMini___p0Ss1",Vd="Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ðº Ð¿Ñ€ÑÐ¼Ð¾Ð¼Ñƒ ÑÑ„Ð¸Ñ€Ñƒ",Ud=(0,_t.PA)((e=>{let{isMini:n=!1,buttonSize:i}=e;const{data:r,playback:a}=Od(),{isOutdated:s,goLive:o}=a,{isLive:l,isTVStream:u}=r,{getDataAttribute:c}=(0,Yn.f)(),d=l&&!u;return t.createElement(Pc.r,(0,On.A)({"data-testid":"ui-live",tabIndex:0,role:"button","aria-label":Vd,noScale:!0,tooltipHideOnClick:!0,onClick:()=>{d&&s&&o()},tooltipTitle:Vd,tooltipHidden:!s,tooltipPlacement:"top",tooltipZIndex:Ve.m_.ControlsTooltipZIndex,style:{width:"max-content"},className:gt()(Nd,{[Dd]:d&&s}),size:i},c(Qn.R.LIVE)),t.createElement("div",{className:gt()(Md,{[Bd]:s})}),t.createElement("div",{className:gt()({[Fd]:!n,[Hd]:n})},"Ð’ ÑÑ„Ð¸Ñ€Ðµ"))})),jd="tv-time-block-module__time___PiSWt",Wd="tv-time-block-module__hidden___JpYeK",zd="tv-time-block-module__currentTime___U4pO3",$d=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,Gd=e=>{const t=(e=>{var t;if(!e)return;const n=Date.now(),i=null==e?void 0:e[$d(new Date)];let r=null==i?void 0:i.find((e=>1e3*e.start<n&&n<1e3*e.stop));if(!r){const t=new Date;t.setDate(t.getDate()+1);const i=null==e?void 0:e[$d(t)];r=null==i?void 0:i.find((e=>1e3*e.start<n&&n<1e3*e.stop))}return null!==(t=r)&&void 0!==t?t:null})(e);return null!=t&&t.stop?1e3*t.stop-Date.now():0},qd=e=>{const t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);if(t||n)return`${t>0?`${t} Ñ‡. `:""}${n} Ð¼Ð¸Ð½.`},Kd=(0,_t.PA)((()=>{const{tvSchedule:e,playback:n,isTimeHidden:i}=(0,Bu.useControls)(),r=(0,t.useRef)(0);if((0,t.useEffect)((()=>{r.current=Gd(n.tvSchedule)}),[n.duration,e,n.tvSchedule]),e&&r.current&&n.isPlaying)return t.createElement("div",{className:gt()(jd,{[Wd]:i}),"aria-label":`Ð•Ñ‰Ñ‘ ${qd(r.current)}`},t.createElement("span",{className:zd},"Ð•Ñ‰Ñ‘ ",qd(r.current)))}));function Yd(){return(0,Dt.p5)().resolve("IPreviewPlugin")}const Qd="top-controls-module__wrapper___mPW53",Xd="top-controls-module__item___t1uCK",Zd=(0,_t.PA)((e=>{let{shareButton:n,settingsButton:i}=e;const{endScreen:r,isShowSettings:a}=(0,Bu.useControls)(),{isShowPreview:s}=Yd();return s&&qt.B.isMobile||null!=r&&r.visible?null:t.createElement("div",{className:Qd},n&&t.createElement(n,{size:qt.B.isMobile?"XXL":"XL"}),a&&i&&t.createElement("div",{className:Xd},t.createElement(i,{buttonsSize:"XXL"})))}));var Jd=s(7283),eh=s(2065),th=s(7163);const nh=()=>(0,Dt.Ks)("IPlayerSizePlugin"),ih="area-bar-preview-module__wrapper___mHXcL",rh="area-bar-preview-module__img___sOvyU",ah="area-bar-preview-module__chapterName___RUArV",sh="area-bar-preview-module__time___g6QuS",oh="area-bar-preview-module__vertical___E9FGi",lh=(0,t.memo)((e=>{var n;let{barRef:i,url:r,offset:a,chapters:s,time:o,isVertical:l,isTouchDevice:u}=e;const c=(0,t.useRef)(null),d=(0,t.useMemo)((()=>{if(i.current){const e=(u?10:100)/i.current.clientWidth*100;return Math.min(Math.max(a,e),100-e)}}),[a,i,u]),h=(0,t.useMemo)((()=>t.createElement("div",{className:sh,id:pd.v.RAICHU_AREAS_BAR_PREVIEW_TIME},null!==o&&(0,Jd.a3)({value:o}))),[o]);return t.createElement("div",{id:pd.v.RAICHU_AREAS_BAR_PREVIEW,className:gt()(ih,{[oh]:l}),style:{left:`${d||0}%`},ref:c},u&&h,d&&null!==o&&!u&&t.createElement(t.Fragment,null,r?t.createElement("div",{style:{backgroundImage:`url(${r})`},className:rh}):null,s.length&&(0,Bu.getActiveChapter)(s,o)&&t.createElement("div",{className:ah},null===(n=(0,Bu.getActiveChapter)(s,o))||void 0===n?void 0:n.name),h))})),uh="area-module__areas___aAhbS",ch="area-module__area___pkmYK",dh=e=>{let{areas:n}=e;return t.createElement("div",{className:uh},t.createElement("div",{className:ch,style:{WebkitTransform:"scaleX(1)",transform:"scaleX(1)",background:"rgba(246, 246, 246, 0.3)"}}),n.map(((e,n)=>t.createElement("div",{key:n,className:ch,style:{WebkitTransform:`scaleX(${e.progress})`,transform:`scaleX(${e.progress})`,background:e.color}}))))},hh="areas-bar-module__wrapper___itv9Z",ph="areas-bar-module__disabled___YaSTM",vh="areas-bar-module__areas___Bn5pH",mh="areas-bar-module__area___v2wuI",_h="areas-bar-module__isClickable___NsCm2",fh="areas-bar-module__thumbWrapper___ljCgW",gh="areas-bar-module__thumbInner___qIL2_",yh="areas-bar-module__thumb___qyyV6";class bh extends k.j8{constructor(e){super(),this._data=A.sH.box(null),this.data=e||{detail:{access_url:"",image:"",languages:[{lang:"rus",description:"",title:""},{lang:"eng",description:"",title:""}]}},(0,A.Gn)(this,{data:A.EW,color:A.EW,isDVR:A.EW,isLive:A.EW,hasHealthDisclaimer:A.EW,captions:A.EW})}get id(){var e;return null===(e=this.data)||void 0===e?void 0:e.id}get data(){return this._data.get()}set data(e){this._data.set(e)}get link(){var e,t;return(null===(e=this.data)||void 0===e||null===(e=e.video_balancer)||void 0===e?void 0:e.m3u8)||(null===(t=this.data)||void 0===t||null===(t=t.video_balancer)||void 0===t?void 0:t.m3u8_m4s)}get author(){var e;return null===(e=this.data)||void 0===e?void 0:e.author}get title(){var e;return null===(e=this.data)||void 0===e?void 0:e.title}get duration(){var e;return null===(e=this.data)||void 0===e?void 0:e.duration}get detail(){var e;return null===(e=this.data)||void 0===e?void 0:e.detail}get poster(){var e;return null===(e=this.data)||void 0===e?void 0:e.thumbnail_url}get ageRating(){var e;return null===(e=this.data)||void 0===e||null===(e=e.pg_rating)||void 0===e?void 0:e.age}get isAdult(){var e;return null===(e=this.data)||void 0===e?void 0:e.is_adult}get referer(){var e;return(null===(e=this.data)||void 0===e?void 0:e.referer)||""}get isLive(){var e;return!(null===(e=this.data)||void 0===e||null===(e=e.live_streams)||void 0===e||!e.hls)}get isDVR(){var e;return!(null===(e=this.data)||void 0===e||null===(e=e.live_streams)||void 0===e||null===(e=e.hls)||void 0===e||null===(e=e[0])||void 0===e||!e.is_dvr)&&this.duration!==1/0}get color(){var e;return(null===(e=this.data)||void 0===e?void 0:e.color)||""}get video_id(){var e;return null===(e=this.data)||void 0===e?void 0:e.video_id}get viewer(){var e;return null===(e=this.data)||void 0===e?void 0:e.viewer}get captions(){var e;return null===(e=this.data)||void 0===e?void 0:e.captions}get hasHealthDisclaimer(){var e,t;const n=this.ageRating;return Boolean((null===(e=this.data)||void 0===e||null===(e=e.category)||void 0===e?void 0:e.id)&&fi.am.includes(this.data.category.id)&&(null===(t=this.data)||void 0===t?void 0:t.is_licensed)&&(this.isAdult||n&&n>=16))}get appearance(){var e;return(null===(e=this.data)||void 0===e?void 0:e.appearance)||null}get isTVStream(){var e,t;return"brdcast_tag"===(null===(e=this.data)||void 0===e?void 0:e.stream_type)||"broadcast"===(null===(t=this.data)||void 0===t?void 0:t.stream_type)}get isInteractiveVideo(){return!1}get isSpatial(){var e,t;return null!==(e=null===(t=this.data)||void 0===t?void 0:t.is_spatial)&&void 0!==e&&e}get videoUrl(){var e;return null===(e=this.data)||void 0===e?void 0:e.video_url}}var Eh;let wh,Sh;Eh=class extends bh{constructor(e){super(null==e?void 0:e.value),this._data=A.sH.box(null),(0,A.Gn)(this,{description:A.EW,videoUrl:A.EW,isTVStream:A.EW})}get data(){return this._data.get()}set data(e){this._data.set(e)}get link(){var e,t,n,i;return this.isLive?null===(i=this.data)||void 0===i||null===(i=i.live_streams)||void 0===i?void 0:i.hls[0].url:(null===(e=this.data)||void 0===e||null===(e=e.video_balancer)||void 0===e?void 0:e.m3u8)||(null===(t=this.data)||void 0===t||null===(t=t.video_balancer)||void 0===t?void 0:t.m3u8_m4s)||(null===(n=this.data)||void 0===n||null===(n=n.video_balancer)||void 0===n?void 0:n.default)||""}get title(){var e;return(null===(e=this.data)||void 0===e?void 0:e.title)||""}get description(){var e;return(null===(e=this.data)||void 0===e?void 0:e.description)||""}get videoUrl(){var e;return(null===(e=this.data)||void 0===e?void 0:e.video_url)||""}get authorData(){}get black_rabbit(){var e;return null===(e=this.data)||void 0===e?void 0:e.black_rabbit}},[Sh,wh]=(0,S.A)(Eh,[(0,k.k_)({implement:"IDataPlugin",ctor_args:[{implement:"VideoTrackData",optional:!0}]})],[],0,void 0,bh).c,wh();const Ah=()=>(0,Dt.Ks)("IDataPlugin"),kh=(0,_t.PA)((e=>{let{barRef:n,isTouchable:i=!0,progress:r}=e;const{setIsVolumeShow:a,areas:s,chapters:o,isShowControls:l,progressBarColor:u}=(0,Bu.useControls)(),{duration:c,tvSchedule:d}=Vp(),{isTVStream:h}=Ah(),{size:p}=nh(),{isShowPreview:v,url:m,isAllowedToShowPreview:_,previewPosition:f,time:g}=Yd(),y=Yd(),b=h&&!d?100:r,E=(0,t.useMemo)((()=>{var e;return n&&(null==n?void 0:n.current)&&(null==n||null===(e=n.current)||void 0===e?void 0:e.clientWidth)||(null==p?void 0:p.width)||-24}),[null==n?void 0:n.current,null==p?void 0:p.width]),w=(0,t.useCallback)((e=>{h||(qt.B.isMobile||e.target.id!==String(pd.v.RAICHU_AREAS_BAR_PREVIEW_TIME)?(y.previewPosition=(0,eh.O)(e.nativeEvent,n,"horizontal"),a(!1)):y.previewPosition=null)}),[n,h,y,a]),S=(0,t.useCallback)((()=>{y.previewPosition=null}),[y]),A=(0,t.useCallback)(((e,t)=>{if(1===s.length)return"100%";const n=E/100*e+"px";return t?n:`calc(${n} - var(--pad, 2px))`}),[s.length,E]);return t.createElement("div",{tabIndex:0,role:"slider","aria-label":"ÐŸÐ¾Ð»Ð·ÑƒÐ½Ð¾Ðº Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹ ÑˆÐºÐ°Ð»Ñ‹","aria-valuemin":0,"aria-valuemax":Math.floor(c),"aria-valuenow":Math.floor(r*c/100),"aria-valuetext":`${(0,Jd.fU)(r*c/100)} (Ð¾Ð±Ñ‰Ð°Ñ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ ${(0,Jd.fU)(c)})`,"data-testid":"ui-progress-progressBar",className:gt()(hh,{[ph]:!l}),ref:n,onTouchMove:qt.B.isMobile?w:void 0,onMouseOut:qt.B.isMobile?void 0:S,onMouseDown:qt.B.isMobile?void 0:w,onMouseMove:qt.B.isMobile?void 0:w,onMouseEnter:qt.B.isMobile?void 0:w},_&&v&&t.createElement(lh,{barRef:n,chapters:o,url:m||"",time:g||0,offset:f||0,isVertical:!1,isTouchDevice:qt.B.isMobile}),t.createElement("div",{className:vh},(0,t.useMemo)((()=>s.map(((e,n)=>t.createElement("div",{key:`${String(e.width)+e.name+String(e.start)}`,className:gt()(mh,{[_h]:!h}),style:{width:A(e.width,0===n),display:e.width?void 0:"none"}},t.createElement(dh,{areas:[{progress:e.buffered,color:"rgba(246, 246, 246, 0.6)"},{progress:h&&!d?1:e.progress,color:u}]}))))),[s,u,A,h,d])),i&&t.createElement("div",{className:fh},t.createElement("div",{className:gh,style:{WebkitTransform:`translateX(${b}%)`,transform:`translateX(${b}%)`}},t.createElement("div",{className:yh}))))})),Ch={collectIcon:()=>null},Ph=(0,t.createContext)(Ch),Th="__RUTUBE_SVG_STORE",Ih={height:"0px",position:"absolute"},Rh="undefined"==typeof window,Lh=e=>Object.keys(e).sort().map((t=>`<symbol key="${t}" id="${t}">${null==e?void 0:e[t]}</symbol>`)).join(""),xh=e=>`<svg id="${Th}" style="height:0px;position:absolute">${Lh(e)}</svg>`,Oh=e=>{let{SSRIconsCache:n,children:i}=e;const[r,a]=(0,t.useState)((()=>!Rh&&(()=>{const e=document.getElementById(Th);if(!e)return{};const t=Array.from(e.childNodes).reduce(((e,t)=>{const n=t.getAttribute("id");return n&&(e[n]=t.innerHTML),e}),{});return t})()||{})),s=Rh?n||{}:r,o=(0,t.useMemo)((()=>({collectIcon:(e,t)=>{Rh&&n?n[e]=t:r[e]||a((n=>(0,l.A)((0,l.A)({},n),{},{[e]:t})))}})),[]),u=(0,t.useMemo)((()=>Lh(s)),[s]);return t.createElement(Ph.Provider,{value:o},t.createElement("svg",{id:Th,style:Ih,dangerouslySetInnerHTML:{__html:u}}),i)},Nh=(new RegExp(xh({})),"mobile-preview-tips-module__tipsContainer___eRuYW"),Dh="mobile-preview-tips-module__doubleTap___ck2xx",Mh="mobile-preview-tips-module__isEmbed___AZwTo",Bh="mobile-preview-tips-module__triangles___eEmqN",Fh="mobile-preview-tips-module__rotated___BNn8P",Hh=()=>t.createElement("svg",{width:"7",height:"8",viewBox:"0 0 7 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.07098 3.99998C7.07098 3.37302 6.71293 2.92887 6.33854 2.59841C5.98517 2.2865 5.48037 1.95868 4.90546 1.58534L4.45451 1.29244C3.7769 0.852255 3.19386 0.473506 2.70923 0.251768C2.21004 0.0233663 1.58636 -0.146654 0.970897 0.187484C0.355434 0.521621 0.158295 1.13727 0.0779271 1.68032C-9.51181e-05 2.20751 -5.11007e-05 2.90276 0 3.71078V4.28913C-5.11007e-05 5.09715 -9.51181e-05 5.79244 0.0779271 6.31963C0.158295 6.86268 0.355434 7.47833 0.970897 7.81246C1.58636 8.1466 2.21004 7.97658 2.70923 7.74818C3.19386 7.52644 3.77689 7.1477 4.45449 6.70752L4.90545 6.41462C5.48035 6.04128 5.98518 5.71344 6.33854 5.40154C6.71293 5.07108 7.07098 4.62693 7.07098 3.99998Z",fill:"#FFFFFF"})),Vh=e=>{let{isRotated:n}=e;return t.createElement("div",{className:gt()(Bh,{[Fh]:n})},t.createElement(Hh,null),t.createElement(Hh,null))},Uh=e=>{let{type:n,isEmbed:i}=e;return t.createElement("div",{className:gt()(Nh,{[Mh]:i})},"long-press"===n&&t.createElement("p",null,"ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Ð¸ ÑƒÐ´ÐµÑ€Ð¶Ð¸Ð²Ð°Ð¹Ñ‚Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÑÐºÐ¾Ñ€Ð¸Ñ‚ÑŒ Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð´Ð¾ x2"),"double-tap"===n&&t.createElement("div",{className:Dh},t.createElement(Vh,{isRotated:!0}),t.createElement("p",null,"Ð”Ð²Ð°Ð¶Ð´Ñ‹ ÐºÐ¾ÑÐ½Ð¸Ñ‚ÐµÑÑŒ Ð²Ð¸Ð´ÐµÐ¾ ÑÐ¿Ñ€Ð°Ð²Ð° Ð¸Ð»Ð¸ ÑÐ»ÐµÐ²Ð°, ",t.createElement("br",null)," Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿ÐµÑ€ÐµÐ¼Ð¾Ñ‚Ð°Ñ‚ÑŒ ÐµÐ³Ð¾ Ð½Ð° 10 ÑÐµÐº. Ð²Ð¿ÐµÑ€Ñ‘Ð´ Ð¸Ð»Ð¸ Ð½Ð°Ð·Ð°Ð´"),t.createElement(Vh,null)))},jh="mobile-preview-module__wrapper___TITww",Wh="mobile-preview-module__preview___OhmTs",zh=(0,_t.PA)((()=>{const{url:e,isAllowedToShowPreview:n,time:i,tipType:r,isEmbed:a}=Yd(),s=(0,Bu.useControls)(),o=Yd(),{isFullScreen:l}=s,u=(0,t.useMemo)((()=>({height:l||a?void 0:"100%",aspectRatio:l||a?"16/9":void 0})),[l,a]);return(0,t.useLayoutEffect)((()=>(s.preventHideControls=!0,()=>{o.setAnotherTip(),s.preventHideControls=!1})),[o,s]),n&&qt.B.isMobile?t.createElement("div",{className:jh,id:pd.v.RAICHU_MOBILE_PREVIEW},r&&null!==i&&t.createElement(Uh,{key:r,type:r,isEmbed:a}),null!==i&&t.createElement("img",{alt:"ÐŸÑ€ÐµÐ²ÑŒÑŽ",src:e,style:u,"aria-label":`mobile-preview-at-${i||0}`,"aria-describedby":"mobile-preview",className:Wh,fetchPriority:"high",loading:"lazy"})):null})),$h=()=>(0,Dt.Ks)("IVideoLayoutPlugin"),Gh=e=>e("IVideoLayoutPlugin"),qh="header-module__headerWrapper___b2mKD",Kh="header-module__headerBackground___UZqnk",Yh="header-module__headerBackgroundSmall___AGgA0",Qh="header-module__headerBackgroundMobile___xBR8D",Xh="header-module__header___fVbYe",Zh="header-module__headerMobile___yLYZ1",Jh="header-module__hidden___gPWPi",ep="header-module__headerInfo___dpHCi",tp="header-module__headerControls___iUt8w",np="header-module__headerShow___59oXn",ip="header-module__avatar___d_OZW",rp="header-module__title___P7S0x",ap="header-module__notClickable___jq6fm",sp="header-module__titleMobile___PuaJ3",op="header-module__channelItem___SoSSN",lp=(0,_t.PA)((()=>{const{isMini:e,authorUrl:n,authorData:i,showAvatar:r,availableLogoClick:a,counterHelper:s}=$h();if(e||!r||!i)return null;const o=a?()=>{null==s||s.get("mainHeaderLogoClick")({videoUrl:n||""})}:void 0;return t.createElement("a",{"data-testid":"ui-author-logo",href:n,target:"_blank",className:ip,rel:"noreferrer",title:i.name,onClick:o},t.createElement("img",{src:i.avatar_url||fi.k_,alt:i.name}))}));function up(){return(0,Dt.Ks)("IVideoSettingsPlugin")}const cp=()=>{const{videoUrl:e}=Ah(),{isEmbed:n}=up(),{generateTrackingLink:i}=(0,Dt.ei)("ITrackingLinksPlugin")||{},{currentTime:r,duration:a}=$h().playback;return(0,t.useCallback)((()=>{const t=r<Math.floor(a)?`${null!=e?e:""}?t=${r}`:e;window.open(n&&"function"==typeof i?i({campaign:"title"}):t,"_blank")}),[e,r,a])},dp=(0,_t.PA)((()=>{const{isMini:e,isFullScreen:n,isTouchDevice:i,availableTitleClick:r,showTitle:a,videoUrl:s,title:o,isPlaying:l,counterHelper:u,pause:c}=$h(),d=cp();if(!a)return null;const h=(0,t.useCallback)((e=>{null==e||e.preventDefault(),null==u||u.get("mainHeaderTitleClick")({videoUrl:s}),d(),l&&c()}),[d,c,l,u,s]),p=r?h:e=>{e.preventDefault()};return t.createElement("div",{className:gt()(op)},t.createElement("a",{href:s,target:"_blank",className:gt()(rp,{[sp]:(i||e)&&!n,[ap]:!r}),rel:"noreferrer",onClick:p},o))}));function hp(){return(0,Dt.ei)("IActivitiesPlugin")}function pp(){var e;const t=hp();return null!==(e=null==t?void 0:t.isInteractiveVideo)&&void 0!==e&&e}const vp=()=>(0,Dt.ei)("IPictureInPictureViewPlugin"),mp=(0,_t.PA)((e=>{const{children:n,pipControl:i}=e,{isTouchDevice:r,isShowHeader:a,isShowStartScreen:s}=$h(),{isShowMobilePiPButton:o}=vp()||{},{isShowControls:l,playback:u}=(0,Bu.useControls)(),{seeking:c}=u,{isShowPreview:d}=Yd(),h=pp(),p=(c||!l||d&&r)&&!s,v=i&&o&&!h;return t.createElement("div",{"data-testid":"ui-header",className:gt()(qh,{[Jh]:p})},t.createElement("div",{className:gt()(Kh,{[Qh]:r,[Yh]:!a})}),t.createElement("div",{className:gt()(Xh,ep,{[Zh]:r,[np]:a})},v&&t.createElement(i,{size:"XXL",placement:"bottom",onboardingPlacement:"bottom"}),a&&t.createElement(t.Fragment,null,t.createElement(lp,null),t.createElement(dp,null))),n&&t.createElement("div",{className:gt()(tp)},n))}));var _p=s(7180);const fp=(new Date).getTimezoneOffset()/60*-1,gp=()=>String(fp);var yp=s(4823);const bp=()=>{const e={},t=_p.A.get("jwt");return t&&(e.Authorization=`Bearer ${t}`),e},Ep=()=>{try{return yp.env.API||window.location.origin}catch(e){console.info("getUrl",e)}return window.location.origin},wp=()=>{try{return yp.env.PANGOLIN||"/pangolin/api/web"}catch(e){console.info("getPangolinUrl",e)}return window.location.origin},Sp=async(e,t,n,r,a)=>{const s=(0,i.al)(window.location.href),o=s.hasOwnProperty("referer")?s.referer||"":(0,R.If)(),u=(()=>{const e=Fi("raichu-av1-support");if("string"==typeof e)return!!Number(e);const t=document.createElement("video"),n=Boolean(t.canPlayType("video/mp4; codecs=av01.0.00M.10"));return Hi("raichu-av1-support",n?"1":"0"),n})(),{minAge:c,maxAge:d}=r||{},h={ClientIP_TZ:gp()};null==c&&null==d||(h["x-client-context"]="sm");const p=(0,l.A)({no_404:!0,p:s.p,quality:s.quality?1:void 0,admin_mode:s.admin_mode?1:void 0,platform:s.platform,referer:o,pver:"v2",client:"wdp","2k":a?0:1,av1:u&&!a?1:0},n);t&&(p.yclid=t);const v=(0,i.Kj)(p);return(await fetch(`${Ep()}/api/play/options/${e}/?${v.toString()}`,{headers:h})).json()},Ap=async e=>{let{videoId:t,client:n,limit:i=21,minAge:r,maxAge:a,playlistId:s,addLikedVideos:o}=e;const l=new URLSearchParams;l.set("client",n),l.set("limit",i.toString()),null!=r&&l.set("min_age",r.toString()),null!=a&&l.set("max_age",a.toString()),s&&l.set("playlist_id",s),o&&l.set("video_source","liked");const u=`${Ep()}/api/v2/video/end-screen/${t}/?${l.toString()}`,c={};null==r&&null==a||(c["x-client-context"]="sm");return(await fetch(u,{headers:c})).json()};var kp,Cp;let Pp,Tp,Ip,Rp;new(Cp=class extends k.j8{constructor(e,t,n,i,r){super(),this._visible=(Pp(this),A.sH.box(!1)),this._data=A.sH.box(null),this._isEmbed=A.sH.box(!1),this.counterHelper=void 0,this.getRecommendations=e=>e?this.recommendations.slice(0,e):this.recommendations,this._playerData=t,this._config=i,this.trackingLinks=r,this.counterHelper=n&&n instanceof pt?n.counterHelper:void 0,this.isEmbed=e.value,(0,A.Gn)(this,{nextVideo:A.EW,recommendations:A.EW,isEmbed:A.EW})}init(){const e=[];return e.push(this._makeVideoIdReaction()),()=>e.forEach((e=>e()))}_makeVideoIdReaction(){return(0,A.mJ)((()=>{var e;return{videoId:this._playerData.video_id,allow:null===(e=this._playerData.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.show_endscreen,_:this.isEmbed}}),(e=>{let{videoId:t,allow:n}=e;t&&n&&(0,A.h5)((async()=>{try{this.data=await Ap(this._makeFetctEndScreenRequestParams(t))}catch(e){console.warn("Load end-screen error",e)}}))}))}_makeFetctEndScreenRequestParams(e){var t;return{videoId:e,client:this.isEmbed?"player":"wdp",limit:20,playlistId:null===(t=this._config.get("playlistId"))||void 0===t?void 0:t.toString()}}set data(e){(0,A.h5)((()=>{this._data.set(e)}))}get thumbnailUrl(){return this._playerData.poster||""}get nextVideo(){var e;return(null===(e=this._data.get())||void 0===e?void 0:e.next_video)||null}get recommendations(){var e;return(null===(e=this._data.get())||void 0===e?void 0:e.recommendation)||[]}get isEmbed(){return this._isEmbed.get()}set isEmbed(e){this._isEmbed.set(e)}get visible(){return this._visible.get()}set visible(e){(0,A.h5)((()=>this._visible.set(e)))}},({e:[Pp],c:[Rp,Tp]}=(0,S.A)(Cp,[(0,k.k_)({implement:"IEndScreenPlugin",ctor_args:["IsEmbed","IDataPlugin","IStatisticState","IPlayerConfigPlugin",{implement:"ITrackingLinksPlugin",optional:!0}]})],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),Ip=Cp,(kp=class extends V{constructor(){super(Rp),this.useEndScreen=()=>(0,Dt.Ks)("IEndScreenPlugin"),this.useEndScreenOptional=()=>(0,Dt.ei)("IEndScreenPlugin"),this.getEndScreen=e=>e("IEndScreenPlugin"),Tp()}})[Ip]=void 0,kp);const Lp="touch-handlers-layout-module__layout___J1RlQ",xp="touch-handlers-layout-module__loadingOverlay___IcZ79",Op="touch-handlers-layout-module__waiting___L4GuH",Np=[.25,.5,.75,1,1.25,1.5,1.75,2];var Dp,Mp;let Bp;const Fp={autoplay:!0,isLive:!1};class Hp extends(Dp=k.j8){constructor(e,t,n,i){super(),this._notifier=void Bp(this),this._readyStateNotifier=void 0,this._timeUpdateNotifier=void 0,this._durationAndIsPlayingNotifier=void 0,this._pausedNotifier=void 0,this._autoPlayWithMute=A.sH.box("NotInitialized"),this._isAutoPlay=A.sH.box(!1),this._wasStarted=A.sH.box(!1),this._isPlayerReady=A.sH.box(!1),this._playInitiator=A.sH.box(""),this._seeking=A.sH.box(!1),this.__buffering=A.sH.box(!1),this._isLooping=A.sH.box(!1),this._mount=A.sH.box(!1),this._volumeBeforeMute=A.sH.box(this.volume),this._isStatStartSent=A.sH.box(!1),this._preventStatSend=A.sH.box(!1),this._isInfoPrevented=A.sH.box(!1),this._isCommunicationBannerPrevented=A.sH.box(!0),this._options=void 0,this._pausedViaPlugin=A.sH.box(!1),this._fragmentTime=A.sH.box(null),this._hasMutedAutoplayFired=!1,this._eventEmitter=void 0,this._player=void 0,this._config=n,this.__counterHelper=i,this._player=e,this._player.setAttribute("playsinline","true"),this._options=t||Fp,this._eventEmitter=new kn,(0,A.Gn)(this,{currentTime:A.EW,muted:A.EW,volume:A.EW,duration:A.EW,ended:A.EW,isPlaying:A.EW,waiting:A.EW,wasStarted:A.EW,isPlayerReady:A.EW,autoPlayWithMute:A.EW,playbackRate:A.EW,isLooping:A.EW,volumeBeforeMute:A.EW,handleVolume:A.XI,handleMuted:A.XI,handlePlaybackRate:A.XI,seek:A.XI,seekBack:A.XI,seekForward:A.XI,seekStart:A.XI,seekEnd:A.XI,play:A.XI,pause:A.XI,progress:A.EW,setAutoPlayWithMuteState:A.XI,isStatStartSent:A.EW,preventStatSend:A.EW},{autoBind:!0}),this.play=this.play.bind(this),this.pause=this.pause.bind(this),this.handleMuted=this.handleMuted.bind(this),this.handlePlaybackRate=this.handlePlaybackRate.bind(this),this.comparePlayers=this.comparePlayers.bind(this)}init(){const e=Fi("volume"),t="1"===Fi("muted");if(!e||"number"!=typeof parseFloat(e)||isNaN(parseFloat(e))||t||(this.volume=parseFloat(e),this.volumeBeforeMute=parseFloat(e)),this.restorePlaybackRateFromStorage(),this.autostartmute||0===this.volume||t){const e=this.autostartmute&&!t&&this.volume;this.muted=!0,e&&Hi("muted","0")}null===e&&Hi("volume",this._player.volume.toString())}resetPlayback(){return(0,A.mJ)((()=>this._config&&this._config.get("videoId")),(()=>{this.isLooping=!1,this._hasMutedAutoplayFired=!1,this.setAutoPlayWithMuteState("NotInitialized"),this.isCommunicationBannerPrevented=!0}))}initPlaybackSpeedSubscription(){const e=e=>{var t;const n=null==e||null===(t=e.data)||void 0===t?void 0:t.speed;n&&Np.includes(n)&&(this.playbackRate=n)};return jr.Ug.subscribe(fi.L2.SET_PLAYBACK_SPEED,e),()=>jr.Ug.unsubscribe(fi.L2.SET_PLAYBACK_SPEED,e)}initPreventPlay(){return(0,A.mJ)((()=>{var e;return{disabled:null===(e=this._config)||void 0===e?void 0:e.get("isPlaybackDisabled"),playing:this.isPlaying}}),(e=>{let{disabled:t,playing:n}=e;n&&t&&this.pause()}))}setMount(e){this._mount.set(e)}getVideoIdReaction(){return(0,A.mJ)((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("videoId")}),(()=>{this.isPlayerReady=!1,this.wasStarted=!1,this.isStatStartSent=!1,this.preventStatSend=!1,this.fragmentTime=null}))}handleError(){this._eventEmitter.emit(Ln.p.error,null)}seekStart(){this._seeking.set(!0)}seekEnd(){this._seeking.set(!1)}async play(){return this.isVideoManuallyEnded()&&(this.currentTime=0),this._player.play().then((()=>this.setAutoPlayWithMuteState("Disabled"))).finally((()=>this.isCommunicationBannerPrevented=!1))}pause(){this._player.pause(),this.pausedViaPlugin=!0}get player(){return this._player}get volume(){var e,t;return null===(e=this._notifier)||void 0===e||e.reportObserved(),null===(t=this._player)||void 0===t?void 0:t.volume}get autostartmute(){const e=(0,i.al)(window.location.href).autostartmute;return!(!e||"false"===e)}get readyState(){var e,t;return null===(e=this._readyStateNotifier)||void 0===e||e.reportObserved(),null===(t=this._player)||void 0===t?void 0:t.readyState}get isLooping(){return this._isLooping.get()}set isLooping(e){this._isLooping.set(e),this._player.loop=e}set volume(e){Hi("volume",null==e?void 0:e.toString()),this._player.volume=e,this._eventEmitter.emit(Ln.p.volumeChange,e)}get isPlayerReady(){return this._isPlayerReady.get()}set isPlayerReady(e){this._isPlayerReady.set(e)}wasStartedHandler(){this.wasStarted||(0,A.h5)((()=>{this.wasStarted=!0}))}initPlayback(){this._player.addEventListener("play",this.wasStartedHandler);const e=this.bufferingStart(),t=this.bufferingEnd(),n=this.volumeChange(),i=this.loadedMetaData(),r=()=>this.handleError.bind(this),a=[];a.push((()=>{this._player.removeEventListener("play",this.wasStartedHandler)})),a.push((0,A.mJ)((()=>this._player),(e=>{this._notifier=(()=>{const t=()=>{var e;return null===(e=this._notifier)||void 0===e?void 0:e.reportChanged()};return(0,A.MN)("audio",(()=>{e.addEventListener("volumechange",t),e.addEventListener("seeking",t),e.addEventListener("ratechange",t),e.addEventListener("seeked",t),e.addEventListener("play",t),e.addEventListener("canplay",t),e.addEventListener("error",r)}),(()=>{e.removeEventListener("volumechange",t),e.removeEventListener("ratechange",t),e.removeEventListener("seeking",t),e.removeEventListener("seeked",t),e.removeEventListener("play",t),e.removeEventListener("canplay",t),e.removeEventListener("error",r)}))})()}))),a.push(this.autoplayReaction()),this._notifier=(()=>{const e=()=>{var e;return null===(e=this._notifier)||void 0===e?void 0:e.reportChanged()};return(0,A.MN)("audio",(()=>{this._player.addEventListener("volumechange",e),this._player.addEventListener("play",e),this._player.addEventListener("canplay",e),this._player.addEventListener("ratechange",e),this._player.addEventListener("error",r)}),(()=>{this._player.removeEventListener("volumechange",e),this._player.removeEventListener("play",e),this._player.removeEventListener("canplay",e),this._player.removeEventListener("ratechange",e),this._player.removeEventListener("error",r)}))})(),this._readyStateNotifier=(()=>{const e=()=>{var e;return null===(e=this._readyStateNotifier)||void 0===e?void 0:e.reportChanged()};return(0,A.MN)("readyState",(()=>{this._player.addEventListener("loadedmetadata",e),this._player.addEventListener("loadeddata",e)}),(()=>{this._player.removeEventListener("loadedmetadata",e),this._player.removeEventListener("loadeddata",e)}))})(),this._timeUpdateNotifier=(()=>{const e=()=>{var e;return null===(e=this._timeUpdateNotifier)||void 0===e?void 0:e.reportChanged()};return(0,A.MN)("timeUpdate",(()=>{this._player.addEventListener("timeupdate",e),this._player.addEventListener("ended",e),this._player.addEventListener("loadedmetadata",e),this._player.addEventListener("loadeddata",e)}),(()=>{this._player.removeEventListener("timeupdate",e),this._player.removeEventListener("ended",e),this._player.removeEventListener("loadedmetadata",e),this._player.removeEventListener("loadeddata",e)}))})(),this._durationAndIsPlayingNotifier=(()=>{let e=0;const t=()=>{const t=this.getDurationValue();var n;t!==e&&(e=t,null===(n=this._durationAndIsPlayingNotifier)||void 0===n||n.reportChanged())};return(0,A.MN)("durationAndIsPlayingChange",(()=>{this._player.addEventListener("durationchange",t),this._player.addEventListener("playing",t),this._player.addEventListener("timeupdate",t)}),(()=>{this._player.removeEventListener("durationchange",t),this._player.removeEventListener("playing",t),this._player.removeEventListener("timeupdate",t)}))})(),this._pausedNotifier=(()=>{const e=()=>{var e;return null===(e=this._pausedNotifier)||void 0===e?void 0:e.reportChanged()};return(0,A.MN)("pausedChange",(()=>{this._player.addEventListener("play",e),this._player.addEventListener("pause",e),this._player.addEventListener("playing",e)}),(()=>{this._player.removeEventListener("play",e),this._player.removeEventListener("pause",e),this._player.removeEventListener("playing",e)}))})(),a.push(this.getVideoIdReaction());const s=this.seekStart.bind(this),o=this.seekEnd.bind(this);return this._player.addEventListener("seeking",s),this._player.addEventListener("seeked",o),a.push((()=>{this._player.removeEventListener("seeking",s),this._player.removeEventListener("seeked",o)})),a.push(i,e,t,n),a.push(this.initPreventPlay()),()=>a.forEach((e=>e()))}clearFragmentTime(){return()=>{this.fragmentTime=null}}get currentTime(){var e;return null===(e=this._timeUpdateNotifier)||void 0===e||e.reportObserved(),this._player.currentTime}set currentTime(e){var t;this._player.currentTime=e,null===(t=this._timeUpdateNotifier)||void 0===t||t.reportChanged()}isVideoManuallyEnded(){return Math.abs(this._player.duration-this._player.currentTime)<Hp.TIME_COMPARISON_THRESHOLD}get ended(){var e;return null===(e=this._timeUpdateNotifier)||void 0===e||e.reportObserved(),this._player.ended||this.isVideoManuallyEnded()}get paused(){var e;return null===(e=this._pausedNotifier)||void 0===e||e.reportObserved(),this._player.paused}get isPlaying(){var e;return null===(e=this._durationAndIsPlayingNotifier)||void 0===e||e.reportObserved(),this._player.currentTime>=0&&!this.paused&&!this.ended&&this._player.readyState>2}get duration(){var e;return null===(e=this._durationAndIsPlayingNotifier)||void 0===e||e.reportObserved(),this.getDurationValue()}get muted(){var e;return null===(e=this._notifier)||void 0===e||e.reportObserved(),this._player.muted}set muted(e){this._player.muted!==e&&(Hi("muted",e?"1":"0"),this._player.muted=e,this._eventEmitter.emit(Ln.p.mute,e))}get progress(){return this.currentTime/this.duration*100}get waiting(){var e;return null===(e=this._readyStateNotifier)||void 0===e||e.reportObserved(),(!this.paused&&!this.isPlaying||this._player.readyState<=2&&this.wasStarted||this.buffering)&&!this.ended}get wasStarted(){return this._wasStarted.get()}set wasStarted(e){this._wasStarted.set(e)}get playInitiator(){return this._playInitiator.get()}set playInitiator(e){this._playInitiator.set(e)}get seeking(){return this._seeking.get()}get playbackRate(){var e;return null===(e=this._notifier)||void 0===e||e.reportObserved(),this._player.playbackRate}set playbackRate(e){(this._options.isLive||isNaN(e)||e<.25||e>2)&&(e=1),Hi(fi.Ok.PLAYBACK_RATE,e.toString()),e!==this._player.playbackRate&&jr.Ug.emit(fi.L2.PLAYBACK_SPEED_CHANGED,{speed:e}),this._player.playbackRate=e}get isStatStartSent(){return this._isStatStartSent.get()}set isStatStartSent(e){this._isStatStartSent.set(e)}get preventStatSend(){return this._preventStatSend.get()}set preventStatSend(e){this._preventStatSend.set(e)}get isInfoPrevented(){return this._isInfoPrevented.get()}set isInfoPrevented(e){this._isInfoPrevented.set(e)}handlePlaybackRate(e,t){this.playbackRate=e,this._eventEmitter.emit(Ln.p.playbackRate,{rate:e,withoutInfo:t})}restorePlaybackRateFromStorage(){const e=Fi(fi.Ok.PLAYBACK_RATE);this.playbackRate=e?parseFloat(e):1}changePlayBackRate(e){const t=Np.indexOf(this.playbackRate);let n;return"up"===e?(n=t+1<Np.length?t+1:t,this.playbackRate=Np[n]):"down"===e&&(n=t-1>=0?t-1:t,this.playbackRate=Np[n]),"number"==typeof n?Np[n]:this.playbackRate}get autoPlayWithMute(){return this._autoPlayWithMute.get()}set autoPlayWithMute(e){this._autoPlayWithMute.set(e)}get buffering(){return this.__buffering.get()}get isAutoPlay(){return this._isAutoPlay.get()}set isAutoPlay(e){this._isAutoPlay.set(e)}handleVolume(e){var t;e!==this.volume&&(this.muted=e<fi.bj,this.volume=e/100,null===(t=this._notifier)||void 0===t||t.reportChanged())}handleMuted(){var e;this.isInfoPrevented=!1;const t=!this.muted;this.muted=t,t?this.volumeBeforeMute=this.volume:(this.setAutoPlayWithMuteState("Disabled"),this.volume=this.volumeBeforeMute||1),null===(e=this._notifier)||void 0===e||e.reportChanged()}getBuffered(){const e=this._player.buffered,t=[{start:0,end:0}],n=Math.floor(this._player.currentTime);for(let n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});const i=t.find((e=>n>=e.start&&n<e.end));return[t,i?i.end/this._player.duration*100:0,null!=i&&i.end?null==i?void 0:i.end:0]}seek(e){const t=this._player.currentTime;this.currentTime=Math.min(Math.max(0,e),this.duration-.1),Math.floor(t)!==Math.floor(this.currentTime)&&this.wasStarted&&this._eventEmitter.emit(Ln.p.seek,{from:t,to:this.currentTime})}seekBack(e){this.seek(this.currentTime-e)}seekForward(e){this.seek(this.currentTime+e)}on(e,t){this._eventEmitter.on(e,t)}off(e,t){this._eventEmitter.off(e,t)}emit(e,t){this._eventEmitter.emit(e,t)}load(){this._player.load()}comparePlayers(e){return e===this._player}playWithHandlePermissions(){this.play().then((()=>{this.pausedViaPlugin=!1,this.muted&&!this._hasMutedAutoplayFired&&(this.isInfoPrevented=!0,this.setAutoPlayWithMuteState("Enabled"),this._hasMutedAutoplayFired=!0)})).catch((e=>{"NotAllowedError"!==(null==e?void 0:e.name)||this.muted||(this.isInfoPrevented=!0,this.muted=!0,this.play().then((()=>{this.setAutoPlayWithMuteState("Enabled"),Hi("muted","1")})).catch((e=>{this.muted=!1,console.warn(e)})))})).finally((()=>{this.isInfoPrevented=!1,this.isCommunicationBannerPrevented=!1}))}autoplayReaction(){var e;return null!==(e=this._config)&&void 0!==e&&e.get("preventAutoplay")?()=>{}:(0,A.mJ)((()=>({mount:this.mount,wasStarted:this.wasStarted,isPlayerReady:this.isPlayerReady,autoplay:this.autoplay})),(e=>{let{mount:t,wasStarted:n,isPlayerReady:i,autoplay:r}=e;t&&i&&!n&&r&&this.playWithHandlePermissions()}),{fireImmediately:!0})}bufferingStart(){const e=()=>{(0,A.h5)((()=>this.__buffering.set(!0)))};return this._player.addEventListener("waiting",e),()=>{this._player.removeEventListener("waiting",e)}}bufferingEnd(){const e=()=>{this.buffering&&(0,A.h5)((()=>this.__buffering.set(!1)))};return this._player.addEventListener("timeupdate",e),()=>{this._player.removeEventListener("timeupdate",e)}}volumeChange(){const e=()=>{this._player.muted||"Enabled"!==this.autoPlayWithMute||this.setAutoPlayWithMuteState("Disabled")};return this._player.addEventListener("volumechange",e),()=>{this._player.removeEventListener("volumechange",e)}}loadedMetaData(){const e=()=>this.restorePlaybackRateFromStorage();return this._player.addEventListener("loadedmetadata",e),()=>{this._player.removeEventListener("loadedmetadata",e)}}getDurationValue(){return this._options.isLive&&this._player.seekable.length?this._player.seekable.end(0):this._player.duration}setAutoPlayWithMuteState(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Disabled";this.autoPlayWithMute=e}get autoplay(){return this._options.autoplay}get mount(){return this._mount.get()}get isLive(){var e;return Boolean(null===(e=this._options)||void 0===e?void 0:e.isLive)}get isTvStream(){var e;return Boolean(null===(e=this._options)||void 0===e?void 0:e.isTVStream)}get tvSchedule(){var e,t;return null!==(e=(0,A.HO)(null===(t=this._config)||void 0===t?void 0:t.get("tvSchedule")))&&void 0!==e?e:null}get isOutdated(){return!1}get volumeBeforeMute(){return this._volumeBeforeMute.get()}set volumeBeforeMute(e){this._volumeBeforeMute.set(e)}set pausedViaPlugin(e){this._pausedViaPlugin.set(e)}get pausedViaPlugin(){return this._pausedViaPlugin.get()}get fragmentTime(){return this._fragmentTime.get()}set fragmentTime(e){this._fragmentTime.set(e)}get isCommunicationBannerPrevented(){return this._isCommunicationBannerPrevented.get()}set isCommunicationBannerPrevented(e){this._isCommunicationBannerPrevented.set(e)}}Mp=Hp,[Bp]=(0,S.A)(Mp,[],[[(0,k.o7)(),2,"init"],[(0,k.o7)(),2,"resetPlayback"],[(0,k.o7)(),2,"initPlaybackSpeedSubscription"],[A.XI,2,"setMount"],[k.zm,2,"wasStartedHandler"],[(0,k.o7)(),2,"initPlayback"],[(0,k.o7)(),2,"clearFragmentTime"],[k.zm,2,"seekBack"],[k.zm,2,"seekForward"]],0,void 0,Dp).e,Hp.TIME_COMPARISON_THRESHOLD=1e-5;function Vp(){const e=(0,Dt.p5)().resolve("IPlayback");if(!(e instanceof Qp))throw new Error("VideoPlaybackPlugin not found in current player configuration");return e}const Up=(0,_t.PA)((function(){const e=Vp().playbackComponent;return t.createElement(e,null)})),jp="playback-module__videoWrapper___Nsa3D",Wp="playback-module__userInteractionDisabled___k0L6S";class zp extends aa{constructor(e,t,n){super(),this._liveMidrollData=(0,A.sH)({startPlay:!1,needToPrefetch:!1,duration:null,active:!1}),this._streamInfo=(0,A.sH)({}),this._streamInfoInterval=null,this.setStreamInfoInterval=()=>(this._streamInfoInterval=setInterval((()=>{this.fetchLiveStreamInfo().catch((e=>{console.warn(e)}))}),15e3),()=>{this._streamInfoInterval&&clearInterval(this._streamInfoInterval)}),this._config=e,this._data=t,this._data.isTVStream||(this.fetchLiveStreamInfo().catch((e=>{console.warn(e)})),this.__disposers.push(this.setStreamInfoInterval())),(0,A.Gn)(this,{liveMidrollData:A.EW,liveMidrollStartPlay:A.EW,liveMidrollNeedToPrefetch:A.EW,liveMidrollDuration:A.EW,liveMidrollActive:A.EW,streamStatus:A.EW,accessStatus:A.EW})}init(){}async fetchLiveStreamInfo(){var e;const t=null===(e=this._config)||void 0===e?void 0:e.get("videoId");if(t){const e=await(e=>fetch(`${Ep()}/api/v2/video/stream/${e}/info/`).then((e=>e.json())).catch((e=>(console.warn(e),null))))(t);(0,A.h5)((()=>{this._streamInfo=Object.assign(this._streamInfo,null!=e?e:{})})),jr.Ug.emit(fi.L2.GET_STREAM_INFO,{streamInfo:e})}}get liveMidrollData(){return this._liveMidrollData}set liveMidrollData(e){this._liveMidrollData=(0,l.A)((0,l.A)({},this._liveMidrollData),e)}get liveMidrollStartPlay(){return this._liveMidrollData.startPlay}set liveMidrollStartPlay(e){this._liveMidrollData.startPlay=e}get liveMidrollNeedToPrefetch(){return this._liveMidrollData.needToPrefetch}set liveMidrollNeedToPrefetch(e){this._liveMidrollData.needToPrefetch=e}get liveMidrollDuration(){return this._liveMidrollData.duration}set liveMidrollDuration(e){this._liveMidrollData.duration=e}get liveMidrollActive(){return this._liveMidrollData.active}set liveMidrollActive(e){this._liveMidrollData.active=e}get streamStatus(){var e;return null===(e=this._streamInfo)||void 0===e?void 0:e.stream_status}get accessStatus(){var e;return null===(e=this._streamInfo)||void 0===e?void 0:e.access_status}}function $p(e){let{videoWidth:t,videoHeight:n}=e;return Gp([window.innerWidth,window.innerHeight])/Gp([t,n])}function Gp(e){return Math.max(...e)/Math.min(...e)}var qp;let Kp,Yp,Qp;qp=class extends Hp{static get Playback(){return Up}constructor(e,n,i,r,a,s,o,l,u){var c,d;super(document.createElement("video"),null!=n?n:null,e,s&&s instanceof pt?s.counterHelper:void 0),this._adapter=(Kp(this),A.sH.box(null)),this._isOutdated=A.sH.box(!1),this._isFrameless=A.sH.box(!1),this.__wasEnded=!1,this._currentVideoId=A.sH.box(""),this.playerContainer=null,this._shouldResumeLive=!1,this._isEmbed=!1,this._playerInWrapper=!0,this._disableUserInteractions=A.sH.box(!1),this._isInteractiveVideoEnded=A.sH.box(!1),this._isInteractiveVideoActive=A.sH.box(!1),this._shouldBeInLivePosition=!1,this._canReplay=A.sH.box(!1),this.playbackComponent=t.memo((e=>{var n;let{userInteractionDisabled:i}=e;const[r,a]=t.useState(null);return t.useEffect((()=>(r&&(this.setMount(!0),this.playerContainer=r,this._playerInWrapper&&r.appendChild(this.player)),()=>{this.setMount(!1),null!=r&&r.contains(this.player)&&(null==r||r.removeChild(this.player))})),[r]),t.createElement(t.Fragment,null,!(null!==(n=this._playOptions)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.is_spatial)&&t.createElement("div",{className:gt()(jp,{[Wp]:i}),ref:a}))})),this._playOptions=n,this._providerPlugin=i,this._userSettingsPlugin=r,this._embed=a,this._statistics=s,this._userSettings=o,this._visibilityState=l,this.player.setAttribute("data-testid","video"),null!==(c=this._playOptions)&&void 0!==c&&c.isInteractiveVideo&&this.player.setAttribute("disablePictureInPicture","true"),this._isEmbed=null!==(d=null==u?void 0:u.value)&&void 0!==d&&d,(0,A.Gn)(this,{isVertical:A.EW,isLive:A.EW,isTvStream:A.EW,tvSchedule:A.EW,src:A.EW,adapter:A.EW,goLive:A.XI,setPlayerReady:A.XI.bound,isOutdated:A.EW,isFrameless:A.EW,currentVideoId:A.EW,toggleFramelessMode:A.XI.bound,setNeedToRefetchPlayOptions:A.XI.bound,isInteractiveEnded:A.EW})}setPlayerReady(){this.isPlayerReady=!0}initVideoPlayback(){const e=[];return e.push((()=>{this.player.remove()})),e.push((0,A.mJ)((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("videoId")}),(()=>this.isPlayerReady=!1),{fireImmediately:!0})),e.push((0,A.mJ)((()=>{var e,t;return{link:null===(e=this._playOptions)||void 0===e?void 0:e.link,isAdultAllowed:null===(t=this._userSettings)||void 0===t?void 0:t.isUserAdult}}),(e=>{var t,n;let{link:i,isAdultAllowed:r}=e;const a=null===(t=this._config)||void 0===t?void 0:t.get("videoId");(!this._embed||null!==(n=this._embed)&&void 0!==n&&n.visible)&&i&&this.currentVideoId!==a&&r&&(this.currentVideoId=String(a),this.initProvider(i))}),{fireImmediately:!0})),this._embed&&(e.push((0,A.mJ)((()=>{var e;return null===(e=this._embed)||void 0===e?void 0:e.visible}),(e=>{var t,n;!this._providerPlugin.provider&&e&&null!==(t=this._playOptions)&&void 0!==t&&t.link&&this.initProvider(null===(n=this._playOptions)||void 0===n?void 0:n.link)}),{fireImmediately:!0})),e.push((0,A.mJ)((()=>this._wasStarted),(e=>{var t,n;e&&(null===(t=this._providerPlugin.provider)||void 0===t||null===(n=t.changeConfig)||void 0===n||n.call(t,{maxBuffer:fi.JT}))})))),e.push((()=>{var e;null===(e=this.adapter)||void 0===e||e.destroy()})),this._player.addEventListener("loadedmetadata",this.setPlayerReady),e.push((()=>{var e;null===(e=this.adapter)||void 0===e||e.destroy(),this._player.removeEventListener("loadedmetadata",this.setPlayerReady)})),e.push((0,A.mJ)((()=>this.ended),(e=>{var t;e&&!this.__wasEnded&&(this.__wasEnded=!0,null===(t=this.__counterHelper)||void 0===t||t.get("mainContentPlaybackEnded")(),this.setAutoPlayWithMuteState("NotInitialized"))}))),e.push((0,A.mJ)((()=>({canReplay:this.canReplay,ended:this.ended})),(e=>{let{canReplay:t,ended:n}=e;var i;t&&n&&this._isEmbed&&(null===(i=this._statistics)||void 0===i||i.incrementViewCount(),this.resetOnReplay())}))),e.push((0,A.mJ)((()=>({duration:this.duration,currentTime:this.currentTime,isOutdated:this.isOutdated})),(e=>{var t,n;let{duration:i,currentTime:r,isOutdated:a}=e;const s=P()&&qt.B.isiOSMobile,o=null===(t=this.provider)||void 0===t||null===(t=t.provider)||void 0===t||null===(t=t.instance)||void 0===t?void 0:t.liveSyncPosition;if(this.isTvStream||!isFinite(i))return void(this.isOutdated=!1);const l=Math.min(r,i),u=null!==(n=s?this.getSafariLiveSyncPosition():o)&&void 0!==n?n:i-8,c=Math.floor(100*Math.abs(u-l))/100;s?this.isOutdated=!this._shouldBeInLivePosition&&c>6:this._shouldBeInLivePosition||(!a&&c>8&&(this.isOutdated=!0),a&&c<=6&&(this.isOutdated=!1))}))),()=>e.forEach((e=>e()))}getVideoIdReaction(){return(0,A.mJ)((()=>this.currentVideoId),(()=>{this.wasStarted=!1,this.isStatStartSent=!1,this.preventStatSend=!1,this.fragmentTime=null}))}autoPlayWhenPlayOptionsChanged(){return(0,A.mJ)((()=>{var e,t,n;return{mount:this.mount,isPlayerReady:this.isPlayerReady,isPlayOptionsLoaded:null===(e=this._playOptions)||void 0===e?void 0:e.isPlayOptionsLoaded,userSubscription:null!==(t=null===(n=this._config)||void 0===n?void 0:n.get("userPaidSubscription"))&&void 0!==t?t:[]}}),(e=>{let{mount:t,isPlayerReady:n,isPlayOptionsLoaded:i,userSubscription:r}=e;const a=r.length>0;t&&n&&this.wasStarted&&i&&(a||this.ended)&&this.playWithHandlePermissions()}))}initVisibilityChangeHandler(){return(0,A.mJ)((()=>{var e;return null===(e=this._visibilityState)||void 0===e?void 0:e.isVisible}),(e=>{e||(this._shouldResumeLive=this.isLive&&this.muted&&this.isPlaying)}))}initResumeLive(){return(0,A.mJ)((()=>this.isPlaying),(e=>{e&&this._shouldResumeLive&&(this.goLive(),this._shouldResumeLive=!1)}))}initGoLiveFromStart(){return(0,A.mJ)((()=>this.wasStarted),(e=>{e&&this.isLive&&0===this.currentTime&&!this.waiting&&this.goLive()}))}initLivePlaybackAdapter(){return(0,A.mJ)((()=>{var e,t;return{isLive:null===(e=this._playOptions)||void 0===e?void 0:e.isLive,data:null===(t=this._playOptions)||void 0===t?void 0:t.data}}),(e=>{var t;let{isLive:n,data:i}=e;if(n||"stream_push"===(null==i?void 0:i.stream_type)||"stream_access_fail"===(null==i||null===(t=i.detail)||void 0===t?void 0:t.name)){if(this.adapter)return;this.adapter=new zp(this._config,this._playOptions,this._providerPlugin)}}))}initChangeStreamStatus(){return(0,A.mJ)((()=>{var e,t,n;return{accessStatus:null===(e=this.adapter)||void 0===e?void 0:e.accessStatus,streamStatus:null===(t=this.adapter)||void 0===t?void 0:t.streamStatus,link:null===(n=this._playOptions)||void 0===n?void 0:n.link}}),(e=>{var t;let{accessStatus:n,streamStatus:i,link:r}=e;const a=n===Ys.PUBLIC&&i===Qs.STREAM_ACTIVE&&(null===(t=this._playOptions)||void 0===t?void 0:t.isPlayOptionsLoaded)&&!r,s=i&&[Qs.STREAM_DONE,Qs.STREAM_BLOCKED,Qs.STREAM_DISABLE,Qs.STREAM_FINISH_ERR].includes(i)&&r;(a||s)&&setTimeout((()=>{var e;null===(e=this._playOptions)||void 0===e||e.fetchPlayOptions()}),2e3)}))}initProvider(e){if(this._providerPlugin.isProviderInitialized(e))return;this._providerPlugin.provider&&(this.isPlayerReady=!1,this._wasStarted.set(!1),this._providerPlugin.destroy());const t={};this._embed&&(t.maxBuffer=30),qt.B.isMobile&&(t.backBuffer=360),this._config&&(t.startTime=this._config.get("startTime")),e&&this.player&&this._providerPlugin.initProvider(e,this,t)}async play(){var e,t;if(null!==(e=this._playOptions)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.is_adult&&(null===(t=this._userSettingsPlugin)||void 0===t||!t.isUserAdult)||this.isInteractiveEnded||this.isInteractiveActive)return this.pause(),Promise.reject();return super.play().then((e=>()=>{var t,n,i,r;e?null===(n=this.__counterHelper)||void 0===n||n.get("mainContentPlaybackFirstPlay")():null===(i=this.__counterHelper)||void 0===i||i.get("mainContentPlaybackResume")();this.isStatStartSent||this.preventStatSend||(null===(r=this.__counterHelper)||void 0===r||r.get("mainContentPlaybackStart")(),this.isStatStartSent=!0);null===(t=this.__counterHelper)||void 0===t||t.get("mainContentPlaybackPlayPause")({play:"play"})})(!this.wasStarted))}pause(){var e,t;return this._shouldBeInLivePosition=!1,null===(e=this.__counterHelper)||void 0===e||e.get("mainContentPlaybackPause")(),null===(t=this.__counterHelper)||void 0===t||t.get("mainContentPlaybackPlayPause")({play:"pause"}),super.pause()}playWithHandlePermissions(e){e&&this.goLive(),super.playWithHandlePermissions()}get isInteractiveEnded(){return this._isInteractiveVideoEnded.get()}set isInteractiveEnded(e){this._isInteractiveVideoEnded.set(e)}get isInteractiveActive(){return this._isInteractiveVideoActive.get()}set isInteractiveActive(e){this._isInteractiveVideoActive.set(e)}get isVertical(){return void 0!==this._player.videoWidth&&void 0!==this._player.videoHeight&&this._player.videoWidth<=this._player.videoHeight}get src(){return this._player.src}set src(e){this._player.src=e}get adapter(){return this._adapter.get()}set adapter(e){this._adapter.set(e)}get data(){var e;return null!==(e=this._playOptions)&&void 0!==e?e:null}get provider(){return this._providerPlugin}get isOutdated(){return this._isOutdated.get()}set isOutdated(e){this._isOutdated.set(e)}goLive(){var e,t;if(null===(e=this._playOptions)||void 0===e||!e.isLive)return;const n=P()&&qt.B.isiOSMobile;if(this._player&&null!==(t=this._providerPlugin)&&void 0!==t&&t.provider){var i;const e=this._providerPlugin.provider,{liveSyncPosition:t}=null!==(i=e.instance)&&void 0!==i?i:{},r=this.duration,a=n?this.getSafariLiveSyncPosition():t;if(!a&&!isFinite(r))return;const s=(null!=a?a:r)-4-.04;this.seek(s,void 0,!0)}}seek(e,t,n){const i=this._player.currentTime;this.currentTime=Math.min(Math.max(0,e),this.duration-.1);const r=this._shouldBeInLivePosition&&this.currentTime>i;this.isOutdated=!n&&!r,this._shouldBeInLivePosition=Boolean(n)||r,this.wasStarted&&(Math.floor(i)===Math.floor(this.currentTime)&&"hotkey"!==t||this._eventEmitter.emit(Ln.p.seek,{from:i,to:this.currentTime,source:t}))}seekBack(e,t){this.seek(this.currentTime-e,t)}seekForward(e,t){this.seek(this.currentTime+e,t)}isInPiP(){return"pictureInPictureElement"in document&&null!=document.pictureInPictureElement}movePlayerToBody(){this.player.style.position="fixed",this.player.style.left="100%",this._playerInWrapper=!1,document.body.appendChild(this.player)}movePlayerBackToContainer(){var e;this.player.style.position="",this.player.style.left="",this._playerInWrapper=!0,null===(e=this.playerContainer)||void 0===e||e.appendChild(this.player)}get isFrameless(){return this._isFrameless.get()}set isFrameless(e){this._isFrameless.set(e)}toggleFramelessMode(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n;this.isFrameless!==e&&t&&(this._eventEmitter.emit(Ln.p.toggleFramelessMode,e),null===(n=this.__counterHelper)||void 0===n||n.get("mainContentPlaybackFrameless")({isEnabled:e,value:$p(this.player)}));this.isFrameless=e}setNeedToRefetchPlayOptions(e){this._playOptions&&(this._playOptions.needToRefetchPlayOptions=e)}resetOnReplay(){this.isStatStartSent=!1,this.preventStatSend=!1,this.setNeedToRefetchPlayOptions(!0),this.__wasEnded=!1}get currentVideoId(){return this._currentVideoId.get()}set currentVideoId(e){this._currentVideoId.set(e)}get userInteractionDisabled(){return this._disableUserInteractions.get()}set userInteractionDisabled(e){(0,A.h5)((()=>this._disableUserInteractions.set(e)))}set canReplay(e){this._canReplay.set(e)}get canReplay(){return this._canReplay.get()}getSafariLiveSyncPosition(){const e=this.player.seekable.length;if(e>0){var t;return null===(t=this.player.seekable)||void 0===t?void 0:t.end(e-1)}}},({e:[Kp],c:[Qp,Yp]}=(0,S.A)(qp,[(0,k.k_)({implement:"IPlayback",ctor_args:[{implement:"IPlayerConfigPlugin",optional:!0},{implement:"IDataPlugin",optional:!0},"IProviderPlugin",{implement:"IUserSettingsPlugin",optional:!0},{implement:"IEmbedPlugin",optional:!0},{implement:"IStatisticState",optional:!0},{implement:"IUserSettingsPlugin",optional:!0},{implement:"IVisibilityStatePlugin",optional:!0},{implement:"IsEmbed",optional:!0}]})],[[k.zm,2,"setPlayerReady"],[(0,k.o7)(),2,"initVideoPlayback"],[(0,k.o7)(),2,"autoPlayWhenPlayOptionsChanged"],[(0,k.o7)(),2,"initVisibilityChangeHandler"],[(0,k.o7)(),2,"initResumeLive"],[(0,k.o7)(),2,"initGoLiveFromStart"],[(0,k.o7)(),2,"initLivePlaybackAdapter"],[(0,k.o7)(),2,"initChangeStreamStatus"],[k.zm,2,"goLive"],[k.zm,2,"toggleFramelessMode"]],0,void 0,Hp)),Yp();const Xp=e=>{let{onPinchZoomIn:n,onPinchZoomOut:i}=e;const{isFullScreen:r,isVideo360:a}=$h(),s=(0,t.useMemo)((()=>Boolean(!a&&"object"==typeof navigator&&navigator.userAgent.toLowerCase().includes("android")&&r)),[r,a]),o=Vp(),l=(0,t.useRef)(!1),u=(0,t.useRef)(null),c=(0,t.useCallback)((()=>{u.current&&(clearTimeout(u.current),u.current=null),l.current=!1}),[]),d=(0,t.useRef)([]),h=(0,t.useRef)([]),p=(e,t)=>e.findIndex((e=>e.pointerId===t.pointerId)),v=(0,t.useCallback)((e=>{d.current.splice(p(d.current,e),1),h.current.splice(p(h.current,e),1)}),[]),m=(0,t.useCallback)((e=>{s&&d.current.push(e)}),[s]),_=e=>{l.current=!0,u.current=setTimeout((()=>{l.current=!1,u.current=null}),500),e.preventDefault()},f=(0,t.useCallback)((e=>{if(l.current||!s)return;const t=o.isFrameless?"zoomOut":"zoomIn",r=d.current,a=Zp(r),u=h.current;u[p(r,e)]=e;const c=Zp(u);a&&c&&(c>a&&"zoomIn"===t?(n(),_(e)):c<a&&"zoomOut"===t&&(i(),_(e)))}),[o,s,n,i]),g=(0,t.useCallback)((e=>{v(e)}),[v]);return(0,t.useEffect)((()=>c),[c]),(0,t.useEffect)((()=>{s||c()}),[s,c]),(0,t.useMemo)((()=>({onPointerDown:m,onPointerMove:f,onPointerUp:g,onPointerCancel:g,onPointerLeave:g,onPointerOut:g})),[m,f,g])};function Zp(e){if(2===e.length){return Math.abs(e[0].clientX-e[1].clientX)+Math.abs(e[0].clientY-e[1].clientY)}return null}const Jp=(0,_t.PA)((e=>{let{children:n}=e;const{isFullScreen:i,isInPiP:r,playback:a,handleFullscreen:s,isEmbed:o,isChannelPage:l,isPreview:u,clearAcitivitiesTrigger:c}=$h(),{togglePiP:d}=vp()||{},{waiting:h,toggleFramelessMode:p}=a,{visible:v}=Rp.useEndScreenOptional()||{},m=pp(),_=qt.B.isiOSMobile,{handlers:f}=gv({preventEvents:v}),{hideControls:g}=(0,Bu.useControls)(),{onTouchEnd:y,onTouchStart:b}=(e=>{let{onSwipeDown:n,onSwipeUp:i,isSwipeDisabled:r=!1,threshold:a=50}=e;const s=(0,t.useRef)(null),o=(0,t.useRef)(0);return{onTouchStart:e=>{r||(1===e.touches.length?(s.current=e.changedTouches[0].clientY,o.current=e.currentTarget.scrollTop):e.touches.length>1&&(s.current=null))},onTouchEnd:e=>{if(r)return;const t=s.current,l=e.changedTouches[0].clientY,u=e.currentTarget.scrollTop;if(null!=t&&null!=l){const e=u<o.current;l-t>a&&!e&&n&&n();const r=o.current<u;t-l>a&&!r&&i&&i()}s.current=null}}})({isSwipeDisabled:m&&_||o||l||u,onSwipeUp:()=>{s()},onSwipeDown:()=>{i||r||null==d||d()}}),E=(0,t.useCallback)((()=>{p(!0),g()}),[g,p]),w=(0,t.useCallback)((()=>{p(!1),g()}),[g,p]),S=Xp({onPinchZoomIn:E,onPinchZoomOut:w});return t.createElement("div",(0,On.A)({className:gt()([Lp]),onMouseDown:f.onMouseDown,onTouchStart:e=>{f.onTouchStart(e),b(e)},onTouchStartCapture:c,onTouchMove:o||l||u?f.onTouchMove:void 0,onTouchEnd:e=>{f.onTouchEnd(e),y(e)},onTouchCancel:f.onTouchEnd},S),h&&t.createElement("div",{className:gt()(xp,{[Op]:h})},t.createElement(pr,null)),n)})),ev="video-wrapper-module__videoWrapper___qcGpf",tv="video-wrapper-module__wideMode___KvfQI",nv="video-wrapper-module__frameless___RJWB7",iv="thumbnail-module__notLoaded___Cth5T",rv="thumbnail-module__thumbnailSkeleton____ZeVa",av=["skeletonClassName","className","requiredSize","src","alt","playerWidth","responsive","loading"],sv=e=>{let{skeletonClassName:n,className:i,requiredSize:r,src:a,alt:s,playerWidth:o,responsive:l=!0,loading:u="lazy"}=e,c=(0,Cr.A)(e,av);const[d,h]=(0,t.useState)(!1),[p,v]=(0,t.useState)(!1),m=(0,t.useMemo)((()=>{const e=r||o||null;if(a&&e&&l)return((e,t)=>{const n=[1,1.5,2,3].map((n=>`${e}?width=${Math.floor(t*n)} ${n}x`));return n.join(", ")})(a,e)}),[a,l,r,o]),_=(0,t.useCallback)((()=>{h(!0)}),[h]),f=(0,t.useCallback)((()=>{v(!0)}),[v]);return p?null:t.createElement(t.Fragment,null,!d&&t.createElement("div",{className:gt()(rv,n)}),a?t.createElement("img",(0,On.A)({},c,{className:gt()({[iv]:!d},i),srcSet:m,src:`${a}${r?`?width=${r}`:""}`,alt:s,onLoad:_,onError:f,loading:u})):null)},ov="poster-module__posterContainer___ogxzi",lv="poster-module__noPointerEvents___CKxSO",uv="poster-module__poster___pcGrV",cv="poster-module__buttonWrapper___XFW5j";var dv=s(3752);var hv;let pv,vv,mv;class _v extends k.j8{constructor(e,t,n,i,r,a,s){super(),this.timer=(pv(this),null),this.__forcedPlayback=!1,this.__playbackRate=null,this.__isLongPress=A.sH.box(!1),this.__needToPreventClick=A.sH.box(!1),this.__playback=void 0,this.__infoLayer=void 0,this.__controlsPlugin=void 0,this.__data=void 0,this.__pip=void 0,this.__context=void 0,this._counterHelper=void 0,this.__playback=e,this.__infoLayer=n,this.__controlsPlugin=t,this.__data=i,this.__pip=r,this.__context=a,this._counterHelper=s instanceof pt?s.counterHelper:void 0,(0,A.Gn)(this,{isLongPress:A.EW,needToPreventClick:A.EW,clearPressTime:A.XI.bound,startPressTimer:A.XI.bound})}initContextIsOpen(){return(0,A.mJ)((()=>{var e;return null===(e=this.__context)||void 0===e?void 0:e.isOpen}),(e=>{e&&(this.needToPreventClick=!0)}))}clearPressTime(){var e;this.isLongPress&&(this.__playback.handlePlaybackRate(null!==(e=this.playbackRate)&&void 0!==e?e:1,!0),this.__infoLayer.setActiveInfo(null),this.__playback.emit(Ln.p.longPress,{isEnabled:!1,forcedPlayback:this.forcedPlayback}),this.forcedPlayback=!1);this.timer&&(clearTimeout(this.timer),this.timer=null,this.isLongPress=!1)}startPressTimer(e){var t,n;const i=e.target;(0,th.Ex)(i)||this.__playback.isLive||this.__playback.ended||!this.__playback.wasStarted||null!==(t=this.__data.data)&&void 0!==t&&t.is_spatial||null!==(n=this.__pip)&&void 0!==n&&n.isInPiP&&qt.B.isMobile||(this.timer=setTimeout((()=>{(0,A.h5)((()=>{var e;(this.isLongPress=!0,this.__controlsPlugin.hideControls(!0),this.__playback.isPlaying||(this.__playback.play(),this.forcedPlayback=!0),this.__playback.playbackRate<2)&&(this.__infoLayer.isInfoPrevented=!1,this.__playback.isInfoPrevented=!1,this.__infoLayer.setActiveInfo({label:"x2",shortLabel:"x2",labelIcon:Jn.FORWARD_FAST,withoutAnimation:!0,persistent:!0}),this.__playback.handlePlaybackRate(2,!0),this.__playback.emit(Ln.p.longPress,{isEnabled:!0,forcedPlayback:this.forcedPlayback}),null===(e=this._counterHelper)||void 0===e||e.get("mainContentPlaybackRewindMode")({rewindType:dv.E.LONG_TAP,rewindDirection:dv.U.FORWARD}))}))}),500))}set playbackRate(e){this.__playbackRate=e}get playbackRate(){return this.__playbackRate}get activePlaybackRate(){return this.__playback.playbackRate}get forcedPlayback(){return this.__forcedPlayback}set forcedPlayback(e){this.__forcedPlayback=e}get needToPreventClick(){return this.__needToPreventClick.get()}set needToPreventClick(e){this.__needToPreventClick.set(e)}get isLongPress(){return this.__isLongPress.get()}set isLongPress(e){this.__infoLayer.forceToShow=e,this.__isLongPress.set(e)}}hv=_v,({e:[pv],c:[mv,vv]}=(0,S.A)(hv,[(0,k.k_)({implement:"ILongPressSeekPlugin",ctor_args:["IPlayback","IControlsPlugin","IInfoLayerPlugin","IDataPlugin",{implement:"PictureInPicturePlugin",optional:!0},{implement:"IContextMenuPlugin",optional:!0},"IStatisticState"]})],[[(0,k.o7)(),2,"initContextIsOpen"]],0,void 0,k.j8)),vv();const fv=()=>(0,Dt.p5)().resolve("ILongPressSeekPlugin"),gv=e=>{let{onClick:n,preventEvents:i=!1}=e;const r=fv(),a=(0,Bu.useControls)(),s=Nn(),o=(0,t.useRef)(null),{comparePlayers:l,pause:u,isPlaying:c}=a.playback,{startPressTimer:d,clearPressTime:h,activePlaybackRate:p,isLongPress:v,forcedPlayback:m,needToPreventClick:_}=r;return(0,t.useEffect)((()=>{const e=e=>{i||0===(null==e?void 0:e.button)&&(r.forcedPlayback&&u(),r.isLongPress&&l(e.target)&&(r.needToPreventClick=!0),r.clearPressTime())};return window.addEventListener("mouseup",e),()=>{window.removeEventListener("mouseup",e)}}),[r,l,u,i,s]),{isLongPress:v,handlers:{onMouseDown:function(e){i||0===e.button&&(r.playbackRate=p,d(e))},onClick:function(e){0===e.button&&_?r.needToPreventClick=!1:n&&"function"==typeof n&&n(e)},onTouchStart:function(e){var t,n;i||(1===(null==e||null===(t=e.touches)||void 0===t?void 0:t.length)?(v||(r.playbackRate=p),o.current=[null==e?void 0:e.touches[0].clientX,null==e?void 0:e.touches[0].clientY],d(e)):(null==e||null===(n=e.touches)||void 0===n?void 0:n.length)>1&&(o.current=null,h()))},onTouchEnd:function(e){var t;i||(0===(null==e||null===(t=e.touches)||void 0===t?void 0:t.length)&&(m&&u(),v&&(r.needToPreventClick=!0),h(),o.current=null,c&&v&&a.setHideControlsTimer()),r.needToPreventClick&&(a.hideControls(),r.needToPreventClick=!1))},onTouchMove:function(e){var t;1===(null==e||null===(t=e.touches)||void 0===t?void 0:t.length)&&o.current&&Math.abs((null==e?void 0:e.touches[0].clientY)-o.current[1])>10&&h()}}}},yv=(0,_t.PA)((()=>{const{thumbnailUrl:e,title:n,playerWidth:i,isPosterVisible:r,isPlayButtonVisible:a}=(0,Dt.Ks)("IPosterPlugin"),{play:s}=Vp(),o=fv(),l=(null==o?void 0:o.needToPreventClick)||!1,u=(0,t.useCallback)((()=>{o&&l?o.needToPreventClick=!1:s()}),[o,s,l]);return e&&r?t.createElement("div",{className:gt()(ov,{[lv]:!qt.B.isMobile})},a&&t.createElement("div",{className:cv},t.createElement("div",{style:{width:"24px",height:"24px"},onClick:u},t.createElement(Hn,null))),t.createElement(sv,{"data-testid":"ui-poster",id:"raichuVideoPoster",src:e,className:uv,playerWidth:i,alt:n,onClick:u,loading:"eager"})):null})),bv=(0,_t.PA)((e=>{let{children:n,frameless:i}=e;const{handleFullscreen:r,isTouchDevice:a,playback:s,autoPlayWithMute:o,wideMode:l,isVideo360:u,isPlayPauseSwitchingAvailable:c,isFullScreen:d,originType:h,poster:p}=$h(),{play:v,pause:m,isPlaying:_,handleMuted:f,player:g}=s,y=(0,Bu.useControls)(),{handlers:b}=gv({onClick:e=>{a?"Enabled"===o?(f(),y.hideControls()):(y.showControls(),y.setHideControlsTimer()):2!==e.button&&(u&&!c||(_?m():v()))},preventEvents:!0}),E=(0,t.useMemo)((()=>d&&i?{"--scale-no-frames":$p(g).toFixed(2)}:void 0),[g,d,i]);return t.createElement("div",{style:E,"aria-hidden":"true",className:gt()(ev,{[tv]:l,[nv]:i}),onClick:b.onClick,onDoubleClick:()=>r()},"rtba"===h&&p&&t.createElement(yv,null),n)})),Ev="accesible-control-panel-module__button___ELG7N",wv=()=>{const{isShowControls:e,hideControls:n,showControls:i}=Od(),r=$h(),{isFullScreen:a,isTouchDevice:s,playback:{autoPlayWithMute:o,handleMuted:l}}=r;let u=e?"Ð¡ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ð°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ð»ÐµÐµÑ€Ð¾Ð¼":"ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿Ð°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ð»ÐµÐµÑ€Ð¾Ð¼";u+=a?" Ð² Ð¿Ð¾Ð»Ð½Ð¾ÑÐºÑ€Ð°Ð½Ð½Ð¾Ð¼ Ñ€ÐµÐ¶Ð¸Ð¼Ðµ":"";const c=()=>{"Enabled"===o&&l(),e?n():(i(),requestAnimationFrame((()=>{return e=pd.v.PLAY_BUTTON,void(null===(t=document.getElementById(e))||void 0===t||t.focus({preventScroll:!0}));var e,t})))};return t.createElement("button",{className:Ev,tabIndex:0,onClick:e=>{(s||e.buttons>0)&&c()},onKeyDown:e=>{["Enter","Space"].includes(e.key)&&(c(),e.stopPropagation(),e.preventDefault())}},u)},Sv="loader-template-module__wrapper___diBGg",Av="loader-template-module__portraitNoTouchScroll___zPpe6",kv="loader-template-module__wrapperLoaded___S_IOM",Cv="loader-template-module__wrapperNoControls___qKqqO",Pv="loader-template-module__fullScreen___wlfC3",Tv="loader-template-module__posterWrapper___eyvF7";var Iv=function(e){return e.Play="play",e.Auto="auto",e.ClickOnCard="click_on_card",e.Cancel="cancel",e.Show="show",e}(Iv||{});const Rv={recommendation:fi.L2.RECOMMENDED_VIDEO,next_video:fi.L2.NEXT_VIDEO},Lv=()=>(0,Dt.p5)().resolve("IUserSettingsPlugin"),xv=e=>e("IUserSettingsPlugin"),Ov="raichu-aria-alert-module__ariaAlert___RmsxF",Nv=["children"],Dv=e=>{let{children:n}=e,i=(0,Cr.A)(e,Nv);return t.createElement("span",(0,On.A)({},i,{className:Ov}),n)},Mv=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M7 7L17 17",stroke:n,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("path",{d:"M17 7L7 17",stroke:n,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))},Bv="end-screen-autoplay-module__endScreenAutoplay___B8d0U",Fv="end-screen-autoplay-module__endScreenAutoplayLabel___li3jH",Hv="end-screen-autoplay-module__switcher___PXB7G",Vv=(0,_t.PA)((()=>{const e=Lv(),n=(0,t.useRef)(null),i=(0,t.useCallback)((()=>{e.isAutoplayEnabled=!e.isAutoplayEnabled}),[e]);var r,a;r="dark2021",a=n,(0,t.useEffect)((()=>{const e=f(p[r]);g(r,e),a.current&&(a.current.dataset[m]=r)}),[r,a]);const s="ÐŸÑ€Ð¾Ð¸Ð³Ñ€Ñ‹Ð²Ð°Ñ‚ÑŒ Ð²Ð¸Ð´ÐµÐ¾ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸";return t.createElement("button",{ref:n,className:`${Bv} autoplay-btn`,onClick:i,"aria-label":e.isAutoplayEnabled?`ÐÐµ ${s}`:s},t.createElement("span",{className:Hv},t.createElement(xt,{size:Lt.SMALL,isActive:e.isAutoplayEnabled})),t.createElement("span",{className:Fv},s))})),Uv="end-screen-progress-button-module__progressBtn___hkBcZ",jv="end-screen-progress-button-module__progressBtnSmall___fGb61",Wv="end-screen-progress-button-module__progressBtnIcon___XWhPD",zv=e=>{const{size:n="default",timeout:i=fi.YN,onClick:r}=e,{cssProgressValue:a,setProgress:s}=((e,n,i)=>{const[r,a]=(0,t.useState)(0),s=(0,t.useRef)(null),o=()=>{s.current&&(clearTimeout(s.current),s.current=null)},l=e/100*r;return(0,t.useLayoutEffect)((()=>{let e=null,t=0,r=!1,l=Date.now();return null!==n&&(e=window.requestAnimationFrame((function i(){if(r)return;const s=(Date.now()-l)/(n||0);t+=s,l=Date.now(),a(100*t),t<1?e=window.requestAnimationFrame(i):u()})),s.current||(s.current=setTimeout(u,n))),()=>{o(),r=!0,a(0),null!==e&&(window.cancelAnimationFrame(e),e=null)};function u(){o(),a(0),null!==e&&(window.cancelAnimationFrame(e),e=null),i&&i(!0)}}),[n]),{cssProgressValue:l,setProgress:a}})(216,i,r),o=(0,t.useCallback)((e=>{e.preventDefault(),s(0),r()}),[s,r]),l=(0,t.useCallback)((e=>{e.stopPropagation()}),[]);return t.createElement("div",(0,On.A)({className:gt()(Uv,{[jv]:"default"!==n}),title:"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾",onClick:o},th.aQ),t.createElement("svg",{className:Wv,viewBox:"0 0 60 60",fill:"none"},t.createElement("path",{fill:"rgba(28, 35, 43, 0.9)",d:"M0.5 18.7514C0.5 9.91191 0.5 5.49216 3.24608 2.74608C5.99216 0 10.4119 0 19.2514 0H41.7486C50.5881 0 55.0078 0 57.7539 2.74608C60.5 5.49216 60.5 9.91191 60.5 18.7514V41.2486C60.5 50.0881 60.5 54.5078 57.7539 57.2539C55.0078 60 50.5881 60 41.7486 60H19.2514C10.4119 60 5.99216 60 3.24608 57.2539C0.5 54.5078 0.5 50.0881 0.5 41.2486V18.7514Z"}),t.createElement("path",{d:"M23 20v19.6l14-9.8L23 20Z",fill:"#fff",stroke:"#fff",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),!!i&&t.createElement("path",{onMouseDown:l,onMouseUp:l,onTouchStart:l,style:{strokeDasharray:216,strokeDashoffset:a+216},stroke:"#00A1E7",strokeWidth:"2",d:"M30 1H10C5.02944 1 1 5.02944 1 10V50C1 54.9706 5.02944 59 10 59H50C54.9706 59 59 54.9706 59 50V10C59 5.02944 54.9706 1 50 1Z"})))},$v={noScrollbar:"end-screen-next-module__noScrollbar___ZNBGx",fullSizeOverlay:"end-screen-next-module__fullSizeOverlay___CvgpY",video:"end-screen-next-module__video___g__QE",videoInner:"end-screen-next-module__videoInner___R2h02",videoImg:"end-screen-next-module__videoImg___TVyAB",videoBg:"end-screen-next-module__videoBg___kcExG",nextVideoClose:"end-screen-next-module__nextVideoClose___qWXSq",nextVideoCloseButton:"end-screen-next-module__nextVideoCloseButton___TX1qd",fullHeight:"end-screen-next-module__fullHeight___q0OJo",endScreenNext:"end-screen-next-module__endScreenNext___WFRz_",md:"end-screen-next-module__md___lCcvK",lg:"end-screen-next-module__lg___ShiVk",xlg:"end-screen-next-module__xlg___vfYH7",nextVideo:"end-screen-next-module__nextVideo___FNdQl",nextVideoInner:"end-screen-next-module__nextVideoInner___AC0Fa",nextVideoNext:"end-screen-next-module__nextVideoNext___LVIpD",sm:"end-screen-next-module__sm___Fwtmy",nextVideoTitle:"end-screen-next-module__nextVideoTitle___pt2m0",xxs:"end-screen-next-module__xxs___D1kbw",nextVideoPlay:"end-screen-next-module__nextVideoPlay___TwI9X",nextVideoCancel:"end-screen-next-module__nextVideoCancel___L_t4I",nextVideoAutoplay:"end-screen-next-module__nextVideoAutoplay___gA3C9"};function Gv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0px",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const[r,a]=t.useState(void 0),s=t.useRef(null),o=function(e){const n=t.useRef(e);n.current=e;const i=t.useRef(null),r=t.useRef(new Proxy(i,{set(e,t,i,r){return"current"===t&&e.current!==i&&n.current(i,e.current),Reflect.set(e,t,i,r)}}));return r.current}(((e,t)=>{var n,i;(a(void 0),t)&&(null===(n=s.current)||void 0===n||n.unobserve(t));e&&(null===(i=s.current)||void 0===i||i.observe(e))}));return t.useEffect((()=>{if("function"==typeof IntersectionObserver){var t;if(s.current=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting&&o.current&&s.current&&!n&&(s.current.unobserve(o.current),s.current.disconnect()),a(t.isIntersecting)}),{rootMargin:e,threshold:i}),o.current)null===(t=s.current)||void 0===t||t.observe(o.current);return()=>{var e;a(!1),null===(e=s.current)||void 0===e||e.disconnect(),s.current=null}}}),[o,e,n,i]),[o,r]}const qv=(0,_t.PA)((e=>{var n,i;let{fullHeight:r}=e;const a=nh(),s=(null===(n=a.size)||void 0===n?void 0:n.width)||0,o=(null===(i=a.size)||void 0===i?void 0:i.height)||0,l=Xm.useEndScreen(),{nextVideo:u,counterHelper:c,onClick:d}=l,{onScreenRef:h,autoplay:p}=(()=>{const{isAutoplayEnabled:e}=Lv(),[n,i]=(0,t.useState)(e),[r,a]=Gv(void 0,!0,.6);return(0,t.useEffect)((()=>{"boolean"==typeof a&&(!a&&n?i(!1):a&&e&&!n&&i(!0))}),[a,e,n]),(0,t.useEffect)((()=>{i(e)}),[e]),{onScreenRef:r,autoplay:n}})(),{isAutoplayEnabled:v}=Lv(),m=(0,t.useRef)(null),_=(0,t.useRef)(null),f=a.getSizeClassName($v),g=r?`${s}px`:`${Math.ceil((o-180)*fi.$c)}px`,y=(0,t.useCallback)((e=>{u&&(e||null==c||c.get("mainEndScreenNextVideoClick")(),d({isAuto:e,video:u,type:"next_video"}))}),[d,u,c]),b=(0,t.useCallback)((e=>{e.preventDefault(),l.sendEndScreenAction(Iv.Cancel),l.viewMode="recommendations",l.sendEndScreenAction(Iv.Show),null==c||c.get("mainEndScreenShowRecommendations")()}),[c,l]);return u?t.createElement("div",{className:gt()($v.endScreenNext,f,{[$v.fullHeight]:r}),style:{maxWidth:g}},t.createElement(Dv,{role:"alert","aria-live":"assertive"},"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾: ",u.title,v?` Ð½Ð°Ñ‡Ð½ÐµÑ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· ${Math.floor(fi.YN/1e3)} ÑÐµÐºÑƒÐ½Ð´`:""),t.createElement("div",{className:$v.nextVideoClose},t.createElement(Pc.r,{"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ ÑÐ½Ð´ÑÐºÑ€Ð¸Ð½",icon:Mv,onClick:b,className:$v.nextVideoCloseButton})),t.createElement("a",{href:u.video_url,title:u.title,"aria-label":`ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ðº Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ñƒ Ð²Ð¸Ð´ÐµÐ¾: ${u.title}`,onClick:e=>{var t;if(e.preventDefault(),e.target){const t=e.target;if(null!==t.closest(".autoplay-btn")||t.classList.contains("autoplay-btn"))return}const n=e.target;null!==(t=m.current)&&void 0!==t&&t.contains(n)||n===_.current||y(!1)},className:gt()($v.video,$v.nextVideo,f)},t.createElement("div",{ref:h,className:$v.videoInner},u.thumbnail_url&&t.createElement("img",{src:u.thumbnail_url,alt:u.title,className:gt()($v.fullSizeOverlay,$v.videoImg)}),t.createElement("div",{className:gt()($v.fullSizeOverlay,$v.videoBg)}),t.createElement("div",{className:$v.nextVideoInner},t.createElement("div",{className:gt()($v.nextVideoNext,f)},"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾:"),u.title&&t.createElement("div",{className:gt()($v.nextVideoTitle,f)},u.title),t.createElement("div",{ref:m,className:$v.nextVideoPlay},t.createElement(zv,{timeout:p?fi.YN:null,onClick:y})),t.createElement("button",{ref:_,className:$v.nextVideoCancel,onClick:b},"ÐžÑ‚Ð¼ÐµÐ½Ð°"),r&&t.createElement("div",{className:$v.nextVideoAutoplay},t.createElement(Vv,null))))),!r&&t.createElement("div",{className:$v.nextVideoAutoplay},t.createElement(Vv,null))):null})),Kv="end-screen-poster-module__poster___aNgMH",Yv=(0,_t.PA)((()=>{const{thumbnailUrl:e}=Xm.useEndScreen();return e?t.createElement(sv,{"data-testid":"ui-poster",id:"raichuVideoPoster",src:e,className:Kv,alt:"ÐŸÐ¾ÑÑ‚ÐµÑ€"}):null})),Qv={xxs:{total:4,template:"1fr 1fr"},xs:{total:6,template:"1fr 1fr 1fr"},sm:{total:6,template:"1fr 1fr 1fr"},md:{total:6,template:"1fr 1fr 1fr"},lg:{total:12,template:"1fr 1fr 1fr 1fr"},xlg:{total:12,template:"1fr 1fr 1fr 1fr"}},Xv=()=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},t.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M1.06 17.5v.08c0 .37.28.65.65.65a.6.6 0 0 0 .46-.18s4.66-5.03 10.38-3.51v5.08c0 .36.28.64.65.64.14 0 .23-.04.32-.1l9.28-7.88a.74.74 0 0 0 .23-.51.7.7 0 0 0-.18-.46l-9.28-7.53a.87.87 0 0 0-.37-.09.63.63 0 0 0-.65.65v4.75c-.04 0-9.18-1.38-11.49 8.4Z",clipRule:"evenodd"})),Zv="end-screen-recommendations-header-module__recommendationsHeader___ZvOPG",Jv="end-screen-recommendations-header-module__recommendationsHeaderTitle___zcdzI",em="end-screen-recommendations-header-module__title___OHsUz",tm="end-screen-recommendations-header-module__recommendationsClose___uNX07",nm=["Abort due to cancellation of share.","Share canceled"];function im(){return(0,Dt.p5)().resolve("ISharePlugin")}const rm=()=>{const[e,n]=(0,t.useState)(!1),{isEmbed:i,isSharePanelOpen:r,setActivePanel:a,title:s,videoUrl:o,counterHelper:l}=im(),u=(0,R.nu)(o),c=()=>{e||a("share"),null==l||l.get("mainSharingShow")()},d=i?(0,R.g)(u,(0,R.VZ)(qt.B.isMobile)):u,h=qt.B.isMobile?()=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i={title:e,url:t};return new Promise(((e,t)=>{navigator.canShare&&navigator.canShare(i)&&n?navigator.share(i).then((()=>e("Mobile sharing completed successfully"))).catch((n=>{nm.includes(n.message)?e("Mobile sharing cancelled by user"):t(n.message)})):t("Mobile share not suppported")}))}(s,d,qt.B.isMobile).then((()=>{null==l||l.get("mainSharingShare")({socialNetwork:"native"})})).catch(c):c;return{handleShareButton:h,handleCheckSharePanelWasOpen:()=>n(r)}},am=e=>{let{onClose:n,hiddenTitle:i}=e;const{title:r,author:a,videoUrl:s}=Ah(),{handleShareButton:o,handleCheckSharePanelWasOpen:l}=rm(),{counterHelper:u}=Xm.useEndScreen(),{getDataAttribute:c}=(0,Yn.f)();return t.createElement("div",{className:Zv},i?t.createElement(t.Fragment,null,t.createElement("h2",null,"Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸"),t.createElement(Pc.r,(0,On.A)({className:tm,icon:Mv,onClick:n,"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸"},c(Qn.R.CLOSE_RECOMMENDATION_BUTTON)))):t.createElement(t.Fragment,null,t.createElement("div",{className:Jv},t.createElement("a",{href:null==a?void 0:a.url,target:"_blank",rel:"noreferrer",title:null==a?void 0:a.name,onClick:()=>{null==u||u.get("mainEndScreenChannelLogoClick")({clickedUrl:(null==a?void 0:a.url)||""})}},t.createElement("img",{src:(null==a?void 0:a.avatar_url)||fi.k_,alt:null==a?void 0:a.name})),t.createElement("a",{href:s,target:"_blank",rel:"noreferrer",className:em},r)),t.createElement("div",null,t.createElement(Pc.r,{tabIndex:0,role:"button","aria-label":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ð²Ð¸Ð´ÐµÐ¾",icon:Xv,withBg:!1,onClick:o,onMouseDown:l}))))},sm="end-screen-recommendations-module__recommendations___taX__",om="end-screen-recommendations-module__recommendationsWrapper___YARZ4",lm="end-screen-recommendations-module__recommendationsInner___wuUAh",um="end-screen-recommendations-module__recommendationsGrid___DhuiF",cm="end-screen-recommendations-module__recommendationsCarousel___EnU5q",dm="end-screen-recommendations-module__recommendationsItem___bj4xx",hm="thumbnail-module__notLoaded___hwAhb",pm="thumbnail-module__thumbnailSkeleton___L3GP7",vm=["hidden","skeletonClassName","className","requiredSize","src","alt","responsive"],mm=e=>{let{hidden:n=!1,skeletonClassName:i,className:r,requiredSize:a,src:s,alt:o,responsive:l=!0}=e,u=(0,Cr.A)(e,vm);const[c,d]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),v=(0,t.useMemo)((()=>{if(!s||!a||!l)return;const e=[1,1.5,2,3].map((e=>`${s}?width=${a*e} ${e}x`));return e.join(", ")}),[s,a,l]),m=(0,t.useCallback)((()=>{d(!0)}),[d]),_=(0,t.useCallback)((()=>{p(!0)}),[p]);return h?null:t.createElement(t.Fragment,null,!c&&t.createElement("div",{className:gt()(pm,i)}),!n&&t.createElement("img",(0,On.A)({},u,{className:gt()({[hm]:!c},r),srcSet:v,src:s?`${s}${a?`?width=${a}`:""}`:"",alt:o,onLoad:m,onError:_})))},_m="recommendation-item-module__fullSizeOverlay___E0UcD",fm="recommendation-item-module__video___QVlb0",gm="recommendation-item-module__videoInner___wZqov",ym="recommendation-item-module__videoImg___tJAFX",bm="recommendation-item-module__videoBg___jZgB2",Em="recommendation-item-module__recommendation___wLRvM",wm="recommendation-item-module__grid___Cr9yy",Sm="recommendation-item-module__recommendationCurrent___gyCuC",Am="recommendation-item-module__verticalList___sIcQH",km="recommendation-item-module__thumbnail___yXRnU",Cm="recommendation-item-module__recommendationCurrentText___ok3Do",Pm="recommendation-item-module__recommendationText___TqJPv",Tm="recommendation-item-module__horizontalList___UFjMi",Im="recommendation-item-module__recommendationTitle___pnAqW",Rm="recommendation-item-module__recommendationDescription___Ts_rm",Lm="recommendation-item-module__recommendationInfo___HUxDL",xm="recommendation-item-module__recommendationDuration___NbGZF",Om="recommendation-item-module__recommendationSkeleton___Jg1pD",Nm="recommendation-item-module__loading___mCjxJ",Dm="recommendation-item-module__progress___MFz5x",Mm="recommendation-item-module__live___ZBMYz",Bm=e=>{let{id:n,title:i,titleRows:r=2,description:a,descriptionRows:s=1,ariaLabel:o,duration:l,isLiveStream:u,progress:c,thumbnailUrl:d,width:h,thumbnailWidth:p=600,className:v,mode:m="grid",currentLabel:_,hidden:f,onClick:g,onFocus:y}=e;const{getDataAttribute:b}=(0,Yn.f)(),E=_?"div":"button";return t.createElement(E,{onClick:e=>{e.preventDefault(),_||g&&g(e)},"data-testid":"recommendation-item",tabIndex:0,className:gt()(Em,v,{[wm]:"grid"===m,[Am]:"vertical_list"===m,[Sm]:!!_}),"data-id":n,"data-lazy":f,"aria-label":o||i,onFocus:y,style:{minWidth:h,maxWidth:h,"--rec-title-rows":r,"--rec-description-rows":s}},t.createElement("div",{className:km,"aria-hidden":!0},t.createElement("div",{className:fm},t.createElement("div",{className:gm},d&&t.createElement(mm,(0,On.A)({hidden:f,src:d,requiredSize:p,alt:i,className:gt()(_m,ym)},b(Qn.R.POSTER_IMAGE_RECOMMENDATION))),t.createElement("div",{className:gt()(_m,bm,{[Cm]:!!_})},!!_&&t.createElement("div",null,_)),"grid"===m&&!_&&t.createElement("div",{className:Pm},t.createElement("div",{className:Im},i),t.createElement("div",{className:Rm,title:a},a)),!_&&t.createElement(t.Fragment,null,t.createElement("div",{className:gt()(Lm,xm)},u?t.createElement("span",{className:Mm},"Ð’ ÑÑ„Ð¸Ñ€Ðµ"):l),Boolean(c)&&t.createElement("div",{className:Dm,"aria-label":`ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½Ð¾ ${c}%`},t.createElement("span",{style:{width:`${c}%`,background:"rgba(0, 161, 231, 1)"}})))))),"grid"!==m&&t.createElement("div",{"aria-hidden":!0,className:gt()(Pm,{[Tm]:"horizontal_list"===m,[Am]:"vertical_list"===m})},t.createElement("div",{className:Im},i),t.createElement("div",{className:Rm,title:a},a)))},Fm=e=>{let{wrapper:n,items:i,enabled:r=!0,options:a}=e;const s=(0,t.useRef)(null),[o,u]=(0,t.useState)({}),c=(0,t.useCallback)((()=>u({})),[]),d=(0,t.useCallback)((e=>{const t={};e.forEach((e=>{if(!e.isIntersecting)return;const n=e.target;n.dataset.id&&(t[n.dataset.id]=!0)})),Object.keys(t).length>0&&u((e=>(0,l.A)((0,l.A)({},e),t)))}),[]),h=(0,t.useCallback)((()=>{var e;null===(e=s.current)||void 0===e||e.disconnect();const t=n?n instanceof HTMLDivElement?n:n.current:null;if(!t)return;const i=t.querySelectorAll('[data-lazy="true"]');if(i.length)try{const e=new IntersectionObserver(d,a);s.current=e,i.forEach((t=>e.observe(t)))}catch(e){console.warn(e)}}),[n,a,d]);return(0,t.useEffect)((()=>{if(!r)return;const e=requestAnimationFrame((()=>{h()}));return()=>{var t;cancelAnimationFrame(e),null===(t=s.current)||void 0===t||t.disconnect()}}),[r,i,h]),{viewedItems:o,resetViewed:c}},Hm=(0,_t.PA)((()=>{var e;const n=Xm.useEndScreen(),{counterHelper:i,items:r,onClick:a,isEmbed:s,width:o,height:l,sizeId:u,isSmall:c,isCarousel:d,isLandscape:h}=n,{isTouchDevice:p}=$h(),v=(0,t.useRef)(null),{viewedItems:m}=Fm({wrapper:v,items:r,enabled:d,options:{rootMargin:"100%",threshold:0}}),_=s&&!h?o:Math.ceil(l*fi.$c);return t.createElement("div",{tabIndex:0,"aria-label":"Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸",className:sm,style:{maxWidth:`${_}px`,maxHeight:`${l}px`}},t.createElement(am,{onClose:()=>{n.cancel(),s||(n.viewMode="next_video")},hiddenTitle:p||c}),t.createElement("div",{className:om},t.createElement("div",{className:lm},t.createElement("div",{ref:v,className:gt()(um,{[cm]:d}),style:{gridTemplateColumns:null===(e=Qv[u])||void 0===e?void 0:e.template}},r.map((e=>{var n;return t.createElement(Bm,{key:e.video.id,id:e.video.id,title:e.video.title,description:(null===(n=e.video.author)||void 0===n?void 0:n.name)||"",descriptionRows:1,thumbnailUrl:e.video.thumbnail_url,duration:(0,Jd.a3)({value:e.video.duration}),isLiveStream:e.video.is_livestream,hidden:!m[e.video.id]&&d,className:dm,mode:d?"horizontal_list":"grid",onClick:()=>{return t=e.video,null==i||i.get("mainEndScreenRecommendationClick")(),void a({isAuto:!1,video:t,type:"recommendation"});var t}})}))))))})),Vm="end-screen-module__fullSizeOverlay___LdonP",Um="end-screen-module__endScreen___q93M7",jm="end-screen-module__fullHeight___HbPGD",Wm="end-screen-module__endScreenBg___YXSN2",zm="end-screen-module__endScreenContent___fp6ip",$m=(0,_t.PA)((()=>{const e=Xm.useEndScreen(),{nextVideo:n,visible:i,viewMode:r,isEmbed:a}=e,s=nh().size,o=(null==s?void 0:s.height)||0,l=Math.ceil(o*fi.$c),u=$h().isTouchDevice||l<=666;return i?t.createElement("div",{"data-testid":"endscreen",className:gt()(Vm,Um,{[jm]:u})},t.createElement(Yv,null),t.createElement("div",{className:gt()(Vm,Wm)}),t.createElement("div",{className:zm},"recommendations"===r?t.createElement(Hm,null):t.createElement(t.Fragment,null,n&&!a&&t.createElement(qv,{fullHeight:u})))):null}));var Gm,qm;let Km,Ym,Qm,Xm;new(qm=class extends Rp{constructor(e,t,n,i,r,a,s,o,u){var c;super(e,t,r,a,u),c=this,this._viewMode=(Km(this),A.sH.box("next_video")),this.advertPlugin=void 0,this.sendEndScreenAction=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===(t=c.counterHelper)||void 0===t||t.get("mainEndScreenAction")((0,l.A)({end_screen:e,list_of_cards:c.listOfCards,toggle:c._userSettings.isAutoplayEnabled?"on":"off"},n))},this.hide=()=>{this.visible=!1},this.cancel=()=>{var e;this.visible&&(null===(e=this.counterHelper)||void 0===e||e.get("mainEndScreenCancel")(),this.sendEndScreenAction(Iv.Cancel),this.hide())},this._playback=n,this._userSettings=i,this._config=a,this._playerSize=s,this.onClick=this.onClick.bind(this),this.isEmbed=e.value,this.advertPlugin=o,(0,A.Gn)(this,{visible:A.EW,show:A.XI,hide:A.XI,cancel:A.XI,onClick:A.XI})}initVideoEndScreen(){const e=[];return e.push((0,A.mJ)((()=>{var e;return[this._playback.ended,null===(e=this.advertPlugin)||void 0===e?void 0:e.currentState]}),(e=>{let[t,n]=e;t&&"prefetch"!==n&&"show"!==n&&t&&!this.isEmbed&&this.show()}))),e.push((0,A.mJ)((()=>{var e;return[this._playback.isPlaying,null===(e=this.advertPlugin)||void 0===e?void 0:e.currentState]}),(e=>{let[t,n]=e;(t||"prefetch"===n||"show"===n)&&this.hide()}))),e.push((0,A.mJ)((()=>this._userSettings.isAutoplayEnabled),(e=>{e&&(this.viewMode="next_video")}))),()=>e.forEach((e=>e()))}_makeVideoIdReaction(){return(0,A.mJ)((()=>{var e;return{videoId:this._playerData.video_id,allow:null===(e=this._playerData.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.show_endscreen,_:this.isEmbed,addLikedVideos:this._config.get("loadLikedRecommendations")}}),(e=>{let{videoId:t,allow:n,addLikedVideos:i}=e;t&&n&&(0,A.h5)((async()=>{try{this.hide(),this.data=await Ap((0,l.A)((0,l.A)({},this._makeFetctEndScreenRequestParams(t)),{},{addLikedVideos:i})),this.nextVideo&&!this.isEmbed||(this.viewMode="recommendations")}catch(e){console.warn("Load end-screen error",e)}}))}))}get listOfCards(){return this.items.map(((e,t)=>({title:e.video.title,url:e.video.video_url,position:(t+1).toString()})))}get items(){return this.getRecommendations(this.cardsLimit)}get cardsLimit(){var e,t;return this.isCarousel?20:null!==(e=null===(t=Qv[this.sizeId])||void 0===t?void 0:t.total)&&void 0!==e?e:4}get width(){var e,t;return null!==(e=null===(t=this._playerSize.size)||void 0===t?void 0:t.width)&&void 0!==e?e:0}get height(){var e,t;return null!==(e=null===(t=this._playerSize.size)||void 0===t?void 0:t.height)&&void 0!==e?e:0}get sizeId(){return this._playerSize.sizeId||"xxs"}get isLandscape(){return this.width>this.height}get isSmall(){return this.width<=666}get isCarousel(){return this.isSmall||!this.isEmbed&&qt.B.isMobile&&this.isLandscape&&this.width<1e3}get safeModeConfig(){return this._config.get("safeModeConfig")}get viewMode(){return this._viewMode.get()}set viewMode(e){this._viewMode.set(e)}show(){var e,t,n;(this.visible=!0,null===(e=this.counterHelper)||void 0===e||e.get("mainEndScreenShowAlt")(),"recommendations"===this.viewMode)?(this.sendEndScreenAction(Iv.Show),null===(t=this.counterHelper)||void 0===t||t.get("mainEndScreenShowRecommendations")()):null===(n=this.counterHelper)||void 0===n||n.get("mainEndScreenShow")()}onClick(e){var t,n;let{isAuto:i,video:r,type:a}=e;const s={next_video_id:r.id,clicked_url:r.video_url};let o;if(o="next_video"===this.viewMode?i?Iv.Auto:Iv.Play:Iv.ClickOnCard,this.sendEndScreenAction(o,s),null===(t=this.counterHelper)||void 0===t||t.get("mainEndScreenClick")(),null===(n=this.counterHelper)||void 0===n||n.get("mainEndScreenClickAction")(),this.trackingLinks&&this.isEmbed)window.open(this.trackingLinks.generateTrackingLink({id:String(r.id),campaign:"endscreen"}));else{const e=Rv[a];e&&jr.Ug.emit(e,{video:r})}}},({e:[Km],c:[Xm,Ym]}=(0,S.A)(qm,[(0,k.k_)({implement:"IEndScreenPlugin",ctor_args:["IsEmbed","IDataPlugin","IPlayback","IUserSettingsPlugin","IStatisticState","IPlayerConfigPlugin","IPlayerSizePlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"ITrackingLinksPlugin",optional:!0}]})],[[(0,k.o7)(),2,"initVideoEndScreen"]],0,void 0,Rp)),Qm=qm,(Gm=class extends V{constructor(){super(Xm),this.EndScreen=$m,this.useEndScreen=()=>(0,Dt.Ks)("IEndScreenPlugin"),this.useEndScreenOptional=()=>(0,Dt.ei)("IEndScreenPlugin"),this.getEndScreen=e=>e("IEndScreenPlugin"),Ym()}})[Qm]=void 0,Gm);const Zm=(0,_t.PA)((e=>{let{_allowVerticalTouchScroll:n,children:i,mount:r}=e;const a=(0,Bu.useControls)(),{isPlaying:s}=fa(),o=$h(),{data:u,showPoster:c,playback:d,isFullScreen:h,backgroundStyles:p,isShowStartScreen:v}=o,{isPlayerReady:m,isPlaying:_,playWithHandlePermissions:f}=d,{isShowOnboarding:g}=_d()||{},y=fv(),b=nh(),E=(0,Dt.Ks)("IDomNodeTrackerPlugin"),{visible:w}=Xm.useEndScreenOptional()||{};if((c||!m&&u.poster)&&!v)return t.createElement("div",{className:gt()([Sv,Tv]),style:{backgroundImage:`url(${u.poster})`}},m&&t.createElement("div",{style:{width:"48px",height:"48px"},onClick:()=>f()},t.createElement(Hn,null)));if(!m)return t.createElement("div",{className:Sv,style:{display:"flex",alignItems:"center",justifyContent:"center"}},t.createElement(pr,null));const S=o.isTouchDevice?{}:{onMouseMove:()=>{y.isLongPress||s||w||(a.showControls(),_&&""===a.activePanel&&a.setHideControlsTimer())},onMouseLeave:()=>{!_||a.isProgressBarClicked||g||a.hideControls()}};return t.createElement("div",(0,On.A)({className:gt()(Sv,kv,{[Cv]:!a.isShowControls,[Pv]:h,[Av]:!n}),style:(0,l.A)({display:r?"flex":"none",justifyContent:"center"},p),ref:e=>{e&&(o.wrapperRef=e,b.wrapperRef=e,E.node=e)},onClick:()=>{o.isUserInteracted=!0},onClickCapture:o.clearAcitivitiesTrigger,id:pd.v.RAICHU_CONTAINER_WITH_PLAYER,"data-testid":"layout-loader"},S),!s&&t.createElement(wv,null),i)})),Jm=()=>(0,Dt.p5)().resolve("IPlayerConfigPlugin"),e_=(0,_t.PA)((e=>{let{controlsComponent:n,controlsInputComponents:i,playbackComponent:r,endScreenComponent:a,settingsComponent:s,captionsComponent:o,pauseScreenComponent:u,seasonsFullScreenComponent:c,stubComponent:d,infoLayerComponent:h,contextMenuComponent:p,statsForNerdsComponent:v,advertComponent:m,removeAdsButtonComponent:_,notificationsComponent:f,channelSubscriptionComponent:g,sharePopupComponent:y,shareButtonComponent:b,pictureInPictureButtonComponent:E,pictureInPictureOverlayComponent:w,replayWidgetComponent:S,posterComponent:A,video360Component:k,activitiesComponent:C,chaptersPopupComponent:P,communicationBannerComponent:T,counterHelper:I,snapshotButton:R,children:L}=e;const[x,O]=(0,t.useState)(!1),{isTouchDevice:N,isVideo360:D,isControlsForcedHidden:M,playback:{isFrameless:B,userInteractionDisabled:F},isEmbed:H,isChannelPage:V,isPreview:U}=$h(),j=pp(),{isShowPreview:W}=Yd(),{hiddenItems:z}=Bt()||{},$=Jm().get("chaptersComponent"),G=(0,t.useCallback)((()=>{null==I||I.get("mainStatusUnload")()}),[I]);return(0,t.useEffect)((()=>(window.addEventListener("beforeunload",G),()=>{window.removeEventListener("beforeunload",G)})),[I,G]),(0,t.useEffect)((()=>{O(!0)}),[]),t.createElement(d,null,t.createElement(Oh,null,t.createElement(Zm,{_allowVerticalTouchScroll:H||V||U,mount:x},t.createElement(Jp,null,w&&t.createElement(w,null),A&&t.createElement(A,null),y&&t.createElement(y,null),!M&&t.createElement(mp,{pipControl:E},t.createElement(Zd,{shareButton:b,settingsButton:s}),R&&t.createElement(R,null)),t.createElement(bv,{frameless:B},W&&qt.B.isMobile&&t.createElement(zh,null),D&&k&&t.createElement(k,null),t.createElement(r,{userInteractionDisabled:F})),T&&t.createElement(T,null),o&&!M&&t.createElement(o,null),a&&!j&&t.createElement(a,null),n&&!M&&t.createElement(n,{components:(0,l.A)((0,l.A)({},i),{},{settingsComponent:s,pictureInPictureButtonComponent:E})}),S&&!M&&!j&&t.createElement(S,null),u&&!N&&!M&&!j&&t.createElement(u,null),c&&t.createElement(c,null),!M&&t.createElement(f,null),m&&t.createElement(m,{removeAdsButton:_}),t.createElement(h,null),t.createElement(p,{hiddenItems:z||void 0}),t.createElement(v,null),C&&t.createElement(C,null),g&&t.createElement(g,null),L),$&&P&&t.createElement(P,{Component:$}))))}));var t_;let n_,i_,r_;class a_ extends k.j8{constructor(e,t,n,i,r,a,s,o,l,u,c,d,h,p,v,m,_,f){var g,y,b,E;super(),this._wrapperRef=(n_(this),A.sH.box(null)),this._isTouchDevice=A.sH.box(!1),this._isTablet=A.sH.box(!1),this._isSmallDesktop=A.sH.box(!1),this._onScreen=A.sH.box(!1),this._hasBackButton=A.sH.box(!1),this._isDisclaimersVisible=A.sH.box(!0),this._showPoster=A.sH.box(!1),this._isUserInteracted=A.sH.box(!1),this._wideMode=A.sH.box(!1),this._isPlayPauseSwitchingAvailable=A.sH.box(!0),this._isEmbed=void 0,this._isChannelPage=void 0,this._isPreview=void 0,this._counterHelper=void 0,this._data=e,this._playback=t,this._pip=n,this._playerSize=i,this._appearance=r,this._fullscreen=a,this._channelSubscription=s,this._advertPlugin=o,this._preview=l,this.saveModePlugin=d,this._cinemaMode=h,this._controlsPlugin=p,this.trackingLinks=v,this.activities=f,this.isTouchDevice=qt.B.isMobile,this.isSmallDesktop=!(null===(g=this._playerSize)||void 0===g||null===(g=g.size)||void 0===g||!g.width)&&(null===(y=this._playerSize.size)||void 0===y?void 0:y.width)<=480,this.isTablet=/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(window.navigator.userAgent),this._isEmbed=c.value,this._isChannelPage=null!==(b=null==m?void 0:m.value)&&void 0!==b&&b,this._isPreview=null!==(E=null==_?void 0:_.value)&&void 0!==E&&E,this._counterHelper=u&&u instanceof ps?u.counterHelper:void 0,"true"===Vi("wideMode")?this.wideMode=!0:this.wideMode=!1,(0,A.Gn)(this,{data:A.EW,wrapperRef:A.EW,playerMode:A.EW,isFullScreen:A.EW,isCinema:A.EW,isMini:A.EW,isTouchDevice:A.EW,isTablet:A.EW,isSmallDesktop:A.EW,isShowHeader:A.EW,isDisclaimersVisible:A.EW,isShowDisclaimers:A.EW,showPoster:A.EW,isUserInteracted:A.EW,wideMode:A.EW,isPlayPauseSwitchingAvailable:A.EW}),this.pause=this.pause.bind(this),this.handleFullscreen=this.handleFullscreen.bind(this)}get wrapperRef(){return this._wrapperRef.get()}set wrapperRef(e){this._wrapperRef.set(e),this._fullscreen.screenfullElement=e}get wideMode(){return this._wideMode.get()}set wideMode(e){this._wideMode.set(e)}get playerMode(){var e,t;return this._fullscreen.isFullscreen?"fullscreen":null!==(e=this._pip)&&void 0!==e&&e.isInPiP?"mini":null!==(t=this._cinemaMode)&&void 0!==t&&t.isCinema?"cinema":"default"}get isFullScreen(){return Boolean(this._fullscreen.isFullscreen)}get isCinema(){var e;return Boolean(null===(e=this._cinemaMode)||void 0===e?void 0:e.isCinema)}get isMini(){var e;return Boolean(null===(e=this._pip)||void 0===e?void 0:e.isInPiP)}get onScreen(){return this._onScreen.get()}set onScreen(e){this._onScreen.set(e)}get hasBackButton(){return this._hasBackButton.get()}set hasBackButton(e){this._hasBackButton.set(e)}get showAvatar(){var e;return!this.hideAvatarOnFullScreenForSubscribers&&(qt.B.isMobile&&this._appearance.showAvatar||!qt.B.isMobile&&this._appearance.showAvatar&&!(null!==(e=this._channelSubscription)&&void 0!==e&&e.isShowSubscribe))}get hideAvatarOnFullScreenForSubscribers(){var e;return this.isFullScreen&&Boolean(null===(e=this._channelSubscription)||void 0===e?void 0:e.isUserSubscribed)}get availableLogoClick(){return this._appearance.availableLogoClick}get availableTitleClick(){return this._appearance.availableTitleClick&&this._isEmbed}get showTitle(){return this._appearance.showTitle}get showPoster(){return this._showPoster.get()}set showPoster(e){this._showPoster.set(e)}get data(){return this._data}set isPlayPauseSwitchingAvailable(e){this._isPlayPauseSwitchingAvailable.set(e)}get isPlayPauseSwitchingAvailable(){return this._isPlayPauseSwitchingAvailable.get()}get poster(){return this.data.poster}init(){const e=[];return e.push((0,A.mJ)((()=>{var e;return null===(e=this._playerSize.size)||void 0===e?void 0:e.width}),(e=>{this.isTouchDevice=qt.B.isMobile,this.isSmallDesktop=!!e&&e<=480}))),e.push((0,A.mJ)((()=>({isFullscreen:this.isFullScreen})),(e=>{let{isFullscreen:t}=e;this._playback.userInteractionDisabled=t}))),()=>e.forEach((e=>e()))}initPoster(){return(0,A.mJ)((()=>({isSaveMode:this.saveModePlugin.isSaveMode,hasBeenInteractive:this.saveModePlugin.hasBeenInteracted})),(e=>{let{isSaveMode:t,hasBeenInteractive:n}=e;this.showPoster=!(!t||n)}))}initStats(){return(0,A.mJ)((()=>this.playerMode),(e=>{var t;null===(t=this.counterHelper)||void 0===t||t.get("mainPlayerModeChange")("mini"===e?"w_in_w":e)}))}get isTouchDevice(){return this._isTouchDevice.get()}set isTouchDevice(e){this._isTouchDevice.set(e)}get isTablet(){return this._isTablet.get()}set isTablet(e){this._isTablet.set(e)}get isSmallDesktop(){return this._isSmallDesktop.get()}set isSmallDesktop(e){this._isSmallDesktop.set(e)}get authorData(){return this._data.author}get authorUrl(){var e,t;return this._isEmbed?null==this||null===(e=this.trackingLinks)||void 0===e?void 0:e.generateTrackingLink({campaign:"channel_left",type:"channel"}):null===(t=this._data.author)||void 0===t?void 0:t.url}get playback(){return this._playback}get videoUrl(){var e;return this._isEmbed?(null==this||null===(e=this.trackingLinks)||void 0===e?void 0:e.generateTrackingLink({id:String(this.data.video_id),campaign:"title"}))||"":this._data.videoUrl}get title(){return this._data.title}get isPlaying(){return this._playback.isPlaying}get originType(){var e;return null===(e=this._data.data)||void 0===e?void 0:e.origin_type}get autoPlayWithMute(){return this._playback.autoPlayWithMute}get counterHelper(){return this._counterHelper}set isDisclaimersVisible(e){this._isDisclaimersVisible.set(e)}get isDisclaimersVisible(){return this._isDisclaimersVisible.get()}get isVideo360(){var e;return!(null===(e=this._data.data)||void 0===e||!e.is_spatial)}get isShowDisclaimers(){var e,t;const n=(null===(e=this._preview)||void 0===e?void 0:e.isShowPreview)&&qt.B.isMobile,i="show"===(null===(t=this._advertPlugin)||void 0===t?void 0:t.currentState);return!this.isMini&&this._playback.wasStarted&&!i&&!this._playback.ended&&!n}get isShowHeader(){return!this._playback.ended&&(this._isEmbed||this._fullscreen.isFullscreen)}get isEmbed(){return this._isEmbed}get isChannelPage(){return this._isChannelPage}get isPreview(){return this._isPreview}set isUserInteracted(e){this._isUserInteracted.set(e)}get isUserInteracted(){return this._isUserInteracted.get()}get isInPiP(){var e;return Boolean(null===(e=this._pip)||void 0===e?void 0:e.isInPiP)}get isShowStartScreen(){return!1}get playerSize(){return this._playerSize.size}handleFullscreen(){return this._fullscreen.handleFullscreen()}pause(){this._playback.pause()}get isControlsForcedHidden(){var e;return(null===(e=this._controlsPlugin)||void 0===e?void 0:e.isControlsForcedHidden)||!1}get backgroundStyles(){var e;const t={backgroundColor:"black",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};return null!==(e=this._playerSize.size)&&void 0!==e&&e.width&&this._data.poster&&(t.backgroundImage=((e,t)=>{const n=[1,1.5,2,3].map((n=>`url("${e}?width=${Math.floor(t*n)}") ${n}x`));return`-webkit-image-set(${n.join(", ")})`})(this._data.poster,this._playerSize.size.width)),t}clearAcitivitiesTrigger(){var e;null===(e=this.activities)||void 0===e||e.clearTrigger()}}t_=a_,({e:[n_],c:[r_,i_]}=(0,S.A)(t_,[(0,k.k_)({implement:"IVideoLayoutPlugin",ctor_args:["IDataPlugin","IPlayback",{implement:"PictureInPicturePlugin",optional:!0},"IPlayerSizePlugin","IAppearancePlugin","IFullscreenPlugin",{implement:"IChannelSubscriptionPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"IPreviewPlugin",optional:!0},{implement:"IStatisticState",optional:!0},"IsEmbed","ISaveModePlugin",{implement:"CinemaModePlugin",optional:!0},{implement:"IControlsPlugin",optional:!0},{implement:"ITrackingLinksPlugin",optional:!0},{implement:"IsChannelPage",optional:!0},{implement:"IsPreview",optional:!0},{implement:"IActivitiesPlugin",optional:!0}]})],[[(0,k.o7)(),2,"init"],[(0,k.o7)(),2,"initPoster"],[(0,k.o7)(),2,"initStats"],[k.zm,2,"clearAcitivitiesTrigger"]],0,void 0,k.j8)),i_();const s_=T(),o_=e=>{switch(e){case"fullscreen":return"FS";case"mini":return s_?"F":"M";case"cinema":return"W";default:return"S"}},l_=e=>e("IPlayerSizePlugin");let u_=function(e){return e.PLAY="PL",e.STOP="STP",e.REWIND_FORWARD="RWF",e.REWIND_BACKWARD="RWB",e.X_REWIND="XRW",e.REWIND_FROM_CHAPTERS="RWE",e.REWIND_FROM_DESCRIPTION="RWD",e.REWIND_HOTKEY_FRAME="RWH",e.SKIP_TITLES="SKP",e}({});class c_{constructor(e,t,n){this.__statisticStore=void 0,this.__hbIntervalEvents=[],this.__startTimer=null,this.__scheduledEvent=null,this.__completeInterval=void 0,this.__send=void 0,this.__statisticStore=e,this.__completeInterval=n,this.__send=t}prepareIntervals(){return(0,A.mJ)((()=>this.__statisticStore.hbIntervalEvents),(e=>{this.__hbIntervalEvents=e.sort(((e,t)=>e.start-t.start)).reduce(((e,t)=>{if(t.count){const n=[...Array(t.count).keys()].map((()=>(0,l.A)({},t)));return e.concat(n)}return e.concat(t)}),[])}))}scheduleNext(){const[e]=this.__hbIntervalEvents;e&&(this.schedule(e,1e3*e.start),e.count>0&&this.__hbIntervalEvents.splice(0,1))}stop(){this.__startTimer&&(clearTimeout(this.__startTimer),this.__startTimer=null)}schedule(e,t){this.__scheduledEvent=e,this.__startTimer&&clearTimeout(this.__startTimer),this.__startTimer=setTimeout((()=>{this.__send(e),this.__startTimer=null,this.__scheduledEvent=null,this.__completeInterval()}),t)}get startTimer(){return this.__startTimer}get scheduledEvent(){return this.__scheduledEvent}}const d_=e=>Math.floor(1e3*e);var h_,p_;let v_,m_,__;class f_ extends(h_=k.j8){static pushUnique(e,t){e[e.length-1]!==t&&e.push(t)}constructor(e,t,n,i,r){super(),this._playerStore=void v_(this),this.__counterHelper=void 0,this.__statisticWatchTime=void 0,this._hbIntervals=void 0,this.__data=void 0,this._startRanges=[],this._endRanges=[],this._actions=[],this._rewindStart=null,this.__volumeChanges=[],this.__playbackRate=[],this.__final=!1,this.__destructionComplete=!1,this.__tvStreamDelta=0,this._playerStore=e,this.__statisticWatchTime=i,this._hbIntervals=new c_(t,this.send.bind(this),this.completeInterval.bind(this)),this.__counterHelper=n instanceof pt?n.counterHelper:void 0,this.__data=r,this.handleSeek=bi(this.handleSeek.bind(this),500),this.handleVolumeChange=bi(this.handleVolumeChange.bind(this),500)}init(){const e=this._hbIntervals.prepareIntervals();this.handlePlaybackRateChange({rate:this._playerStore.playbackRate});const t=this.subscribePlaybackEvent(Ln.p.seek,this.handleSeekStart.bind(this)),n=(()=>{const e=this._playerStore.muted?0:this._playerStore.volume;return this.handleVolumeChange(e),this.subscribePlaybackEvent(Ln.p.volumeChange,(e=>this.handleVolumeChange(e)))})(),i=this.subscribePlaybackEvent(Ln.p.mute,(e=>this.handleVolumeChange(e?0:this._playerStore.volume))),r=this.subscribePlaybackEvent(Ln.p.playbackRate,this.handlePlaybackRateChange.bind(this)),a=(0,A.mJ)((()=>this._playerStore.ended),(e=>{e&&this.lastEventAction!==u_.STOP&&(this._actions.push(u_.STOP),this.lastEventAction&&this._endRanges.push(this.currentTime),this._startRanges.push(this.currentTime),this._endRanges.push(this.currentTime),this.__final=!0)}));return window.addEventListener("beforeunload",this.unloadHandler.bind(this)),()=>[t,n,i,r,a,e,()=>{this._hbIntervals.stop()},()=>{this.unloadHandler()},()=>{window.removeEventListener("beforeunload",this.unloadHandler.bind(this))}].forEach((e=>e()))}initIsPlayingDisposer(){return this.initIsPlayingDisposerHandler()}initIsPlayingDisposerHandler(){return(0,A.mJ)((()=>[this._playerStore.isPlaying,this._playerStore.wasStarted]),(e=>{let[t,n]=e;n&&(t?(this.handlePlay(),null===this._hbIntervals.startTimer&&this._hbIntervals.scheduleNext()):this.handlePause())}))}initSeekDisposer(){return this.initSeekDisposerHandler()}initSeekDisposerHandler(){return this.subscribePlaybackEvent(Ln.p.seek,(e=>{let{from:t,to:n}=e;return this.handleSeek(t,n)}))}handlePlay(){if(this.__data.isTVStream&&0===this.__tvStreamDelta&&(this.__tvStreamDelta=this._playerStore.currentTime),this.lastEventAction!==u_.PLAY){const e=!this._startRanges.length&&this.currentTime<1?0:this.currentTime;this._startRanges.push(e),this._actions.push(u_.PLAY)}}handlePause(){this.lastEventAction&&this.lastEventAction!==u_.STOP&&(this._endRanges.push(this.currentTime),this._actions.push(u_.STOP),this._startRanges.push(this.currentTime),this._endRanges.push(this.currentTime))}handleSeek(e,t){this._actions.push(u_.REWIND_HOTKEY_FRAME),this._startRanges.push(this._rewindStart||0),this._endRanges.push(t),this._rewindStart=null,this._playerStore.isPlaying&&(this._actions.push(u_.PLAY),this._startRanges.push(t))}handleSeekStart(e){let{from:t}=e;null===this._rewindStart&&this._playerStore.wasStarted&&(this._rewindStart=t,this._playerStore.isPlaying&&this._endRanges.push(t))}handleVolumeChange(e){__.pushUnique(this.__volumeChanges,e)}handlePlaybackRateChange(e){let{rate:t}=e;__.pushUnique(this.__playbackRate,t)}send(e,t){var n;this._endRanges.length<this._startRanges.length&&this._endRanges.push(this.currentTime),null===(n=this.__counterHelper)||void 0===n||n.get("mainIntervalHbIntervalsStat")({urlTemplate:e.url_template,delay:e.delay,count:e.count,start:e.start,location:t})}completeInterval(){this.clearRanges(),this._playerStore.isPlaying&&(this._startRanges.push(this.currentTime),this._actions.push(u_.PLAY),this._hbIntervals.scheduleNext())}clearRanges(){this._startRanges=[],this._actions=[],this._endRanges=[],this.__volumeChanges=this.__volumeChanges.slice(-1),this.__playbackRate=this.__playbackRate.slice(-1)}unloadHandler(){this.__destructionComplete||(this.__final=!0,this._hbIntervals.scheduledEvent&&this.send(this._hbIntervals.scheduledEvent),this.lastEventAction!==u_.STOP&&(this._actions.push(u_.STOP),this._startRanges.push(this.currentTime),this._endRanges.push(this.currentTime)),this.__destructionComplete=!0)}get lastStartRange(){if(!this._startRanges.length)return"";const[e]=this._startRanges.slice(-1);return d_(e).toString()}get startRanges(){return this._startRanges.map(d_).join(",")}get lastEndRange(){if(!this._endRanges.length)return"";const[e]=this._endRanges.slice(-1);return d_(e).toString()}get endRanges(){return this._endRanges.map(d_).join(",")}get lastEventAction(){const[e]=this._actions.slice(-1);return e}get eventActionsRange(){return this._actions.join(",")}get volumeChanges(){return this.__volumeChanges.map((e=>Math.floor(100*e))).join(",")}get playbackRate(){return this.__playbackRate.join(",")}get watchTime(){return String(Math.round(this.__statisticWatchTime.watchTime/1e3))}get watchTimePerGo(){return String(Math.round(this.__statisticWatchTime.watchTimePerGo/1e3))}resetWatchTimePerGo(){this.__statisticWatchTime.resetWatchTimePerGo()}set final(e){this.__final=e}get final(){return this.__final}subscribePlaybackEvent(e,t){return this._playerStore.on(e,t),()=>{this._playerStore.off(e,t)}}get currentTime(){return 0!==this.__tvStreamDelta?this._playerStore.currentTime-this.__tvStreamDelta:this._playerStore.currentTime}}var g_,y_;let b_,E_,w_,S_;p_=f_,({e:[v_],c:[__,m_]}=(0,S.A)(p_,[(0,k.k_)({implement:"IStatisticAggregatorPlugin",ctor_args:["IPlayback","IStatisticStore","IStatisticState","IStatisticWatchTimePlugin","IDataPlugin"]})],[[(0,k.o7)(),2,"init"],[(0,k.o7)(),2,"initIsPlayingDisposer"],[(0,k.o7)(),2,"initSeekDisposer"]],0,void 0,h_)),m_(),new(y_=class extends __{constructor(e,t,n,i,r,a,s,o,l,u,c,d){var h;super(e,t,n,i,o),this.__qualityValues=(b_(this),[]),this.__playerModes=[],this.__captionLanguages=[],this.__playback=void 0,this.__videoLayout=void 0,this.__captions=void 0,this.__longPressSeekPlugin=void 0,this._location=void 0,this._isEmbed=!1,this.__videoCounterHelper=void 0,this._statistic=n,this._statisticWatchTime=i,this._qualitiesPlugin=l,this._advert=u,this._config=c,this.__playback=e,this.__videoLayout=r,this.__captions=a,this.__longPressSeekPlugin=s,this._location=window.location.href,this._isEmbed=null!==(h=null==d?void 0:d.value)&&void 0!==h&&h,this.__videoCounterHelper=n&&n instanceof ps?n.counterHelper:void 0}initPlugin(){__.pushUnique(this.__playerModes,o_(this.__videoLayout.playerMode)),this.handleCaptionsLanguageChange(this.__captions.captionLanguage,this.__captions.isShowCaptions);const e=(0,A.mJ)((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("videoId")}),(()=>{var e,t;this._endRanges.length<this._startRanges.length&&this._endRanges.push(this.currentTime);const n=d_(this.currentTime).toString();null===(e=this.__videoCounterHelper)||void 0===e||e.get("mainStatusUnload")({location:this.location,startRanges:n,endRanges:n}),this._hbIntervals.scheduledEvent&&(this.final=!0,this.send(this._hbIntervals.scheduledEvent,this.location),this.clearRanges(),this._hbIntervals.stop(),this.final=!1,this._qualitiesPlugin.manuallySettedQualityIndex=null,this._qualitiesPlugin.activeQualityIndex=null),null===(t=this._statistic)||void 0===t||t.refreshLoadedTimeStamp(),this._statisticWatchTime.resetWatchTime(),this.location=window.location.href})),t=(0,A.mJ)((()=>this.__videoLayout.playerMode),(e=>{__.pushUnique(this.__playerModes,o_(e))})),n=(0,A.mJ)((()=>({captionLanguage:this.__captions.captionLanguage,isShowCaptions:this.__captions.isShowCaptions})),(e=>{let{captionLanguage:t,isShowCaptions:n}=e;this.handleCaptionsLanguageChange(t,n)})),i=(0,A.mJ)((()=>this.__playback.ended),(e=>{e&&this._isEmbed&&this.resetWatchTimePerGo()})),r=[];return r.push(e,t,n,i),()=>{var e;const t=d_(this.currentTime).toString();null===(e=this.__videoCounterHelper)||void 0===e||e.get("mainStatusUnload")({location:this.location,startRanges:t,endRanges:t}),r.forEach((e=>e()))}}initLongPress(){return this.subscribePlaybackEvent(Ln.p.longPress,(e=>{let{isEnabled:t,forcedPlayback:n}=e;return this.handleLongPressSeek(t,n)}))}clearRanges(){super.clearRanges(),this.__qualityValues=this.__qualityValues.slice(-1),this.__playerModes=this.__playerModes.slice(-1),this.__captionLanguages=this.__captionLanguages.slice(-1)}handleCaptionsLanguageChange(e,t){const n=t?e:"0";__.pushUnique(this.__captionLanguages,n)}handleLongPressSeek(e,t){e?(this._playerStore.isPlaying&&this._endRanges.push(this._playerStore.currentTime),this._actions.push(u_.X_REWIND),this._startRanges.push(this._playerStore.currentTime)):t||(this._endRanges.push(this._playerStore.currentTime),this._actions.push(u_.PLAY),this._startRanges.push(this._playerStore.currentTime))}get qualityValues(){return this.__qualityValues.join(",")}get playerModes(){return this.__playerModes.join(",")}get captionLanguages(){return this.__captionLanguages.join(",")}initSeekDisposerHandler(){return this.subscribePlaybackEvent(Ln.p.seek,(e=>{let{from:t,to:n,source:i}=e;return"skip"===i?this.handleSkipTitles(t,n):this.handleSeek(t,n,i)}))}handleSeek(e,t,n){n?this._actions.push(S_.ACTION_MAP[n]):t>e?this._actions.push(u_.REWIND_FORWARD):this._actions.push(u_.REWIND_BACKWARD),this._startRanges.push(this._rewindStart||0),this._endRanges.push(t),this._rewindStart=null,this._playerStore.isPlaying&&(this._actions.push(u_.PLAY),this._startRanges.push(t))}initIsPlayingDisposerHandler(){return(0,A.mJ)((()=>{var e;return{isPlaying:this._playerStore.isPlaying,wasStarted:this._playerStore.wasStarted,advert:null===(e=this._advert)||void 0===e?void 0:e.currentAdvert}}),(e=>{let{isPlaying:t,wasStarted:n,advert:i}=e;n&&!i&&(t?(this.handlePlay(),null===this._hbIntervals.startTimer&&this._hbIntervals.scheduleNext()):this.handlePause())}))}handlePlay(){if(!this.__longPressSeekPlugin.isLongPress&&(this.__data.isTVStream&&0===this.__tvStreamDelta&&(this.__tvStreamDelta=this._playerStore.currentTime),this.lastEventAction!==u_.PLAY)){const e=!this._startRanges.length&&this.currentTime<1?0:this.currentTime;this.lastEventAction===u_.X_REWIND&&this._endRanges.push(e),this._startRanges.push(e),this._actions.push(u_.PLAY)}}handlePause(){this.lastEventAction&&![u_.STOP,u_.X_REWIND].includes(this.lastEventAction)&&(this._endRanges.push(this.currentTime),this._actions.push(u_.STOP),this._startRanges.push(this.currentTime),this._endRanges.push(this.currentTime))}handleSkipTitles(e,t){this._actions.push(u_.SKIP_TITLES),this._startRanges.push(e||0),this._endRanges.push(t),this._playerStore.isPlaying&&(this._actions.push(u_.PLAY),this._startRanges.push(t))}get location(){return this._location}set location(e){this._location=e}},({e:[b_],c:[S_,E_]}=(0,S.A)(y_,[(0,k.k_)({implement:"IStatisticAggregatorPlugin",ctor_args:["IPlayback","IStatisticStore","IStatisticState","IStatisticWatchTimePlugin","IVideoLayoutPlugin","ICaptionsPlugin","ILongPressSeekPlugin","IDataPlugin","IQualitiesPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IPlayerConfigPlugin",optional:!0},{implement:"IsEmbed",optional:!0}]})],[[(0,k.o7)(),2,"initPlugin"],[(0,k.o7)(),2,"initLongPress"]],0,void 0,__)),w_=y_,(g_=class extends V{constructor(){super(S_),this.ACTION_MAP={chapters:u_.REWIND_FROM_CHAPTERS,description:u_.REWIND_FROM_DESCRIPTION,hotkey:u_.REWIND_HOTKEY_FRAME,skip:u_.SKIP_TITLES},E_()}})[w_]=void 0,g_);const A_=e=>{const t=e("IStatisticAggregatorPlugin");return t instanceof S_?t:null},k_=[{names:["{{screen_size}}"],cyclic:{selector:e=>{var t;return(null===(t=A_(e))||void 0===t?void 0:t.playerModes)||""}},selector:e=>document.pictureInPictureElement?"P":o_(Gh(e).playerMode)},{names:["{{screen_mode}}"],selector:e=>String(Gh(e).playerMode)},{names:["{{player_size}}"],selector:e=>l_(e).sizeIdForStats||""}],C_=(0,_t.PA)((e=>{let{className:n,margin:i}=e;const{playback:r,data:a,counterHelper:s,setIsProgressBarClicked:o,tempTime:l,setTempTime:u}=(0,Bu.useControls)(),{duration:c,progress:d,currentTime:h,isOutdated:p,isTvStream:v}=r,{isLive:m,isDVR:_}=a,{wrapperRef:f}=$h(),g=(0,t.useRef)(null),y=(0,t.useRef)(null),b=(0,t.useMemo)((()=>{let e=0;return e=!m||p||l?null!==l?l/c*100:d:100,Math.min(e,100)}),[l,c,d,m,p]),E=(0,t.useRef)(!1),w=(0,t.useCallback)((e=>{E.current=e,o(e)}),[o]),S=(0,t.useCallback)((e=>{if(e.preventDefault(),!E.current)return;const t=(0,eh.O)(e,y),n=Math.floor(c*t*10)/1e3;u(n)}),[c,u]),A=(0,t.useCallback)((()=>{var e;v||(E.current&&"number"==typeof l&&(r.seek(l),r.wasStarted&&u(null),null==s||s.get("mainContentPlaybackSeek")()),w(!1),null===(e=document)||void 0===e||e.removeEventListener("mousemove",S),null==f||f.removeEventListener("touchmove",S))}),[v,w,S,f,l,r,u,s]);return(0,t.useEffect)((()=>{var e;return null===(e=document)||void 0===e||e.addEventListener("mouseup",A),()=>{var e;null===(e=document)||void 0===e||e.removeEventListener("mouseup",A)}}),[A]),(0,t.useEffect)((()=>{if(!g.current)return;const e=g.current,t=e=>{var t;e.preventDefault(),e.stopPropagation(),w(!0),S(e),null===(t=document)||void 0===t||t.addEventListener("mousemove",S)},n=e=>{e.stopPropagation(),w(!0),S(e),null==f||f.addEventListener("touchmove",S)};return e.addEventListener("mousedown",t),e.addEventListener("touchstart",n),()=>{e.removeEventListener("mousedown",t),e.removeEventListener("touchstart",n)}}),[A,w,S,f]),t.createElement("div",(0,On.A)({ref:g,className:n,tabIndex:0,role:"slider","aria-label":"ÐŸÐ¾Ð»Ð·ÑƒÐ½Ð¾Ðº Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹ ÑˆÐºÐ°Ð»Ñ‹","aria-valuemin":0,"aria-valuemax":Math.floor(c),"aria-valuenow":Math.floor(h),"aria-valuetext":`${(0,Jd.fU)(h)} (Ð¾Ð±Ñ‰Ð°Ñ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ ${(0,Jd.fU)(c)})`,onMouseUp:A,onTouchEnd:A,style:{margin:i}},th.aQ),t.createElement(kh,{progress:b,barRef:y,isTouchable:!(m&&!_)}))})),P_=()=>{const e=(0,Dt.p5)().resolve("IStatisticState");return e instanceof pt?e:null},T_=()=>(0,Dt.ei)("IStatisticAggregatorPlugin"),I_=["played","ended","live","isAudio","tooltipDisabled","tabIndex"],R_=e=>{let{played:n=!1,ended:i=!1,live:r=!1,isAudio:a=!1,tooltipDisabled:s=!1,tabIndex:o=0}=e,l=(0,Cr.A)(e,I_),u=Hn,c=Ve.m_.Play,d="Ð’Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÑÑ‚Ð¸";return!r&&n?(u=Vn,d="ÐŸÑ€Ð¸Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ",c=Ve.m_.Pause):r&&n&&(u=Un,d="ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ",c=Ve.m_.Stop),!r&&i&&(u=Zt,d="ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚ÑŒ",c=a?Ve.m_.RepeatAudio:Ve.m_.Repeat),t.createElement(Pc.r,(0,On.A)({tabIndex:o,"data-testid":"ui-play","aria-label":(0,rd.T)(d,"K",!0)},l,{tooltipTitle:s?void 0:c,tooltipZIndex:Ve.m_.ControlsTooltipZIndex,icon:u}))},L_="tap-rewind-animation-module__tapAnimationBlock___a6rhh",x_="tap-rewind-animation-module__tapAnimationBlockReverse___beROe",O_="tap-rewind-animation-module__rippleCircle___MYimQ",N_="tap-rewind-animation-module__rippleCircleVertical___Ltgt_",D_=e=>{let{reverse:n=!1,isVerticalView:i=!1}=e;return t.createElement("div",{className:gt()(L_,{[x_]:n})},t.createElement("div",{className:gt()(O_,{[N_]:i})}),t.createElement("div",{className:gt()(O_,{[N_]:i})}),t.createElement("div",{className:gt()(O_,{[N_]:i})}))},M_="mobile-button-block-module__hidden___JtEMD",B_="mobile-button-block-module__buttonsWrapperWhileSeeking___Ci2Ie",F_="mobile-button-block-module__centerControls___yBb0C",H_="mobile-button-block-module__controlBtn___zbs5n",V_="mobile-button-block-module__isHidden___nZoP1",U_="mobile-button-block-module__allowScroll___R0ybq",j_="mobile-button-block-module__buttonsWrapper___DCg5p",W_="mobile-button-block-module__seekContainer___QsosD",z_="mobile-button-block-module__leftSeek___UXXNQ",$_="mobile-button-block-module__rightSeek___Tl7z7",G_="mobile-button-block-module__seekLabelBoxLeft___MKAh4",q_="mobile-button-block-module__seekLabelBoxRight___h3hDj",K_="mobile-button-block-module__seekLabelNumber___DTWC3",Y_="mobile-button-block-module__seekLabelText___0xW1j",Q_="mobile-button-block-module__seekIsInProgress___S8FIy",X_=()=>(0,Dt.Ks)("IPlaylistPlugin");var Z_,J_;let ef,tf,nf;new(J_=class extends k.j8{constructor(e,t){super(),this.counterHelper=void 0,this._endScreen=e,this.counterHelper=t&&t instanceof pt?t.counterHelper:void 0,(0,A.Gn)(this,{nextVideo:A.EW,onClick:A.XI})}onClick(){var e;this.nextVideo&&(null===(e=this.counterHelper)||void 0===e||e.get("mainNextVideoClick")({next_video_id:this.nextVideo.id,clicked_url:this.nextVideo.video_url}),jr.Ug.emit(fi.L2.NEXT_VIDEO,{video:this.nextVideo}))}get nextVideo(){var e;return(null===(e=this._endScreen)||void 0===e?void 0:e.nextVideo)||null}},[nf,ef]=(0,S.A)(J_,[(0,k.k_)({implement:"INextVideoPlugin",ctor_args:["IEndScreenPlugin",{implement:"IStatisticState",optional:!0}]})],[],0,void 0,k.j8).c,tf=J_,(Z_=class extends V{constructor(){super(nf),this.useNextVideo=()=>(0,Dt.Ks)("INextVideoPlugin"),this.useNextVideoOptional=()=>(0,Dt.ei)("INextVideoPlugin"),this.getNextVideo=e=>e("INextVideoPlugin"),ef()}})[tf]=void 0,Z_);const rf=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M16.43 6v12",stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("path",{d:"M7 18V6l8.57 6L7 18Z",fill:n,stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("rect",{x:"15",y:"5",width:"2",height:"14",rx:"1",fill:n}))},af=(0,_t.PA)((e=>{let{hidden:n}=e;const i=X_(),r=nf.useNextVideoOptional(),{onClickNext:a,nextVideo:s,isShowPlaylistButtons:o}=i,{nextVideo:l,onClick:u}=r||{},c=o?s:l,{tabIndex:d}=(0,Bu.useControls)(),h=o&&!c;return t.createElement("div",{className:gt()(H_,{[V_]:n,[U_]:n})},t.createElement(Pc.r,{"data-testid":"ui-next",action:"nextVideo",icon:rf,withBg:!0,onClick:()=>{c&&(o?a&&a.apply(i):null==u||u.apply(r))},disabled:h,"aria-label":"ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾",tabIndex:d,size:"XL"}))})),sf=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M7 6v12",stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("path",{d:"M16.43 18V6l-8.57 6 8.57 6Z",fill:n,stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("rect",{x:"6",y:"5",width:"2",height:"14",rx:"1",fill:n}))},of=(0,_t.PA)((e=>{let{hidden:n}=e;const i=X_(),{onClickPrev:r,prevVideo:a,isShowPlaylistButtons:s}=i,{tabIndex:o}=(0,Bu.useControls)();return t.createElement("div",{className:gt()(H_,{[V_]:!s||n,[U_]:n})},t.createElement(Pc.r,{"data-testid":"ui-prev",icon:sf,withBg:!0,onClick:()=>{a&&r&&r.apply(i)},disabled:!a,tabIndex:o,"aria-label":"ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð° Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾",size:"XL"}))})),lf=(0,_t.PA)((e=>{const{hidden:n=!0}=e,[i,r]=(0,t.useState)(0),[a,s]=(0,mt.cV)(!1,300),o=(0,t.useRef)(null),l=()=>{o.current&&clearTimeout(o.current)},[u,c]=(0,t.useState)(null),d=yg(),h=Od(),{playback:p,tabIndex:v,isShowControls:m,hideControls:_,isShowSettingsPannel:f}=h,{isPlaying:g,ended:y,isInteractiveEnded:b}=p,{isTVStream:E,isLive:w}=Ah(),S=P_(),A=T_(),k=pp(),C=!w&&!d,P=!w&&!d,T=!E&&!y,I=(0,t.useCallback)((e=>{if(!f&&(e.target instanceof HTMLElement||e.target instanceof SVGElement)){null===e.target.closest(`[${th.dg}=true]`)&&m&&_()}}),[_,m,f]);(0,t.useEffect)((()=>{a||(o.current&&clearTimeout(o.current),o.current=setTimeout((()=>{0!==i&&h.hideControls(),r(0),c(null)}),200))}),[h,a,i]),(0,t.useEffect)((()=>{0!==i&&h.showControls()}),[i,h]),(0,t.useEffect)((()=>l),[]);const{isVerticalView:R}=(()=>{const{width:e,height:t}=nh().size||{width:1,height:1};return{isVerticalView:t/e>1}})(),L=(e,t)=>n=>{const d=null===u||t===u;a&&d&&(l(),e>0?null==h||h.handleSeek("forward",e,dv.E.TAP):null==h||h.handleSeek("back",Math.abs(e),dv.E.TAP),c(t),r(i+e)),s(d),o.current=setTimeout((()=>I(n)),300)};return t.createElement("div",{className:F_},T&&!k&&t.createElement("div",(0,On.A)({},i?th.aQ:{},th.ED,{className:W_}),t.createElement("div",(0,On.A)({},i?th.aQ:{},{className:gt()(z_,{[Q_]:i<0}),onMouseDown:L(-10,"backward")}),t.createElement(D_,{isVerticalView:R}),t.createElement("div",{className:G_},i<0&&t.createElement(t.Fragment,null,t.createElement("p",{className:K_},i),t.createElement("p",{className:Y_},"ÑÐµÐºÑƒÐ½Ð´")))),t.createElement("div",(0,On.A)({},i?th.aQ:{},{className:gt()($_,{[Q_]:i>0}),onMouseDown:L(10,"forward")}),t.createElement(D_,{isVerticalView:R,reverse:!0}),t.createElement("div",{className:q_},i>0&&t.createElement(t.Fragment,null,t.createElement("p",{className:K_},"+",i),t.createElement("p",{className:Y_},"ÑÐµÐºÑƒÐ½Ð´"))))),t.createElement("div",(0,On.A)({className:gt()(j_,{[M_]:n,[B_]:Boolean(i)})},th.ED),!d&&!(k&&!b)&&t.createElement(of,{hidden:!C||n||k}),t.createElement("div",{className:gt()(H_,{[U_]:n})},t.createElement(R_,{id:pd.v.PLAY_BUTTON,action:"play",played:g,live:E,ended:y||b,withBg:!0,big:!0,onClick:()=>{g?p.pause():(y?(null==S||S.incrementViewCount(),null==A||A.resetWatchTimePerGo(),p.resetOnReplay()):p.play().catch(console.warn),h.setHideControlsTimer(),E&&p.goLive())},tabIndex:v})),!d&&!(k&&!b)&&t.createElement(af,{hidden:!P||n})))})),uf="video-preview-module__wrapper___gcX6w",cf="video-preview-module__tooltip___sLchn",df="video-preview-module__tooltipInner___ld9jE",hf="video-preview-module__tooltipImg___aY1OK",pf="video-preview-module__tooltipDesc___UFg3E",vf="video-preview-module__tooltipTitle___InxZF",mf="video-preview-module__tooltipVideoTitle___Gcl3A",_f=e=>{let{video:n,tooltipHidden:i,children:r,tooltipTitle:a}=e;return null!=n&&n.id?t.createElement("div",{className:uf},r,!i&&t.createElement("div",{className:cf},t.createElement("div",{className:df},t.createElement("div",{className:hf},t.createElement("img",{src:n.thumbnail_url,alt:n.title})),t.createElement("div",{className:pf},t.createElement("div",{className:vf},a),t.createElement("div",{className:mf},n.title))))):t.createElement(t.Fragment,null,r)};var ff=s(2594);const gf=e=>t.createElement(ff.A,(0,On.A)({classNames:"raichu-fade"},e),e.children),yf=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},t.createElement("path",{fill:n,fillRule:"evenodd",d:"M4.43 12.24c.03.07.07.14.13.2l5 5a.62.62 0 1 0 .88-.88L6.5 12.62H19a.62.62 0 1 0 0-1.24H6.5l3.94-3.94a.62.62 0 1 0-.88-.88l-5 5a.62.62 0 0 0-.13.68Z",clipRule:"evenodd"}))},bf=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},t.createElement("path",{fill:n,fillRule:"evenodd",d:"M19.57 12.24a.62.62 0 0 1-.13.2l-5 5a.62.62 0 1 1-.88-.88l3.94-3.94H5a.62.62 0 1 1 0-1.24h12.5l-3.94-3.94a.62.62 0 0 1 .88-.88l5 5a.62.62 0 0 1 .13.68Z",clipRule:"evenodd"}))},Ef="pause-screen-recommendations-wrapper-module__pauseRecsList___zSHHs",wf="pause-screen-recommendations-wrapper-module__pauseRec___hx2Tr",Sf={x:0,y:0},Af=e=>{let{count:n,loading:i,mode:r="grid",width:a,titleRows:s,descriptionRows:o,className:l}=e;const u=Array.from(Array(n).keys());return t.createElement(t.Fragment,null,u.map((e=>t.createElement("div",{key:e,className:gt()(Em,Om,l,{[wm]:"grid"===r,[Am]:"vertical_list"===r,[Nm]:i}),style:{minWidth:a,"--rec-title-rows":s,"--rec-description-rows":o}},t.createElement("div",{className:km},t.createElement("div",{className:fm},t.createElement("div",{className:gm},"grid"===r&&t.createElement("div",{className:Pm},t.createElement("div",{className:Im}),t.createElement("div",{className:Rm}))))),"grid"!==r&&t.createElement("div",{className:gt()(Pm,{[Tm]:"horizontal_list"===r,[Am]:"vertical_list"===r})},t.createElement("div",{className:Im}),t.createElement("div",{className:Rm}))))))},kf=(0,_t.PA)((()=>{const e=(0,t.useRef)(null),n=eg.usePauseScreen(),{items:i,visible:r,config:{perPage:a},onClick:s,fixFocus:o}=n,{viewedItems:u}=Fm({wrapper:e,items:i,enabled:r,options:{rootMargin:"100%"}}),{handleMouseDown:c,suppressClick:d}=(e=>{let{wrapperRef:n,speed:i=1}=e;const r=(0,t.useRef)(0),a=(0,t.useRef)(0),s=(0,t.useRef)(null),[o,u]=(0,t.useState)(!1),{setHideControlsTimer:c}=Od(),d=(0,t.useRef)(Sf),h=(0,t.useCallback)((()=>{n.current&&c()}),[c,n]),p=(0,t.useCallback)((()=>{d.current&&(d.current=(0,l.A)({},Sf)),s.current&&(cancelAnimationFrame(s.current),s.current=null),n.current&&(n.current.style.cursor="grab",n.current.style.removeProperty("user-select")),setTimeout((()=>{u(!1)}),100)}),[n]),v=(0,t.useCallback)((e=>{if(!n.current||1!==e.buttons&&1!==e.which)return;const t=e.pageX-d.current.x,o=e.pageY-d.current.y;(Math.abs(t)>5||Math.abs(o)>5)&&u(!0),s.current=requestAnimationFrame((()=>{const t=(e.pageX-n.current.offsetLeft-r.current)*i;n.current.scrollLeft=a.current-t}))}),[n,i]);return(0,t.useEffect)((()=>{const e=n.current;if(e)return e.addEventListener("scroll",h),document.addEventListener("mousemove",v),document.addEventListener("mouseup",p),()=>{e.removeEventListener("scroll",h),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",p),s.current&&cancelAnimationFrame(s.current)}}),[v,p,n,h]),{handleMouseDown:e=>{n.current&&(e.preventDefault(),e.stopPropagation(),r.current=e.pageX-n.current.offsetLeft,a.current=n.current.scrollLeft,n.current.style.cursor="grabbing",n.current.style.userSelect="none")},suppressClick:o}})({wrapperRef:e});return t.createElement("div",{className:Ef,ref:t=>{t&&(n.wrapperRef=t,e.current=t)},onMouseDown:c},i.map(((e,n)=>t.createElement(Bm,{key:e.id,id:e.id,title:e.title,thumbnailUrl:e.thumbnail_url,duration:(0,Jd.a3)({value:e.duration}),isLiveStream:e.is_livestream,hidden:!u[e.id],mode:"horizontal_list",width:`${(100/a).toFixed(2)}%`,className:wf,onClick:t=>{d?t.stopPropagation():s(e,n+1)},onFocus:()=>o(n)}))))})),Cf="paused-covers-module__pausedCoversWrapper___atFzB",Pf="paused-covers-module__pausedCover___XPPNg",Tf=(0,t.memo)((e=>{let{items:n}=e;const[i,r]=n;return null!=i&&i.thumbnail_url&&null!=r&&r.thumbnail_url?t.createElement("div",{className:Cf},t.createElement("img",{className:`${Pf}`,src:i.thumbnail_url,alt:i.title,loading:"lazy"}),t.createElement("img",{className:`${Pf}`,src:r.thumbnail_url,alt:r.title,loading:"lazy"})):null})),If="pause-screen-module__pauseRecsBlock___jF1A4",Rf="pause-screen-module__pauseRecs___D0t7J",Lf="pause-screen-module__isVisible___c4VzA",xf="pause-screen-module__pauseRecsInner___e1YuQ",Of="pause-screen-module__barActive___eZ9cN",Nf="pause-screen-module__pauseRecsTitle___nfXi1",Df="pause-screen-module__pauseRecsWrapper___FalyM",Mf="pause-screen-module__pauseRecsControl___jDduz",Bf="pause-screen-module__pauseRecsButton___LmkKP",Ff="pause-screen-module__pauseRecsPrev___WbvvF",Hf="pause-screen-module__pauseRecsNext___wtWgk",Vf="pause-screen-module__buttonClose____DPSm",Uf="pause-screen-module__buttonShow___UPNzK",jf="pause-screen-module__hidden___KiFYk",Wf="text-button-module__textButton___dknPs",zf=["children","className"],$f=e=>{let{children:n,className:i}=e,r=(0,Cr.A)(e,zf);return t.createElement("button",(0,On.A)({className:gt()(Wf,i)},r),n)},Gf=(0,_t.PA)((()=>{const e=(0,t.useRef)(null),n=eg.usePauseScreen(),{getDataAttribute:i}=(0,Yn.f)(),{items:r,page:a,pagesTotal:s,imageHeight:o,moreRecommendationClick:l,allowed:u,visible:c,show:d,hide:h,isBarActive:p,available:v}=n;return u?t.createElement("div",{className:If},v&&t.createElement($f,{className:gt()(Uf,{[jf]:c,[Of]:p}),onClick:()=>{var e;null===(e=n.counterHelper)||void 0===e||e.get("mainRecommendationButtonClick")(),d(!0)},"aria-label":"ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸","aria-haspopup":"true","aria-controls":"raichuPauseRecs","aria-expanded":c,"data-testid":"recommendations-btn"},t.createElement(Tf,{items:r}),"Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸"),t.createElement(gf,{appear:!0,in:c,nodeRef:e,timeout:fi.O5,unmountOnExit:!0},t.createElement("div",(0,On.A)({id:"raichuPauseRecs","data-testid":"recommendations-list",className:gt()(Rf,{[Lf]:c}),"aria-label":"Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸",ref:e},i(Qn.R.RECOMMENDATION_IN_PLAYER)),t.createElement("div",{className:gt()(xf,{[Of]:p})},t.createElement("div",{className:Nf},"Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸"),t.createElement(Pc.r,(0,On.A)({className:Vf,icon:Mv,onClick:()=>h(!0),"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸","data-testid":"recommendations-close-btn"},i(Qn.R.CLOSE_RECOMMENDATION_BUTTON))),t.createElement("div",{className:Df},t.createElement("div",{className:gt()(Mf,Ff),style:{height:`${o}px`}},a>1&&t.createElement("button",{"data-testid":"recommendations-left-arrow-btn","aria-hidden":"true",className:Bf,onClick:()=>l("left",!0)},t.createElement(yf,null))),t.createElement(kf,null),t.createElement("div",{className:gt()(Mf,Hf),style:{height:`${o}px`}},a<s&&t.createElement("button",{"data-testid":"recommendations-right-arrow-btn","aria-hidden":"true",className:Bf,onClick:()=>l("right",!0)},t.createElement(bf,null)))))))):null})),qf={perPage:0,total:0},Kf={xxs:{perPage:1,total:5},xs:{perPage:3,total:18},sm:{perPage:4,total:16},md:{perPage:4,total:16},lg:{perPage:6,total:18},xlg:{perPage:8,total:16}};var Yf,Qf;let Xf,Zf,Jf,eg;new(Qf=class extends k.j8{constructor(t,n,i,r,a,s,o,l,u,c,d,h,p){super(),this._wrapperRef=(Xf(this),A.sH.box(null)),this._config=A.sH.box({perPage:0,total:0}),this._imageHeight=A.sH.box(0),this._page=A.sH.box(1),this._items=A.sH.box([]),this._allRecommendations=A.sH.box([]),this._allowed=A.sH.box(!1),this._isEmbed=A.sH.box(!1),this._visible=A.sH.box(!1),this._hiddenByDefault=A.sH.box(!1),this.counterHelper=void 0,this.advert=void 0,this.moreRecommendationClick=(e,t)=>{this.changePage(e),this.show(t)},this.changePage=e=>{this.page="left"===e?this.page-1:this.page+1,this.scrollTo(this.page)},this.fixFocus=e=>{const t=e+1,n=this.page*this.config.perPage;t>n&&this.changePage("right");t<n-this.config.perPage&&this.changePage("left")},this.show=e=>{var t,n,i;e?(this.hiddenByDefault=!1,null===(n=this.counterHelper)||void 0===n||n.get("mainPauseScreenAction")({action:"show_rec"})):null===(i=this.counterHelper)||void 0===i||i.get("mainPauseScreenAction")({action:"show",list_of_cards:this.items.map(((e,t)=>({title:e.title,url:e.video_url,position:(t+1).toString()})))});null===(t=this.counterHelper)||void 0===t||t.get("mainPauseScreenShow")(),this.visible=!0},this.hide=e=>{var t,n;e&&(this.hiddenByDefault=!0,null===(t=this.counterHelper)||void 0===t||t.get("mainPauseScreenAction")({action:"hide_rec"}),null===(n=this.counterHelper)||void 0===n||n.get("mainRecommendationButtonShow")());this.visible=!1,this.scrollTo(1,!1)},this.onClick=(e,t)=>{var n,i;null===(n=this.counterHelper)||void 0===n||n.get("mainPauseScreenAction")({action:"click",clicked_url:e.video_url,position:t.toString()}),null===(i=this.counterHelper)||void 0===i||i.get("mainPauseScreenClick")(),this.trackingLinks&&this.isEmbed?window.open(this.trackingLinks.generateTrackingLink({id:String(e.id),campaign:"pausescreen"})):jr.Ug.emit(fi.L2.RECOMMENDED_VIDEO,{video:e})},this._playerSize=n,this._playback=i,this.endScreen=r,this._watchTime=a,this._data=s,this._controls=o,this._playerConfig=l,this._replayWidget=u,this._preview=c,this.trackingLinks=p,this.counterHelper=d&&d instanceof ps?d.counterHelper:void 0,this.hiddenByDefault="1"===e.ae.getItem(fi.Ok.PAUSE_RECS_HIDDEN),this.advert=h,this.isEmbed=t.value,(0,A.Gn)(this,{wrapperRef:A.EW,config:A.EW,items:A.EW,imageHeight:A.EW,page:A.EW,pagesTotal:A.EW,fixFocus:A.XI,allowed:A.EW,visible:A.EW,show:A.XI,hide:A.XI,onClick:A.XI,available:A.EW})}init(){const e=[];return e.push((0,A.mJ)((()=>({sizeId:this._playerSize.sizeId,items:this.allRecommendations})),(e=>{let{sizeId:t,items:n}=e;this.config=t?Kf[t]:qf,this.items=n.slice(0,this.config.total).map((e=>e.video)),this.page>this.pagesTotal&&this.scrollTo(this.pagesTotal,!1)}))),e.push((0,A.mJ)((()=>{var e;return{layoutWidth:null===(e=this._playerSize.size)||void 0===e?void 0:e.width,wrapper:this.wrapperRef,visible:this.visible}}),(e=>{let{wrapper:t,visible:n}=e;n&&setTimeout((()=>{const e=null==t?void 0:t.clientWidth;e&&(this.imageHeight=Math.round((e/this.config.perPage-16)/fi.$c));const n=this.pagesTotal<this.page?this.pagesTotal:this.page;n!==this.page&&(this.page=n),this.scrollTo(n,!1)}))}))),e.push((0,A.mJ)((()=>{var e;return{wasStarted:this._playback.wasStarted,isLive:this._data.isLive,isPauseScreenAvailable:this._watchTime.isPauseScreenAvailable,items:this.allRecommendations,isShowingReplyWidget:this.isShowingReplyWidget,endScreenVisible:null===(e=this.endScreen)||void 0===e?void 0:e.visible,config:this.config}}),(e=>{let{wasStarted:t,isPauseScreenAvailable:n,items:i,isLive:r,isShowingReplyWidget:a,endScreenVisible:s,config:o}=e;this.allowed=t&&!(this.isEmbed&&r)&&n&&i.length>0&&!a&&!s&&o.perPage>0}))),e.push((0,A.mJ)((()=>({available:this.available})),(e=>{let{available:t}=e;if(this.allowed&&!qt.B.isMobile)if(!t&&this.visible)this.hide(!1);else if(t){var n,i;if(this.visible)return;if("show"===(null===(n=this.advert)||void 0===n?void 0:n.currentState))return;if(this.hiddenByDefault)null===(i=this.counterHelper)||void 0===i||i.get("mainRecommendationButtonShow")();else this.show(!1)}}))),e.push((0,A.mJ)((()=>({videoId:this._data.video_id})),(()=>this.hide(!1)))),e.push((0,A.mJ)((()=>{var e;return{recommendations:null===(e=this.endScreen)||void 0===e?void 0:e.recommendations}}),(e=>{let{recommendations:t}=e;t&&(this.allRecommendations=t)}))),e.push((0,A.mJ)((()=>{var e;return{videoId:this._data.video_id,allow:null===(e=this._data.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.show_endscreen,isEmbed:this.isEmbed,addLikedVideos:this._playerConfig.get("loadLikedRecommendations")}}),(e=>{let{videoId:t,allow:n,isEmbed:i,addLikedVideos:r}=e;!t||n&&this.endScreen||(0,A.h5)((async()=>{try{var e,n,a;const s=await Ap({videoId:t,client:i?"player":"wdp",limit:20,minAge:null===(e=this._playerConfig.get("safeModeConfig"))||void 0===e?void 0:e.minAge,maxAge:null===(n=this._playerConfig.get("safeModeConfig"))||void 0===n?void 0:n.maxAge,playlistId:null===(a=this._playerConfig.get("playlistId"))||void 0===a?void 0:a.toString(),addLikedVideos:r});this.allRecommendations=null==s?void 0:s.recommendation}catch(e){console.warn("Load end-screen error",e)}}))}))),()=>e.forEach((e=>e()))}get isEmbed(){return this._isEmbed.get()}set isEmbed(e){this._isEmbed.set(e)}get wrapperRef(){return this._wrapperRef.get()}set wrapperRef(e){this._wrapperRef.get()!==e&&this._wrapperRef.set(e)}get config(){return this._config.get()}set config(e){this._config.set(e)}get items(){return this._items.get()}set items(e){this._items.set(e)}get allRecommendations(){return this._allRecommendations.get()}set allRecommendations(e){this._allRecommendations.set(e)}get imageHeight(){return this._imageHeight.get()}set imageHeight(e){this._imageHeight.set(e)}get page(){return this._page.get()}set page(e){this._page.set(e)}get allowed(){return this._allowed.get()}set allowed(e){this._allowed.set(e)}get visible(){return this._visible.get()}set visible(e){this._visible.set(e)}get hiddenByDefault(){return this._hiddenByDefault.get()}set hiddenByDefault(t){e.ae.setItem(fi.Ok.PAUSE_RECS_HIDDEN,t?"1":""),this._hiddenByDefault.set(t)}get pagesTotal(){return this.config.perPage&&this.items.length?Math.ceil(this.items.length/this.config.perPage):1}get playback(){return this._playback}get isShowingReplyWidget(){var e,t;return Boolean((null===(e=this._replayWidget)||void 0===e?void 0:e.isReplayWidgetAvailable)&&!(null!==(t=this._replayWidget)&&void 0!==t&&t.isReplayWidgetAlreadyShowed))}get isBarActive(){var e,t;return Boolean((null===(e=this._preview)||void 0===e?void 0:e.isAllowedToShowPreview)&&null!==(null===(t=this._preview)||void 0===t?void 0:t.previewPosition)&&!qt.B.isMobile)}get available(){return!this._playback.isPlaying&&(!this._playback.waiting||this._playback.paused)&&this._controls.isShowControls&&!(this.isEmbed&&this.playback.ended)}scrollTo(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.wrapperRef){const n=this.wrapperRef.clientWidth;this.wrapperRef.scrollTo({top:0,left:n*(e-1),behavior:t?"smooth":"auto"})}}},({e:[Xf],c:[eg,Zf]}=(0,S.A)(Qf,[(0,k.k_)({implement:"IPauseScreenPlugin",ctor_args:["IsEmbed","IPlayerSizePlugin","IPlayback",{implement:"IEndScreenPlugin",optional:!0},"IStatisticWatchTimePlugin","IDataPlugin","IControlsPlugin","IPlayerConfigPlugin",{implement:"ReplayWidgetPlugin",optional:!0},{implement:"IPreviewPlugin",optional:!0},{implement:"IStatisticState",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"ITrackingLinksPlugin",optional:!0}]})],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),Jf=Qf,(Yf=class extends V{constructor(){super(eg),this.PauseScreen=Gf,this.usePauseScreen=()=>(0,Dt.Ks)("IPauseScreenPlugin"),this.usePauseScreenOptional=()=>(0,Dt.ei)("IPauseScreenPlugin"),this.getPauseScreen=e=>e("IPauseScreenPlugin"),Zf()}})[Jf]=void 0,Yf);const tg="buttons-block-module__btn___vnXoe",ng=(0,_t.PA)((e=>{let{previewTooltipHidden:n,tooltipTitle:i,size:r}=e;const a=X_(),s=nf.useNextVideoOptional(),{nextVideo:o,isShowPlaylistButtons:l,onClickNext:u}=a||{},{isLive:c}=Ah(),{tabIndex:d}=(0,Bu.useControls)();if(!s)return null;const{nextVideo:h,onClick:p}=s,v=!c&&Boolean(o||h);if(!l&&!v)return null;const m=l&&o?o:h,_=l&&o?u&&u.bind(a):p.bind(s),f=l&&!o&&!h;return t.createElement("div",{className:tg},t.createElement(_f,{video:m,tooltipHidden:n||!m,tooltipTitle:Ve.m_.NextVideo},t.createElement(Pc.r,{"data-testid":"ui-next-video",tabIndex:d,role:"button","aria-label":"ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾ (ÑÐ¾Ñ‡ÐµÑ‚Ð°Ð½Ð¸Ðµ ÐºÐ»Ð°Ð²Ð¸Ñˆ Shift+N)",icon:rf,onClick:_,disabled:f,tooltipPlacement:"top",tooltipTitle:i,style:{position:"relative"},size:r})))})),ig=(0,_t.PA)((e=>{let{previewTooltipHidden:n,tooltipTitle:i,size:r}=e;const a=X_(),{prevVideo:s,isShowPlaylistButtons:o,onClickPrev:l}=a,{tabIndex:u}=(0,Bu.useControls)();return o?t.createElement("div",{className:tg},t.createElement(_f,{video:s,tooltipHidden:n||!s,tooltipTitle:Ve.m_.PrevVideo},t.createElement(Pc.r,{size:r,"data-testid":"ui-prev-video",action:"prevPlaylistVideo",tabIndex:u,role:"button","aria-label":"ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð° Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾ (ÑÐ¾Ñ‡ÐµÑ‚Ð°Ð½Ð¸Ðµ ÐºÐ»Ð°Ð²Ð¸Ñˆ Shift+P)",icon:sf,onClick:l.bind(a),disabled:!s,tooltipPlacement:"top",tooltipTitle:i,style:{position:"relative"}}))):null})),rg=(0,_t.PA)((()=>{const{isSmallDesktop:e}=$h(),n=Od(),i=P_(),r=T_(),a=hp(),{data:s,playback:o,needToHideTooltips:l,isEmbed:u,isFullScreen:c,tabIndex:d}=n,{isLive:h,isTVStream:p,isInteractiveVideo:v}=s,{isPlaying:m,ended:_,isInteractiveEnded:f}=o,g=!(h||qt.B.isMobile||e||u||v),{visible:y}=Xm.useEndScreenOptional()||{},{visible:b}=eg.usePauseScreenOptional()||{},E=y||b,w=c?"XXL":"XL";return t.createElement("div",{style:{display:"flex"}},g&&t.createElement(ig,{previewTooltipHidden:E||l,tooltipTitle:E&&Ve.m_.PrevVideo,size:w}),!p&&!e&&!v&&t.createElement("div",{className:tg},t.createElement(Pc.r,{"data-testid":"ui-prev-10sec",color:"white",icon:Wn,onClick:()=>{null==n||n.handleSeek("back")},tooltipTitle:Ve.m_.PrevSeek,tooltipPlacement:"top-start",tooltipHidden:l,"aria-label":(0,rd.T)("ÐžÑ‚Ð¼Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð½Ð° 10 ÑÐµÐºÑƒÐ½Ð´ Ð½Ð°Ð·Ð°Ð´","J"),tabIndex:0,size:w,role:"button"})),t.createElement("div",{className:tg},t.createElement(R_,{id:pd.v.PLAY_BUTTON,played:m,live:p,color:"white",ended:_||f,onClick:()=>{const e=()=>{null==i||i.incrementViewCount(),null==r||r.resetWatchTimePerGo(),o.resetOnReplay()};m?o.pause():(f&&(e(),o.seek(0),null==a||a.resetInteractiveFragment()),_?e():o.play(),s.isTVStream&&o.goLive())},tooltipPlacement:"top",tooltipHidden:l,tabIndex:d,role:"button",size:w})),!p&&!e&&!v&&t.createElement("div",{className:tg},t.createElement(Pc.r,{"data-testid":"ui-next-10sec",color:"white",icon:jn,onClick:()=>{_||null==n||n.handleSeek("forward")},"aria-label":(0,rd.T)("ÐŸÐµÑ€ÐµÐ¼Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð½Ð° 10 ÑÐµÐºÑƒÐ½Ð´ Ð²Ð¿ÐµÑ€ÐµÐ´","L",!0),tooltipTitle:Ve.m_.NextSeek,tooltipPlacement:"top",tooltipHidden:l,tabIndex:0,role:"button",size:w})),g&&t.createElement(ng,{previewTooltipHidden:E||l,tooltipTitle:E&&Ve.m_.NextVideo,size:w}))}));var ag=s(4136);const sg=()=>t.createElement("svg",{width:"103",height:"24",viewBox:"0 0 103 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M11.432 6.2207H0V18.9292H3.1819V14.7947H9.27894L12.0608 18.9292H15.6237L12.5561 14.7756C13.5088 14.6232 14.1947 14.2612 14.6139 13.6896C15.033 13.118 15.2426 12.2034 15.2426 10.984V10.0314C15.2426 9.30733 15.1664 8.73576 15.033 8.29749C14.8996 7.85928 14.671 7.47821 14.3471 7.13526C14.0041 6.81135 13.6231 6.58271 13.1659 6.43029C12.7086 6.29691 12.1369 6.2207 11.432 6.2207ZM10.9176 11.9938H3.1819V9.02151H10.9176C11.3558 9.02151 11.6606 9.09774 11.8131 9.2311C11.9654 9.36446 12.0608 9.61217 12.0608 9.97421V11.0412C12.0608 11.4223 11.9654 11.67 11.8131 11.8033C11.6606 11.9367 11.3558 11.9938 10.9176 11.9938Z",fill:"white"}),t.createElement("path",{d:"M19.9241 15.1757V6.2207H16.7422V15.0995C16.7422 15.8235 16.7993 16.4142 16.9327 16.8524C17.0661 17.3097 17.2947 17.6908 17.6377 18.0147C17.9616 18.3576 18.3427 18.5863 18.7999 18.7196C19.2572 18.8721 19.8288 18.9292 20.5529 18.9292H28.1742C28.8791 18.9292 29.4508 18.8721 29.908 18.7196C30.3653 18.5863 30.7464 18.3576 31.0893 18.0147C31.4132 17.6908 31.6419 17.3097 31.7752 16.8524C31.9086 16.4142 31.9848 15.8235 31.9848 15.0995V6.2207H28.8029V15.1757C28.8029 15.5568 28.7076 15.8045 28.5553 15.9379C28.4028 16.0712 28.098 16.1284 27.6598 16.1284H21.0673C20.61 16.1284 20.3052 16.0712 20.1527 15.9379C20.0003 15.8045 19.9241 15.5568 19.9241 15.1757Z",fill:"white"}),t.createElement("path",{d:"M42.7501 18.9292V9.02151H48.9044V6.2207H33.4141V9.02151H39.5682V18.9292H42.7501Z",fill:"white"}),t.createElement("path",{d:"M53.51 15.1757V6.2207H50.3281V15.0995C50.3281 15.8235 50.3853 16.4142 50.5187 16.8524C50.6521 17.3097 50.8807 17.6908 51.2236 18.0147C51.5476 18.3576 51.9286 18.5863 52.3859 18.7196C52.8432 18.8721 53.4148 18.9292 54.1388 18.9292H61.7601C62.4651 18.9292 63.0367 18.8721 63.494 18.7196C63.9513 18.5863 64.3323 18.3576 64.6753 18.0147C64.9992 17.6908 65.2278 17.3097 65.3612 16.8524C65.4946 16.4142 65.5708 15.8235 65.5708 15.0995V6.2207H62.3889V15.1757C62.3889 15.5568 62.2936 15.8045 62.1412 15.9379C61.9887 16.0712 61.6839 16.1284 61.2457 16.1284H54.6532C54.1959 16.1284 53.8911 16.0712 53.7386 15.9379C53.5863 15.8045 53.51 15.5568 53.51 15.1757Z",fill:"white"}),t.createElement("path",{d:"M81.6966 9.91701V9.66937C81.6966 8.48806 81.3918 7.61159 80.7816 7.05905C80.172 6.5065 79.2004 6.2207 77.905 6.2207H67.1016V18.9292H78.5336C79.8291 18.9292 80.8006 18.6625 81.4109 18.1099C82.0204 17.5574 82.3252 16.6809 82.3252 15.4997V15.2329C82.3252 14.0516 82.0204 13.2133 81.4109 12.7179C81.2963 12.6416 81.1818 12.5845 81.0679 12.5274C80.9534 12.4701 80.7816 12.394 80.5722 12.3178C80.9916 12.0891 81.2772 11.7842 81.4484 11.4413C81.6011 11.0983 81.6966 10.5839 81.6966 9.91701ZM70.2836 11.3079V9.02151H77.3902C77.8477 9.02151 78.1525 9.09774 78.3052 9.2311C78.4572 9.36446 78.5336 9.61217 78.5336 9.97421V10.3553C78.5336 10.7364 78.4572 10.984 78.3052 11.1174C78.1525 11.2508 77.8477 11.3079 77.3902 11.3079H70.2836ZM70.2836 16.1284V13.842H78.0379C78.4763 13.842 78.7811 13.9182 78.9338 14.0516C79.0859 14.185 79.1813 14.4327 79.1813 14.7947V15.1757C79.1813 15.5568 79.0859 15.8045 78.9338 15.9379C78.7811 16.0712 78.4763 16.1284 78.0379 16.1284H70.2836Z",fill:"white"}),t.createElement("path",{d:"M86.643 9.02151H97.0462V6.2207H83.4609V18.9292H97.5603V16.1284H86.643V13.9754H96.798L97.0462 11.1746H86.643V9.02151Z",fill:"white"}),t.createElement("path",{d:"M100.047 5.45287C101.276 5.45287 102.273 4.45606 102.273 3.22644C102.273 1.99681 101.276 1 100.047 1C98.8171 1 97.8203 1.99681 97.8203 3.22644C97.8203 4.45606 98.8171 5.45287 100.047 5.45287Z",fill:"#F41240"})),og=()=>t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M19.582 5.996a1.418 1.418 0 1 0 0-2.836 1.418 1.418 0 0 0 0 2.836Z",fill:"#F41240"}),t.createElement("path",{d:"M14.688 5.998H3.273V18.76H6.45v-4.152h6.088l2.777 4.152h3.558l-3.063-4.172c.951-.153 1.636-.516 2.055-1.09.418-.574.627-1.493.627-2.718v-.956c0-.727-.076-1.302-.209-1.742a2.913 2.913 0 0 0-.685-1.167 3.094 3.094 0 0 0-1.18-.708c-.456-.134-1.027-.21-1.73-.21Zm-.514 5.798H6.45V8.81h7.724c.437 0 .742.077.894.211.152.134.247.383.247.746v1.072c0 .383-.095.631-.247.765s-.457.192-.894.192Z",fill:"#E1E5EA"})),lg="logo-control-button-module__logo___MvUVG",ug="logo-control-button-module__small___OPP32",cg="logo-control-button-module__big___ChnCr",dg="logo-control-button-module__sizeXL___DK4ze",hg="logo-control-button-module__sizeXXL___x0Ap3",pg=(0,_t.PA)((e=>{let{onClick:n,isMobile:i=!1,size:r}=e;const{generateTrackingLink:a}=(0,Dt.Ks)("ITrackingLinksPlugin"),{size:s}=nh(),{pauseVideo:o}=(0,Bu.useControls)(),l=(null==s?void 0:s.width)||0,u=!i&&l>=570,c=e=>{("click"===(null==e?void 0:e.type)||"auxclick"===(null==e?void 0:e.type)&&1===(null==e?void 0:e.button)||"contextmenu"===(null==e?void 0:e.type)&&2===(null==e?void 0:e.button))&&(null==e||e.preventDefault(),n&&n(),window.open(e.currentTarget.href),o())},d=gt()(lg,{[cg]:u,[ug]:!u,[dg]:"XL"===r,[hg]:"XXL"===r}),h=t.createElement("a",{tabIndex:0,role:"button","aria-label":"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð° RUTUBE",href:a({campaign:"logo"}),target:"_blank",className:d,rel:"noreferrer",onClick:c,onAuxClick:c,onContextMenu:c},u?t.createElement(sg,null):t.createElement(og,null));return i?h:t.createElement(ag._,{title:Ve.m_.WatchOnRUTUBE,placement:"top",offset:24,zIndex:Ve.m_.ControlsTooltipZIndex},h)}));var vg;s(6417);let mg,_g,fg;class gg extends Bu.ControlsPlugin{static get InputControls(){return{progressBarComponent:C_,mobileButtonsBlockComponent:lf,buttonsBlockComponent:rg,logoButtonComponent:pg,liveBadgeComponent:Ud,tvTimeBlockComponent:Kd}}constructor(e,t,n,i,r,a,s,o,l,u,c,d){super(e,t,n,i,r,a,s,o,l,u,c),this.counterHelper=void mg(this),this._isEmbedResolvable=o,this.previewPlugin=c,this.__posterPlugin=d,this.counterHelper=s&&s instanceof ps?s.counterHelper:void 0}initShowPoster(){return(0,A.mJ)((()=>{var e,t;return(null===(e=this.__posterPlugin)||void 0===e?void 0:e.isPosterVisible)&&(null===(t=this.__posterPlugin)||void 0===t?void 0:t.isPlayButtonVisible)}),(e=>this.isTVPosterVisible=Boolean(this.isEmbed&&e)))}hideAdvertControls(){return(0,A.mJ)((()=>this.isControlsForcedHidden),(e=>{e&&this.advert&&(this.advert.isControlsHidden=!0)}),{fireImmediately:!0})}getIsShowProgressBar(){return!this.data.isInteractiveVideo}}vg=gg,({e:[mg],c:[fg,_g]}=(0,S.A)(vg,[(0,k.k_)({implement:"IControlsPlugin",ctor_args:["IPlayback","IDataPlugin","IFullscreenPlugin","IPlayerSizePlugin","IAppearancePlugin",{implement:"IEndScreenPlugin",optional:!0},"IStatisticState","IsEmbed",{implement:"IAdvertPlugin",optional:!0},"IQualitiesPlugin",{implement:"IPreviewPlugin",optional:!0},{implement:"IPosterPlugin",optional:!0}]})],[[(0,k.o7)(),2,"initShowPoster"],[(0,k.o7)(),2,"hideAdvertControls"]],0,void 0,Bu.ControlsPlugin)),_g();const yg=()=>(0,Dt.ei)("IEmbedPlugin"),bg=e=>e("IEmbedPlugin");var Eg;let wg,Sg,Ag;class kg extends k.j8{constructor(e,t,n){super(),this._params=(wg(this),A.sH.box({})),this._trackId=A.sH.box(),this._loading=A.sH.box(!0),this._allowed=A.sH.box(!1),this._visible=A.sH.box(!1),this._isNakedMode=A.sH.box(!1),this._onRecommendedClick=e=>{const{video:t,resourceId:n}=e.data;if(null!=t&&t.video_url)try{const e=new URL(t.video_url);n&&e.searchParams.append("resource_id",n.toString()),window.open(e.toString(),"_blank")}catch(e){console.warn(e)}},this._appearance=e,this._qualities=t,this._config=n,(0,A.Gn)(this,{params:A.EW,trackId:A.EW,loading:A.EW,allowed:A.EW,visible:A.EW,isNakedMode:A.EW})}init(){return this._prepareParams(),this._initEmbed(),jr.Ug.subscribe(fi.L2.RECOMMENDED_VIDEO,this._onRecommendedClick),()=>{jr.Ug.unsubscribe(fi.L2.RECOMMENDED_VIDEO,this._onRecommendedClick)}}async _initEmbed(){var e,t,n;if(this.trackId=(0,i.DU)(),null===(e=this.params)||void 0===e||!e.idWebsite)return this.allowed=!0,void(this.loading=!1);try{const e=await(t=(0,R.If)(),n=this.params.idWebsite,fetch(`${Ve.mW}/api/distribution/distributors/websites/?url=${t}&id_website=${n}`,{method:"get"}).then((e=>e.json())));this.allowed=Boolean(e.is_reproduce)}catch(e){this.allowed=!1}this.loading=!1}_prepareParams(){if(window.location.search){const e=(0,i.al)(window.location.href,!0);this.params={urlPepper:e.p,platform:e.platform,adminMode:e.admin_mode,quality:e.q||e.quality,resourceId:e.resource_id,idWebsite:e.id_website,idDistribution:e.id_distribution,yclidP:e.yclid_p,skinColor:e.skinColor,versionId:e.visitor_id,naked:e.naked,anc:e.anc||"na",os:e.os},e.skinColor&&(this._appearance.skinColor=e.skinColor),this.params.quality&&(this._qualities.embedQuality=this.params.quality),"true"===this.params.naked&&(this.isNakedMode=!0),e.visitor_id&&(mi.assertInstance(this._config),this._config.set("visitorId",e.visitor_id)),mi.assertInstance(this._config),this._config.set("paywallEnabled","false"!==e.paywallenabled),"true"===e.autoplay?this._config.set("autoplay",!0):"false"===e.autoplay&&this._config.set("autoplay",!1)}}get params(){return this._params.get()}set params(e){this._params.set(e)}get trackId(){return this._trackId.get()}set trackId(e){this._trackId.set(e)}get loading(){return this._loading.get()}set loading(e){this._loading.set(e)}get allowed(){return this._allowed.get()}set allowed(e){this._allowed.set(e)}get visible(){return this._visible.get()}set visible(e){this._visible.set(e)}get isNakedMode(){return this._isNakedMode.get()}set isNakedMode(e){this._isNakedMode.set(e)}get isEmbedYaos(){return"yaos"===this.params.os}}Eg=kg,({e:[wg],c:[Ag,Sg]}=(0,S.A)(Eg,[(0,k.k_)({implement:"IEmbedPlugin",ctor_args:["IAppearancePlugin","IQualitiesPlugin","IPlayerConfigPlugin"]})],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),Sg();const Cg="embed-wrapper-module__wrapper___RPyEt",Pg="https://static.rutube.ru/webconfigs/player-embed-config.json",Tg="https://static.rutube.dev/webconfigs/player-embed-config.json";const Ig=["qa.rutube.ru","aq.rutube.ru","qaq.rutube.ru"];const Rg=(e,t)=>0===e.length||e.includes(t);var Lg,xg;let Og,Ng,Dg;class Mg extends(Lg=k.j8){constructor(e,t,n,i,r){super(),this.__embedConfig=(Og(this),A.sH.box(null)),this.__loading=A.sH.box(!0),this._config=e,this._playback=t,this._playerSize=n,this._advert=i,this._playOptions=r,(0,A.Gn)(this,{fetchEmbedConfig:A.XI,embedConfig:A.EW,loading:A.EW,windowWidth:A.EW,isExperimentEnabled:A.EW,communicationBannerSkip:A.EW,isShowAdvert:A.EW,minEmbedWidth:A.EW,link:A.EW})}init(){this.fetchAndSetEmbedConfig()}async fetchAndSetEmbedConfig(){const e=e=>(0,A.h5)((()=>this.__embedConfig.set(e)));return this.fetchEmbedConfig().then(e).catch(e).finally((()=>(0,A.h5)((()=>this.__loading.set(!1)))))}async fetchEmbedConfig(){try{const t="rutube.ru"===(e=window.location.hostname)||Ig.includes(e)?Pg:Tg,n=6e5*Math.floor(Date.now()/6e5),i=await fetch(`${t}?t=${n}`);if(!i.ok)throw new Error(`HTTP ${i.status}`);return await i.json()}catch(e){return console.warn("Error fetching embed config",e),null}var e}get isShowAdvert(){var e;return"show"===(null===(e=this._advert)||void 0===e?void 0:e.currentState)}get disableOnAd(){var e,t;return null!==(e=null===(t=this.matchedExperiment)||void 0===t?void 0:t.disableExperimentForAd)&&void 0!==e&&e}get minEmbedWidth(){var e;return null===(e=this.__embedConfig.get())||void 0===e?void 0:e.minEmbedWidth}get embedConfig(){return this.__embedConfig.get()}get loading(){return this.__loading.get()}get windowWidth(){return this._playerSize.windowWidth}get domain(){return(0,R.Ln)((0,R.IN)())}get videoId(){return this._config.get("videoId")}get queryParams(){return(0,i.al)(window.location.href)}get matchedExperiment(){const e=this.__embedConfig.get();if(e)return e.experiments.find((e=>{return t=e.conditions,n=this.domain,i=this.videoId,r=this.queryParams,Rg(t.domains,n)&&Rg(t.videoIds,i)&&((e,t)=>0===e.length||e.some((e=>{let{parameter:n,values:i}=e;const r=t[n];return!!r&&i.includes(r)})))(t.queryParams,r);var t,n,i,r}))}get isBlockingRule(){return Boolean(this._playOptions.getErrorEventDetails())}get isExperimentEnabled(){var e;return!this.isBlockingRule&&(141===(null===(e=this._playOptions.data)||void 0===e?void 0:e.meta.appearance_id)&&(!(void 0!==this.minEmbedWidth&&this.windowWidth<this.minEmbedWidth)&&((!this.disableOnAd||!this.isShowAdvert)&&Boolean(this.matchedExperiment))))}get link(){const e=this.matchedExperiment;if(!e)return"";const{utm_source:t,utm_medium:n,utm_campaign:i,utm_term:r}=e.config,a=((e,t)=>"string"==typeof e?e:t?e.mob:e.web)(i,qt.B.isMobile),s=`${window.location.origin}/video/${this.videoId}`,o=new URLSearchParams({utm_source:t,utm_medium:n,utm_campaign:a,utm_content:this.videoId});return r&&o.set("utm_term",this.domain),((e,t)=>{const n=e.includes("?")?"&":"?";return`${e}${n}${t.toString()}`})(s,o)}redirectClick(e){e.preventDefault(),e.stopPropagation(),this._playback.pause();const t=this._playback.currentTime,n=(0,R.Qv)(this.link);if(!n)return;const i=new URLSearchParams((0,l.A)({t:t.toString()},Object.fromEntries(n.searchParams)));n.search=i.toString(),window.open(n.toString(),"_blank")}get communicationBannerSkip(){var e,t;const n=this.__embedConfig.get();return!!n&&(null!==(e=null===(t=n.communication)||void 0===t||null===(t=t.banner)||void 0===t||null===(t=t.skip)||void 0===t?void 0:t.includes(this.domain))&&void 0!==e&&e)}}xg=Mg,({e:[Og],c:[Dg,Ng]}=(0,S.A)(xg,[(0,k.k_)({implement:"IEmbedExternalConfigPlugin",ctor_args:["IPlayerConfigPlugin","IPlayback","IPlayerSizePlugin",{implement:"IAdvertPlugin",optional:!0},"IDataPlugin"]})],[[(0,k.o7)(),2,"init"],[[A.XI,A.XI.bound],18,"redirectClick"]],0,void 0,Lg)),Ng();function Bg(e){let{wrapperRef:n}=e;const i=(0,t.useRef)(!1),{isExperimentEnabled:r,redirectClick:a}=(0,Dt.Ks)("IEmbedExternalConfigPlugin");(0,t.useEffect)((()=>{const e=n.current;if(!e||!r)return;const t=e=>{i.current||(a(e),i.current=!0)};return e.addEventListener("click",t),e.addEventListener("touchend",t),e.addEventListener("contextmenu",t),()=>{e.removeEventListener("click",t),e.removeEventListener("touchend",t),e.removeEventListener("contextmenu",t)}}),[r,a,n])}const Fg=(0,_t.PA)((e=>{let{children:n}=e;const i=(0,Dt.Ks)("IEmbedPlugin"),{loading:r}=i,[a,s]=Gv(void 0,!0,.01);return(0,t.useEffect)((()=>{i.visible=s||!1}),[i,s]),Bg({wrapperRef:a}),t.createElement("div",{ref:a,className:Cg,"data-testid":"embed-wrapper"},r?t.createElement(pr,null):n)}));class Hg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;this.__name=void 0,this.__messagesAtom=void 0,this.__type=void 0,this.__data=void 0,this.onMessage=e=>{var t,n;if("string"!=typeof e.data)return;let i;try{i=JSON.parse(e.data)}catch(e){return}this.hasEvent(null===(t=i)||void 0===t?void 0:t.type)&&(this.__type=i.type,this.__data=i.data,null===(n=this.__messagesAtom)||void 0===n||n.reportChanged())},this.__name=e,this.__messagesAtom=(0,A.MN)("postMessages",(()=>{t.addEventListener("message",this.onMessage)}),(()=>{t.removeEventListener("message",this.onMessage)}))}get __events(){return{pause:`${this.__name}:pause`,play:`${this.__name}:play`,advertPlay:`${this.__name}:advert-play`,skipAd:`${this.__name}:skipAd`,advertPause:`${this.__name}:advert-pause`,setCurrentTime:`${this.__name}:setCurrentTime`,seek:`${this.__name}:relativelySeek`,mute:`${this.__name}:mute`,unmute:`${this.__name}:unMute`,setVolume:`${this.__name}:setVolume`,stop:`${this.__name}:stop`,suspend:`${this.__name}:suspend`,wakeUp:`${this.__name}:wakeup`,changeVideo:`${this.__name}:changeVideo`,setSkinColor:`${this.__name}:setSkinColor`,refetchPlayOptions:"frame:checkOptions",iframeLoaded:"frame:loaded",bitrateSwitch:`${this.__name}:bitrateSwitch`,fullscreen:`${this.__name}:changeFullscreen`,jwt:`${this.__name}:setJwt`,uuid:`${this.__name}:setUuid`,profile:`${this.__name}:profile`,userData:`${this.__name}:setUserData`,showControls:`${this.__name}:showControls`,hideControls:`${this.__name}:hideControls`,changeQuality:`${this.__name}:changeQuality`,platformSubscriptionStart:`${this.__name}:subscriptionStart`,platformSubscriptionCancel:`${this.__name}:subscriptionCancel`,enterToPiP:`${this.__name}:enterToPiP`,exitFromPiP:`${this.__name}:exitFromPiP`,getStatisticsRequest:`${this.__name}:getStatisticsRequest`,enterFullscreen:`${this.__name}:enterFullscreen`,exitFullscreen:`${this.__name}:exitFullscreen`,promoInterrupt:`${this.__name}:promoInterrupt`,enterNakedMode:`${this.__name}:enterNakedMode`,exitNakedMode:`${this.__name}:exitNakedMode`}}hasEvent(e){return Object.values(this.__events).includes(e)}subscribe(e,t){return(0,A.mJ)((()=>(this.__messagesAtom.reportObserved(),{isNeedToHandleMessage:this.__events[e]===this.__type})),(e=>{let{isNeedToHandleMessage:n}=e;n&&t(this.__data||{})}))}}var Vg;let Ug,jg,Wg;class zg extends k.j8{constructor(e,t,n,i,r){super(),this.__playback=void Ug(this),this._videoId=void 0,this._events=void 0,this._advert=r,this._videoId=e.value,this.__playback=t,this._events=new Hg(n.value,null==i?void 0:i.value)}playSubscribe(){return this._events.subscribe("play",(e=>{let{videoId:t}=e;t&&t!==this._videoId||this.__playback.play()}))}init(){const e=this.playSubscribe(),t=this._events.subscribe("pause",(e=>{let{videoId:t}=e;var n,i;t&&t!==this._videoId||(this.__playback.isPlaying&&this.__playback.pause(),null!==(n=this._advert)&&void 0!==n&&n.isPlaying&&(null===(i=this._advert)||void 0===i||i.pause()))})),n=this._events.subscribe("stop",(()=>{this.__playback.seek(this.__playback.duration+1)})),i=this._events.subscribe("seek",(e=>{let{videoId:t,time:n}=e;t&&t!==this._videoId||(n>=0?this.__playback.seekForward(n):this.__playback.seekBack(Math.abs(n)))})),r=this._events.subscribe("mute",(e=>{let{videoId:t}=e;t&&t!==this._videoId||this.__playback.muted||this.__playback.handleMuted()})),a=this._events.subscribe("unmute",(e=>{let{videoId:t}=e;t&&t!==this._videoId||this.__playback.muted&&this.__playback.handleMuted()})),s=this._events.subscribe("setVolume",(e=>{let{videoId:t,change:n,volume:i}=e;t&&t!==this._videoId||(i&&this.__playback.handleVolume(100*i),n&&this.__playback.handleVolume(Math.max(Math.min(100*((this.__playback.volume||0)+n),100),0)))})),o=[];return o.push(t,e,n,i,r,a,s),()=>{o.forEach((e=>e()))}}initCurrentTime(){return this.initCurrentTimeHandler()}initCurrentTimeHandler(){return this._events.subscribe("setCurrentTime",(e=>{let{videoId:t,time:n}=e;if(!t||t===this._videoId){const e=this.__playback.duration;if(n>=0&&e){const t=n>e?e-fi.Vc:n;this.__playback.seek(t)}}}))}}var $g;let Gg,qg,Kg;Vg=zg,({e:[Ug],c:[Wg,jg]}=(0,S.A)(Vg,[(0,k.k_)({implement:"IExternalEventsPlugin",ctor_args:["VideoId","IPlayback","ExternalEventsNamespace",{implement:"EventBus",optional:!0},{implement:"IAdvertPlugin",optional:!0}]})],[[(0,k.o7)(),2,"init"],[(0,k.o7)(),2,"initCurrentTime"]],0,void 0,k.j8)),jg();function Yg(e){return e(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IDataPlugin")}$g=class extends Wg{constructor(e,t,n,i,r,a,s,o,l,u,c,d,h,p,v){super((0,k.Yk)()(s.get("videoId")),i,c,p,o),this.__playOptions=void Gg(this),this.__appearance=void 0,this.__stubPlugin=void 0,this.__controls=void 0,this.__provider=void 0,this.__config=void 0,this.__sharePlugin=void 0,this.__advert=void 0,this.__pip=void 0,this.__counterHelper=void 0,this.__infoLayer=void 0,this.__isWaitingPlaybackPlugin=void 0,this.__playback=void 0,this._fullscreen=v,this.__config=s,this.__playOptions=e,this.__appearance=t,this.__stubPlugin=n,this.__playback=i,this.__controls=a,this.__provider=r,this.__sharePlugin=l,this.__pip=u,this.__counterHelper=d&&d instanceof ps?d.counterHelper:void 0,this.__infoLayer=h}playSubscribe(){return this._events.subscribe("play",(e=>{var t;let{videoId:n}=e;var i,r;if("show"!==(null===(t=this.__advert)||void 0===t?void 0:t.currentState)&&(!n||n===this._videoId))if(null!==(i=this.__advert)&&void 0!==i&&i.currentAdvert)null!==(r=this.__advert)&&void 0!==r&&r.isPlaying||this.__advert.resume();else if(!this.__playback.isPlaying){const e=()=>{var e,t;return Boolean((null===(e=this.__playback)||void 0===e?void 0:e.duration)&&!isNaN(null===(t=this.__playback)||void 0===t?void 0:t.duration))};e()?this.__playback.playWithHandlePermissions():(this.__isWaitingPlaybackPlugin=(0,A.z7)(e),this.__isWaitingPlaybackPlugin.then((()=>{this.__playback.playWithHandlePermissions()})).catch(console.warn))}}))}initPlugin(){const e=(0,A.mJ)((()=>this.__config.get("videoId")),(e=>{this._videoId=e})),t=this._events.subscribe("refetchPlayOptions",(e=>{let{videoId:t}=e;var n;t&&t!==this._videoId||(null===(n=this.__playOptions)||void 0===n||n.fetchPlayOptions(!1))})),n=this._events.subscribe("iframeLoaded",(e=>{let{videoId:t}=e;t&&t!==this._videoId||this.__stubPlugin.stub&&"iframe"===this.__stubPlugin.stub.type&&this.__stubPlugin.setStub("iframe",(0,l.A)((0,l.A)({},this.__stubPlugin.stub.params),{},{isIframeLoaded:!0}))})),i=this._events.subscribe("setSkinColor",(e=>{let{color:t,videoId:n}=e;n&&n!==this._videoId||(this.__appearance.skinColor=t)})),r=this._events.subscribe("enterNakedMode",(()=>{this.__controls.isNakedMode=!0})),a=this._events.subscribe("exitNakedMode",(()=>{this.__controls.isNakedMode=!1})),s=this._events.subscribe("showControls",(()=>{this.__controls.isAllowControls=!0})),o=this._events.subscribe("hideControls",(()=>{this.__controls.isAllowControls=!1})),u=this._events.subscribe("suspend",(()=>{var e;null!==(e=this.__provider.provider)&&void 0!==e&&e.instance&&"stopLoad"in this.__provider.provider.instance&&(this.__playback.pause(),this.__provider.provider.instance.stopLoad())})),c=this._events.subscribe("wakeUp",(()=>{var e;null!==(e=this.__provider.provider)&&void 0!==e&&e.instance&&"startLoad"in this.__provider.provider.instance&&(this.__provider.provider.instance.startLoad(),this.__playback.play())})),d=this._events.subscribe("changeQuality",(e=>{let{quality:t}=e;const n=this.__provider.qualities.find((e=>t===Oi&&e.value===t||e.value===t+"p"));n&&n.index&&this.__provider.changeQuality(n.index,n.level)})),h=this._events.subscribe("changeVideo",(e=>{let{id:t,params:n}=e;const{hash:i,p:r,quality:a}=n||{},s=t||i,o=()=>{if(r&&void 0!==this.__sharePlugin&&(this.__sharePlugin.pepper=r),a){const e=this.__provider.qualities.find((e=>a===Oi&&e.value===a||e.value===a+"p"));e&&e.index&&this.__provider.changeQuality(e.index,e.level)}};if(s&&s!==this._videoId){const e=(0,A.mJ)((()=>({videoId:this.__config.get("videoId"),isProviderInit:this.__provider.isProviderInit,isPlayerReady:this.__playback.isPlayerReady})),(t=>{let{isProviderInit:n,isPlayerReady:i}=t;n&&i&&(o(),e())}))}else o()})),p=this._events.subscribe("platformSubscriptionStart",(()=>{var e;null===(e=this.__advert)||void 0===e||e.disableAdvertPlaying()})),v=this._events.subscribe("platformSubscriptionCancel",(()=>{var e;null===(e=this.__advert)||void 0===e||e.enableAdvertPlaying()})),m=this._events.subscribe("enterToPiP",(e=>{let{videoId:t}=e;var n;t&&t!==this._videoId||(null===(n=this.__pip)||void 0===n||n.enterToPiP())})),_=this._events.subscribe("exitFromPiP",(e=>{let{videoId:t}=e;var n;t&&t!==this._videoId||(null===(n=this.__pip)||void 0===n||n.exitFromPiP())})),f=this._events.subscribe("enterFullscreen",(()=>{this._fullscreen&&this._fullscreen.enterFullscreen()})),g=this._events.subscribe("exitFullscreen",(()=>{this._fullscreen&&this._fullscreen.exitFullscreen()})),y=this._events.subscribe("skipAd",(()=>{var e,t;null===(e=this.__advert)||void 0===e||null===(t=e.skipAd)||void 0===t||t.call(e)}));return()=>{[y,e,t,n,i,s,o,u,c,d,h,p,v,m,_,f,g,r,a].forEach((e=>e())),this.__isWaitingPlaybackPlugin&&(this.__isWaitingPlaybackPlugin.cancel(),this.__isWaitingPlaybackPlugin=void 0)}}initCurrentTimeHandler(){return this._events.subscribe("setCurrentTime",(e=>{let{videoId:t,time:n,source:i}=e;if((!t||t===this._videoId)&&(this.__playback.seek(n,i),this.__controls.activeChapter)){var r;const{start:e,name:t}=this.__controls.activeChapter,n=`${(0,Jd.a3)({value:e})} â€” ${t}`;var a;if(null===(r=this.__infoLayer)||void 0===r||r.setActiveInfo({label:n}),i&&["chapters","description"].includes(i))null===(a=this.__counterHelper)||void 0===a||a.get("chapters"===i?"mainChaptersMenuClick":"mainChaptersDescriptionClick")()}}))}},({e:[Gg],c:[Kg,qg]}=(0,S.A)($g,[(0,k.k_)({implement:"IExternalEventsPlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},"IAppearancePlugin","IStubPlugin","IPlayback","IProviderPlugin","IControlsPlugin","IPlayerConfigPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"ISharePlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0},"ExternalEventsNamespace",{implement:"IStatisticState",optional:!0},{implement:"IInfoLayerPlugin",optional:!0},{implement:"EventBus",optional:!0},"IFullscreenPlugin"]})],[[(0,k.o7)(),2,"initPlugin"]],0,void 0,Wg)),qg();const Qg=[{names:["{{authorid}}"],selector:e=>{var t;return String((null===(t=Yg(e))||void 0===t||null===(t=t.author)||void 0===t?void 0:t.id)||"")}},{names:["{{trackid}}"],selector:e=>String(Yg(e).id||"")},{names:["{{dl}}"],selector:e=>{var t;return String((null===(t=Yg(e))||void 0===t?void 0:t.referer)||"")}},{names:["{{video_id}}"],selector:e=>{var t;return String((null===(t=Yg(e))||void 0===t?void 0:t.video_id)||"")}},{names:["{{live}}"],selector:()=>"0"},{names:["{{viewer_id}}","{{viewer}}"],selector:e=>{var t;return String((null===(t=Yg(e))||void 0===t?void 0:t.viewer)||"")}},{names:["{{full_referer}}"],selector:e=>{var t;return(null===(t=Yg(e))||void 0===t?void 0:t.referer)||""}}],Xg=e=>e("IStatisticAggregatorPlugin"),Zg=e=>e("IPlayback"),Jg=[{names:["{{fts}}"],selector:e=>String(Math.floor(Zg(e).currentTime||0))},{names:["{{contentCurrentPosition}}","{{playback.position}}"],selector:e=>{const t=Zg(e);return String(Math.floor(t.fragmentTime?t.fragmentTime/1e3:t.currentTime||0))}},{names:["{{final}}"],selector:e=>Xg(e).final?"1":"0"},{names:["{{audio_vol}}"],cyclic:{selector:e=>Xg(e).volumeChanges},selector:e=>{const t=Zg(e),n=t.muted?0:t.volume;return n>=0?String(Math.round(100*n)):""}},{names:["{{play_speed}}"],cyclic:{selector:e=>Xg(e).playbackRate},selector:e=>Zg(e).playbackRate.toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:0})||"1"},{names:["{{player_width}}"],selector:e=>{const t=Zg(e).player.offsetWidth||0;return String(t)}},{names:["{{player_height}}"],selector:e=>{const t=Zg(e).player.offsetHeight||0;return String(t)}}],ey=[{cyclic:{selector:e=>Xg(e).eventActionsRange},selector:e=>Xg(e).lastEventAction,names:["{{event_action}}"]},{names:["{{range_start}}"],cyclic:{selector:e=>Xg(e).startRanges},selector:e=>Xg(e).lastStartRange},{names:["{{range_end}}"],cyclic:{selector:e=>Xg(e).endRanges},selector:e=>Xg(e).lastEndRange},{names:["{{watchtime}}"],selector:e=>Xg(e).watchTime},{names:["{{wt}}"],selector:e=>Xg(e).watchTimePerGo}];class ty{constructor(){this.__puidSegments="",this._inited=!1}init(){if(this._inited)throw new Error("[PuidSegments] has already been initialized.");return this.setPuidSegments()}async setPuidSegments(){try{const e=_p.A.get("puid_segments");if(e)this.__puidSegments=e;else{const e=await(async()=>{try{const e=await fetch("https://pretarg.adhigh.net/v1/segs",{credentials:"include"});return(await e.json()).segs}catch(e){return console.warn("fetchSegments",e),[]}})().catch(console.warn);if(!e)return;this.__puidSegments=e.join(":"),_p.A.set("puid_segments",this.__puidSegments,{expires:1})}this._inited=!0}catch(e){console.warn("PUID segments fetch error",e)}}get puidSegments(){return this.__puidSegments}}const ny=new ye("Player Metrics");var iy,ry;let ay,sy,oy,ly;new(ry=class extends k.j8{constructor(e){super(),this._resolve=void ay(this),this._stat=A.sH.box([]),this._statApi=A.sH.box([]),this._statAdditional=A.sH.box([]),this._followedLink=A.sH.box(""),this._rlineId=A.sH.box(""),this._viewId=A.sH.box(),this._gaCid=void 0,this._puidSegments=void 0,this._resolve=e.value,(0,A.h5)((()=>this._viewId.set(Math.trunc(Math.random()*Math.pow(10,10))+""+Math.trunc(Date.now()/1e3)))),this._puidSegments=new ty,(0,A.Gn)(this,{stat:A.EW,statApi:A.EW,statistics:A.EW,intervalEvents:A.EW,followedLink:A.EW,rlineId:A.EW,hbIntervalEvents:A.EW,statAdditional:A.EW})}init(){this._puidSegments.init().catch(console.warn),this.setGaCid()}setGaCid(){try{const e=(_p.A.get("_ga")||"").match(/(\d+\.\d+)$/);this._gaCid=e?e[1]:""}catch(e){console.warn("_ga cookie error",e)}}get stat(){return this._stat.get()}set stat(e){this._stat.set(e)}get statApi(){return this._statApi.get()}set statApi(e){this._statApi.set(e)}get statAdditional(){return this._statAdditional.get()}set statAdditional(e){this._statAdditional.set(e)}get rawStatistic(){return[...this.stat,...this.statApi,...this.statAdditional]}get statistics(){return this.rawStatistic.reduce(((e,t)=>(e[t.name]=e[t.name]||[],e[t.name].push(t),e)),{})}get statEvents(){return this.statistics.statevent?this.statistics.statevent:[]}get loadEvents(){return this.statistics.statload?this.statistics.statload:[]}get intervalEvents(){let e=[];return this.statistics.heartbeat&&(e=[...this.statistics.heartbeat]),this.statistics.watchtime&&(e=[...e,...this.statistics.watchtime]),this.statistics.video_heartbeat&&(e=[...this.statistics.video_heartbeat]),e}get hbIntervalEvents(){return this.statistics.hb_intervals_stat}get followedLink(){return this._followedLink.get()}set followedLink(e){this._followedLink.set(e)}get rlineId(){return this._rlineId.get()}set rlineId(e){this._rlineId.set(e)}get viewId(){return this._viewId.get()}get gaCid(){return this._gaCid}get puidSegments(){return this._puidSegments.puidSegments}getSessionId(){return(0,e.u0)((0,e.fL)(),(e=>ny.log(`New session_id generated. sessionId: '${e}'`)))}getCid(){return(0,e.fL)()}},({e:[ay],c:[ly,sy]}=(0,S.A)(ry,[(0,k.k_)({implement:"IStatisticStore",ctor_args:["Resolve"]})],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),oy=ry,(iy=class extends V{constructor(){super(ly),this.useStatisticStore=()=>(0,Dt.Ks)("IStatisticStore"),this.getStatisticStore=e=>e("IStatisticStore"),sy()}})[oy]=void 0,iy);const uy=[{names:["{{cid}}"],selector:e=>ar.getStatisticStore(e).uuid},{names:["{{viewer_id}}","{{view_id_loc}}"],selector:e=>{var t;return(null===(t=ar.getStatisticStore(e).userId)||void 0===t?void 0:t.toString())||"na"}},{names:["{{playlist_id}}"],selector:e=>{var t;return(null===(t=ar.getStatisticStore(e).playlistId)||void 0===t?void 0:t.toString())||""}},{names:["{{resource_id}}"],selector:e=>{var t;return String((null===(t=ar.getStatisticStore(e))||void 0===t?void 0:t.followedResourceId)||"")}},{names:["{{pid}}"],selector:e=>{var t;return String((null===(t=ar.getStatisticStore(e))||void 0===t?void 0:t.guid)||"")}},{names:["{{is_backgr_player}}"],selector:e=>{var t;return String(null!==(t=ar.getStatisticStore(e))&&void 0!==t&&t.isBackground?1:0)}}],cy=e=>e("IStatisticStore");const dy=[{getter:e.kJ,names:["{{fingerprint_id}}"]},{names:["{{url_location}}","{{full_url}}","{{referer_loc}}"],getter:()=>window.location.href},{names:["{{ru_session_id}}","{{session_id}}"],selector:e=>cy(e).getSessionId()},{names:["{{ru_cid}}","{{user_agent_id}}"],selector:e=>cy(e).getCid()},{names:["{{user_agent_cl}}"],getter:()=>{var e;return null!==(e=window.navigator.userAgent)&&void 0!==e?e:"na"}},{names:["{{VTSmmm}}"],getter:()=>(new Date).getTime().toString()},{names:["{{time_zone}}"],getter:gp},{names:["{{event_source}}"],getter:()=>"rutube"},{names:["{{device_orientation}}"],getter:()=>{try{return window.matchMedia("(orientation: landscape)").matches?"H":window.matchMedia("(orientation: portrait)").matches?"V":"N"}catch(e){return"N"}}},{names:["{{random_int}}"],getter:()=>String(js())},{names:["{{random}}"],getter:()=>String(Math.random())},{names:["{{vts}}","{{vision_time_stamp}}"],getter:()=>String(Math.floor(Date.now()/1e3))},{names:["{{toggle}}"],selector:()=>parseInt(Fi("raichu-autoplay-next")||"",10)?"on":"off"},{names:["{{position}}"],getter:()=>""},{names:["{{ab_tag}}"],getter:()=>(e=>{const t=_p.A.get(e),n=[];if(t)try{const e=JSON.parse(t);for(const t in e){var i;n.push({id:t,group:null===(i=e[t])||void 0===i?void 0:i.active})}}catch(e){console.warn("statistics",e)}return JSON.stringify(n)})("canary1")},{names:["{{player_name}}"],getter:()=>"raichu"},{names:["{{screen_name}}"],getter:()=>window.location.pathname},{names:["{{aOris}}"],getter:function(){const e=(0,R.jh)();return e.length?e.map((e=>encodeURIComponent((null==e?void 0:e.toString())||""))).join(","):""}},{names:["{{cvid}}"],selector:e=>{const t=cy(e).getCid(),{loadedTimeStamp:n,viewCount:i}=(e=>{const t=e("IStatisticState");return t instanceof pt?t:null})(e)||{};return`${t}_${String(n)}_${String(i)}`}},{names:["{{doc_ref}}"],getter:()=>document.referrer||""},{names:["{{ver}}"],selector:()=>"2.85.0"},{names:["{{pl_w}}"],selector:e=>{var t;const n=l_(e);return null!==(t=n.size)&&void 0!==t&&t.width?n.size.width.toString():""}},{names:["{{pl_h}}"],selector:e=>{var t;const n=l_(e);return null!==(t=n.size)&&void 0!==t&&t.height?n.size.height.toString():""}}],hy=["names","cyclic"];var py;let vy,my;class _y extends k.j8{constructor(e,t){super(),this.__resolve=void 0,this._playerVersion=t,this.__resolve=e.value,this.resolveCommonPlaceholders=this.resolveCommonPlaceholders.bind(this)}getPlaceholders(){return dy.concat((e=>{let{versionName:t}=e;return[{names:["{{ga_cid}}"],selector:e=>{var t;return String((null===(t=ly.getStatisticStore(e))||void 0===t?void 0:t.gaCid)||"")}},{names:["{{puid50}}"],selector:e=>ly.getStatisticStore(e).puidSegments},{names:["{{appv}}"],getter:()=>t}]})({versionName:this._playerVersion.value})).concat(uy).concat(Qg).concat(Jg).concat(ey)}makePlaceholderResolvers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getPlaceholders().map((t=>{let{names:n,cyclic:i}=t,r=(0,Cr.A)(t,hy);const{selector:a,getter:s}=e&&i?i:r;return{names:n,value:s?s():a?a(this.__resolve):""}}))}resolveCommonPlaceholders(e){const t=this.makePlaceholderResolvers();return $e(e,t,!0)}}py=_y,[my,vy]=(0,S.A)(py,[(0,k.k_)({implement:"IPlaceholdersState",ctor_args:["Resolve","PlayerVersion"]})],[],0,void 0,k.j8).c,vy();const fy=e=>{try{return e("IEndScreenPlugin")}catch(e){return null}},gy=[{names:["{{endscreen_videos}}"],selector:e=>{var t;return(null===(t=fy(e))||void 0===t||null===(t=t.nextVideo)||void 0===t?void 0:t.id)||""}},{names:["{{click_video}}"],selector:e=>{var t;return(null===(t=fy(e))||void 0===t||null===(t=t.nextVideo)||void 0===t?void 0:t.id)||""}},{names:["{{content_next_item_id}}"],selector:e=>{var t;return JSON.stringify((null===(t=fy(e))||void 0===t?void 0:t.recommendations.map((e=>e.video.id)))||[])}}];const yy=e=>e("IAdvertStatPlugin");s(9139);const by=[{criteria:{name:"blocking_rule_11520617"},data:{fatal:!1,type:"pending_stream",message:"Stream is going to be started in time"}},{criteria:{type:"source_deactivated"},data:{fatal:!0,type:"source_deactivated",message:"Video is not available anymore"}},{criteria:{type:"paid_access"},data:{fatal:!0,type:"payment_required",message:"This video is available for users with paid subscription only"}},{criteria:{name:"user_deleted_video"},data:{fatal:!0,type:"deleted_by_user",message:"This video was deleted by user"}},{criteria:{name:"moder_deleted_video"},data:{fatal:!0,type:"deleted_by_platform_support",message:"This video was deleted by platform support team"}},{criteria:{type:"blocking_rule"},data:{fatal:!0,type:"blocked_by_copyright",message:"This video was hidden because of copyright reasons (please check your VPN connection)."}},{criteria:{name:"delete_roskomnadzor"},data:{fatal:!0,type:"deleted_by_rkn",message:"This video was deleted automatically because of RKN rules"}},{criteria:{name:"stream_access_fail"},data:{fatal:!1,type:"stream_not_started",message:"Stream is not started yet, please wait a bit"}},{criteria:{name:"stream_yet_finished"},data:{fatal:!1,type:"stream_finished",message:"Stream has been finished just yet. You need to wait some time and refresh the page in order to get VOD"}}],Ey=["xmltimeout","adtimeout"];var wy;let Sy,Ay,ky;wy=class extends Sh{constructor(e,t){super(void 0),this.__movieIndex=(Sy(this),0),this.__hasLoadError=A.sH.box(!1),this.__loadError=A.sH.box(""),this.__isPlayOptionsLoaded=A.sH.box(!1),this.__autoplay=A.sH.box(!0),this.__playOptionsRequested=A.sH.box(!1),this.__needToRefetchPlayOptions=A.sH.box(!1),this.isEmbed=!1,this._config=e,this.isEmbed=t.value,(0,A.Gn)(this,{autoplay:A.EW,isPlayOptionsLoaded:A.EW,playOptionsRequested:A.EW,needToRefetchPlayOptions:A.EW,fetchPlayOptions:A.XI,isInteractiveVideo:A.EW})}init(){return(0,A.mJ)((()=>({videoId:this._config.get("videoId"),subscriptions:this._config.get("userPaidSubscription")})),(e=>{let{videoId:t}=e;t&&(this.data=null,(0,A.h5)(this.fetchPlayOptions.bind(this)))}),{fireImmediately:!0})}getErrorEventDetails(){var e,t;return((e,t)=>{const n=by.find((n=>{let{criteria:i}=n;return i.type&&i.type===t||i.name&&i.name===e}));return null==n?void 0:n.data})(null===(e=this.data)||void 0===e||null===(e=e.detail)||void 0===e?void 0:e.name,null===(t=this.data)||void 0===t||null===(t=t.detail)||void 0===t?void 0:t.type)}initErrorInfo(){return(0,A.mJ)((()=>({data:this.data})),(e=>{let{data:t}=e;if(!t)return;const n=this.getErrorEventDetails();n&&jr.Ug.emit(fi.L2.ERROR,n)}))}initRefetchPlayOptions(){return(0,A.mJ)((()=>this.needToRefetchPlayOptions),(e=>{e&&this.fetchPlayOptions()}))}setIsPlayOptionsLoaded(e){this.__isPlayOptionsLoaded.set(e)}setPlayOptionsRequested(e){this.__playOptionsRequested.set(e)}setAutoplay(e){this.__autoplay.set(e)}setHasLoadError(e){this.__hasLoadError.set(e)}setLoadError(e){this.__loadError.set(e)}async fetchPlayOptions(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=st();try{var n,i,r;this.setIsPlayOptionsLoaded(!1),this.setPlayOptionsRequested(!0),this.setAutoplay(!1),this.needToRefetchPlayOptions=!1;const a=await Sp(this._config.get("videoId"),t,void 0,this.safeModeConfig),s=a;s.color=a.appearance?`#${a.appearance.color}`:"",s.stat_api=nt(s.stat_api||[]),s.advert=null!==(n=null===(i=s.advert)||void 0===i?void 0:i.map((e=>{let{xmltimeout:t,adtimeout:n}=e,i=(0,Cr.A)(e,Ey);return(0,l.A)({xmltimeout:Math.max(3.2,t||0),adtimeout:Math.max(3.2,n||0)},i)})))&&void 0!==n?n:[],s.origin_type=a.origin_type,s.viewer=a.viewer,a.viewer&&!this._config.get("userId")&&this._config.set("userId",String(a.viewer)),s.meta=a.meta,this.handleAutoplay(Boolean(null==s||null===(r=s.appearance)||void 0===r?void 0:r.auto_start)),at(s.stat_api),this.setIsPlayOptionsLoaded(!0),this.setPlayOptionsRequested(!1),jr.Ug.emit(fi.L2.PLAYOPTIONS_LOADED,{videoId:this._config.get("videoId"),playOptions:a}),this.data=s,e&&(this.__movieIndex+=1)}catch(e){this.setHasLoadError(!0),(e instanceof Error||"string"==typeof e)&&this.setLoadError(e.toString()),console.warn("Player fail to fetch PlayOptions",e)}}get safeModeConfig(){return this._config.get("safeModeConfig")}get movieIndex(){return this.__movieIndex}get hasLoadError(){return this.__hasLoadError.get()}get loadError(){return this.__loadError.get()}get isPlayOptionsLoaded(){return this.__isPlayOptionsLoaded.get()}get autoplay(){return this.__autoplay.get()}get playOptionsRequested(){return this.__playOptionsRequested.get()}set playOptionsRequested(e){this.__playOptionsRequested.set(e)}get appearance(){var e;return(null===(e=this._data.get())||void 0===e?void 0:e.appearance)||null}get authorData(){if(this.author)return(0,l.A)((0,l.A)({},this.author),{},{authorUrl:this.author.url})}get needToRefetchPlayOptions(){return this.__needToRefetchPlayOptions.get()}set needToRefetchPlayOptions(e){this.__needToRefetchPlayOptions.set(e)}handleAutoplay(e){const t=this._config.get("autoplay");this.isEmbed&&void 0!==t?this.setAutoplay(t):this.setAutoplay(e)}get isInteractiveVideo(){return Boolean(this._config.get("interactiveFragments"))}},({e:[Sy],c:[ky,Ay]}=(0,S.A)(wy,[(0,k.k_)({implement:"IDataPlugin",ctor_args:["IPlayerConfigPlugin","IsEmbed"]})],[[(0,k.o7)(),2,"init"],[(0,k.o7)(),2,"initErrorInfo"],[(0,k.o7)(),2,"initRefetchPlayOptions"],[A.XI,2,"setIsPlayOptionsLoaded"],[A.XI,2,"setPlayOptionsRequested"],[A.XI,2,"setAutoplay"],[A.XI,2,"setHasLoadError"],[A.XI,2,"setLoadError"],[k.zm,2,"fetchPlayOptions"]],0,void 0,Sh)),Ay();const Cy=e=>{const t=e("IDataPlugin");return t instanceof ky?t:null},Py=[{names:["{{hdom}}"],getter:()=>(()=>{const e=(0,R.jh)().findLast((e=>!e.includes("localhost")));return e||"https://rutube.ru"})()},{names:["{{ad_safe_mode}}"],selector:e=>{var t;return String(null!==(t=ga(e))&&void 0!==t&&t.isSafeMode?1:0)}},{names:["{{ads_rule_lim}}"],selector:e=>{var t;return String((null===(t=Cy(e))||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.advert_limit_rule_id)||"")}},{names:["{{ads_request_id}}"],selector:e=>{var t;return(null===(t=yy(e))||void 0===t?void 0:t.advertUid)||""}},{names:["{{ads_opt}}"],selector:e=>{var t,n;const i=ga(e),r=Cy(e);return JSON.stringify({advert:null==r||null===(t=r.data)||void 0===t?void 0:t.advert,limits:null==i?void 0:i.limits,meta:null==r||null===(n=r.data)||void 0===n?void 0:n.meta})}},{names:["{{ads_framework}}"],selector:e=>{var t;return(null===(t=yy(e).provider)||void 0===t||null===(t=t.info)||void 0===t?void 0:t.framework)||""}},{names:["{{ad_wt}}"],selector:e=>{var t,n;return String(Math.round((null!==(t=null===(n=yy(e))||void 0===n?void 0:n.watchTime)&&void 0!==t?t:0)/1e3))}},{names:["{{delay}}"],selector:e=>{const t=ga(e);return t.currentAdvert?t.currentAdvert.name.startsWith("postroll")?"-2":t.currentAdvert.start.toString():""}},{names:["{{seq}}"],selector:e=>{const t=ga(e),{blockState:n}=t;return n?(n.viewed+1).toString():"1"}},{names:["{{ads_viewid}}"],selector:e=>{var t;const n=ga(e);return`${String(null==n||null===(t=n.currentProvider)||void 0===t||null===(t=t.info)||void 0===t?void 0:t.advertId)}_${String(null==n?void 0:n.advertRequestTimestamp)}_${Math.random()}`}}],Ty=[{names:["{{subs_lang}}"],cyclic:{selector:e=>{var t;return(null===(t=A_(e))||void 0===t?void 0:t.captionLanguages)||""}},selector:e=>{var t;const n=e("ICaptionsPlugin");return n.isShowCaptions&&(null===(t=n.activeCaption)||void 0===t?void 0:t.langTitle)||"0"}}];function Iy(){return(0,Dt.Ks)("IPlatformSubscriptionPlugin")}const Ry=e=>e("IPlatformSubscriptionPlugin"),Ly="remove-ads-module__button___vFtJh",xy="remove-ads-module__small___w5csJ",Oy=(0,_t.PA)((()=>{const{requestSubscription:e,registerSubscriptionCTAShow:n,buttonProps:{isSmall:i,position:r},canDisableAds:a}=Iy(),{getDataAttribute:s}=(0,Yn.f)();(0,t.useEffect)((()=>{a&&n()}),[n,a]);return a?t.createElement("button",(0,On.A)({style:{bottom:r},className:gt()(Ly,{[xy]:i}),onClick:t=>{t.preventDefault(),e(fi.JZ.RUTUBE)}},s(Qn.R.DISABLE_ADS_BUTTON)),"ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐºÐ»Ð°Ð¼Ñƒ"):null})),Ny=[657766,23460655,23606264,26302101,23178409];var Dy,My,By;let Fy,Hy,Vy,Uy;new(By=class extends(Dy=k.j8){constructor(e,t,n,i,r,a,s,o){super(),this._activeSubscriptions=void Fy(this),this._playOptions=void 0,this._isOnPlatform=void 0,this._counterHelper=void 0,this._advert=void 0,this._advertStat=void 0,this._playerSize=void 0,this.fullscreen=n,this._playOptions=s,this._activeSubscriptions=(0,A.sH)(e.get("userPaidSubscription")||[]),this._isOnPlatform=!o,this._counterHelper=t&&t instanceof ps?t.counterHelper:void 0,this._advert=i,this._advertStat=r,this._playerSize=a,(0,A.Gn)(this,{buttonProps:A.EW,currentAdvertName:A.EW})}get isSubscriptionActive(){return!!this.activeSubscriptions.length}get videoUrl(){var e;return(null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.video_url)||""}get activeSubscriptions(){return this._activeSubscriptions.filter((e=>!0===e.is_active))}requestSubscription(e){var t,n,i,r;null!==(t=this._advertStat)&&void 0!==t&&t.advert&&(null===(r=this._counterHelper)||void 0===r||r.get("mainPlatformSubscriptionClickRemoveAdsButton")(this._advertStat.getCommonParams(this._advertStat.advert)));const a=null!==(n=null!=e?e:null===(i=this._playOptions)||void 0===i||null===(i=i.data)||void 0===i||null===(i=i.detail)||void 0===i||null===(i=i.product_codes)||void 0===i?void 0:i[0])&&void 0!==n?n:null;var s;a&&(this._isOnPlatform?(this.fullscreen.isFullscreen&&this.fullscreen.handleFullscreen(),jr.Ug.emit(fi.L2.SUBSCRIPTION_REQUEST,{productCode:a,place:"removeAds"}),null===(s=this._advert)||void 0===s||s.disableAdvertPlaying()):this.redirectWithPremiumPurchasePopup(e))}handleStubSubscriptionRequest(e){var t;let{productCode:n,type:i}=e;const r={productCode:n,place:"stub",name:(null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.detail)||void 0===t?void 0:t.name)||""};if("show"===i)jr.Ug.emit(fi.L2.SUBSCRIPTION_BUTTON_SHOW,r);else this._isOnPlatform?jr.Ug.emit(fi.L2.SUBSCRIPTION_REQUEST,r):this.redirectWithPremiumPurchasePopup(n)}get hasVisibleAdvert(){var e;return Boolean((null===(e=this._advert)||void 0===e?void 0:e.currentAdvert)&&"show"===this._advert.currentState&&this._advert.isLoaded)}get canDisableAds(){var e;const t=(null===(e=this._playOptions)||void 0===e||null===(e=e.author)||void 0===e?void 0:e.id)||null,n=t&&!Ny.includes(t);return!this.isSubscriptionActive&&!!n&&this.hasVisibleAdvert}get disableAdsButtonTitle(){return"ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐºÐ»Ð°Ð¼Ñƒ"}get buttonProps(){return Uy.calculateButtonProps(this._playerSize.size)}get currentAdvertName(){var e;return null===(e=this._advert)||void 0===e||null===(e=e.currentAdvert)||void 0===e?void 0:e.name}registerSubscriptionCTAShow(){var e;if(!this.hasVisibleAdvert)return;const t=()=>{var e;if(null!==(e=this._advert)&&void 0!==e&&e.currentAdvert){var t,n;const e=null===(t=this._advertStat)||void 0===t?void 0:t.getCommonParams(null===(n=this._advert)||void 0===n?void 0:n.currentAdvert);var i;if(e)null===(i=this._counterHelper)||void 0===i||i.get("mainPlatformSubscriptionShowRemoveAdsButton")(e)}};var n;null!==(e=this._advert)&&void 0!==e&&e.isLoaded?t():null===(n=this._advert)||void 0===n||n.once(ra.load,t)}static calculateButtonProps(e){return{position:(()=>{if(null==e||!e.height)return 140;const t=.1*e.height;return e.height>252?t+70:70})(),isSmall:!(null==e||!e.height)&&(null==e?void 0:e.height)<350}}redirectWithPremiumPurchasePopup(e){var t,n,i,r,a,s;const o=null!==(t=null!=e?e:null===(n=this._playOptions)||void 0===n||null===(n=n.data)||void 0===n||null===(n=n.detail)||void 0===n||null===(n=n.product_codes)||void 0===n?void 0:n[0])&&void 0!==t?t:null,l=null===(i=this._playOptions)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.video_url,u=null!==(r=null===(a=this._playOptions)||void 0===a?void 0:a.video_id)&&void 0!==r?r:null===(s=window.location.href)||void 0===s||null===(s=s.match(/\/play\/embed\/([^/]+)\//))||void 0===s?void 0:s[1],c=(0,R.Qv)((null!=l?l:u)?`${fi.V2}/video/${u}`:fi.V2);null==c||c.searchParams.append("popup","premium_purchase"),null==c||c.searchParams.append("productCode",null!=o?o:fi.JZ.RUTUBE),window.open(null!=c?c:void 0,"_blank")}},({e:[Fy],c:[Uy,Hy]}=(0,S.A)(By,[(0,k.k_)({implement:"IPlatformSubscriptionPlugin",ctor_args:["IPlayerConfigPlugin","IStatisticState","IFullscreenPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IAdvertStatPlugin",optional:!0},"IPlayerSizePlugin",{implement:"IDataPlugin",optional:!0},{implement:"IEmbedPlugin",optional:!0}]})],[[k.zm,2,"requestSubscription"],[k.zm,2,"handleStubSubscriptionRequest"],[k.zm,2,"registerSubscriptionCTAShow"]],0,void 0,Dy)),Vy=By,(My=class extends V{constructor(){super(Uy),this.RemoveAdsButton=Oy,Hy()}})[Vy]=void 0,My);const jy=e=>{let{subscription_id:t}=e;return t},Wy=[{names:["{{cs_id_list}}"],selector:e=>{var t;return null===(t=Ry(e))||void 0===t?void 0:t.activeSubscriptions.map(jy).join(",")}},{names:["{{cs_id_list_na}}"],selector:e=>{var t;return(null===(t=Ry(e))||void 0===t?void 0:t.activeSubscriptions.map(jy).join(","))||"na"}}],zy=[{names:["{{mid}}"],selector:e=>{var t;return String((null===(t=Cy(e))||void 0===t?void 0:t.movieIndex)||0)}},{names:["{{video_quality}}"],cyclic:{selector:e=>To(e).activeQualityValue},selector:e=>To(e).activeQualityValue},{names:["{{playback_qualiti}}"],selector:e=>To(e).activeQualityValue},{names:["{{live}}"],selector:e=>{var t;return null!==(t=Cy(e))&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&null!==(t=t.live_streams)&&void 0!==t&&t.hls?"1":"0"}},{names:["{{viewer_id_na}}"],selector:e=>{var t;return(null===(t=Cy(e))||void 0===t||null===(t=t.viewer)||void 0===t?void 0:t.toString())||"na"}},{names:["{{channel_id}}"],selector:e=>{var t;return(null===(t=Cy(e))||void 0===t||null===(t=t.authorData)||void 0===t?void 0:t.id.toString())||""}}],$y=[{names:["{{auto_play}}"],selector:e=>{var t;return null!==(t=xv(e))&&void 0!==t&&t.isAutoplayEnabled?"1":"0"}},{names:["{{toggle}}"],selector:e=>{var t;return null!==(t=xv(e))&&void 0!==t&&t.isAutoplayEnabled?"on":"off"}}],Gy=[{names:["{{touch_point}}"],selector:()=>(0,R.yA)()?"embed":"web"}];class qy extends my{getPlaceholders(){return super.getPlaceholders().concat([{names:["{{referral_rutube}}"],selector:e=>{var t;return(null===(t=ar.getStatisticStore(e))||void 0===t?void 0:t.followedLink)||""}},{names:["{{yclid}}"],getter:st},{names:["{{id_distribution}}"],selector:()=>""},{names:["{{id_website}}"],selector:()=>""},{names:["{{yclid_p}}"],selector:()=>""}]).concat(zy).concat($y).concat(gy).concat(Gy).concat(k_).concat(Ty).concat(Py).concat(Wy)}}var Ky;let Yy,Qy;class Xy extends k.j8{constructor(e,t){super(),this._counterHelper=void 0,this._config=e,this._counterHelper=t&&t instanceof pt?t.counterHelper:void 0,(0,A.Gn)(this,{onClickNext:A.XI,videos:A.EW})}onClickNext(){var e;this.nextVideo&&(null===(e=this._counterHelper)||void 0===e||e.get("mainPlaylistNext")(this.nextVideo.id),jr.Ug.emit(fi.L2.NEXT_VIDEO,{video:this.nextVideo,playlistId:this.playlistId}))}onClickPrev(){var e;this.prevVideo&&(null===(e=this._counterHelper)||void 0===e||e.get("mainPlaylistPrev")(this.prevVideo.id),jr.Ug.emit(fi.L2.PREV_VIDEO,{video:this.prevVideo,playlistId:this.playlistId}))}get nextVideo(){return this._config.get("nextVideo")||null}get prevVideo(){return this._config.get("prevVideo")||null}get videos(){return{prevVideo:this.prevVideo,nextVideo:this.nextVideo}}get playlistId(){return this._config.get("playlistId")}get isShowPlaylistButtons(){return this._config.get("isShowPlaylistButtons")}}var Zy;let Jy,eb;Ky=Xy,[Qy,Yy]=(0,S.A)(Ky,[(0,k.k_)({implement:"IPlaylistPlugin",ctor_args:["IPlayerConfigPlugin",{implement:"IStatisticState",optional:!0}]})],[],0,void 0,k.j8).c,Yy();function tb(){return(0,Dt.p5)().resolve("IVideoSettingsPlugin")}Zy=class extends Qy{constructor(e,t,n){super(e,n),this._advert=t}onClickNext(){var e;this.nextVideo&&!this._advert.isPlaying&&(super.onClickNext(),null===(e=this._counterHelper)||void 0===e||e.get("mainPlaylistNext")(this.nextVideo.id))}onClickPrev(){var e;this.prevVideo&&!this._advert.isPlaying&&(super.onClickPrev(),null===(e=this._counterHelper)||void 0===e||e.get("mainPlaylistPrev")(this.prevVideo.id))}},[eb,Jy]=(0,S.A)(Zy,[(0,k.k_)({implement:"IPlaylistPlugin",ctor_args:["IPlayerConfigPlugin","IAdvertPlugin",{implement:"IStatisticState",optional:!0}]})],[],0,void 0,Qy).c,Jy();const nb=()=>(0,Dt.Ks)("IQualitiesPlugin"),ib=()=>(0,Dt.Ks)("IAppearancePlugin"),rb=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M6.4 6.4V9.6L4 12L6.4 14.4V17.6H9.6L12 20L14.4 17.6H17.6V14.4L20 12L17.6 9.6V6.4H14.4L12 4L9.6 6.4H6.4Z",stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("circle",{cx:"12.0001",cy:"11.9996",r:"2.4",stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},ab={"720p":e=>{let{color:n="#00A1E7"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"9",fill:"none",viewBox:"0 0 13 9"},t.createElement("path",{fill:n,d:"M0 1a1 1 0 0 1 1-1h11a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1z"}),t.createElement("g",{filter:"url(#a)"},t.createElement("path",{fill:"#fff",d:"M2.227 7V4.41h2.29V7h1.221V1H4.516v2.352h-2.29V1H1v6zM8.84 7q.996 0 1.704-.341.708-.344 1.08-1.022Q12 4.956 12 3.943q0-.965-.368-1.618a2.38 2.38 0 0 0-1.036-.989Q9.927 1 9.017 1H7.202v6zm-.411-1.051V2.043h.651q.539 0 .903.205.368.205.553.635.19.428.19 1.092 0 .981-.438 1.478-.436.496-1.334.496z"})),t.createElement("defs",null,t.createElement("filter",{id:"a",width:"11",height:"6.8",x:"1",y:"1",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},t.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),t.createElement("feOffset",{dy:".8"}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.59 0"}),t.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_0_1"}),t.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_0_1",result:"shape"}))))},"1080p":e=>{let{color:n="#00A1E7"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"9",viewBox:"0 0 14 9",fill:"none"},t.createElement("path",{fill:n,d:"M0 1c0-.552.482-1 1.077-1h11.846C13.518 0 14 .448 14 1v7c0 .552-.482 1-1.077 1H1.077C.482 9 0 8.552 0 8z"}),t.createElement("g",{filter:"url(#a)"},t.createElement("path",{fill:"#fff",d:"M2.66 6.56V4.799h1.51v-.97H2.66v-.951h1.624v-.974H1.53v4.658zm3.173-1.923h1.565V6.56h1.143V1.903H7.398V3.65H5.833V1.903H4.688v4.658h1.145zm4.732 1.924q.784 0 1.355-.263.573-.27.877-.8.305-.535.303-1.309c0-.49-.097-.91-.297-1.251a1.9 1.9 0 0 0-.71-.707l-.132-.068q-.54-.26-1.26-.26H9.202v4.658zm.79-4.496a3 3 0 0 0-.154-.027l.155.027q.075.016.149.036zm.828.344.077.055q-.037-.029-.076-.055m.459.46a2 2 0 0 0 .075.118zm-2.295.008h.403q.396.002.648.14l.119.078q.165.129.263.348l.001.001q.136.29.137.77c0 .471-.11.809-.312 1.03-.198.217-.51.336-.954.336h-.305zm2.527.462.007.02zm.028.094.022.084zm.082.438.002.032q0-.015-.002-.032m-.986.672q-.006.048-.016.094.01-.045.016-.094m.919.376-.021.08zm-.04.144-.03.086zm-.046.13q-.016.042-.035.082zm-.334.554-.022.025zm-1.123.629-.031.007z"})),t.createElement("defs",null,t.createElement("filter",{id:"a",width:"11.57",height:"5.457",x:"1.529",y:"1.903",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},t.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),t.createElement("feOffset",{dy:".8"}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.59 0"}),t.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_0_1"}),t.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_0_1",result:"shape"}))))},"1440p":e=>{let{color:n="#00A1E7"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"9",viewBox:"0 0 13 9",fill:"none"},t.createElement("path",{fill:n,d:"M0 1a1 1 0 0 1 1-1h11a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1z"}),t.createElement("g",{fill:"#fff",filter:"url(#a)"},t.createElement("path",{d:"M1.775 7v-.887l2.07-1.917a8 8 0 0 0 .444-.46q.182-.205.275-.401a1 1 0 0 0 .094-.429.8.8 0 0 0-.116-.44.77.77 0 0 0-.319-.287 1 1 0 0 0-.457-.103.96.96 0 0 0-.466.108.74.74 0 0 0-.307.31 1 1 0 0 0-.108.48H1.718q0-.57.258-.991.259-.42.725-.65t1.074-.23q.624-.001 1.088.22.465.22.724.609t.259.892q0 .33-.131.65-.128.321-.457.713-.33.39-.93.935l-.849.832v.04h2.443V7zM6.688 7V1.182h1.23v2.565h.077l2.093-2.565h1.475l-2.16 2.605L11.589 7h-1.471L8.523 4.608l-.605.738V7z"})),t.createElement("defs",null,t.createElement("filter",{id:"a",width:"9.87",height:"6.698",x:"1.718",y:"1.102",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},t.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),t.createElement("feOffset",{dy:".8"}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.59 0"}),t.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_0_1"}),t.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_0_1",result:"shape"}))))},"2160p":e=>{let{color:n="#00A1E7"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"9",fill:"none",viewBox:"0 0 13 9"},t.createElement("path",{fill:n,d:"M0 1a1 1 0 0 1 1-1h11a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1z"}),t.createElement("g",{fill:"#fff",filter:"url(#a)"},t.createElement("path",{d:"M1.495 5.977V5.01l2.43-3.827h.834v1.34h-.494L2.734 4.947v.046h3.451v.985zM4.288 7V5.682l.022-.43v-4.07h1.154V7zM6.88 7V1.182h1.23v2.565h.076l2.094-2.565h1.474L9.595 3.787 11.78 7h-1.472L8.714 4.608l-.605.739V7z"})),t.createElement("defs",null,t.createElement("filter",{id:"a",width:"10.284",height:"6.618",x:"1.495",y:"1.182",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},t.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),t.createElement("feOffset",{dy:".8"}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.59 0"}),t.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_0_1"}),t.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_0_1",result:"shape"}))))},"4320p":e=>{let{color:n="#00A1E7"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"9",fill:"none",viewBox:"0 0 13 9"},t.createElement("path",{fill:n,d:"M0 1a1 1 0 0 1 1-1h11a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1z"}),t.createElement("g",{filter:"url(#a)"},t.createElement("path",{fill:"#fff",d:"M3.622 7.083q.615 0 1.082-.198.466-.2.73-.56a1.43 1.43 0 0 0 .263-.86q0-.391-.182-.688a1.9 1.9 0 0 0-.462-.514 4 4 0 0 0-.6-.39q.305-.15.543-.349.24-.202.377-.47.142-.267.142-.623 0-.48-.26-.794a1.55 1.55 0 0 0-.692-.479A2.7 2.7 0 0 0 3.623 1q-.504 0-.937.162a1.63 1.63 0 0 0-.702.475q-.262.316-.262.786 0 .352.125.624.13.271.344.482.219.21.483.376a2.8 2.8 0 0 0-.571.373q-.259.215-.414.515-.15.3-.15.705 0 .495.243.852.243.352.71.543.465.19 1.13.19M8 7.002V4.886l.531-.381 1.553 2.497h1.426L9.426 3.698l2.067-2.622H10.1L8.494 3.091q-.126.174-.247.348-.122.175-.248.35V1.075H6.743v5.926zM3.622 3.351a3 3 0 0 1-.36-.211 1 1 0 0 1-.264-.264.65.65 0 0 1-.098-.356q0-.287.204-.446a.8.8 0 0 1 .51-.158q.312 0 .515.158a.53.53 0 0 1 .206.446.66.66 0 0 1-.1.369.9.9 0 0 1-.264.263 3 3 0 0 1-.349.199m-.017 2.812q-.45 0-.68-.207a.7.7 0 0 1-.227-.53.8.8 0 0 1 .11-.414q.11-.183.3-.328.194-.146.454-.263l.109.057q.203.117.401.254.2.134.328.304.135.17.134.398a.67.67 0 0 1-.231.53q-.231.2-.698.2"})),t.createElement("defs",null,t.createElement("filter",{id:"a",width:"9.97",height:"6.883",x:"1.539",y:"1",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},t.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),t.createElement("feOffset",{dy:".8"}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.59 0"}),t.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_0_1"}),t.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_0_1",result:"shape"}))))}},sb="raichu-settings-module__wrapper___GUwi3",ob="raichu-settings-module__isTouch___xZYeV",lb="raichu-settings-module__settings___oOxR2",ub="raichu-settings-module__panelWrapper___A79sI",cb="raichu-settings-module__settingsList___e8gND",db="raichu-settings-module__isEmbed___FDipZ",hb="raichu-settings-module__settingsItems___qJL30",pb="raichu-settings-module__settingsItemContainer___wnjyl",vb="raichu-settings-module__settingsItem___Tjywq",mb="raichu-settings-module__thumbSwitcher___MVqzh",_b="raichu-settings-module__settingsItemOption___LFyJV",fb="raichu-settings-module__settingsItemOptionActive___Gw8C0",gb="raichu-settings-module__settingsItemOptionTitle___yqJLa",yb="raichu-settings-module__settingsItemIcon___wxjpX",bb="raichu-settings-module__settingsNavigationIcon___wj9I8",Eb="raichu-settings-module__title___qWoeC",wb="raichu-settings-module__colorInfoIcon___QtlQ0",Sb="raichu-settings-module__settingsItemIconContainer___qTjVZ",Ab="raichu-settings-module__whiteItem___x03y0",kb="raichu-settings-module__settingsItemIconContainerPrev___uMh9t",Cb="raichu-settings-module__settingsItemIconClose___ufl3H",Pb="raichu-settings-module__settingsItemActive___N0moK",Tb="raichu-settings-module__settingsItemActiveExtra___xv9di",Ib="raichu-settings-module__settingBtn___Rv8Wp",Rb="raichu-settings-module__gear___WMgea",Lb="raichu-settings-module__qualityMark___zim3g",xb="raichu-settings-module__animationContainer___dql_U",Ob="raichu-settings-module__animationContainerMobile___OvL4s",Nb="raichu-settings-module__gearRotate___L76Li",Db="raichu-settings-module__settingsPaletteItem___mjhrT",Mb="raichu-settings-module__paletteItems___VWnf1",Bb="raichu-settings-module__paletteItemsActive___sJvdD",Fb="raichu-settings-module__settingsItemSubtitleBackground___OZQYV",Hb="raichu-settings-module__settingsSubtitleBackgroundOpacity___IA1v9",Vb="raichu-settings-module__settingsSubtitleBackgroundOpacityRow___bVSev",Ub="raichu-settings-module__settingsSubtitleBackgroundOpacityItem___wvuzR",jb="raichu-settings-module__settingsSubtitleBackgroundOpacityItemActive____4FAs",Wb="raichu-settings-module__settingsItemPrev___BBpCC",zb=()=>{const e=!!yg(),{activeQualityIndex:n,qualities:i}=nb(),r=i[null!=n?n:0],{color:a}=ib(),s=e&&a?a:"#00A1E7",o=(e=>{if(e)return ab[e.value]})(r);return o?t.createElement("div",{className:Lb},t.createElement(o,{color:s})):null},$b=(0,_t.PA)((e=>{let{color:n,isActive:i}=e;return t.createElement(t.Fragment,null,t.createElement("div",{"aria-hidden":"true",className:gt()(Rb,{[Nb]:i})},t.createElement(rb,{color:n})))})),Gb=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.99397 8.54952C6.75184 8.79165 6.35928 8.79165 6.11715 8.54952L4.5616 6.99397C4.49362 6.92599 4.44473 6.84615 4.41492 6.76112C4.39761 6.71186 4.38635 6.65976 4.38202 6.6057C4.3795 6.57438 4.37934 6.54291 4.38156 6.51157C4.3861 6.44669 4.40063 6.38456 4.42362 6.32671C4.45142 6.25658 4.49252 6.19051 4.54691 6.13235C4.55231 6.12656 4.55783 6.12088 4.56345 6.1153L6.11715 4.5616C6.35928 4.31947 6.75184 4.31947 6.99397 4.5616C7.23609 4.80372 7.23609 5.19629 6.99397 5.43841L6.49684 5.93553H19C19.3424 5.93553 19.62 6.21312 19.62 6.55553V11.2222C19.62 11.5646 19.3424 11.8422 19 11.8422C18.6576 11.8422 18.38 11.5646 18.38 11.2222V7.17553H6.49679L6.99397 7.67271C7.23609 7.91483 7.23609 8.3074 6.99397 8.54952ZM5.62002 12.7778C5.62002 12.4354 5.34243 12.1578 5.00002 12.1578C4.6576 12.1578 4.38002 12.4354 4.38002 12.7778V17.4445C4.38002 17.7869 4.6576 18.0645 5.00002 18.0645H17.5033L17.0061 18.5617C16.7639 18.8038 16.7639 19.1963 17.0061 19.4385C17.2482 19.6806 17.6408 19.6806 17.8829 19.4385L19.4384 17.8829C19.5074 17.814 19.5567 17.7328 19.5864 17.6465C19.6027 17.5989 19.6135 17.5488 19.6178 17.4968C19.6205 17.4655 19.6207 17.434 19.6186 17.4027C19.6096 17.2678 19.5566 17.1353 19.4597 17.0284C19.4519 17.0199 19.444 17.0115 19.4358 17.0034L17.8829 15.4505C17.6408 15.2084 17.2482 15.2084 17.0061 15.4505C16.7639 15.6927 16.7639 16.0852 17.0061 16.3274L17.5032 16.8245H5.62002V12.7778Z",fill:n}))},qb=e=>{const n=(0,Dt.ei)("IDataPlugin"),i=Lv(),r=(()=>{const e=(0,Dt.ei)("IStatisticState");return e instanceof ps?e:null})(),{isLive:a}=n||{},{isEmbed:s}=up();return(0,t.useMemo)((()=>s||a?null:{title:"ÐÐ²Ñ‚Ð¾Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ",type:"switcher",active:i.isAutoplayEnabled,navigationIcon:Gb,onClick:()=>{const t=!e;i.isAutoplayEnabled=t,null==r||r.counterHelper.get("mainSettingsAutoplay")({action:t?"on":"off"})}}),[s,a,i,e,null==r?void 0:r.counterHelper])},Kb=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},t.createElement("path",{fill:n,d:"M8.8 11c0 .4-.4.8-.8.8H5a.8.8 0 0 1 0-1.6h3c.4 0 .8.4.8.8Zm11 4c0 .4-.4.8-.8.8h-3a.8.8 0 0 1 0-1.6h3c.4 0 .8.4.8.8Zm0-4c0 .4-.4.8-.8.8h-7a.8.8 0 0 1 0-1.6h7c.4 0 .8.4.8.8Zm-7 4c0 .4-.4.8-.8.8H5a.8.8 0 0 1 0-1.6h7c.4 0 .8.4.8.8Z"}),t.createElement("path",{fill:n,d:"M1.3 8c0-2.6 2-4.8 4.7-4.8h12c2.6 0 4.8 2.2 4.8 4.8v8c0 2.6-2.2 4.8-4.8 4.8H6A4.7 4.7 0 0 1 1.2 16V8ZM6 4.7A3.2 3.2 0 0 0 2.7 8v8c0 1.8 1.5 3.3 3.3 3.3h12c1.8 0 3.3-1.5 3.3-3.3V8c0-1.8-1.5-3.3-3.3-3.3H6Z"}))},Yb=e=>{const{options:t,activeColor:n,setPanel:i,hidePanel:r,isTouchDevice:a,captionsStore:s,settingsStore:o}=e;return[{title:"Ð¦Ð²ÐµÑ‚ Ñ‚ÐµÐºÑÑ‚Ð°",type:"prev",onClick:()=>{i(t.current,"prev")}},{title:"",type:"palette",activeColor:n,onItemClick:e=>{s.captionsColor=e;const n=Yb({options:t,activeColor:e,setPanel:i,hidePanel:r,isTouchDevice:a,captionsStore:s,settingsStore:o});a||(o.activePanel=n),r()}}]},Qb=e=>{const{options:t,size:n,setPanel:i,hidePanel:r,isTouchDevice:a,settingsStore:s,captionsStore:o}=e,l=(e,t)=>{o.captionsTextSize=e,s.activePanel=t,r()};return[{title:"Ð Ð°Ð·Ð¼ÐµÑ€ Ñ‚ÐµÐºÑÑ‚Ð°",type:"prev",onClick:()=>{i(t.current,"prev")}},{title:"Ð£Ð¼ÐµÐ½ÑŒÑˆÐµÐ½Ð½Ñ‹Ð¹",type:"option",active:"small"===n,onClick:()=>{l("small",Qb({options:t,size:"small",setPanel:i,settingsStore:s,hidePanel:r,isTouchDevice:a,captionsStore:o}))}},{title:"Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹",type:"option",active:"medium"===n,onClick:()=>{l("medium",Qb({options:t,size:"medium",setPanel:i,hidePanel:r,settingsStore:s,isTouchDevice:a,captionsStore:o}))}},{title:"Ð£Ð²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ð½Ñ‹Ð¹",type:"option",active:"large"===n,onClick:()=>{l("large",Qb({options:t,size:"large",setPanel:i,hidePanel:r,isTouchDevice:a,settingsStore:s,captionsStore:o}))}}]},Xb=(e,n,i)=>{const r=(0,t.useRef)([]),a=Tc(),s=up(),{captions:o,captionsTextSize:l,captionsColor:u,captionsBackgroundColor:c,onCaptionsSettingsClick:d}=a,h=Jm().get("videoId");return(0,t.useMemo)((()=>{const t=o&&Object.keys(o).length;if(!t)return null;r.current=[];const p=Yb({options:r,activeColor:u,setPanel:e,hidePanel:n,isTouchDevice:i,settingsStore:s,captionsStore:a}),v=Qb({options:r,size:l,settingsStore:s,setPanel:e,hidePanel:n,isTouchDevice:i,captionsStore:a}),m=[{title:"Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°",type:"prev",onClick:()=>{e(r.current,"prev")}},{title:"",type:"subtitleBg",onPaletteItemClick:e=>{a.captionsBackgroundColor=e,n()},onBackgroundOpacityClick:e=>{a.captionsBackgroundOpacity=e,n()}}];if(r.current.push({title:"Ð¡ÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹",type:"prev",onClick:()=>{e("default","prev")}}),o&&t>1){const t=(e=>{const{hidePanel:t,setPanel:n,options:i,onCaptionsSettingsClick:r,captionsStore:a,videoId:s}=e,{captions:o,activeCaption:l}=a,u=[];return u.push({title:"Ð¯Ð·Ñ‹Ðº",type:"prev",onClick:()=>{n(i.current,"prev")}}),Object.keys(o).forEach((e=>{var n;const i=e;u.push({title:null===(n=o[i])||void 0===n?void 0:n.langTitle,type:"option",active:(null==l?void 0:l.langTitle)===i,onClick:()=>{var e;a.activeCaption=o[i],a.setSavedSubs(s,{sub_id:i,expire:Date.now()+6048e5}),r(null===(e=o[i])||void 0===e?void 0:e.langTitle),t()}})})),u})({settingsStore:s,captionsStore:a,hidePanel:n,videoId:h,setPanel:e,options:r,onCaptionsSettingsClick:d});r.current.push({title:"Ð¯Ð·Ñ‹Ðº",type:"next",options:t,innerOption:!0,onClick:()=>{e(t,"next")}})}return r.current.push({title:"Ð¦Ð²ÐµÑ‚ Ñ‚ÐµÐºÑÑ‚Ð°",type:"color",activeColor:u,innerOption:!0,options:p,onClick:()=>{e(p,"next",276)}}),r.current.push({title:"Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°",type:"color",activeColor:c,options:m,innerOption:!0,onClick:()=>{e(m,"next",294)}}),r.current.push({title:"Ð Ð°Ð·Ð¼ÐµÑ€ Ñ‚ÐµÐºÑÑ‚Ð°",type:"next",innerOption:!0,options:v,onClick:()=>{e(v,"next")}}),r.current.push({title:"Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",type:"option",active:!1,innerOption:!0,onClick:()=>{a.resetCaptionSettings(),n()}}),{title:"Ð¡ÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹",type:"next",options:r.current,navigationIcon:Kb,onClick:()=>{e(r.current,"next")}}}),[o,c,u,a,l,n,i,d,e,s,h])},Zb=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M12 2.5C11.3895 2.5 10.7854 2.56034 10.1954 2.6777C9.78916 2.75851 9.39431 2.49469 9.3135 2.08844C9.23268 1.68218 9.4965 1.28734 9.90276 1.20652C10.5885 1.07012 11.2906 1 12 1C13.4117 1 14.8096 1.27806 16.1139 1.8183C17.4181 2.35853 18.6032 3.15037 19.6014 4.1486C20.5996 5.14683 21.3915 6.3319 21.9317 7.63615C22.4719 8.9404 22.75 10.3383 22.75 11.75C22.75 13.1617 22.4719 14.5596 21.9317 15.8638C21.3915 17.1681 20.5996 18.3532 19.6014 19.3514C18.6032 20.3496 17.4181 21.1415 16.1138 21.6817C14.8096 22.2219 13.4117 22.5 12 22.5C11.2906 22.5 10.5885 22.4299 9.90276 22.2935C9.4965 22.2127 9.23268 21.8178 9.3135 21.4116C9.39431 21.0053 9.78916 20.7415 10.1954 20.8223C10.7854 20.9397 11.3895 21 12 21C13.2147 21 14.4176 20.7607 15.5398 20.2959C16.6621 19.831 17.6818 19.1497 18.5407 18.2907C19.3997 17.4318 20.081 16.4121 20.5459 15.2898C21.0107 14.1676 21.25 12.9647 21.25 11.75C21.25 10.5353 21.0107 9.33244 20.5459 8.21018C20.081 7.08792 19.3997 6.0682 18.5407 5.20926C17.6818 4.35032 16.6621 3.66897 15.5398 3.20411C14.4176 2.73926 13.2147 2.5 12 2.5Z",fill:n}),t.createElement("path",{d:"M7.06789 3.0186C7.29801 3.36301 7.20536 3.82876 6.86095 4.05888C6.3608 4.39306 5.89092 4.77761 5.45926 5.20926C5.02761 5.64092 4.64306 6.1108 4.30888 6.61095C4.07876 6.95536 3.61301 7.04801 3.2686 6.81789C2.92419 6.58777 2.83154 6.12202 3.06166 5.77761C3.45007 5.19629 3.89701 4.65019 4.3986 4.1486C4.90019 3.64701 5.44629 3.20007 6.02761 2.81166C6.37202 2.58154 6.83777 2.67419 7.06789 3.0186Z",fill:n}),t.createElement("path",{d:"M2.33844 9.0635C2.74469 9.14431 3.00851 9.53916 2.9277 9.94541C2.81034 10.5354 2.75 11.1395 2.75 11.75C2.75 12.3605 2.81034 12.9646 2.9277 13.5546C3.00851 13.9608 2.74469 14.3557 2.33844 14.4365C1.93218 14.5173 1.53734 14.2535 1.45652 13.8472C1.32012 13.1615 1.25 12.4594 1.25 11.75C1.25 11.0406 1.32012 10.3385 1.45652 9.65276C1.53734 9.2465 1.93218 8.98268 2.33844 9.0635Z",fill:n}),t.createElement("path",{d:"M3.2686 16.6821C3.61301 16.452 4.07876 16.5446 4.30888 16.8891C4.64306 17.3892 5.02761 17.8591 5.45926 18.2907C5.89092 18.7224 6.3608 19.1069 6.86095 19.4411C7.20536 19.6712 7.29801 20.137 7.06789 20.4814C6.83777 20.8258 6.37202 20.9185 6.02761 20.6883C5.44629 20.2999 4.90019 19.853 4.3986 19.3514C3.89701 18.8498 3.45007 18.3037 3.06166 17.7224C2.83154 17.378 2.92419 16.9122 3.2686 16.6821Z",fill:n}),t.createElement("path",{d:"M15.9142 11.75C15.9142 11.1591 15.5767 10.7405 15.2239 10.4291C14.8908 10.1351 14.4151 9.82616 13.8733 9.4743L13.4483 9.19825C12.8096 8.78339 12.2601 8.42643 11.8034 8.21745C11.3329 8.00219 10.7451 7.84196 10.1651 8.15687C9.58502 8.47178 9.39923 9.05201 9.32348 9.56381C9.24995 10.0607 9.24999 10.7159 9.25004 11.4774V12.0225C9.24999 12.784 9.24995 13.4393 9.32348 13.9362C9.39923 14.448 9.58502 15.0282 10.1651 15.3431C10.7451 15.658 11.3329 15.4978 11.8034 15.2826C12.2601 15.0736 12.8096 14.7166 13.4482 14.3018L13.8732 14.0257C14.4151 13.6739 14.8909 13.3649 15.2239 13.0709C15.5767 12.7595 15.9142 12.3409 15.9142 11.75ZM13.0092 10.7017C13.6122 11.0934 13.9917 11.3423 14.2313 11.5537C14.3445 11.6536 14.391 11.7156 14.4087 11.7457L14.4112 11.75L14.4087 11.7543C14.391 11.7844 14.3445 11.8464 14.2313 11.9463C13.9917 12.1578 13.6122 12.4066 13.0092 12.7983L12.6809 13.0115C11.9783 13.4678 11.5227 13.7614 11.1793 13.9185C11.0139 13.9942 10.9252 14.0143 10.8843 14.0183C10.8654 13.9818 10.834 13.8966 10.8073 13.7166C10.752 13.343 10.75 12.801 10.75 11.9632V11.5368C10.75 10.699 10.752 10.157 10.8073 9.78341C10.834 9.60344 10.8654 9.51821 10.8843 9.48168C10.9252 9.48574 11.0139 9.50576 11.1793 9.58146C11.5227 9.73857 11.9783 10.0322 12.6809 10.4885L13.0092 10.7017ZM10.8551 14.0172C10.8556 14.0166 10.8603 14.0166 10.868 14.0192C10.8585 14.0192 10.8547 14.0179 10.8551 14.0172ZM10.8925 14.0325C10.8988 14.0375 10.9014 14.0415 10.9011 14.0422C10.9008 14.0429 10.8977 14.0405 10.8925 14.0325ZM10.9011 9.4578C10.9014 9.45853 10.8988 9.46249 10.8925 9.46748C10.8977 9.45955 10.9008 9.45706 10.9011 9.4578ZM10.868 9.4808C10.8603 9.48337 10.8556 9.48339 10.8551 9.48276C10.8547 9.48212 10.8585 9.48084 10.868 9.4808Z",fill:n}))},Jb=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M14.7074 2.33484C14.2058 1.81883 13.5168 1.5278 12.7971 1.52802H11.5431C10.8371 1.52801 10.1601 1.80936 9.66203 2.30983C9.166 2.80825 8.88813 3.48307 8.88923 4.18603C8.8771 4.81787 8.36235 5.32463 7.73017 5.32664C7.5412 5.32401 7.35625 5.27179 7.1937 5.17531L7.18375 5.16961C5.91258 4.44122 4.29245 4.87659 3.55715 6.14238L2.89323 7.23376L2.88414 7.24912C2.15201 8.51975 2.58492 10.1432 3.85252 10.8805C3.86035 10.8851 3.86826 10.8895 3.87625 10.8938L3.94465 10.9303C4.26109 11.1171 4.43617 11.4316 4.43617 11.889C4.43617 12.3045 4.21392 12.6888 3.85406 12.8966C2.58637 13.6299 2.15239 15.2516 2.88437 16.5201L2.88516 16.5215L3.51338 17.605C3.85727 18.2212 4.43178 18.6758 5.11079 18.8688C5.79232 19.0625 6.523 18.9767 7.14104 18.6303L7.15224 18.6237C7.41594 18.4699 7.73017 18.4277 8.02509 18.5066C8.32002 18.5856 8.57111 18.7791 8.72272 19.0441L8.72884 19.0544C8.82544 19.2172 8.87759 19.4024 8.8801 19.5916C8.88263 21.0602 10.0739 22.25 11.5431 22.25H12.7971C14.2629 22.25 15.4532 21.0655 15.4602 19.5997L15.4602 19.5925C15.4587 19.2845 15.5804 18.9888 15.7981 18.771C16.014 18.5552 16.3064 18.4337 16.6114 18.433C16.806 18.4396 16.9962 18.4934 17.1654 18.5899C18.4343 19.3201 20.0544 18.8891 20.7928 17.6255L21.4495 16.5312L21.4543 16.5228C21.8099 15.9125 21.9075 15.1856 21.7255 14.5031C21.5435 13.8205 21.0969 13.2387 20.4846 12.8865C20.2184 12.7333 20.0243 12.4804 19.9451 12.1836C19.866 11.8869 19.9084 11.5708 20.063 11.3055L20.0658 11.3007C20.1654 11.1268 20.3096 10.9827 20.4834 10.8831L20.4893 10.8796C21.7245 10.1572 22.1639 8.59197 21.4991 7.33626C21.4867 7.3064 21.4724 7.27727 21.4561 7.24908L20.8337 6.16904C20.1007 4.89682 18.4762 4.45788 17.2023 5.18787L17.1945 5.19245C16.9305 5.34798 16.6154 5.39211 16.3188 5.3151C16.0222 5.23809 15.7685 5.04626 15.6135 4.78192L15.6114 4.77852C15.5163 4.61819 15.4643 4.43602 15.4603 4.24975C15.4761 3.53661 15.205 2.84667 14.7074 2.33484ZM12.7974 3.02802C13.1118 3.02789 13.4128 3.15499 13.6319 3.38038C13.851 3.60577 13.9695 3.91025 13.9605 4.22445L13.9602 4.25377C13.9649 4.70753 14.0892 5.15201 14.3205 5.5424C14.6771 6.14948 15.2603 6.59 15.9419 6.76696C16.6223 6.94362 17.3449 6.84311 17.9512 6.48761C18.5071 6.17131 19.2145 6.3633 19.534 6.91789L20.1192 7.93327C20.1298 7.95755 20.1417 7.98131 20.1549 8.00445C20.4704 8.55735 20.2828 9.26101 19.7343 9.58349C19.3313 9.81515 18.997 10.1496 18.7656 10.5527C18.4111 11.1626 18.314 11.8885 18.4958 12.5701C18.6778 13.2526 19.1244 13.8344 19.7366 14.1867C20.0029 14.3398 20.197 14.5928 20.2762 14.8896C20.3549 15.185 20.3132 15.4995 20.1604 15.7641L19.5041 16.8578L19.499 16.8666C19.1769 17.4202 18.4679 17.6092 17.913 17.2895L17.9107 17.2882C17.524 17.0672 17.0886 16.9452 16.6433 16.9333L16.6268 16.9331C15.9186 16.9296 15.2383 17.2095 14.7375 17.7103C14.2377 18.2102 13.9579 18.8887 13.9602 19.5954C13.9556 20.2342 13.4364 20.75 12.7971 20.75H11.5431C10.9008 20.75 10.3801 20.2293 10.3801 19.5869L10.3801 19.5792C10.3754 19.1267 10.2518 18.6836 10.0218 18.294C9.67127 17.6844 9.09231 17.2395 8.41286 17.0576C7.73399 16.876 7.01084 16.972 6.403 17.3243C6.13404 17.4735 5.81685 17.5101 5.52087 17.426C5.22322 17.3414 4.97155 17.1416 4.82156 16.871L4.81438 16.8583L4.18359 15.7704C3.86591 15.2192 4.05465 14.5139 4.6052 14.1949C5.42882 13.7192 5.93617 12.8402 5.93617 11.889C5.93617 10.9839 5.5468 10.1232 4.68531 9.62583C4.67818 9.62171 4.67097 9.6177 4.6637 9.61382L4.59646 9.5779C4.05306 9.25444 3.86759 8.55524 4.17993 8.0048L4.84293 6.91495L4.85202 6.89958C5.1714 6.34528 5.87824 6.15319 6.43402 6.46882C6.82339 6.69851 7.26629 6.82195 7.71841 6.82664L7.72612 6.82664C9.18208 6.82679 10.3683 5.65763 10.3892 4.20182L10.3892 4.18745C10.3878 3.88046 10.5087 3.58554 10.7252 3.36794C10.9418 3.15034 11.2361 3.02801 11.5431 3.02802L12.7974 3.02802Z",fill:n}),t.createElement("path",{d:"M12.1746 10.0029C11.1329 10.0029 10.2885 10.8473 10.2885 11.889C10.2885 12.9307 11.1329 13.7752 12.1746 13.7752C13.2163 13.7752 14.0608 12.9307 14.0608 11.889C14.0608 10.8473 13.2163 10.0029 12.1746 10.0029ZM8.78845 11.889C8.78845 10.0189 10.3045 8.50287 12.1746 8.50287C14.0447 8.50287 15.5608 10.0189 15.5608 11.889C15.5608 13.7591 14.0447 15.2752 12.1746 15.2752C10.3045 15.2752 8.78845 13.7591 8.78845 11.889Z",fill:n}))},eE=(e,t,n)=>{const i=n.length-1>t&&n[t+1],r=t>0&&n[t-1];return!(!i||i.value!==e.value)||(!r||r.value!==e.value)},tE={"720p":e=>{let{color:n}=e;return t.createElement("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"1.25",y:"1.25",width:"19.5",height:"13.5",rx:"2.75",stroke:n||"#00A1E7",strokeWidth:"1.5"}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.17764 11.4276H10.6185V4H9.17764V6.91111H6.47776V4H5.03223V11.4276H6.47776V8.22187H9.17764V11.4276ZM17.5571 9.74093C17.8524 9.17869 18 8.47928 18 7.6427C18 6.84676 17.8555 6.17952 17.5664 5.64099C17.2773 5.09908 16.87 4.69094 16.3447 4.4166C15.8193 4.13887 15.1991 4 14.4841 4H12.3438V11.4276H14.2743C15.0577 11.4276 15.7276 11.2871 16.2841 11.006C16.8405 10.7215 17.2648 10.2998 17.5571 9.74093ZM16.2747 6.33194C16.4239 6.68418 16.4986 7.13465 16.4986 7.68334C16.4986 8.49283 16.326 9.10249 15.981 9.51231C15.639 9.92214 15.1152 10.127 14.4095 10.127H13.7894V5.29044H14.5587C14.9815 5.29044 15.3359 5.37511 15.6219 5.54446C15.911 5.71381 16.1286 5.9763 16.2747 6.33194Z",fill:n||"#00A1E7"}))},"1080p":()=>t.createElement("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"1.25",y:"1.25",width:"19.5",height:"13.5",rx:"2.75",stroke:"#00A1E7",strokeWidth:"1.5"}),t.createElement("path",{d:"M7.56641 6.1748H5.42578V7.22168H7.41797V8.59277H5.42578V10.8115H3.7998V4.7998H7.56641V6.1748ZM9.84961 6.99902H11.6191V4.7998H13.1768V10.8115H11.6191V8.38965H9.84961V10.8115H8.28809V4.7998H9.84961V6.99902ZM15.7988 4.7998C16.3905 4.7998 16.9152 4.90945 17.3652 5.13574L17.5303 5.22559C17.9046 5.44698 18.2022 5.75321 18.4199 6.1416L18.5078 6.3125C18.6984 6.722 18.7891 7.20425 18.7891 7.75195C18.789 8.32596 18.6961 8.82943 18.502 9.25586L18.4131 9.43359C18.1609 9.89249 17.7932 10.2401 17.3154 10.4727H17.3145C16.8396 10.7009 16.2765 10.8115 15.6328 10.8115H13.9004V4.7998H15.7988ZM15.4482 9.42871H15.7402C16.2641 9.42866 16.6158 9.28431 16.8369 9.03223V9.03125C17.0659 8.77231 17.1982 8.36773 17.1982 7.78223C17.1982 7.3849 17.1404 7.07479 17.0371 6.84277L17.0361 6.84082C16.9355 6.60794 16.791 6.44579 16.6045 6.3418L16.6035 6.34082C16.414 6.23421 16.1688 6.1748 15.8584 6.1748H15.4482V9.42871ZM18.3848 9.01562C18.3423 9.12847 18.2941 9.23581 18.2383 9.33691L18.3115 9.19434C18.3384 9.1367 18.3618 9.07671 18.3848 9.01562Z",fill:"#00A1E7"})),"1440p":()=>t.createElement("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"1.25",y:"1.25",width:"19.5",height:"13.5",rx:"2.75",stroke:"#00A1E7",strokeWidth:"1.5"}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.79939 12H9.9322V10.5974H6.73298V10.5219L7.67718 9.56709C8.1091 9.13913 8.4774 8.74893 8.78209 8.39649C9.09012 8.04405 9.3245 7.68802 9.48521 7.32839C9.64593 6.96876 9.72628 6.57136 9.72628 6.13621C9.72628 5.72983 9.63253 5.3666 9.44503 5.04653C9.25753 4.72286 8.98968 4.46752 8.64146 4.28051C8.2966 4.0935 7.88309 4 7.40095 4C6.96233 4 6.58566 4.05394 6.27093 4.16183C5.95954 4.26613 5.68499 4.40459 5.44727 4.57721C5.21289 4.74983 4.99023 4.93324 4.7793 5.12744L5.62305 6.20094C5.91434 5.94201 6.19392 5.74241 6.46177 5.60216C6.72963 5.4619 7.00586 5.39177 7.29046 5.39177C7.56166 5.39177 7.77762 5.47089 7.93834 5.62913C8.1024 5.78377 8.18443 6.01753 8.18443 6.33041C8.18443 6.58935 8.13253 6.8321 8.02874 7.05866C7.92829 7.28523 7.76423 7.53697 7.53655 7.81389C7.31222 8.08721 7.01423 8.42886 6.64258 8.83884L4.79939 10.8402V12ZM15.3364 11.9993H17.1043L14.5228 7.60285L17.0842 4.11263H15.3565L13.3677 6.79368C13.2639 6.94832 13.1618 7.10296 13.0613 7.2576C12.9609 7.41225 12.8588 7.56689 12.755 7.72153V4.11263H11.198V11.9993H12.755V9.18343L13.4129 8.67635L15.3364 11.9993Z",fill:"#00A1E7"})),"2160p":()=>t.createElement("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"1.25",y:"1.25",width:"19.5",height:"13.5",rx:"2.75",stroke:"#00A1E7",strokeWidth:"1.5"}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.65067 10.342H10.5346V9.02873H9.65067V4H8.21931L5 9.16553V10.342H8.13393V12H9.65067V10.342ZM8.13393 7.67168V9.02873H6.36607L7.71205 6.81259C7.8058 6.65937 7.88783 6.51345 7.95815 6.37483C8.02846 6.23256 8.09542 6.08664 8.15904 5.93707H8.19922C8.19587 5.99179 8.18917 6.08846 8.17913 6.22709C8.17243 6.36206 8.16574 6.5171 8.15904 6.6922L8.13895 7.21751C8.1356 7.39261 8.13393 7.544 8.13393 7.67168ZM15.7723 12H17.5402L14.9587 7.54036L17.5201 4H15.7924L13.8036 6.71956C13.6998 6.87643 13.5977 7.03329 13.4972 7.19015C13.3968 7.34701 13.2946 7.50388 13.1908 7.66074V4H11.6339V12H13.1908V9.14364L13.8488 8.62927L15.7723 12Z",fill:"#00A1E7"})),"4320p":()=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"16",viewBox:"0 0 22 16",fill:"none"},t.createElement("rect",{width:"19.5",height:"13.5",x:"1.25",y:"1.25",stroke:"#00A1E7",strokeWidth:"1.5",rx:"2.75"}),t.createElement("path",{fill:"#00A1E7",d:"M17.399 11.993h-1.754l-1.908-3.365-.653.513v2.852h-1.545V4.006h1.545V7.66q.154-.236.304-.47.149-.235.304-.47l1.973-2.715h1.714L14.838 7.54zM7.703 3.9q.627 0 1.156.213.533.213.852.645.319.426.319 1.07 0 .482-.175.842-.17.36-.463.634a3.4 3.4 0 0 1-.668.47q.39.224.738.524.348.295.568.694.224.398.224.929 0 .666-.324 1.158a2.14 2.14 0 0 1-.897.754q-.573.267-1.33.267-.817 0-1.39-.256a1.93 1.93 0 0 1-.872-.732q-.3-.48-.3-1.148 0-.546.185-.95.19-.405.508-.694.32-.295.703-.503a3.8 3.8 0 0 1-.593-.508 2.3 2.3 0 0 1-.424-.65 2.15 2.15 0 0 1-.154-.841q0-.634.324-1.06.328-.426.862-.64.533-.218 1.15-.218M6.567 9.866a.98.98 0 0 0 .279.716q.283.278.837.278.572 0 .857-.267.284-.273.284-.716a.9.9 0 0 0-.165-.535 1.8 1.8 0 0 0-.403-.41 7 7 0 0 0-.493-.344l-.135-.077a3 3 0 0 0-.558.355 1.6 1.6 0 0 0-.369.443q-.135.246-.134.557m1.126-4.731a.93.93 0 0 0-.628.213q-.25.213-.25.601 0 .273.12.48.124.204.324.356.204.153.444.284.229-.12.428-.268.2-.147.324-.355a.95.95 0 0 0 .125-.497q0-.389-.254-.6a.94.94 0 0 0-.633-.214"}))},nE=e=>{if(e)return tE[e.value]},iE=["children"];function rE(e){const{children:n}=e,i=(0,Cr.A)(e,iE);return t.createElement("span",(0,On.A)({role:"listitem"},i),n)}const aE=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M9 18L15 12L9 6",stroke:n,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))},sE=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M6 12L10.3333 16L19 8",stroke:n,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))},oE=["__value","color","style","type","name","size","noHover","className"],lE="undefined"==typeof window,uE={giant:32,extralarge:28,large:24,middle:18,middlesmall:16,small:15,smaller:12,extrasmall:9},cE=(0,t.forwardRef)(((e,n)=>{const{__value:i,color:r=null,style:a,type:s,name:o,size:u="large",noHover:c,className:d}=e,h=(0,Cr.A)(e,oE),{collectIcon:p}=(()=>{const e=(0,t.useContext)(Ph);if(!e)throw new Error("IconsContext must be used within IconsRoot.");return e})(),v=o.startsWith("IconDs"),m=gt()("svg-ds-icon",`svg-icon--${o}`,"svg-icon--size",d),_=gt()("svg-icon",`svg-icon--${o}`,"svg-icon--size",d,{"svg-icon--no-hover":!!c,[`svg-icon--type-${s}`]:s}),f=v?m:_,g=(0,t.useMemo)((()=>{const e=(0,l.A)({},null!=a?a:{});switch(r&&(e.color=r),!0){case u in uE:e["--rutube-icon-custom-size"]=`${uE[u]}px`;break;case"number"==typeof u:e["--rutube-icon-custom-size"]=`${u}px`;break;case"string"==typeof u&&isNaN(Number(u)):e["--rutube-icon-custom-size"]=String(u)}return e}),[r,a,u]);return lE&&p(o,i),(0,t.useEffect)((()=>{p(o,i)}),[o]),t.createElement("svg",(0,l.A)((0,l.A)({style:g,className:f},h),{},{ref:n}),t.createElement("use",{xlinkHref:`#${o}`}))})),dE=(e,n)=>t.createElement(cE,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconCheck",__value:'<path fill="currentColor" fill-rule="evenodd" d="M17.623 8.233a1.11 1.11 0 0 0-1.5.131l-5.386 6.068-2.86-3.224a1.11 1.11 0 0 0-1.5-.131.97.97 0 0 0-.125 1.42l3.51 3.956a1 1 0 0 0 .074.076 1 1 0 0 0 .216.235c.448.356 1.12.297 1.5-.131l6.195-6.98a.97.97 0 0 0-.124-1.42" clip-rule="evenodd" />'})),hE=(0,t.forwardRef)(dE),pE=(e,t)=>{if(e||t)try{return new URL(e||"",t)}catch(e){return}},vE=e=>{let{url:t,pepper:n=null,isMobile:i,startTime:r,urlParams:a={}}=e;const s=pE(t);if(!s)return"";for(const e in a)s.searchParams.set(e,a[e]);return s.searchParams.set("r",i?"wm":"wd"),n&&s.searchParams.set("p",n),r&&s.searchParams.set("t",r.toString()),s.toString()},mE="#00A1E7",_E=(e,t,n,i,r)=>{const a=n&&Math.floor(n/1e3);if(!t)return"";if(a){if(e>a)return"Ð’Ñ€ÐµÐ¼Ñ ÑÑ‚Ð°Ñ€Ñ‚Ð° Ð±Ð¾Ð»ÑŒÑˆÐµ Ð´Ð»Ð¸Ð½Ñ‹ Ð²Ð¸Ð´ÐµÐ¾: ";if(e===a)return"Ð’Ñ€ÐµÐ¼Ñ ÑÑ‚Ð°Ñ€Ñ‚Ð° Ñ€Ð°Ð²Ð½Ð¾ Ð´Ð»Ð¸Ð½Ðµ Ð²Ð¸Ð´ÐµÐ¾: "}if(i){if(r&&e>i)return"Ð’Ñ€ÐµÐ¼Ñ ÑÑ‚Ð°Ñ€Ñ‚Ð° Ð±Ð¾Ð»ÑŒÑˆÐµ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ ";if(r&&e===i)return"Ð’Ñ€ÐµÐ¼Ñ ÑÑ‚Ð°Ñ€Ñ‚Ð° Ñ€Ð°Ð²Ð½Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ "}return""},fE=(e,t,n,i,r)=>{const a=n&&Math.floor(n/1e3);return r?a&&i>a?"Ð’Ñ€ÐµÐ¼Ñ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð´Ð»Ð¸Ð½Ñ‹ Ð²Ð¸Ð´ÐµÐ¾: ":t&&e>i?"Ð’Ñ€ÐµÐ¼Ñ ÑÑ‚Ð°Ñ€Ñ‚Ð° Ð±Ð¾Ð»ÑŒÑˆÐµ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ ":t&&e===i?"Ð’Ñ€ÐµÐ¼Ñ ÑÑ‚Ð°Ñ€Ñ‚Ð° Ñ€Ð°Ð²Ð½Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ ":"":""},gE=e=>/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i.test(e),yE=e=>{let t=e.replace("#","");return gE(e)?(3===t.length&&(t=[...t].map((e=>e.repeat(2))).join("")),(299*parseInt(t.substring(0,2),16)+587*parseInt(t.substring(2,4),16)+114*parseInt(t.substring(4,6),16))/1e3):0};var bE="freyja_char-palette-item__paletteItem_oGoN1",EE="freyja_char-palette-item__disabled_Ht1cw",wE="freyja_char-palette-item__active_8T-bD",SE="freyja_char-palette-item__paletteIcon_I0mMv",AE="freyja_char-palette-item__withBorder_dTsfQ";const kE=e=>{const{onClick:n,color:i,isActive:r=!1,isDisabled:a=!1,itemClass:s,activeClass:o,hasIcon:l,hasBorder:u}=e,c=gE(i)?i:"#FFFFFF",d=yE(i),h=gt()(bE,s,{[wE]:r,[null!=o?o:""]:r,[EE]:a,[AE]:u&&d>=224});return t.createElement("button",{className:h,onClick:n,style:{backgroundColor:`${c}`}},l&&r&&!a&&t.createElement(hE,{className:SE,color:d>128?"black":"white"}))};var CE="freyja_char-palette__palette_u7AvW";var PE=function(e){return e.DARK2021="dark2021",e.WHITE2021="white2021",e.AUTO="auto",e}(PE||{});new Map([[PE.DARK2021,{primary:"#242D36",secondary1000:"#1C232B",secondary900:"#1C232B",secondary800:"#212932",secondary701:"#29333D",secondary700:"#29333D",secondary602:"#29333D",secondary601:"#3D4A58",secondary600:"#3D4A58",secondary500:"#5A6877",secondary400:"#889BAF",secondary300:"#A7B4C4",secondary200:"#BFC9D4",secondary100:"#CED6DE",secondary50:"#E1E5EA",secondary3:"#FFFFFF",secondary2:"#FFFFFF",secondary1:"#FFFFFF",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.4deg, #222B34 0.11%, #1E262E 100%)",accent:"#FF645F",accent400:"#E15554",accent700:"#be4847",accentHover:"#FF7773",accentPressed:"#E75550",additional:"#453840",additionalHover:"#623D43",additionalPressed:"#583B42",text:"#FFFFFF",textHover:"#FF645F",textActive:"#be4847",error:"#E15554",buttonPrimary:"#FF645F",buttonPrimaryText:"#fff",buttonPrimaryHover:"#E15554",buttonPrimaryHoverText:"#fff",buttonPrimaryPressed:"#E53841",buttonPrimaryPressedText:"#141C23",buttonSecondary:"#F3F4F7",buttonSecondaryText:"#141C23",buttonSecondaryHover:"#FFFFFF",buttonSecondaryHoverText:"#141C23",buttonSecondaryPressed:"#A7B4C4",buttonSecondaryPressedText:"#141C23",buttonDisabled:"#29333D",buttonDisabledText:"#5A6877",birdColor1:"#FFFFFF",birdColor2:"#889BAF",birdColor3:"#1C232B",birdColor4:"#1C232B",linkPrimary:"#FF645F",linkPrimaryHover:"#E15554",menuText:"#FFFFFF",menuBg:"#242D36",menuPromoBg:"#FF645F",menuSecondaryBg:"#202530",menuBorderLight:"#3D4A58",menuBorderDark:"#202530",menuIconsBg:"#3D4A58",menuLinkPrimary:"#FF645F",menuVideoLink:"#5A6877",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.7) 100%)",popupOverlayBg:"rgba(28, 35, 43, 0.7)",invert:0,iconbg:"#29333D",additionalAccent:"#42A4FF",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",controlBorderAccent:"#C6E3FF",chipsBg:"rgba(255, 255, 255, 0.05)",shade5:"rgba(255, 255, 255, 0.05)",shade10:"rgba(255, 255, 255, 0.1)",shade15:"rgba(255, 255, 255, 0.15)"}],[PE.WHITE2021,{primary:"#F6F6F6",secondary1000:"#FFFFFF",secondary900:"#E1E5EA",secondary800:"#E1E5EA",secondary701:"#FFFFFF",secondary700:"#BFC9D4",secondary602:"#EAEDF1",secondary601:"#E1E5EA",secondary600:"#A7B4C4",secondary500:"#889BAF",secondary400:"#5A6877",secondary300:"#3D4A58",secondary200:"#29333D",secondary100:"#212932",secondary50:"#1C232B",secondary3:"#5A6877",secondary2:"#242D36",secondary1:"#29333D",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.74deg, #EAEDF1 0%, #E1E5EA 100%)",accent:"#FF645F",accent400:"#E15554",accent700:"#be4847",accentHover:"#FF7773",accentPressed:"#E75550",additional:"#FFEEEE",additionalHover:"#FFF5F5",additionalPressed:"#FFE6E6",text:"#29333D",textHover:"#5A6877",textActive:"#1C232B",error:"#E15554",buttonPrimary:"#FF645F",buttonPrimaryText:"#fff",buttonPrimaryHover:"#E15554",buttonPrimaryHoverText:"#fff",buttonPrimaryPressed:"#E53841",buttonPrimaryPressedText:"#242D36",buttonSecondary:"#242D36",buttonSecondaryText:"#FFFFFF",buttonSecondaryHover:"#1C232B",buttonSecondaryHoverText:"#FFFFFF",buttonSecondaryPressed:"#5A6877",buttonSecondaryPressedText:"#E1E5EA",buttonDisabled:"#E1E5EA",buttonDisabledText:"#889BAF",birdColor1:"#5A6877",birdColor2:"#FFFFFF",birdColor3:"#1C232B",birdColor4:"#E1E5EA",linkPrimary:"#29333D",linkPrimaryHover:"#1C232B",menuText:"#29333D",menuBg:"#F6F6F6",menuPromoBg:"#E1E5EA",menuSecondaryBg:"#ECECED",menuBorderLight:"#E1E5EA",menuBorderDark:"#E1E5EA",menuIconsBg:"#ffffff",menuLinkPrimary:"#29333D",menuVideoLink:"#29333D",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.7) 100%)",popupOverlayBg:"rgba(90, 104, 119, 0.3)",invert:.8,iconbg:"#ffffff",additionalAccent:"#42A4FF",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",success:"#52C78F",controlBorderAccent:"#C6E3FF",chipsBg:"rgba(0, 0, 0, 0.05)",shade5:"rgba(0, 0, 0, 0.05)",shade10:"rgba(0, 0, 0, 0.1)",shade15:"rgba(0, 0, 0, 0.15)"}]]);let TE=PE.DARK2021;const IE=["#e53935","#8e24aa","#5e35b1","#3949ab","#0e8dee","#00cbff","#00897b","#43a047","#7cb342","#fbf819","#fdd835","#ffb300","#d57700","#6d4c41","#000000","#9e9e9e","#e0e0e0","#ffffff"],RE=e=>{const{colors:n,onItemClick:i,activeColor:r,className:a,itemClass:s,itemActiveClass:o,hasIcon:l,hasBorder:u}=e,c=n||IE,d=gt()(CE,a),h=TE;return t.createElement("div",{className:d},c.map((e=>t.createElement(kE,{key:e,color:e,onClick:t=>{i(e,t)},isActive:e===r,itemClass:s,activeClass:o,hasIcon:l,hasBorder:h===PE.WHITE2021&&u}))))},LE=[{0:"Ð‘ÐµÐ· Ñ„Ð¾Ð½Ð°",2:"20%",3:"30%",4:"40%",5:"50%"},{6:"60%",7:"70%",8:"80%",9:"90%",10:"100%"}],xE=e=>{let{onVariantClick:n,activeVariant:i,isTouchDevice:r}=e;return t.createElement(t.Fragment,null,t.createElement("p",null,"ÐŸÑ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ð¾ÑÑ‚ÑŒ Ñ„Ð¾Ð½Ð°"),t.createElement("div",{"aria-label":"ÐŸÑ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ð¾ÑÑ‚ÑŒ Ñ„Ð¾Ð½Ð°"},LE.map((e=>t.createElement("div",{className:Vb},Object.keys(e).map((a=>{const s=parseFloat(a);return t.createElement("button",{tabIndex:0,"aria-label":e[s],className:gt()(Ub,{[ob]:r,[jb]:s===i}),onClick:()=>{n&&n(s)}},e[s])})))))))},OE={switcher:e=>{let{active:n,onClick:i,title:r,navigationIcon:a}=e;return t.createElement(rE,{className:pb},t.createElement("button",{tabIndex:0,"aria-label":`${r} Ð’${n?"Ñ‹":""}ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ`,className:vb,onClick:i,key:r},a&&t.createElement("div",{className:bb},t.createElement(a,{color:"currentColor"})),t.createElement("span",{className:Eb},r),t.createElement(xt,{onChange:i,size:Lt.SMALL,classNames:{placement:n?"":mb},isActive:!!n})))},next:e=>{const{activeValue:n,activeValueExtra:i,title:r,aria:a,onClick:s,activeValueIcon:o,navigationIcon:l,innerOption:u=!1}=e,{getDataAttribute:c}=(0,Yn.f)();return t.createElement(rE,{className:pb},t.createElement("button",(0,On.A)({tabIndex:0,className:gt()(vb,{[_b]:u}),"aria-label":a||r,onClick:s,key:r},(e=>{const t={"ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾":"QUALITY_BUTTON","Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ":"SPEED_BUTTON","Ð¡ÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹":"SUBTITLE_BUTTON","Ð Ð°Ð·Ð¼ÐµÑ€ Ñ‚ÐµÐºÑÑ‚Ð°":"SIZE_TEXT_BUTTON"}[e];return t?c(Qn.R[t]):{}})(r)),l&&t.createElement("div",{"aria-hidden":"true",className:bb},t.createElement(l,{color:"currentColor"})),t.createElement("span",{"aria-hidden":"true",className:Eb},r),t.createElement("span",{"aria-hidden":"true",className:Sb},t.createElement(t.Fragment,null,n&&t.createElement("span",{className:Pb},n,i&&t.createElement("span",{className:Tb},i),o&&t.createElement(o,null)),t.createElement("span",{className:yb},t.createElement(aE,null))))))},prev:e=>{const{title:n,onClick:i}=e;return t.createElement(rE,{className:gt()(pb,Wb)},t.createElement("button",{tabIndex:0,"aria-label":n+" Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð½Ð°Ð·Ð°Ð´",className:vb,onClick:i,key:n},t.createElement("span",{"aria-hidden":"true",className:gt()(Sb,kb)},t.createElement("span",{className:gt()(yb,Cb)},t.createElement(aE,null)),t.createElement("span",null,n))))},option:e=>{const{color:n}=ib(),{active:i,title:r,onClick:a,icon:s}=e,o=r+(i?" Ð’Ñ‹Ð±Ñ€Ð°Ð½Ð¾":""),{getDataAttribute:l}=(0,Yn.f)();return t.createElement(rE,{className:pb},t.createElement("button",(0,On.A)({tabIndex:0,"aria-label":o,className:gt()(vb,_b,{[fb]:i}),onClick:()=>{a&&a()}},l("Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸"===r?Qn.R.RESET_SETTINGS_BUTTON:"Ð£Ð¼ÐµÐ½ÑŒÑˆÐµÐ½Ð½Ñ‹Ð¹"===r?Qn.R.SMALL_TEXT:"Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹"===r?Qn.R.STANDARD_TEXT:"Ð£Ð²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ð½Ñ‹Ð¹"===r?Qn.R.BIG_TEXT:Qn.R.TEXT_SUBTITLE)),t.createElement("span",{"aria-hidden":"true",className:gb},r,s&&t.createElement(s,{color:n})),t.createElement("span",{"aria-hidden":"true",className:Sb},i&&t.createElement("span",{className:yb},t.createElement(sE,null)))))},palette:e=>{const{onItemClick:n,activeColor:i,isTouchDevice:r}=e;return t.createElement("div",{role:"listitem","aria-label":"Ð’Ñ‹Ð±Ð¾Ñ€ Ñ†Ð²ÐµÑ‚Ð°",className:gt()(vb,Db)},t.createElement(RE,{onItemClick:(e,t)=>{n&&n(e)},itemClass:gt()(Mb,{[ob]:r}),itemActiveClass:Bb,activeColor:i}))},color:e=>{const{activeColor:n,title:i,onClick:r,innerOption:a=!1}=e,s="#ffffff"===n,{getDataAttribute:o}=(0,Yn.f)();return t.createElement(rE,{className:pb},t.createElement("button",(0,On.A)({tabIndex:0,"aria-label":i,className:gt()(vb,{[_b]:a}),onClick:r,key:i},(e=>{const t={"Ð¦Ð²ÐµÑ‚ Ñ‚ÐµÐºÑÑ‚Ð°":"COLOUR_TEXT_BUTTON","Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°":"COLOUR_BACKGROUND_BUTTON"}[e];return t?o(Qn.R[t]):{}})(i)),t.createElement("span",{className:gb},i),t.createElement("span",{className:Sb},t.createElement(t.Fragment,null,n&&t.createElement("span",{className:gt()(wb,{[Ab]:s}),style:{backgroundColor:n}}),t.createElement("span",{className:yb},t.createElement(aE,null))))))},subtitleBg:(0,_t.PA)((e=>{const{onPaletteItemClick:n,onBackgroundOpacityClick:i,isTouchDevice:r}=e,{captionsBackgroundColor:a,captionsBackgroundOpacity:s}=Tc(),{getDataAttribute:o}=(0,Yn.f)(),l=n||((e,t)=>{});return t.createElement("div",(0,On.A)({className:gt()(vb,Fb),role:"listitem"},o(Qn.R.COLOUR_BACKGROUND_BUTTON)),t.createElement("div",{className:Db,"aria-label":"Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°"},t.createElement(RE,{onItemClick:l,itemClass:gt()(Mb,{[ob]:r}),itemActiveClass:Bb,activeColor:a})),t.createElement("div",{className:Hb},t.createElement(xE,{activeVariant:s,onVariantClick:i,isTouchDevice:r})))})),action:e=>{const{title:n,onClick:i,navigationIcon:r}=e;return t.createElement(rE,{className:pb},t.createElement("button",{tabIndex:0,"aria-label":n,className:gt()(vb),onClick:e=>{i&&i(e)}},r&&t.createElement("div",{"aria-hidden":"true",className:bb},t.createElement(r,{color:"currentColor"})),t.createElement("span",{"aria-hidden":"true",className:Eb},n)))}},NE=e=>{const n=OE[e.type]?OE[e.type]:null;return n&&t.createElement(n,e)},DE=e=>{let{listRef:n,enabled:i,items:r}=e;(0,t.useEffect)((()=>{const e=e=>{var t;if(!["ArrowUp","ArrowDown"].includes(e.key))return;e.preventDefault();const i=null===(t=n.current)||void 0===t?void 0:t.querySelectorAll("a, button"),r=i?Array.from(i):[];if(!r.length)return;const a=r.findIndex((e=>e===document.activeElement)),s=r[a+("ArrowUp"===e.key?-1:1)]||r[0];null==s||s.focus()};return i&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[i,r,n])},ME=(0,t.forwardRef)(((e,n)=>{var i,r;const{items:a,panelWidth:s,enableKeyboard:o}=e,{isTouchDevice:l,isEmbed:u}=$h(),{getDataAttribute:c}=(0,Yn.f)(),d=nh().size,h=(null==d?void 0:d.height)||0;let p=h?h-(l?60:70):300;l&&(p=Math.max(p,250));const v=(0,t.useCallback)((e=>{e.stopPropagation()}),[]),m=(0,t.useRef)(null);return DE({listRef:m,enabled:o}),t.createElement("div",{ref:n,className:gt()(lb,cb,{[ob]:l}),onTouchStart:v,style:{maxHeight:u?"calc(100vh - 60px)":`${p}px`}},t.createElement("div",(0,On.A)({role:"list",ref:m,className:hb,style:{width:s.toString()+"px"}},"ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾"===(null==a||null===(i=a[0])||void 0===i?void 0:i.title)&&"prev"===(null==a||null===(r=a[0])||void 0===r?void 0:r.type)?c(Qn.R.MENU_QUALITY):{}),null==a?void 0:a.map(((e,n)=>t.createElement(NE,(0,On.A)({},e,{isTouchDevice:l,key:n.toString()+e.title}))))))})),BE=(0,_t.PA)(ME),FE=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},t.createElement("path",{fill:n,d:"M5 10.38a1.62 1.62 0 1 0 0 3.24 1.62 1.62 0 0 0 0-3.24Zm7 0a1.62 1.62 0 1 0 0 3.24 1.62 1.62 0 0 0 0-3.24Zm7 0a1.62 1.62 0 1 0 0 3.24 1.62 1.62 0 0 0 0-3.24Z"}))},HE=e=>{var t;let n,i;if(!e||!e.url)return{edge:"",dive:""};const r=null==e||null===(t=e.url)||void 0===t?void 0:t[0];try{i=new URL(r).hostname}catch(e){console.info(e)}if(-1!==r.indexOf("dive")){const e=r.split("/");n=e[e.indexOf("dive")+1]}return{edge:i,dive:n}};function VE(){var e;const t=navigator.userAgent.toLowerCase().includes("android"),n=Boolean(null===(e=window)||void 0===e||null===(e=e.screen.orientation)||void 0===e?void 0:e.lock);return t&&n}const UE=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Math.round(e*t)/t},jE=e=>{if(!e)return"undefined";const[t=[],n,i]=e,r=t.map((e=>{let{start:t,end:n}=e;return`(${Math.round(t)}, ${Math.round(n)})`})).join(", ");return`${r} | ${Math.round(n)} | ${Math.round(i)}`},WE=(e,t)=>{var n,i;const{videoId:r,bufferedData:a,bandwidthEstimate:s,currentLevel:o,isLive:l,isDVR:u,isAutoQuality:c,activeQuality:d,currentTime:h,duration:p,volume:v,muted:m,interactiveFragment:_}=e,f=void 0!==(null==o?void 0:o.bitrate)?`${Math.round(o.bitrate/1024)} kb`:"undefined",{edge:g,dive:y}=HE(o),[b,E]=(()=>{var e,t;if(null===(e=window)||void 0===e||null===(e=e.navigator)||void 0===e||!e.userAgent)return["",""];const n=null===(t=window)||void 0===t||null===(t=t.navigator)||void 0===t||null===(t=t.userAgent)||void 0===t?void 0:t.split(") ");return[`${n[0]})`,n.slice(1).join(") ")]})(),w=[{label:"Video Id",value:r},{label:"Bandwidth",value:s?`${Math.round(s/1048576)} mbps`:"undefined"},{label:"Codecs",value:`${String(null==o?void 0:o.videoCodec)} | ${String(null==o?void 0:o.audioCodec)}`},{label:"Buffer",value:jE(a)},{label:"Screen Resolution",value:`${null===(n=window)||void 0===n||null===(n=n.screen)||void 0===n?void 0:n.width}x${null===(i=window)||void 0===i||null===(i=i.screen)||void 0===i?void 0:i.height}`},{label:"Video Quality",value:`${String(null==o?void 0:o.width)}x${String(null==o?void 0:o.height)} | ${f}`},{label:"Edge | Dive",value:`${String(g)} | ${String(y)}`},{label:"isLive | isDVR",value:`${String(l)} | ${String(u)}`},{label:"Auto Quality Enabled",value:c.toString()},{label:"Current Quality",value:d},{label:"Playback Position",value:`${h} / ${p}`},{label:"Last Ad Name"},{label:"Volume | Muted",value:`${UE(v)}% | ${m.toString()}`},{label:"Current Domain",value:(0,R.IN)()},{label:"Player Version",value:t.versionName},{label:"Current Date",value:(new Date).toString()},{label:"User Agent",value:`${b} ${E}`},{label:"Screen Lock API",value:String(VE())}];return null!==_&&w.push({label:"Interactive fragment",value:String(_)}),w},zE=()=>(0,Dt.p5)().resolve("IStatsForNerdsPlugin"),$E=()=>{const e=zE();return(0,t.useMemo)((()=>WE(e,{versionName:e.versionName})),[e,e.interactiveFragment])},GE=(0,_t.PA)((e=>{let{hidePanel:n,onPanelResize:i}=e;const{isTouchDevice:r}=$h(),a=r?297:268,s=up(),{activePanel:o,prevPanel:l,nextPanel:u,settingsList:c,options:d}=s,{isAutoplayEnabled:h}=Lv(),{isLive:p,isTVStream:v}=Ah(),m=pp(),_=(0,t.useRef)(null),f=!!yg(),[g,y]=(0,t.useState)(""),[b,E]=(0,t.useState)(a),w=(0,t.useRef)(null),S=(0,t.useRef)(null);(0,t.useEffect)((()=>{_.current=c}),[c]);const A=(0,t.useCallback)(((e,t,n)=>{s.activePanel=null,s.prevPanel=w.current,"default"===e?(w.current=_.current,y(t),s.nextPanel=_.current,E(a)):(w.current=e,y(t),s.nextPanel=e,E(n||a))}),[]),k=!p&&((e,n)=>{const i=Np,r=tb().playback,a=r.playbackRate,{counterHelper:s}=(0,Bu.useControls)();return(0,t.useMemo)((()=>{const t=[];return null!=i&&i.length?(t.push({title:"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ",type:"prev",onClick:()=>{e("default","prev")}}),i.forEach((e=>{t.push({title:`${e}x`,type:"option",active:a===e,onClick:()=>{r.handlePlaybackRate(e),null==s||s.get("mainSettingsPlaybackRate")(e),n()}})})),{title:"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ",aria:`Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ ${a}x`,type:"next",options:t,activeValue:`${a}x`,navigationIcon:Zb,onClick:()=>{e(t,"next")}}):null}),[i,a,e,r,s,n])})(A,n),C=((e,n)=>{const i=Po(),{activeQualityIndex:r,activeQualityLevel:a,autoQuality:s,qualities:o}=nb();return(0,t.useMemo)((()=>{if(!o||o.length<=0)return null;const t=[];t.push({title:"ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾",type:"prev",onClick:()=>{e("default","prev")}}),o.filter(eE).forEach(((e,a)=>{const o=((e,t,n)=>t?-1===e.level:n===e.index)(e,s,null!=r?r:-1);t.push({title:e.value===Oi?"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸":`${e.value}${e.frameRate||""}`,type:"option",active:o,icon:nE(e),onClick:o?void 0:()=>{i.changeQuality(0===a?-1:a,e.level),n()}})}));const l={title:"ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾",type:"next",options:t,onClick:()=>{e(t,"next")},navigationIcon:Jb},u=t.find((e=>e.active));if(u){const e=o.find((e=>e.level===a)),t=s&&(null==e?void 0:e.value)!==Oi;l.activeValue=u.title,t&&(l.activeValue=null!=e&&e.value?`${e.value}${e.frameRate||""}`:"",l.aria=`ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ ${u.title} ${l.activeValue}`),l.activeValueExtra=t?"(ÐÐ²Ñ‚Ð¾)":void 0,l.activeValueIcon=u.icon}return l}),[o,a])})(A,n),P=(0,Dt.p5)().resolveOptional("ICaptionsPlugin")&&Xb(A,n,qt.B.isMobile),T=d.isShowAutoPlay&&qb(h),I=d.isShowMore&&(e=>{let{isInteractive:n,isEmbed:i,setPanel:r,isLive:a,isTVStream:s,hidePanel:o}=e;const{sendStats:l,extraActions:u,playback:c}=up(),d=$E(),{itemsToExclude:h}=Bt()||{};return(0,t.useMemo)((()=>{if(!u)return null;let e=[{title:Ht.More,type:"prev",onClick:()=>{r("default","prev")}},!s&&{title:Ht.Replay,type:"action",navigationIcon:Zt,onClick:()=>{u.replay(),o(),l("mainSettingsMoreMenuReplay")}},!n&&!i&&!a&&{title:Ht.LoopVideo,type:"switcher",navigationIcon:Qt,active:c.isLooping,onClick:()=>{c.isLooping?l("mainSettingsMoreMenuReplayVideoOff"):l("mainSettingsMoreMenuReplayVideoOn"),c.isLooping=!c.isLooping,o()}},{title:Ht.CopyLink,type:"action",navigationIcon:jt,onClick:()=>{u.copyLink(),o(),l("mainSettingsMoreMenuCopyLinkVideo")}},!n&&!s&&{title:Ht.CopyLinkAtTime,type:"action",navigationIcon:jt,onClick:()=>{u.copyLinkAtTime(),o(),l("mainSettingsMoreMenuCopyLinkAtTime")}},!n&&{type:"action",title:Ht.CopyTag,navigationIcon:$t,onClick:()=>{u.copyTag(),o(),l("mainSettingsMoreMenuCopyTag")}},{title:Ht.HotkeysManual,type:"action",navigationIcon:Gt,onClick:()=>{u.hotkeysManual(),o(),l("mainSettingsMoreMenuHotkeyManual")}},{type:"action",title:Ht.Info,navigationIcon:Kt,onClick:()=>{qt.B.isMobile?u.copyTechInfo():u.toggleTechInfo(),Cn(JSON.stringify(d)).catch(console.info),o(),l("mainSettingsMoreMenuCopyInfo")}},{type:"action",title:Ht.ReportError,navigationIcon:en,onClick:()=>{u.reportError(),o(),l("mainSettingsMoreMenuReportError")}},i&&{title:Ht.Claim,type:"action",navigationIcon:Vt,onClick:()=>{u.claim(),o(),l("mainSettingsMoreMenuReportVideo")}}].filter(Boolean);return h&&h.size&&(e=e.filter((e=>!h.has(e.title)))),{title:Ht.More,type:"next",actions:e,navigationIcon:FE,onClick:()=>r(e,"next",280)}}),[u,s,i,a,c,n,h,r,o,l,d])})({isInteractive:m,isEmbed:f,setPanel:A,hidePanel:n,isLive:p,isTVStream:v});(0,t.useEffect)((()=>{s.clearSettingsList(),k&&s.addSettingsItem(k),C&&s.addSettingsItem(C),P&&s.addSettingsItem(P),T&&s.addSettingsItem(T),I&&s.addSettingsItem(I)}),[T,r,k,C,s,P,I]),(0,t.useEffect)((()=>{w.current=_.current,s.activePanel=_.current}),[c,s]),(0,t.useEffect)((()=>{i()}),[b,i]);const R=(0,t.useCallback)((e=>{const t=null==e?void 0:e.querySelector('[tabindex="0"]');t&&t.focus()}),[]);return t.createElement("div",th.Ln,t.createElement("div",{id:"raichuSettingsPanel",className:gt()(ub,{[db]:f}),style:{width:b.toString()+"px"}},l&&u&&t.createElement(ff.A,{in:!(!l||!u),appear:!0,unmountOnExit:!0,onEntered:()=>{s.activePanel=u,s.prevPanel=null,s.nextPanel=null},nodeRef:S,classNames:`raichu-settings-animation-${g}`,timeout:300},t.createElement("div",{ref:S,className:gt()(xb,{[Ob]:r})},l&&t.createElement(ff.A,{in:!!l,timeout:300,appear:!0,unmountOnExit:!0,classNames:"raichu-settings-animation-prevItem"},t.createElement(BE,{items:l,panelWidth:b})),u&&t.createElement(BE,{items:u,panelWidth:b}))),o&&t.createElement(BE,{ref:R,items:o,panelWidth:b,enableKeyboard:!0})))})),qE="popper-panel-wrapper-module__preventTap___azySr",KE="popper-panel-wrapper-module__fullSizeOverlay___TyQx2",YE=e=>{let{size:n,coordinates:i}=e;const r=(0,t.useRef)(null),a=(0,t.useCallback)((e=>{if(r.current=e,e&&n&&i){const{width:t,height:r}=n,{x:a,y:s}=i,o=e.getBoundingClientRect(),l=`-${o.y-s}px`,u=`-${o.x-a}px`;e.style.top=l,e.style.left=u,e.style.width=`${t}px`,e.style.height=`${r}px`}}),[n,i]);return t.createElement("div",{ref:a,className:gt()(KE,qE)})},QE=e=>{let{className:n,popperOptions:i,visible:r,hidePanel:a,renderButton:s,renderPanel:o,testId:l,size:u,coordinates:c,portal:d=!1,portalContainer:h}=e;const p=(0,t.useRef)(null),v=(0,t.useRef)(null),m=(0,t.useRef)(null),_=(0,t.useCallback)((()=>{var e;(null===(e=p.current)||void 0===e?void 0:e.update)&&p.current.update().catch(console.warn)}),[]);return(0,mt.Wr)(m,(e=>{const t=e.composedPath()||[];!!v.current&&t.includes(v.current)||m.current&&r&&(a(),e.preventDefault(),e.stopPropagation())})),(0,t.useEffect)((()=>{var e;(null===(e=p.current)||void 0===e?void 0:e.update)&&p.current.update().catch(console.warn)}),[null==u?void 0:u.width]),t.createElement(t.Fragment,null,t.createElement("div",(0,On.A)({"data-testid":l,className:n,role:"none"},th.aQ),t.createElement(vt.e0,{anchorRef:v,hidePopperOnHidingElement:!1,isPopperShown:r,popperOptions:i,portal:d,portalContainer:h,popperKey:vt.m0.tooltip,customPopperZIndex:1e3,instanceRef:p,renderPopperElements:()=>t.createElement("div",{ref:m},o({onResize:_}))},v&&s(v))),qt.B.isMobile&&r&&t.createElement(YE,{size:u,coordinates:c}))},XE=(0,_t.PA)((e=>{let{action:n,buttonsSize:i,wrapperId:r}=e;const a=(0,rn._)(),{isTouchDevice:s}=$h(),o=(0,Bu.useControls)(),{isShowSettingsPannel:l,tabIndex:u}=o,{size:c,coordinates:d,sendStats:h}=tb(),{getDataAttribute:p}=(0,Yn.f)(),v=s?void 0:Ve.m_.Settings,m=(0,t.useMemo)((()=>({placement:s?"bottom-end":"top",modifiers:[{name:"offset",options:{offset:s?[-6,0]:[0,23]}},{name:"preventOverflow",options:{boundary:a||document.body}},{name:"flip",options:{flipVariations:!1,fallbackPlacements:["top"]}}]})),[s,a]),_=(0,t.useCallback)((()=>{o.activePanel="",o.setHideControlsTimer()}),[o]),f=(0,t.useCallback)((()=>{_(),o.preventHideControls=!1}),[o,_]),g="settings"===o.activePanel,y=(0,t.useCallback)((()=>{g?o.activePanel="":(o.activePanel="settings",h("mainSettingsClick"))}),[o,g,h]);return t.createElement(QE,{portal:!1,portalContainer:document.getElementById(r||pd.v.RAICHU_CONTAINER_WITH_PLAYER),className:gt()(sb,{[ob]:s}),popperOptions:m,visible:l,hidePanel:_,size:c,coordinates:d,renderButton:e=>t.createElement(Pc.r,(0,On.A)({ref:e,tabIndex:u,role:"button","aria-haspopup":"true","aria-controls":"raichuSettingsPanel","aria-expanded":l,"aria-label":(l?"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ")+" Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð²Ð¸Ð´ÐµÐ¾Ð¿Ð»ÐµÐµÑ€Ð°",action:n,className:Ib,tooltipTitle:v,tooltipPlacement:"top",tooltipZIndex:Ve.m_.ControlsTooltipZIndex,onClick:y,iconSticker:t.createElement(zb,null),size:i},p(Qn.R.SETTINGS_BUTTON)),t.createElement($b,{color:"#fff",isActive:l})),renderPanel:e=>{let{onResize:n}=e;return t.createElement(GE,{hidePanel:f,onPanelResize:n})}})}));var ZE,JE;let ew,tw,nw;new(JE=class extends k.j8{constructor(e,t,n,i,r,a){super(),this._playerSize=void 0,this._settingsList=A.sH.array([]),this._activePanel=A.sH.box(null),this._nextPanel=A.sH.box(null),this._prevPanel=A.sH.box(null),this.__counterHelper=void 0,this._isEmbed=void 0,this._options={isShowMore:!0,isShowAutoPlay:!0},this.extraActions=n,this._playback=r,null!=i&&i.value&&(this._options=(0,l.A)((0,l.A)({},this._options),i.value)),this.__counterHelper=t instanceof ps?t.counterHelper:void 0,this._isEmbed=a.value,(0,A.Gn)(this,{activePanel:A.EW,nextPanel:A.EW,prevPanel:A.EW,settingsList:A.EW,addSettingsItem:A.XI,clearSettingsList:A.XI}),this._playerSize=e,this.sendStats=this.sendStats.bind(this)}sendStats(e){var t;null===(t=this.__counterHelper)||void 0===t||t.get(e)()}get activePanel(){return(0,A.HO)(this._activePanel.get())}set activePanel(e){this._activePanel.set(e)}get nextPanel(){return this._nextPanel.get()}set nextPanel(e){this._nextPanel.set(e)}get prevPanel(){return this._prevPanel.get()}set prevPanel(e){this._prevPanel.set(e)}get settingsList(){return(0,A.HO)(this._settingsList)}get size(){return this._playerSize.size}get coordinates(){return this._playerSize.coordinates}get options(){return this._options}get playback(){return this._playback}get isEmbed(){return this._isEmbed}addSettingsItem(e){this._settingsList.push(e)}clearSettingsList(){this._settingsList.clear()}},[nw,ew]=(0,S.A)(JE,[(0,k.k_)({implement:"IVideoSettingsPlugin",ctor_args:["IPlayerSizePlugin","IStatisticState",{implement:"IExtraActionsPlugin",optional:!0},{implement:"VideoSettingsOptions",optional:!0},"IPlayback","IsEmbed"]})],[],0,void 0,k.j8).c,tw=JE,(ZE=class extends V{constructor(){super(nw),this.VideoSettings=XE,ew()}})[tw]=void 0,ZE);var iw,rw;let aw,sw,ow,lw;var uw;let cw,dw,hw;new(rw=class extends k.j8{constructor(e,t,n){super(),this._eventEmitter=void aw(this),this._counterHelper=void 0,this._isKeyboardShortuctsEnabled=A.sH.box(!0),this.__handlers=new Map,this.__shiftHandlers=new Map,this._blocked=A.sH.box(!1),this._playback=e,(0,A.h5)((()=>{this._isKeyboardShortuctsEnabled.set(this._playback.isPlayerReady&&!(null!=n&&n.stub))})),this._counterHelper=t instanceof pt?t.counterHelper:void 0,this._eventEmitter=new kn}initListener(){const e=this._keyHandler.bind(this),t=(0,A.mJ)((()=>this._isKeyboardShortuctsEnabled),(t=>{t&&(this.initHandlers(),window.addEventListener("keydown",e))}),{fireImmediately:!0});return()=>{window.removeEventListener("keydown",e),t()}}_keyHandler(e){const t=e.target,n=t&&(e=>{const t=e.nodeName.toLowerCase();return"true"===e.contentEditable||t.indexOf("input")>=0||t.indexOf("textarea")>=0})(t);if((e=>e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)(e)&&!lw.ALLOWED_SPECIAL_KEYS[e.code]||n)return;const i=e.shiftKey?this.__shiftHandlers.get(e.code):this.__handlers.get(e.code);i&&(this.stopEvent(e),this.blocked||i(e))}stopEvent(e){e.preventDefault(),e.stopPropagation()}initHandlers(){this.pushHandler({key:["Space","KeyK"],handler:()=>{this._playback.isPlaying?this._playback.pause():this._playback.play()}}),this.pushHandler({key:["KeyL","ArrowRight"],handler:()=>this.defaultForwardSeek()}),this.pushHandler({key:["KeyJ","ArrowLeft"],handler:()=>this.defaultBackwardSeek()}),this.pushHandler({key:"ArrowUp",handler:()=>{const e=Math.floor(Math.min(100*this._playback.volume+5,100));this._playback.handleVolume(e),this._eventEmitter.emit(xn.volumeUp,{newVolume:e})}}),this.pushHandler({key:"ArrowDown",handler:()=>{const e=Math.floor(Math.max(100*this._playback.volume-5,0));this._playback.handleVolume(e),this._eventEmitter.emit(xn.volumeDown,{newVolume:e})}}),this.pushHandler({key:"KeyM",handler:()=>{this._playback.handleMuted(),this._playback.muted,this._eventEmitter.emit(xn.mute,null)}})}pushHandler(e){let{key:t,handler:n,shift:i}=e;const r=i?this.__shiftHandlers:this.__handlers;Array.isArray(t)?t.forEach((e=>{r.set(e,n)})):r.set(t,n)}getHandler(e){return this.__handlers.get(e)}getShiftHandler(e){return this.__shiftHandlers.get(e)}on(e,t){this._eventEmitter.on(e,t)}off(e,t){this._eventEmitter.off(e,t)}defaultForwardSeek(){var e;if(this._playback.ended)return;const t=this._playback.currentTime;this._playback.seekForward(10),null===(e=this._counterHelper)||void 0===e||e.get("mainContentPlaybackRewindMode")({rewindType:dv.E.HOTKEY,rewindDirection:dv.U.FORWARD}),this._eventEmitter.emit(xn.seekForward,t)}defaultBackwardSeek(){var e;if(this._playback.ended)return;const t=this._playback.currentTime;this._playback.seekBack(10),null===(e=this._counterHelper)||void 0===e||e.get("mainContentPlaybackRewindMode")({rewindType:dv.E.HOTKEY,rewindDirection:dv.U.BACK}),this._eventEmitter.emit(xn.seekBackward,t)}get blocked(){return this._blocked.get()}set blocked(e){this._blocked.set(e)}},({e:[aw],c:[lw,sw]}=(0,S.A)(rw,[(0,k.k_)({implement:"IShortcutsPlugin",ctor_args:["IPlayback","IStatisticState",{implement:"IStubPlugin",optional:!0}]})],[[(0,k.o7)(),2,"initListener"]],0,void 0,k.j8)),ow=rw,(iw=class extends V{constructor(){super(lw),this.ALLOWED_SPECIAL_KEYS={KeyP:!0,KeyN:!0,ArrowLeft:!0,ArrowRight:!0},sw()}})[ow]=void 0,iw);uw=class extends lw{constructor(e,t,n,i,r,a,s,o,l,u,c,d,h){cw((super(e,i,o),this._playback=e,this._fullscreen=t,this._captions=n,this._nextPlugin=r,this._playlist=a,this._advert=s,this._stub=o,this._pip=l,this._cinema=u,this._qualitiesPlugin=c,this._controls=d,this._activities=h,this)),this._isKeyboardShortuctsEnabled.set(this._playback.isPlayerReady&&!(null!=s&&s.isPlaying)&&!(null!=o&&o.stub))}initVideo(){return this.initVideoHandlers(),(0,A.mJ)((()=>{var e;return"show"===(null===(e=this._advert)||void 0===e?void 0:e.currentState)}),(e=>{this.blocked=e}))}initShortuctsEnabled(){var e,t;return this._isKeyboardShortuctsEnabled.set(this._playback.isPlayerReady&&!(null!==(e=this._advert)&&void 0!==e&&e.isPlaying)&&!(null!==(t=this._stub)&&void 0!==t&&t.stub)),(0,A.mJ)((()=>{var e,t,n;return{isPlayerReady:this._playback.isPlayerReady,advertIsPlaying:null===(e=this._advert)||void 0===e?void 0:e.isPlaying,stub:null===(t=this._stub)||void 0===t?void 0:t.stub,isInteractiveVideo:!(null!==(n=this._activities)&&void 0!==n&&n.isInteractiveVideo)}}),(e=>{let{isPlayerReady:t,advertIsPlaying:n,stub:i,isInteractiveVideo:r}=e;this._isKeyboardShortuctsEnabled.set(t&&!n&&!i&&!r)}))}initVideoHandlers(){super.initHandlers();const e=()=>{var e;return this._playback.isTvStream||(null===(e=this._activities)||void 0===e?void 0:e.isInteractiveVideo)};this.pushHandler({key:"KeyL",handler:()=>!e()&&this.defaultForwardSeek()}),this.pushHandler({key:"KeyJ",handler:()=>!e()&&this.defaultBackwardSeek()}),this.pushHandler({key:"ArrowLeft",handler:t=>{t.altKey?this.nextFrameBackward():e()||this.defaultBackwardSeek()}}),this.pushHandler({key:"ArrowRight",handler:t=>{t.altKey?this.nextFrameForward():e()||this.defaultForwardSeek()}}),this.pushHandler({key:["KeyL","ArrowRight"],shift:!0,handler:()=>{var t;if(null!==(t=this._activities)&&void 0!==t&&t.isSkipButtonVisible)return void this._activities.skipButtonClick();if(e())return;const{time:n,label:i}=this.getTimeMark();void 0!==n&&(this._playback.seek(n,"hotkey"),this._eventEmitter.emit(xn.nextTimeMark,{label:i||""}))}}),this.pushHandler({key:["KeyJ","ArrowLeft"],shift:!0,handler:()=>{if(e())return;const{time:t,label:n}=this.getTimeMark(!0);void 0!==t&&(this._playback.seek(t,"hotkey"),this._eventEmitter.emit(xn.previousTimeMark,{label:n||""}))}}),this.pushHandler({key:"KeyC",handler:()=>{var e;if(this._captions.hasCaptions&&(null===(e=this._controls)||void 0===e||!e.isNakedMode)){const e=this._captions.isShowCaptions;this._captions.isShowCaptions=!e,this._eventEmitter.emit(xn.subtitles,!e)}}}),this.pushHandler({key:"KeyN",shift:!0,handler:()=>{var e,t,n;null!==(e=this._playlist)&&void 0!==e&&e.isShowPlaylistButtons?null===(t=this._playlist)||void 0===t||t.onClickNext():null===(n=this._nextPlugin)||void 0===n||n.onClick()}}),this.pushHandler({key:"KeyP",shift:!0,handler:()=>{var e,t;null!==(e=this._playlist)&&void 0!==e&&e.isShowPlaylistButtons&&(null===(t=this._playlist)||void 0===t||t.onClickPrev())}}),this.pushHandler({key:"KeyF",handler:()=>{this._fullscreen.handleFullscreen()}}),this.pushHandler({key:"Escape",handler:()=>{this._fullscreen.isFullscreen?this._fullscreen.handleFullscreen():jr.Ug.emit(fi.L2.ESCAPE_PRESS,{})}}),this.pushHandler({key:"KeyT",handler:()=>{var e;null===(e=this._cinema)||void 0===e||e.handleCinema()}}),this.pushHandler({key:"KeyI",handler:()=>{var e;null===(e=this._pip)||void 0===e||e.togglePiP()}}),this.pushHandler({key:["Digit0","Digit1","Digit2","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9"],handler:t=>{if(e())return;const n=parseInt(t.key.replace("Digit",""),10),i=this._playback.duration;if(i&&!(i<=0)){if(n>0){const e=n*Math.ceil(i/10);this._playback.seek(e,"hotkey")}else this._playback.seek(0,"hotkey");this._eventEmitter.emit(xn.percentRewind,{label:10*n+"%"||""})}}}),this.pushHandler({key:"Comma",handler:()=>{if(this._playback.isLive)return;const e=this._playback.changePlayBackRate("down");this._eventEmitter.emit(xn.playbackRate,{newRate:e})}}),this.pushHandler({key:"Period",handler:()=>{if(this._playback.isLive)return;const e=this._playback.changePlayBackRate("up");this._eventEmitter.emit(xn.playbackRate,{newRate:e})}})}getTimeMark(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const i=this._playback.progress,r=this._playback.duration,a=null!==(e=null===(t=this._controls)||void 0===t?void 0:t.chapters)&&void 0!==e?e:[],s=Math.round(r*i/100),o=n?[...a].reverse():a;if(1===o.length)return{};const l=o.find((e=>{let{start:t}=e;return n?t<s-.8:t>s}));if(!l)return{};const{start:u,name:c}=l;return{time:u,label:`${(0,Jd.a3)({value:u})} â€” ${c}`}}nextFrameForward(){this._playback.paused&&this._playback.seek(this._playback.currentTime+this.frameDuration,"hotkey")}nextFrameBackward(){this._playback.paused&&this._playback.seek(this._playback.currentTime-this.frameDuration,"hotkey")}defaultBackwardSeek(){var e;if(this._playback.ended)return;const t=this._playback.currentTime;this._playback.seekBack(10,"hotkey"),null===(e=this._counterHelper)||void 0===e||e.get("mainContentPlaybackRewindMode")({rewindType:dv.E.HOTKEY,rewindDirection:dv.U.BACK}),this._eventEmitter.emit(xn.seekBackward,t)}defaultForwardSeek(){var e;if(this._playback.ended)return;const t=this._playback.currentTime;this._playback.seekForward(10,"hotkey"),null===(e=this._counterHelper)||void 0===e||e.get("mainContentPlaybackRewindMode")({rewindType:dv.E.HOTKEY,rewindDirection:dv.U.FORWARD}),this._eventEmitter.emit(xn.seekForward,t)}get frameDuration(){var e;return(null===(e=this._qualitiesPlugin)||void 0===e||null===(e=e.activeQuality)||void 0===e?void 0:e.frameDuration)||fi.hW}},({e:[cw],c:[hw,dw]}=(0,S.A)(uw,[(0,k.k_)({implement:"IShortcutsPlugin",ctor_args:["IPlayback","IFullscreenPlugin","ICaptionsPlugin","IStatisticState",{implement:"INextVideoPlugin",optional:!0},{implement:"IPlaylistPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"IStubPlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0},{implement:"CinemaModePlugin",optional:!0},{implement:"IQualitiesPlugin",optional:!0},{implement:"IControlsPlugin",optional:!0},{implement:"IActivitiesPlugin",optional:!0}]})],[[(0,k.o7)(),2,"initVideo"],[(0,k.o7)(),2,"initShortuctsEnabled"]],0,void 0,lw)),dw();const pw="ÐžÑˆÐ¸Ð±ÐºÐ° Ð²Ð¾ Ð²Ñ€ÐµÐ¼Ñ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸",vw="ÐÐ²Ñ‚Ð¾Ñ€ Ð½Ðµ Ð´Ð¾Ð±Ð°Ð²Ð¸Ð» ÑÐµÑ€Ð¸Ð¸ Ð² ÑÑ‚Ð¾Ñ‚ ÑÐµÐ·Ð¾Ð½",mw="Ð’Ñ‹ ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ",_w="raichuSeasonsPanel",fw=7777777,gw=8888888;var yw;let bw,Ew,ww;var Sw;let Aw,kw,Cw;yw=class extends ar{constructor(e,t,n,i,r){bw((super(e,t,n,r),this.playerConfig=n,this.pip=i,this))}initFollowedResourceId(){return(0,A.mJ)((()=>{var e;return null===(e=this.playerConfig)||void 0===e?void 0:e.get("followedResourceId")}),(e=>{this.followedResourceId=null!=e?e:fw}))}initFollowedLink(){return(0,A.mJ)((()=>{var e;return null===(e=this.playerConfig)||void 0===e?void 0:e.get("followedLink")}),(e=>{this.followedLink=String(e)}))}get shouldBeBackground(){return super.shouldBeBackground&&!this.isInPiP}get isInPiP(){var e,t;return null!==(e=null===(t=this.pip)||void 0===t?void 0:t.isInPiP)&&void 0!==e&&e}},({e:[bw],c:[ww,Ew]}=(0,S.A)(yw,[(0,k.k_)({implement:"IStatisticValues",ctor_args:["Resolve","IPlayback",{implement:"IPlayerConfigPlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0},"IVisibilityStatePlugin"]})],[[(0,k.o7)(),2,"initFollowedResourceId"],[(0,k.o7)(),2,"initFollowedLink"]],0,void 0,ar)),Ew();class Pw extends k.j8{constructor(e,t,n,i,r,a,s,o,l,u,c){super(),this.__playOptions=void Aw(this),this.__userSettings=void 0,this.__stubPlugin=void 0,this.__providerPlugin=void 0,this.__appearancePlugin=void 0,this.__playbackPlugin=void 0,this.__embedPlugin=void 0,this.__platformSubscription=void 0,this.__onlineOffline=void 0,this.isOfflineStubTriggired=!1,this._pip=l,this.config=u,this.__playOptions=e,this.__userSettings=t,this.__stubPlugin=n,this.__providerPlugin=i,this.__appearancePlugin=r,this.__playbackPlugin=a,this.__embedPlugin=s,this.__platformSubscription=o,this.__onlineOffline=c}init(){const e=(0,A.mJ)((()=>{var e,t;return{data:null===(e=this.__playOptions)||void 0===e?void 0:e.data,isAdultAllowed:this.__userSettings.isUserAdult,paused:this.__playbackPlugin.paused,videoId:null===(t=this.config)||void 0===t?void 0:t.get("videoId")}}),((e,t)=>{var n,i;let{data:r,videoId:a,isAdultAllowed:s}=e,{data:o,videoId:l}=t;if(l&&a!==l)this.__stubPlugin.stub=null;else if(r&&this.__playOptions)return r.is_adult?(this.stubCallbackWrapper((()=>this.setAdultStub(s)),!1),void(s||this.__playbackPlugin.paused||this.__playbackPlugin.pause())):void(null!==(n=r.detail)&&void 0!==n&&n.access_url?this.stubCallbackWrapper((()=>this.setAccessIframeStub())):r.iframe_url?this.stubCallbackWrapper((()=>this.setExternalPlayerStub())):"common_subscription"!==(null===(i=r.detail)||void 0===i?void 0:i.type)?r.detail?this.stubCallbackWrapper((()=>this.setCommonStub())):r.video_balancer||this.stubCallbackWrapper((()=>this.setErrorStub())):this.stubCallbackWrapper((()=>this.setSubscriptionStub())))})),t=(0,A.mJ)((()=>{var e;return{is_adult:null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.is_adult,isAdultAllowed:this.__userSettings.isUserAdult,paused:this.__playbackPlugin.paused}}),(e=>{let{is_adult:t,isAdultAllowed:n,paused:i}=e;if(t)return this.stubCallbackWrapper((()=>this.setAdultStub(n)),!1),void(n||i||this.__playbackPlugin.pause())})),n=(0,A.mJ)((()=>{var e;return null===(e=this.__playOptions)||void 0===e?void 0:e.hasLoadError}),(e=>{e&&this.stubCallbackWrapper((()=>this.setErrorStub()))})),i=(0,A.mJ)((()=>this.__providerPlugin.hasLoadError),(e=>{e&&this.stubCallbackWrapper((()=>this.setErrorStub()))})),r=(0,A.mJ)((()=>this.__providerPlugin.initError),(e=>{e&&this.stubCallbackWrapper((()=>this.setErrorStub()))})),a=(0,A.mJ)((()=>{var e;return null===(e=this.__embedPlugin)||void 0===e?void 0:e.allowed}),(e=>{e||this.stubCallbackWrapper((()=>this.setDistributionErrorStub()))})),s=(0,A.mJ)((()=>{var e,t;return{link:null===(e=this.__playOptions)||void 0===e?void 0:e.link,isLoaded:null===(t=this.__playOptions)||void 0===t?void 0:t.isPlayOptionsLoaded}}),(e=>{let{link:t,isLoaded:n}=e,i=!1;switch(typeof t){case"object":i=0===Object.keys(t).length;break;case"string":i=!t}n&&i?this.stubCallbackWrapper((()=>this.setStreamNotFoundStub())):this.__stubPlugin.stub=null}),{fireImmediately:!0});return()=>[e,t,n,i,a,r,s].forEach((e=>e()))}initOnline(){return(0,A.mJ)((()=>{var e,t;return{isOnline:null===(e=null===(t=this.__onlineOffline)||void 0===t?void 0:t.isOnline)||void 0===e||e,currentTime:this.__playbackPlugin.currentTime}}),(e=>{let{isOnline:t,currentTime:n}=e;this.__playbackPlugin.getBuffered()[2]-n<=.1&&(t?this.isOfflineStubTriggired&&(this.isOfflineStubTriggired=!1,this.__stubPlugin.stub=null):this.setOfflineStub())}))}setAdultStub(e){e?this.__stubPlugin.stub=null:this.__stubPlugin.setStub("infoWithAction",{btnText:fi.Oc[this.__stubPlugin.activeLanguage].btn,onBtnClick:()=>{this.__userSettings.isUserAdult=!0},title:fi.Oc[this.__stubPlugin.activeLanguage].title,description:fi.Oc[this.__stubPlugin.activeLanguage].description,backgroundImage:lr,backgroundColor:this.getBackgroundColor()})}setAccessIframeStub(){var e,t;this.__stubPlugin.setStub("iframe",{url:(null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.detail)||void 0===e?void 0:e.access_url)||"",isExternalLoading:!0,title:null===(t=this.__playOptions)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.video_id})}setExternalPlayerStub(){var e;this.__stubPlugin.setStub("iframe",{url:(null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.iframe_url)||""})}setSubscriptionStub(){var e,t,n,i,r,a,s,o,l;const u=null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.detail)||void 0===e||null===(e=e.languages)||void 0===e?void 0:e.find((e=>e.lang===this.__stubPlugin.activeLanguage)),c=this.getBackgroundColor(),d=null===(t=this.__playOptions)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.id,h=null===(n=this.config)||void 0===n?void 0:n.get("videoId"),p=!!this.__embedPlugin?d:h,v=p?`/api/video/${p}/thumbnail/?redirect=1`:null===(i=this.__playOptions)||void 0===i||null===(i=i.data)||void 0===i||null===(i=i.detail)||void 0===i?void 0:i.image,m=(null==u?void 0:u.url_title)||"ÐžÑ„Ð¾Ñ€Ð¼Ð¸Ñ‚ÑŒ",_=null!==(r=null===(a=this.__playOptions)||void 0===a||null===(a=a.data)||void 0===a||null===(a=a.detail)||void 0===a||null===(a=a.product_codes)||void 0===a?void 0:a[0])&&void 0!==r?r:void 0;null===(s=this.__platformSubscription)||void 0===s||s.handleStubSubscriptionRequest({productCode:_,type:"show"}),this.__stubPlugin.setStub("infoWithAction",{title:null!==(o=null==u?void 0:u.title)&&void 0!==o?o:"",description:null!==(l=null==u?void 0:u.description)&&void 0!==l?l:"",backgroundImage:v,backgroundColor:c,btnText:m,onBtnClick:()=>{var e;return null===(e=this.__platformSubscription)||void 0===e?void 0:e.handleStubSubscriptionRequest({productCode:_,type:"click"})},isBlurred:!!_})}setCommonStub(){var e,t;const n=null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.detail)||void 0===e||null===(e=e.languages)||void 0===e?void 0:e.find((e=>e.lang===this.__stubPlugin.activeLanguage));var i,r,a;null!==(t=this.__playOptions)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&null!==(t=t.detail)&&void 0!==t&&t.url?this.__stubPlugin.setStub("infoWithAction",{type:null===(i=this.__playOptions)||void 0===i||null===(i=i.data)||void 0===i||null===(i=i.detail)||void 0===i?void 0:i.type,title:(null==n?void 0:n.title)||"",description:(null==n?void 0:n.description)||"",backgroundImage:null===(r=this.__playOptions)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.detail)||void 0===r?void 0:r.image,btnText:(null==n?void 0:n.url_title)||"ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸",backgroundColor:this.getBackgroundColor(),onBtnClick:e=>{var t;e.preventDefault(),window.open(null===(t=this.__playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.detail)||void 0===t?void 0:t.url,"_blank")}}):this.__stubPlugin.setStub("info",{title:(null==n?void 0:n.title)||"",description:(null==n?void 0:n.description)||"",backgroundImage:null===(a=this.__playOptions)||void 0===a||null===(a=a.data)||void 0===a||null===(a=a.detail)||void 0===a?void 0:a.image})}setErrorStub(){this.__stubPlugin.setStub("info",{title:fi.gE[this.__stubPlugin.activeLanguage].title,backgroundImage:lr})}setDistributionErrorStub(){this.__stubPlugin.setStub("info",{title:fi.Rx[this.__stubPlugin.activeLanguage].title,backgroundImage:lr})}getBackgroundColor(){var e;return this.__embedPlugin&&null!==(e=this.__appearancePlugin)&&void 0!==e&&e.color?this.__appearancePlugin.color:"var(--pen-accent)"}stubCallbackWrapper(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._pip&&this._pip.isInPiP&&t&&this._pip.exitFromPiP(),e()}setOfflineStub(){this.__stubPlugin.setStub("info",{title:fi.D7[this.__stubPlugin.activeLanguage].title}),this.isOfflineStubTriggired=!0}setStreamNotFoundStub(){this.__stubPlugin.setStub("info",{title:fi.gE[this.__stubPlugin.activeLanguage].title,backgroundImage:lr})}}function Tw(){try{return JSON.parse(Fi(fi.Ok.USER_HISTORY)||"{}")}catch(e){return console.warn(e),{}}}function Iw(e){const t=Tw();return t[e]?t[e]:void 0}function Rw(e){return e.progress&&e.progress>=100?0:e.seconds}var Lw;let xw;Sw=Pw,({e:[Aw],c:[Cw,kw]}=(0,S.A)(Sw,[(0,k.k_)({implement:"IStubsTriggerPlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},"IUserSettingsPlugin","IStubPlugin","IProviderPlugin",{implement:"IAppearancePlugin",optional:!0},"IPlayback",{implement:"IEmbedPlugin",optional:!0},{implement:"IPlatformSubscriptionPlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0},{implement:"IPlayerConfigPlugin",optional:!0},{implement:"IOnlineOfflinePlugin",optional:!0}]})],[[(0,k.o7)(),2,"init"],[(0,k.o7)(),2,"initOnline"]],0,void 0,k.j8)),kw();class Ow extends k.j8{constructor(e,t){super(),this.videoId=void xw(this),this._initStorage=()=>{const e=Fi(fi.Ok.USER_HISTORY);if(e){const t=JSON.parse(e);for(const e in t)Date.now()-t[e].date>=2592e6&&delete t[e];Hi(fi.Ok.USER_HISTORY,JSON.stringify(t))}else Hi(fi.Ok.USER_HISTORY,JSON.stringify({}))},this.playback=e,this.videoId=t}getVideoProgress(e){const t=Iw(e);if(t)return Rw(t)}updateVideoId(e){this.videoId=e}init(){this._initStorage();const e=[(0,A.mJ)((()=>this.playback.currentTime),(e=>{this.playback.isPlaying&&this.playback.progress>0&&function(e){let{videoId:t,progress:n,seconds:i}=e;try{const e=Tw(),r=(0,l.A)((0,l.A)({},e),{},{[t]:{videoId:t,progress:n,seconds:i,date:Date.now()}});Hi(fi.Ok.USER_HISTORY,JSON.stringify(r))}catch(e){console.info(e)}}({videoId:this.videoId,progress:this.playback.progress,seconds:e})}))];return()=>e.forEach((e=>e()))}}Lw=Ow,[xw]=(0,S.A)(Lw,[],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8).e;const Nw=async(e,t)=>{let n=null;const r=await(e=>{const t=(0,i.Kj)({t:String(Math.floor(Date.now()/1e3))});return fetch(`${Ep()}/api/video/position/${e}?${t.toString()}`).then((e=>e.ok?e.json():null)).catch((e=>(console.warn(e),null)))})(e);if(!r)return null;const a=Math.floor(r?r.pos:0);if(a>0&&t){n={progress:a/(t/1e3)*100,seconds:a,date:1e3*r.etc}}return n};var Dw;let Mw,Bw;var Fw;let Hw,Vw,Uw;Dw=class extends Ow{constructor(e,t){super(e,t.get("videoId")),(0,A.Gn)(this,{fetchVideoProgress:A.L3})}*fetchVideoProgress(e,t,n){const i=Iw(e);let r=null;return n&&(r=yield Nw(e,t)),n&&r||!i?r&&!i?Rw(r):r&&i?i.date>r.date?Rw(i):Rw(r):void 0:Rw(i)}},[Bw,Mw]=(0,S.A)(Dw,[(0,k.k_)({implement:"IVideoHistoryPlugin",ctor_args:["IPlayback","IPlayerConfigPlugin"]})],[],0,void 0,Ow).c,Mw();class jw extends k.j8{constructor(e,t,n,i,r){var a;super(),this._active=(Hw(this),A.sH.box(!1)),this._isMounted=A.sH.box(!1),this._isProviderInit=A.sH.box(!1),this._isReplayAllowed=A.sH.box(!0),this._playerStatus=A.sH.box(""),this._provider=A.sH.box(null),this._wasFirstPlay=A.sH.box(!1),this._wasVideoStarted=A.sH.box(!1),this._advertPhase=A.sH.box(void 0),this._eventBus=void 0,this._stubStore=e,this.playback=t,this._playOptions=n,this.advert=i,this._eventBus=null!==(a=null==r?void 0:r.value)&&void 0!==a?a:jr.Ug,(0,A.Gn)(this,{active:A.EW,isMounted:A.EW,isProviderInit:A.EW,isReplayAllowed:A.EW,playerStatus:A.EW,wasFirstPlay:A.EW,wasVideoStarted:A.EW,advertPhase:A.EW})}init(){const e=[];e.push((0,A.mJ)((()=>{var e;return null===(e=this._stubStore.stub)||void 0===e?void 0:e.type}),(e=>{e&&(this.playerStatus="error")}))),e.push(this.getChangeStateReaction()),e.push((0,A.mJ)((()=>this.playback.ended),(e=>{e&&(this.playerStatus="completed")}))),e.push((0,A.mJ)((()=>this.playback.seeking),(e=>{e&&(this.playerStatus="seeking")}))),e.push((0,A.mJ)((()=>this.playback.isPlaying),(e=>{e&&(this.playerStatus="playing")}))),e.push((0,A.mJ)((()=>{var e;return null===(e=this.advert)||void 0===e?void 0:e.isPlaying}),(e=>{this.playerStatus="advert",this.advertPhase=e?"playing":"complete"}))),e.push((0,A.mJ)((()=>{var e;return null===(e=this.advert)||void 0===e?void 0:e.isLoading}),(e=>{e&&(this.playerStatus="advert",this.advertPhase="prepare")})));const t=()=>{this.playerStatus="seeked"},n=()=>{this.playerStatus="buffering"},i=()=>{this.playerStatus="pause"};return this.playback.player.addEventListener("seeked",t),this.playback.player.addEventListener("waiting",n),this.playback.player.addEventListener("pause",i),e.push((()=>{var e;null===(e=this._provider.get())||void 0===e||e.destroy(),this.playback.player.removeEventListener("seeked",t),this.playback.player.removeEventListener("waiting",n),this.playback.player.removeEventListener("pause",i)})),()=>e.forEach((e=>e()))}getChangeStateReaction(){return(0,A.mJ)((()=>({playerStatus:this.playerStatus,advertPhase:this.advertPhase})),(e=>{var t,n;let{playerStatus:i,advertPhase:r}=e;this._eventBus.emit(fi.L2.CHANGE_STATE,{status:i,state:i,isLicensed:Boolean(null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.is_licensed),phase:"advert"===i?r:void 0,isPlaying:this.playback.isPlaying||(null===(n=this.advert)||void 0===n?void 0:n.isPlaying)||!1})}))}get active(){return this._active.get()}set active(e){this._active.set(e)}get isMounted(){return this._isMounted.get()}set isMounted(e){this._isMounted.set(e)}get isProviderInit(){return this._isProviderInit.get()}set isProviderInit(e){this._isProviderInit.set(e)}get provider(){return this._provider.get()}set provider(e){this._provider.set(e)}get isReplayAllowed(){return this._isReplayAllowed.get()}set isReplayAllowed(e){this._isReplayAllowed.set(e)}get playerStatus(){return this._playerStatus.get()}set playerStatus(e){this._playerStatus.set(e)}get isLoading(){return"loading"===this._playerStatus.get()}get isPlaying(){return"playing"===this._playerStatus.get()}get isPaused(){return"pause"===this._playerStatus.get()}get getIsEnded(){return"completed"===this._playerStatus.get()}get wasFirstPlay(){return this._wasFirstPlay.get()}set wasFirstPlay(e){this._wasFirstPlay.set(e)}get wasVideoStarted(){return this._wasVideoStarted.get()}set wasVideoStarted(e){this._wasVideoStarted.set(e)}get advertPhase(){return this._advertPhase.get()}set advertPhase(e){this._advertPhase.set(e)}}var Ww;let zw,$w,Gw;Fw=jw,({e:[Hw],c:[Uw,Vw]}=(0,S.A)(Fw,[(0,k.k_)({implement:"IPlayerStatusState",ctor_args:["IStubPlugin","IPlayback",{implement:"IDataPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"EventBus",optional:!0}]})],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),Vw();class qw extends k.j8{constructor(){super(...arguments),this.__isOnline=(zw(this),A.sH.box(!0))}init(){return this.initOnlineOfflineHandlers()}initOnlineOfflineHandlers(){const e=()=>{this.isOnline=!1},t=()=>{this.isOnline=!0};return window.addEventListener("offline",e),window.addEventListener("online",t),()=>{window.removeEventListener("offline",e),window.removeEventListener("online",t)}}get isOnline(){return this.__isOnline.get()}set isOnline(e){this.__isOnline.set(e)}}var Kw;let Yw,Qw,Xw;Ww=qw,({e:[zw],c:[Gw,$w]}=(0,S.A)(Ww,[(0,k.k_)("IOnlineOfflinePlugin")],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),$w();Kw=class extends Gw{constructor(e,t,n){super(),this._wasPlayingBeforeOffline=(Yw(this),!1),this._playbackPlugin=e,this._providerPlugin=t,this._visibilityState=n}initPlugin(){return(0,A.mJ)((()=>this.isOnline),(e=>{this._handleOnline(e)}))}_handleOnline(e){var t,n,i;null===(t=this._providerPlugin.provider)||void 0===t||null===(n=t.onOnlineToggle)||void 0===n||n.call(t,e),e?(null!==(i=this._providerPlugin.provider)&&void 0!==i&&i.startLoad?this._providerPlugin.provider.startLoad():this._playbackPlugin.load(),this._wasPlayingBeforeOffline&&this._visibilityState.isVisible&&(this._playbackPlugin.play(),this._wasPlayingBeforeOffline=!1),qt.B.isiOSMobile&&(this._playbackPlugin.readyState<=2&&this._playbackPlugin.paused&&this._playbackPlugin.play(),this._playbackPlugin.seek(this._playbackPlugin.currentTime+.1))):this._wasPlayingBeforeOffline=this._playbackPlugin.isPlaying||this._playbackPlugin.buffering}},({e:[Yw],c:[Xw,Qw]}=(0,S.A)(Kw,[(0,k.k_)({implement:"IOnlineOfflinePlugin",ctor_args:["IPlayback","IProviderPlugin","IVisibilityStatePlugin"]})],[[(0,k.o7)(),2,"initPlugin"],[k.zm,2,"_handleOnline"]],0,void 0,Gw)),Qw();const Zw={default:"dm",fullscreen:"tm",mini:"pip",audio:"au"};let Jw=function(e){return e.START="start",e.INITIALIZED="initialized",e.BALANCER_REQUEST="balancer_request",e.VIDEO_PLAYING="video_playing",e.VIDEO_PAUSE="video_pause",e.BUFFERING="buffering",e.VIDEO_PLAYING_END="video_playing_end",e.A_REQUEST="a_request",e.A_PLAYING="a_playing",e.ERROR="error",e.FATAL="fatal",e}({}),eS=function(e){return e.START="start",e.OPTIONS_REQUEST="options_request",e.OPTIONS_LOADED="options_loaded",e.BL_REQUEST="bl_request",e.PROVIDER_INITED="provider_inited",e.PROVIDER_INIT_ERROR="provider_init_error",e.PLAY_START="play_start",e.REWIND="rewind",e.PAUSE="pause",e.UNPAUSE="unpause",e.CHANGE_SM="change_sm",e.CHANGE_Q="change_q",e.Q_UP="quality_up",e.Q_DOWN="quality_down",e.CHANGE_QM="change_qm",e.CHANGE_V="change_v",e.TEN_SEC="10sec",e.A_BLOCKER_FOUND="a_blocker_found",e.A_REQUEST="a_request",e.A_START="a_start",e.A_END="a_end",e.A_INIT_ERROR="a_init_error",e.AD_REQUEST="ad_request",e.AD_LOAD="ad_load",e.AD_START_TRIGGERED="ad_start_triggered",e.AD_STARTED="ad_started",e.AD_ALREADY_STARTED="ad_already_started",e.AD_START_ON_CHANGE_STATE="ad_start_on_change_state",e.AD_ERROR="ad_error",e.AD_LOAD_ERROR="ad_load_error",e.AD_START_ERROR="ad_start_error",e.AD_PLAYING_ERROR="ad_playing_error",e.END="end",e.BUFFERING_START="buffering_start",e.BUFFERING_END="buffering_end",e.ERROR="error",e.FATAL_ERROR="fatal_error",e.SWITCH_CDN="switch_cdn",e.FIRST_FRAGMENT="first_fragment",e.SEQUENCE_ERROR="sequence_error",e.SHOW_LOADER="show_loader",e.HIDE_LOADER="hide_loader",e.BUFFERING_TIME="buffering_time",e.LONG_STARTUP_BUFFERING_TIME="long_startup_buffering_time",e}({});var tS=s(4823);const nS=()=>`${(()=>{const e=`https://log.${window.location.host}`.replace(/qa\.|aq\.|qaq\./,"");return tS.env.LOG||e})()}/player_events/?{{params}}`,iS=["errorMessage"];var rS;let aS,sS,oS;class lS extends k.j8{logUpDownQuality(e){var t,n;const i=null===(t=this.__providerPlugin.provider)||void 0===t?void 0:t.instance,r="function"==typeof(null==i?void 0:i.levels)?i.levels():null==i?void 0:i.levels;if(!i||!r)return;const a=r[i.currentLevel||0],s=r[e],o=s.height>=a.height?eS.Q_UP:eS.Q_DOWN;null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(o,s.height.toString())})}constructor(e,t,n,i,r,a,s,o,l,u,c,d,h,p){super(),this.__playOptions=void aS(this),this.__providerPlugin=void 0,this.__playbackPlugin=void 0,this.__videoLayout=void 0,this.__advertPlugin=void 0,this.__statisticStore=void 0,this.__statisticWatchTime=void 0,this.__stubStore=void 0,this.__errorPlugin=void 0,this.__counterHelper=void 0,this.__playerConfig=void 0,this.__statisticValues=void 0,this.__statistics=void 0,this.__firstFragmentEventSend=!1,this.__firstFragmentCounter=0,this.__bufferingStartTime=0,this.__isStartupBuffering=!0,this.__playerStatus=void 0,this.__isPlayStarted=!1,this.__app=void 0,this.__lastMessages={},this.__eventsToThrottle=[Ss,As],this.LONG_STARTUP_BUFFERING_THRESHOLD_MS=1e3,this.onVideoStarted=()=>{var e;this.__isPlayStarted=!0,null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.PLAY_START)})},this.onVideoHasBeenStarted=()=>{var e;if(!this.__playbackPlugin.isStatStartSent)return void this.__playbackPlugin.player.removeEventListener("playing",this.onVideoStarted);const t=this.__providerPlugin.activeQualityLevel;(null===(e=this.__providerPlugin.provider)||void 0===e||null===(e=e.instance)||void 0===e?void 0:e.levels)&&t?this.onVideoStarted():this.__playbackPlugin.player.addEventListener("playing",this.onVideoStarted,{once:!0})},this.videoTagErrorHandler=e=>{var t;this.__playerStatus=Jw.ERROR,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.ERROR,e.message)})},this.videoTagLoadStartHandler=()=>{var e;"m3u8"===(0,R.rS)(this.__playbackPlugin.player.src)&&(this.__playerStatus=Jw.BALANCER_REQUEST,null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.BL_REQUEST)}))},this._shouldSendEvent=e=>{if(!this.__eventsToThrottle.includes(e))return!0;const t=Date.now(),n=!this.__lastMessages[e]||t-this.__lastMessages[e]>500;return this.__lastMessages[e]=t,n},this._playerVersion=p,this.__playOptions=e,this.__providerPlugin=t,this.__playbackPlugin=n,this.__statisticStore=i,this.__statisticWatchTime=r,this.__stubStore=a,this.__videoLayout=s,this.__advertPlugin=o,this.__errorPlugin=l,this.__counterHelper=c&&c instanceof pt?c.counterHelper:void 0,this.__app=d.value,this.__playerConfig=u,this.__statisticValues=h,this.__statistics=c,this.handlePlaying=this.handlePlaying.bind(this),this.handleBuffering=this.handleBuffering.bind(this),this.handleFirstFragment=this.handleFirstFragment.bind(this)}init(){const e=this.setLoggerStat(),t=(0,A.mJ)((()=>this.__playerConfig.get("videoId")),(e=>{var t;e&&(this.__playerStatus=Jw.START,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.START)}),this.__isPlayStarted=!1,this.__firstFragmentEventSend=!1,this.__lastMessages={})}),{fireImmediately:!0}),n=(0,A.mJ)((()=>{var e;return null===(e=this.__playOptions)||void 0===e?void 0:e.playOptionsRequested}),(e=>{var t;e&&(this.__playerStatus=Jw.INITIALIZED,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.OPTIONS_REQUEST)}))}),{fireImmediately:!0}),i=(0,A.mJ)((()=>{var e;return null===(e=this.__playOptions)||void 0===e?void 0:e.isPlayOptionsLoaded}),(e=>{var t;e&&(this.__playerStatus=Jw.INITIALIZED,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.OPTIONS_LOADED)}))}),{fireImmediately:!0}),r=(0,A.mJ)((()=>this.__playbackPlugin.isStatStartSent),this.onVideoHasBeenStarted),a=(0,A.mJ)((()=>this.__playbackPlugin.isPlaying),this.handlePlaying.bind(this)),s=this.subscribePlaybackEvent(Ln.p.seek,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.REWIND)})})),o=(0,A.mJ)((()=>this.__providerPlugin.qualities),(e=>{var t;null!=e&&e.length&&(this.__playerStatus=Jw.BALANCER_REQUEST,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.BL_REQUEST)}))})),l=(0,A.mJ)((()=>this.__playbackPlugin.buffering),this.handleBuffering.bind(this)),u=(0,A.mJ)((()=>({videoId:this.__playerConfig.get("videoId"),playerMode:this.__videoLayout.playerMode})),(e=>{let{videoId:t,playerMode:n}=e;var i;t&&n&&(null===(i=this.__counterHelper)||void 0===i||i.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.CHANGE_SM)}))})),c=(0,A.mJ)((()=>this.__playbackPlugin.isPlayerReady),(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.CHANGE_QM)})})),d=(0,A.mJ)((()=>this.__providerPlugin.activeQualityLevel),(e=>{var t;this.logUpDownQuality(e),null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.CHANGE_Q)})})),h=this.subscribePlaybackEvent(Ln.p.volumeChange,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.CHANGE_V)})})),p=(0,A.mJ)((()=>this.__statisticWatchTime.tenSecPassed),(e=>{var t;e&&(null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.TEN_SEC)}))})),v=this.subscribeAdvertEvent(ra.adBlockerFound,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.A_BLOCKER_FOUND)})})),m=this.subscribeAdvertEvent(ra.request,(e=>{var t;null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.AD_REQUEST,void 0,{adProvider:e.provider})})})),_=this.subscribeAdvertEvent(ra.load,(()=>{var e,t;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.A_REQUEST)}),null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.AD_LOAD)})})),f=this.subscribeAdvertEvent(ra.startTriggered,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.AD_START_TRIGGERED)})})),g=this.subscribeAdvertEvent(ra.start,(()=>{var e,t;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.A_START)}),null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.AD_STARTED)})})),y=this.subscribeAdvertEvent(ra.alreadyStarted,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.AD_ALREADY_STARTED)})})),b=this.subscribeAdvertEvent(ra.startOnStateChange,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.AD_START_ON_CHANGE_STATE)})})),E=this.subscribeAdvertEvent(ra.end,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.A_END)})})),w=this.subscribeAdvertEvent(ra.error,(e=>{var t;const n=eS[`AD_${e.phase.toUpperCase()}_ERROR`]||eS.AD_ERROR,{errorMessage:i}=e,r=(0,Cr.A)(e,iS);null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(n,e.errorMessage,e.errorMessage?r:void 0)})})),S=this.subscribeAdvertEvent(ra.initError,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.A_INIT_ERROR)})})),k=(0,A.mJ)((()=>this.__errorPlugin.error),(e=>{var t;e&&(null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.ERROR,e)}))})),C=(0,A.mJ)((()=>this.__providerPlugin.isProviderInit),(e=>{if(e){var t;const e=null===(t=this.__providerPlugin.provider)||void 0===t?void 0:t.instance;if("Hls"===this.__providerPlugin.type)return this.handleHlsError(e);if("Dash"===this.__providerPlugin.type)return this.handleDashError(e)}})),P=(0,A.mJ)((()=>this.__providerPlugin.isProviderInit),(e=>{if(e&&"Hls"===this.__providerPlugin.type){var t,n;const e=null===(t=this.__providerPlugin.provider)||void 0===t?void 0:t.instance;var i;if(null!==(n=this.__providerPlugin.provider)&&void 0!==n&&null!==(n=n.Hls)&&void 0!==n&&n.Events.FRAG_LOADED)e.on(null===(i=this.__providerPlugin.provider)||void 0===i||null===(i=i.Hls)||void 0===i?void 0:i.Events.FRAG_LOADED,this.handleFirstFragment.bind(this));return()=>{var t,n;null!==(t=this.__providerPlugin.provider)&&void 0!==t&&null!==(t=t.Hls)&&void 0!==t&&t.Events.FRAG_LOADED&&e.off(null===(n=this.__providerPlugin.provider)||void 0===n||null===(n=n.Hls)||void 0===n?void 0:n.Events.FRAG_LOADED,this.handleFirstFragment.bind(this))}}})),T=(0,A.mJ)((()=>this.__providerPlugin.isProviderInit),(e=>{var t;e&&(null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.PROVIDER_INITED)}))})),I=(0,A.mJ)((()=>this.__providerPlugin.initError),(e=>{var t;e&&(console.warn(e),null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.PROVIDER_INIT_ERROR,e)}))})),R=(0,A.mJ)((()=>this.__playbackPlugin.ended),(e=>{var t;e&&(this.__playerStatus=Jw.VIDEO_PLAYING_END,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.END)}))})),L=(0,A.mJ)((()=>this.__playbackPlugin.player),(e=>(e&&(e.addEventListener("error",this.videoTagErrorHandler),e.addEventListener("loadstart",this.videoTagLoadStartHandler)),()=>{e.removeEventListener("loadstart",this.videoTagLoadStartHandler),e.removeEventListener("error",this.videoTagErrorHandler)}))),x=(0,A.mJ)((()=>({showLoader:this.__playbackPlugin.waiting,wasStarted:this.__playbackPlugin.wasStarted})),(e=>{var t;let{showLoader:n,wasStarted:i}=e;i&&(null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(n?eS.SHOW_LOADER:eS.HIDE_LOADER)}))})),O=(0,A.mJ)((()=>({showLoader:this.__playbackPlugin.waiting,wasStarted:this.__playbackPlugin.wasStarted})),(e=>{let{showLoader:t,wasStarted:n}=e;if(n)if(t)this.__bufferingStartTime=Date.now();else if(this.__bufferingStartTime>0){var i;const e=Date.now()-this.__bufferingStartTime;var r;if(null===(i=this.__counterHelper)||void 0===i||i.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.BUFFERING_TIME,"",{time:e})}),this.__isStartupBuffering&&e>this.LONG_STARTUP_BUFFERING_THRESHOLD_MS)null===(r=this.__counterHelper)||void 0===r||r.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.LONG_STARTUP_BUFFERING_TIME)});this.__bufferingStartTime=0,this.__isStartupBuffering=!1}})),N=(0,A.mJ)((()=>this.__providerPlugin.cdnHost),((e,t)=>{var n;e&&t&&t!==e&&(null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.SWITCH_CDN,`host switched from ${t} to ${e}`)}))})),D=(0,A.mJ)((()=>({isFatalError:this.__providerPlugin.hasLoadError||this.__providerPlugin.initError})),(e=>{let{isFatalError:t}=e;var n;t&&(null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.FATAL_ERROR,"provider_issue_occurred")}))}));return()=>[e,t,n,i,r,a,s,c,o,d,l,u,h,p,v,_,g,f,y,b,E,w,S,m,k,C,R,L,T,I,P,x,O,N,D].forEach((e=>e()))}setLoggerStat(){return(0,A.h5)((()=>this.__statisticStore.statAdditional=[{count:1,delay:0,method:"get",name:"logger",start:0,url_template:nS()}])),()=>{this.__statisticStore.statAdditional=[]}}handlePlaying(e){var t,n;e?(this.__playerStatus=Jw.VIDEO_PLAYING,this.__isPlayStarted&&(null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.UNPAUSE)}))):(this.__playerStatus=Jw.VIDEO_PAUSE,null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.PAUSE)}))}handleFirstFragment(){var e;null!==(e=this.__playOptions)&&void 0!==e&&e.data&&(this.__firstFragmentCounter++,1!==this.__firstFragmentCounter&&(this.__firstFragmentEventSend||(this.__firstFragmentEventSend=!0,(0,A.z7)((()=>this.__playbackPlugin.readyState>=1),(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.FIRST_FRAGMENT)})})))))}handleBuffering(e){var t,n;(this.__playerStatus=Jw.BUFFERING,e)?null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.BUFFERING_START)}):null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.BUFFERING_END)})}handleDashError(e){const t=e=>{var t;this.__playerStatus=Jw.ERROR;const n=Vs(e);null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.ERROR,n)}),console.warn(n)};return e.on("error",t),()=>{e.off("error",t)}}handleHlsError(e){var t;const n=(e,t)=>{this.__playerStatus=t.fatal?Jw.FATAL:void 0;let n="Unknown Error";var i;(t&&(n=t.details in Os?Os[t.details]:Hs(`${t.type||"Unknown type"}`,`${t.details||"Unknown Details"}`)),this._shouldSendEvent(n))&&(null===(i=this.__counterHelper)||void 0===i||i.get("mainLoggerSend")({queryParams:this.getLoggerParams(eS.ERROR,n)}));console.warn(n,this.__playerStatus)};var i;null!==(t=this.__providerPlugin.provider)&&void 0!==t&&null!==(t=t.Hls)&&void 0!==t&&t.Events.ERROR&&(null==e||e.on(null===(i=this.__providerPlugin.provider)||void 0===i||null===(i=i.Hls)||void 0===i?void 0:i.Events.ERROR,n));return()=>{var t,i;null!==(t=this.__providerPlugin.provider)&&void 0!==t&&null!==(t=t.Hls)&&void 0!==t&&t.Events.ERROR&&(null==e||e.off(null===(i=this.__providerPlugin.provider)||void 0===i||null===(i=i.Hls)||void 0===i?void 0:i.Events.ERROR,n))}}_getBandwidth(){var e;const t=null===(e=this.__providerPlugin.provider)||void 0===e||null===(e=e.instance)||void 0===e?void 0:e.bandwidthEstimate;return!t||Number.isNaN(t)?null:"function"==typeof t?t():t}_getAdvertParams(e,t){var n,i,r,a,s,o;if(!["a_request","a_start","a_end","a_init_error","ad_request","ad_load","ad_start_triggered","ad_started","ad_already_started","ad_start_on_change_state","ad_error","ad_load_error","ad_start_error","ad_playing_error"].includes(e))return{};const l=null===(n=this.__advertPlugin)||void 0===n?void 0:n.currentAdvert,u=(null==t?void 0:t.adProvider)||(null===(i=this.__advertPlugin)||void 0===i?void 0:i.currentProvider);return{axurl:(null==u?void 0:u.url_template)||(null==l?void 0:l.url_template),aformat:null==l?void 0:l.name,owner_id:null==u?void 0:u.ownerId,campaign_id:null==u||null===(r=u.placeholders)||void 0===r?void 0:r.campaignId,ad_id:null==u||null===(a=u.placeholders)||void 0===a?void 0:a.advertId,rule_id:null===(s=this.__playOptions)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.meta.advert_rule_id,ads_request_id:(null===(o=this.__advertPlugin)||void 0===o?void 0:o.currentAdvertUid)||"",ad_traceid:t&&"traceId"in t?t.traceId:"",ad_error_code:t&&"errorCode"in t?t.errorCode:""}}getVideoId(){var e;let t=this.__playerConfig.get("videoId");var n;t===(null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.id.toString())&&(t=null===(n=this.__playOptions)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.video_id);return t}getLoggerParams(e,t,n){var r,a,s,o;const u=(null===(r=this.__playOptions)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.id)||"",c=this.__statisticValues.guid,d=this.__providerPlugin.autoQuality,h=null===(a=this.__stubStore.stub)||void 0===a?void 0:a.type,p=this.__videoLayout.playerMode,v=null===(s=this.__providerPlugin.provider)||void 0===s?void 0:s.instance,m="function"==typeof(null==v?void 0:v.levels)?v.levels():null==v?void 0:v.levels,_=(null==v?void 0:v.currentLevel)||0,f=null==m?void 0:m[_],{edge:g,dive:y}=HE(f),b=this.__playbackPlugin.currentTime?+(1e3*this.__playbackPlugin.currentTime).toFixed(0):void 0,E=this.__playbackPlugin.muted?0:(100*(this.__playbackPlugin.volume||0)).toFixed(0),w=this.__videoLayout.isFullScreen?"fm":Zw[p||"default"],S=this._getAdvertParams(e,n&&"adProvider"in n?n:void 0),A=this._getBandwidth(),k=this.__playerConfig.get("ts"),C=(n&&"time"in n?n.time:void 0)||("number"==typeof k?Date.now()-k:this.__statisticWatchTime.watchTime),P=this.__statistics?this.__statistics.viewCount+1:0,T=this.__statisticStore.getCid(),I=(0,i.al)(window.location.href),L=I.hasOwnProperty("referer")?I.referer||"":(0,R.If)(),x=(0,l.A)({app:this.__app,ms:C,did:this.did,pid:c,sid:this.uuid,view_id:null===(o=this.__playOptions)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.view_id,uid:this.uid,ps:this.__playerStatus,e:e,referer:L,tl:b,video_id:this.getVideoId(),track_id:u.toString(),sm:w,qm:d?"auto":"manual",qw:f&&(null==f?void 0:f.width),qh:f&&(null==f?void 0:f.height),codec:null==f?void 0:f.videoCodec,v:E,l:h,tr:this.__providerPlugin.type||void 0,edge:g,dive:y,bw:A?Math.round(A):null,ver:this._playerVersion.value,em:t,passmediaid:this.passmediaid,vsid:this.__playerConfig.get("visitorId"),cid:T,cyc:P},S),O=Object.keys(x).filter((e=>!!x[e]||0===x[e])).reduce(((e,t)=>(e[t]=x[t],e)),{app:"raichu"}),N=Object.keys(O).reduce(((e,t)=>{var n,i;return e[t]=null!==(n=null===(i=O[t])||void 0===i?void 0:i.toString())&&void 0!==n?n:"",e}),{});return new URLSearchParams(N).toString()}get passmediaid(){return Vi("passmediaid")||""}get uid(){return this.__playerConfig.get("userId")}get did(){return(0,e.kJ)()}get uuid(){return this.__statisticValues.uuid}subscribePlaybackEvent(e,t){return this.__playbackPlugin.on(e,t),()=>{this.__playbackPlugin.off(e,t)}}subscribeAdvertEvent(e,t){var n;return null===(n=this.__advertPlugin)||void 0===n||n.on(e,t),()=>{var n;null===(n=this.__advertPlugin)||void 0===n||n.off(e,t)}}}rS=lS,({e:[aS],c:[oS,sS]}=(0,S.A)(rS,[(0,k.k_)({implement:"ILoggerPlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},"IProviderPlugin","IPlayback","IStatisticStore","IStatisticWatchTimePlugin","IStubPlugin","IVideoLayoutPlugin",{implement:"IAdvertPlugin",optional:!0},"IErrorPlugin","IPlayerConfigPlugin",{implement:"IStatisticState",optional:!0},"LoggerNamespace","IStatisticValues","PlayerVersion"]})],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),sS();var uS;let cS,dS,hS;class pS extends k.j8{constructor(e,t){super(),this.__playOptions=void cS(this),this.__onlineOffline=void 0,this.__error=A.sH.box(""),this.__playOptions=e,this.__onlineOffline=t}init(){const e=(0,A.mJ)((()=>this.__onlineOffline.isOnline),(e=>{this.error=e?"":"Internet connection lost"})),t=(0,A.mJ)((()=>{var e;return null===(e=this.__playOptions)||void 0===e?void 0:e.data}),(e=>{var t;!e||!e.detail&&null!=e&&e.video_balancer?this.error="":this.error=`playOptions return stub: ${String(null==e||null===(t=e.detail)||void 0===t?void 0:t.name)}`})),n=(0,A.mJ)((()=>{var e;return null===(e=this.__playOptions)||void 0===e?void 0:e.hasLoadError}),(e=>{var t,n;e&&null!==(t=this.__playOptions)&&void 0!==t&&t.loadError?this.error=null===(n=this.__playOptions)||void 0===n?void 0:n.loadError:this.error=""}));return()=>[e,t,n].forEach((e=>e()))}get error(){return this.__error.get()}set error(e){this.__error.set(e)}}var vS,mS;let _S;uS=pS,({e:[cS],c:[hS,dS]}=(0,S.A)(uS,[(0,k.k_)({implement:"IErrorPlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},"IOnlineOfflinePlugin"]})],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),dS();class fS extends(vS=k.j8){constructor(){super(),this._messageTime=(_S(this),2500),this._timer=null,this._visible=A.sH.box(!1),this._queue=A.sH.array([]),this._defaultQueue=A.sH.box([]),this._hiddenMessages=A.sH.array([]),this._wasTemporarilyHidden=A.sH.box(!1),(0,A.Gn)(this,{visible:A.EW,defaultQueue:A.EW,removeMessage:A.XI,addMessage:A.XI,startQueue:A.XI,resetQueue:A.XI,startTimer:A.XI,hideTemporarily:A.XI,restoreHiddenMessages:A.XI,wasTemporarilyHidden:A.EW}),this.startQueue=this.startQueue.bind(this),this.resetQueue=this.resetQueue.bind(this),this.startTimer=this.startTimer.bind(this),this.removeMessage=this.removeMessage.bind(this),this.hideTemporarily=this.hideTemporarily.bind(this),this.restoreHiddenMessages=this.restoreHiddenMessages.bind(this)}init(){return(0,A.mJ)((()=>this.defaultQueue),(()=>{(0,A.h5)((()=>this._queue.replace([...this.defaultQueue,...this.queue])))}))}clear(){return()=>{this.clearTimer()}}clearTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}addMessage(e){let{message:t}=e;const n=this.queue.find((e=>e.id===t.id));n||this._queue.push(t)}removeMessage(){this._queue.length&&(this._queue.remove(this._queue[0]),this.visible=!!this._queue.length)}startQueue(){this.visible=!0}resetQueue(){this._queue.clear(),this.visible=!1,this.clearTimer()}hideMessage(){this.visible&&(this.visible=!1)}startTimer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._messageTime;this._timer=setTimeout((()=>{this.visible=!1}),e)}hideTemporarily(){this._queue.length>0&&(this._hiddenMessages.replace([...this._queue]),this.resetQueue(),this._wasTemporarilyHidden.set(!0),this.clearTimer())}restoreHiddenMessages(){this._hiddenMessages.length>0&&this._wasTemporarilyHidden.get()&&(this._queue.replace([...this._hiddenMessages]),this._hiddenMessages.clear(),this._wasTemporarilyHidden.set(!1),this._queue.length>0&&(this.visible=!0))}get queue(){return this._queue}get visible(){return this._visible.get()}set visible(e){this._visible.set(e)}get defaultQueue(){return this._defaultQueue.get()}set defaultQueue(e){this._defaultQueue.set(e)}get wasTemporarilyHidden(){return this._wasTemporarilyHidden.get()}}var gS;let yS,bS;mS=fS,[_S]=(0,S.A)(mS,[],[[(0,k.o7)(),2,"init"],[(0,k.o7)(),2,"clear"]],0,void 0,vS).e;gS=class extends fS{},[bS,yS]=(0,S.A)(gS,[(0,k.k_)("IDisclaimersPlugin")],[],0,void 0,fS).c,yS();const ES="disclaimer-module__disclaimer___C_xho",wS="disclaimer-module__disclaimerDanger___ghE3y",SS="disclaimer-module__disclaimerSuccess___orKzg",AS="disclaimer-module__disclaimerWarning___jSzNA",kS=e=>{let{handleEnd:n,isShow:i,handleTextShowed:r,disclaimer:a,timeout:s=500}=e;const o=(0,t.useRef)(null),{text:l,id:u,type:c}=a;return t.createElement(gf,{appear:!0,in:i,nodeRef:o,timeout:s,key:u,onEntered:r,onExited:n,unmountOnExit:!0},t.createElement("div",{ref:o,className:gt()(ES,{[wS]:"danger"===c,[SS]:"success"===c,[AS]:"warning"===c})},t.createElement(l,null)))},CS=[{excludeOnAudio:!0,id:"ALCOHOL",key:"ALCOHOL",text:()=>t.createElement(t.Fragment,null,"Ð’Ð¸Ð´ÐµÐ¾ Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ ÑÑ†ÐµÐ½Ñ‹",t.createElement("br",null),"ÑƒÐ¿Ð¾Ñ‚Ñ€ÐµÐ±Ð»ÐµÐ½Ð¸Ñ Ñ‚Ð°Ð±Ð°ÐºÐ°/Ð°Ð»ÐºÐ¾Ð³Ð¾Ð»Ñ"),type:"danger"},{excludeOnAudio:!0,id:"HEALTH",key:"HEALTH",text:()=>t.createElement(t.Fragment,null,"ÐÐ»ÐºÐ¾Ð³Ð¾Ð»ÑŒ Ð¸ Ð½Ð¸ÐºÐ¾Ñ‚Ð¸Ð½",t.createElement("br",null),"Ð²Ñ€ÐµÐ´ÑÑ‚ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑŽ"),type:"danger"},{excludeOnAudio:!1,id:"META",key:"META",text:()=>t.createElement(t.Fragment,null,"Facebook Ð¸ Instagram Ð·Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½Ñ‹ Ð² Ð Ð¤"),type:"info"}],PS={id:"ADVERT",text:()=>t.createElement(t.Fragment,null,"Ð ÐµÐºÐ»Ð°Ð¼Ð° Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ð°Ð²Ñ‚Ð¾Ñ€ÑƒÂ Ð²Ð¸Ð´ÐµÐ¾ Ð·Ð°Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ"),type:"warning",excludeOnAudio:!0,key:"ADVERT"};const TS=(0,_t.PA)((e=>{let{className:n,hasHealthDisclaimer:i,onFinish:r,isAudio:a=!1,disclaimerTimeout:s,isPartnerHint:o}=e;const l=(0,Dt.Ks)("IDisclaimersPlugin"),{queue:u,visible:c,startTimer:d,removeMessage:h,isHideDefaultDisclaimers:p}=l,[v]=u,{getDataAttribute:m}=(0,Yn.f)();if((0,t.useEffect)((()=>{p||(l.defaultQueue=function(e){let{isAudio:t,hasHealthDisclaimer:n,isPartnerHint:i}=e;if(i)return[PS];if(t)return CS.filter((e=>!e.excludeOnAudio));let r=[...CS];return n||(r=r.filter((e=>"ALCOHOL"!==e.key&&"HEALTH"!==e.key))),r}({isAudio:a,hasHealthDisclaimer:i,isPartnerHint:o}))}),[i,a,l,p,o]),(0,t.useEffect)((()=>(l.startQueue(),()=>{l.resetQueue()})),[l]),(0,t.useEffect)((()=>{0===u.length&&(null==r||r())}),[u.length,r]),!v)return null;return t.createElement("div",(0,On.A)({className:n,"data-testid":`disclaimer-${v.key}`},(e=>"HEALTH"===e.key||"ALCOHOL"===e.key?m(Qn.R.ALCOHOL):"META"===e.key?m(Qn.R.META):{})(v)),t.createElement(kS,{timeout:s,isShow:c,handleTextShowed:()=>d(v.messageTime),handleEnd:h,disclaimer:v}))})),IS=()=>{const e=(0,Dt.Ks)("IDisclaimersPlugin");return e instanceof XS?e:null},RS="raichu-age-disclaimer-module__wrapper___vBhIm",LS=e=>{const{ageRating:n,timeOut:i=500,disclaimerShowTime:r=fi.id}=e,[a,s]=(0,t.useState)(!0),o=(0,t.useRef)(null),{getDataAttribute:l}=(0,Yn.f)();if(null==n||n<0)return null;return t.createElement(gf,{appear:!0,in:a,nodeRef:o,timeout:i,onEntered:()=>{setTimeout((()=>{s(!1)}),r)},unmountOnExit:!0},t.createElement("div",(0,On.A)({"data-testid":"age-disclaimer",ref:o,className:RS},l(Qn.R.AGE_LIMIT_VIDEO)),n,"+"))},xS="age-disclaimer-module__container___G1Wsr",OS="age-disclaimer-module__withControls___BymaX",NS="age-disclaimer-module__touch___IyXJj",DS=(0,_t.PA)((()=>{const e=IS(),n=(null==e?void 0:e.isShowControls)&&(qt.B.isMobile||(null==e?void 0:e.isEmbed)&&(null==e?void 0:e.isShowShare));return null===e?null:t.createElement("div",{className:gt()(xS,{[NS]:qt.B.isMobile,[OS]:n}),style:e.bannerHeight>0?{transform:`translateY(${e.bannerHeight}px)`}:void 0},t.createElement(LS,{ageRating:e.ageRating,disclaimerShowTime:e.disclaimerShowTime}))})),MS="unmute-button-module__unmuteButton____h41m",BS="unmute-button-module__isTouch___tgCbK",FS="unmute-button-module__animateFinished___eMzyx",HS="unmute-button-module__unmuteButtonText___W3qjS",VS=e=>{let{onAnimationFinished:n}=e;const i=(0,t.useRef)(null),{playback:r,counterHelper:a}=(0,Bu.useControls)(),{muted:s,handleMuted:o}=r,[l,u]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=setTimeout((()=>{n()}),3150);return null==a||a.get("mainControlsUnmuteShow")(),()=>{clearTimeout(e)}}),[]);return t.createElement(gf,{appear:!0,in:s,nodeRef:i,timeout:fi.O5,unmountOnExit:!0},t.createElement("button",{ref:i,className:gt()(MS,{[FS]:l,[BS]:qt.B.isMobile}),style:{animationDelay:"3000ms",animationDuration:"150ms"},onClick:()=>{var e;o(),null==a||a.get("mainControlsUnmuteClick")(),null===(e=document.getElementById(pd.v.RAICHU_CONTAINER_WITH_PLAYER))||void 0===e||e.focus({preventScroll:!0})},tabIndex:0,"aria-label":"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº",onAnimationEnd:()=>{qt.B.isMobile||u(!0)}},t.createElement($n.L,null),t.createElement("span",{className:HS},"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº")))},US=(0,_t.PA)((()=>{const e=IS(),{isShowMobilePiPButton:n}=vp()||{},i=null==e?void 0:e.getCustomStyles(),r=null==e?void 0:e.autoPlayWithMute,a=null==e?void 0:e.isShowControls,[s,o]=(0,t.useState)(40),[l,u]=(0,t.useState)(!1),c=(null==e?void 0:e.isShowDisclaimers)&&!e.isFinished&&l,d=null==e?void 0:e.isShowUnmuteButton,h=d&&qt.B.isMobile,p=n&&!d&&a,v=c||d,m=qt.B.isMobile,_=()=>{u(!0)};if((0,t.useEffect)((()=>{"NotInitialized"!==r&&u(!h)}),[r,h]),(0,t.useEffect)((()=>{o(c?82:40)}),[c,d]),(0,t.useEffect)((()=>{null!=e&&e.isPartnerHint&&(null==e||e.handleFinished(!1))}),[e]),null===e)return null;const{hasBackButton:f,isEmbed:g,hasHealthDisclaimer:y,isShowHeader:b,timeout:E,isPartnerHint:w}=e;return t.createElement(t.Fragment,null,v&&t.createElement("div",{className:gt()(null==i?void 0:i.notifications,d?"":null==i?void 0:i.noUnmute,b?null==i?void 0:i.isShowHeader:"",f&&(null==i?void 0:i.withBackButton)||"",m?null==i?void 0:i.isTouchScreen:"",a&&g?"":null==i?void 0:i.isControlsHidden,p?null==i?void 0:i.withMiniControl:""),style:{minHeight:m?"auto":s,height:m?"auto":s}},d&&!m&&t.createElement(VS,{onAnimationFinished:_}),c&&t.createElement("div",{className:gt()(null==i?void 0:i.disclaimers,m?null==i?void 0:i.mobile:"")},t.createElement(TS,{disclaimerTimeout:E,onFinish:()=>{null==e||e.handleFinished(!0)},hasHealthDisclaimer:y,isPartnerHint:w})),d&&m&&t.createElement(VS,{onAnimationFinished:_})),c&&t.createElement(DS,null))})),jS={notifications:"notifications-module__notifications___yAumc",isControlsHidden:"notifications-module__isControlsHidden___csNVr",isShowHeader:"notifications-module__isShowHeader___myCv2",isTouchScreen:"notifications-module__isTouchScreen___joUud",noUnmute:"notifications-module__noUnmute___kP3Nt",withMiniControl:"notifications-module__withMiniControl___wvjeW",withBackButton:"notifications-module__withBackButton___ZaGeH",disclaimers:"notifications-module__disclaimers___nAitu",mobile:"notifications-module__mobile___SKiqO"};var WS,zS,$S,GS;let qS,KS,YS,QS,XS,ZS;new(zS=class extends bS{constructor(e,t,n,i,r,a,s,o,l,u,c){if(super(),this.__data=void qS(this),this.__options=void 0,this.__playback=void 0,this.__captions=void 0,this.__controls=void 0,this.__videoLayout=void 0,this.__shareState=void 0,this.__preview=void 0,this.__commBanner=void 0,this._isHideDefaultDisclaimers=A.sH.box(!1),this.__advert=void 0,this.__hasPartnerHint=A.sH.box(!1),this._isFinished=A.sH.box(!1),this.activities=c,!t)throw new Error("No options provided [IDisclaimersPluginOptions]");this.__data=e,this.__options=t.value,this.__playback=n,this.__captions=i,this.__controls=r,this.__videoLayout=a,this.__shareState=s,this.__preview=o,this.__commBanner=l,this.__advert=u,(0,A.Gn)(this,{isPartnerHint:A.EW,timeout:A.EW,handleFinished:A.XI})}initPlugin(){return(0,A.mJ)((()=>{var e;return null===(e=this.__captions)||void 0===e?void 0:e.isShowCaptions}),(e=>{var n;if(e&&null!==(n=this.__captions)&&void 0!==n&&null!==(n=n.activeCaption)&&void 0!==n&&n.is_autogenerated&&(this.addMessage({message:{type:"success",id:"CAPTION",key:"CAPTION",text:()=>t.createElement(t.Fragment,null,"Ð¡ÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹ ÑÐ¾Ð·Ð´Ð°Ð½Ñ‹ Ð¸ÑÐºÑƒÑÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¼ Ð¸Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚Ð¾Ð¼.",t.createElement("br",null),"ÐœÐ¾Ð³ÑƒÑ‚ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ â€” Ð˜Ð˜ ÐµÑ‰Ñ‘ ÑƒÑ‡Ð¸Ñ‚ÑÑ"),excludeOnAudio:!1}}),this.visible=!0),!e){const[e]=this.queue;"CAPTION"===(null==e?void 0:e.id)&&(this.clearTimer(),this.removeMessage())}}),{fireImmediately:!0})}initVisible(){return(0,A.mJ)((()=>this.visible),(e=>{(0,A.h5)((()=>this.__videoLayout.isDisclaimersVisible=e))}),{fireImmediately:!0})}initAdvertStateTracking(){return(0,A.mJ)((()=>this.__videoLayout.isShowDisclaimers),((e,t)=>{!t&&e&&this.wasTemporarilyHidden?this.restoreHiddenMessages():t&&!e&&this.queue.length>0&&this.hideTemporarily()}),{fireImmediately:!1})}initPartnerHint(){return(0,A.mJ)((()=>["midroll","postroll","midpostroll"].some((e=>{var t;return null===(t=this.__advert)||void 0===t||null===(t=t.currentAdvert)||void 0===t?void 0:t.name.includes(e)}))),(e=>{(0,A.h5)((()=>{var t;return this.hasPartnerHint=Boolean(e&&(null===(t=this.activities)||void 0===t?void 0:t.hasPartnerHint))}))}))}initIsFinished(){return(0,A.mJ)((()=>this.__playback.ended),(e=>{e&&(this.isFinished=!1)}))}initChangeVideo(){return(0,A.mJ)((()=>this.__playback.currentVideoId),(()=>{this.isFinished=!1}))}get hasHealthDisclaimer(){return this.__data.hasHealthDisclaimer}get ageRating(){var e;return null===(e=this.__options)||void 0===e?void 0:e.ageRating}get disclaimerShowTime(){return fi.id}get autoPlayWithMute(){return this.__playback.autoPlayWithMute}get isShowControls(){return this.__controls.isShowControls}get isShowHeader(){return!(this.__playback.seeking||this.isShowPreview&&qt.B.isMobile)&&(this.__videoLayout.isShowHeader&&this.__videoLayout.showTitle&&this.isShowControls)}get isEmbed(){return this.__controls.isEmbed}get isShowUnmuteButton(){var e;return(null===(e=this.__data.appearance)||void 0===e||!e.forbid_html_controls)&&"Enabled"===this.autoPlayWithMute}get hasBackButton(){return this.__videoLayout.hasBackButton}get isShowShare(){var e;return Boolean(null===(e=this.__shareState)||void 0===e?void 0:e.isShowingShareBtn)}get bannerHeight(){var e;return(null===(e=this.__commBanner)||void 0===e?void 0:e.bannerHeight)||0}get isShowPreview(){var e;return null===(e=this.__preview)||void 0===e?void 0:e.isShowPreview}get isShowDisclaimers(){return this.__videoLayout.isShowDisclaimers}set hasPartnerHint(e){this.__hasPartnerHint.set(e)}get isPartnerHint(){var e;return this.__hasPartnerHint&&(null===(e=this.__advert)||void 0===e?void 0:e.isShowAdvertTimer)}get timeout(){return this.isPartnerHint?5e3:void 0}notificationStyles(){return jS}getCustomStyles(){return this.notificationStyles()}get isHideDefaultDisclaimers(){return this._isHideDefaultDisclaimers.get()}set isFinished(e){this._isFinished.set(e)}get isFinished(){return this._isFinished.get()}handleFinished(e){this.isFinished=e}},({e:[qS],c:[XS,KS]}=(0,S.A)(zS,[(0,k.k_)({implement:"IDisclaimersPlugin",ctor_args:["IDataPlugin",{implement:"IDisclaimersPluginOptions",optional:!0},"IPlayback",{implement:"ICaptionsPlugin",optional:!0},"IControlsPlugin","IVideoLayoutPlugin",{implement:"ISharePlugin",optional:!0},{implement:"IPreviewPlugin",optional:!0},{implement:"ICommunicationBannerPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"IActivitiesPlugin",optional:!0}]})],[[(0,k.o7)(),2,"initPlugin"],[(0,k.o7)(),2,"initVisible"],[(0,k.o7)(),2,"initAdvertStateTracking"],[(0,k.o7)(),2,"initPartnerHint"],[(0,k.o7)(),2,"initIsFinished"],[(0,k.o7)(),2,"initChangeVideo"],[k.zm,2,"handleFinished"]],0,void 0,bS)),YS=zS,(WS=class extends V{constructor(){super(XS),this.Notifications=US,KS()}})[YS]=void 0,WS);class JS extends($S=XS){constructor(e,t,n,i,r,a,s,o,l,u){super(e,(0,k.Yk)()(e),t,n,i,r,a,s,o,l,u)}}GS=JS,[ZS,QS]=(0,S.A)(GS,[(0,k.k_)({implement:"IDisclaimersPlugin",ctor_args:["IDataPlugin","IPlayback",{implement:"ICaptionsPlugin",optional:!0},"IControlsPlugin","IVideoLayoutPlugin",{implement:"ISharePlugin",optional:!0},{implement:"IPreviewPlugin",optional:!0},{implement:"ICommunicationBannerPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"IActivitiesPlugin",optional:!0}]})],[],0,void 0,$S).c,QS();const eA=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M14.699 16.444h4.375l-1.23-1.248a1.808 1.808 0 0 1-.52-1.278v-2.807c0-1.103-.337-2.18-.963-3.08a5.261 5.261 0 0 0-2.537-1.95v-.303c0-.472-.184-.924-.513-1.257A1.736 1.736 0 0 0 12.074 4c-.464 0-.91.187-1.238.52a1.792 1.792 0 0 0-.512 1.258v.303c-2.039.732-3.5 2.708-3.5 5.03v2.808c0 .478-.187.938-.52 1.276l-1.23 1.25h9.625Zm-5.25 0h5.25-5.25Z",fill:n}),t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.393 4.084a2.358 2.358 0 0 1 1.68-.706 2.36 2.36 0 0 1 1.682.706c.416.423.66.985.688 1.576a5.892 5.892 0 0 1 2.428 2.016 6.016 6.016 0 0 1 1.075 3.435v2.807a1.21 1.21 0 0 0 .342.841l1.23 1.249a.622.622 0 0 1 .13.677c-.097.231-.323.315-.574.315h-14c-.25 0-.477-.084-.574-.315a.622.622 0 0 1 .13-.677l1.23-1.249c.218-.221.342-.524.342-.84v-2.808A5.962 5.962 0 0 1 9.704 5.66c.03-.59.273-1.153.689-1.576Zm7.195 11.738-.187-.19a2.432 2.432 0 0 1-.7-1.714v-2.807a4.77 4.77 0 0 0-.851-2.725 4.64 4.64 0 0 0-2.237-1.72.622.622 0 0 1-.411-.585v-.303c0-.31-.121-.605-.334-.82a1.114 1.114 0 0 0-.794-.336c-.296 0-.582.12-.794.335a1.17 1.17 0 0 0-.334.82v.304a.622.622 0 0 1-.412.585c-1.795.645-3.088 2.389-3.088 4.445v2.808c0 .64-.25 1.257-.7 1.713l-.187.19h11.03Z",fill:n}),t.createElement("path",{d:"M9 18h6a2.5 2.5 0 0 1-2.5 2.5h-1A2.5 2.5 0 0 1 9 18Z",fill:n}),t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.467 4.68a.622.622 0 0 1 .853-.214c1.313.788 2.167 1.616 2.674 2.63.503 1.006.628 2.122.628 3.404a.622.622 0 1 1-1.244 0c0-1.218-.125-2.102-.497-2.847-.367-.735-1.014-1.407-2.201-2.12a.622.622 0 0 1-.213-.853Zm-8.934 0a.622.622 0 0 1-.213.854c-1.187.712-1.834 1.384-2.201 2.12-.372.744-.497 1.628-.497 2.846a.622.622 0 1 1-1.244 0c0-1.282.125-2.398.628-3.403.507-1.015 1.361-1.843 2.674-2.63a.622.622 0 0 1 .853.213Z",fill:n}))},tA=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.372 5.902a.622.622 0 0 1 .87-.127l14.876 11.09a.622.622 0 1 1-.744.998L4.5 6.773a.622.622 0 0 1-.127-.87Z",fill:n}),t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 3.378c-.632 0-1.237.255-1.68.706-.417.423-.66.985-.69 1.576a5.86 5.86 0 0 0-1.351.844l1.034.77c.35-.254.735-.46 1.147-.608a.622.622 0 0 0 .412-.585v-.303c0-.31.121-.605.334-.82a1.109 1.109 0 0 1 1.588-.001c.213.216.334.511.334.82v.304a.62.62 0 0 0 .412.585 4.64 4.64 0 0 1 2.236 1.72c.554.796.852 1.748.852 2.725v1.618l1.244.928V11.11c0-1.23-.375-2.43-1.075-3.435A5.892 5.892 0 0 0 14.37 5.66a2.413 2.413 0 0 0-.688-1.576A2.358 2.358 0 0 0 12 3.378Zm7.619 13.133-2.96-2.207a2.452 2.452 0 0 0 .668 1.328l.187.19H6.486l.187-.19c.449-.456.7-1.073.7-1.713v-2.808c0-1.124.386-2.154 1.029-2.963l-.998-.744a5.985 5.985 0 0 0-1.276 3.707v2.808c0 .316-.124.619-.342.84l-1.23 1.249A.622.622 0 0 0 5 17.067h3.753v.266c0 .87.34 1.705.947 2.322a3.227 3.227 0 0 0 2.3.967 3.23 3.23 0 0 0 2.3-.967 3.31 3.31 0 0 0 .947-2.322v-.266H19a.622.622 0 0 0 .619-.556Zm-9.622.822v-.266h4.006v.266a2.07 2.07 0 0 1-.59 1.45 1.983 1.983 0 0 1-1.413.595 1.982 1.982 0 0 1-1.413-.596 2.066 2.066 0 0 1-.59-1.449Z",fill:n}))},nA=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.0602 15.4398C12.3032 15.6828 12.6971 15.6828 12.9401 15.4398L18.9401 9.43983C19.1831 9.19683 19.1831 8.80286 18.9401 8.55987C18.6971 8.31688 18.3032 8.31688 18.0602 8.55987L12.5002 14.1199L6.94013 8.55987C6.69714 8.31688 6.30317 8.31688 6.06017 8.55987C5.81718 8.80286 5.81718 9.19683 6.06017 9.43983L12.0602 15.4398Z",fill:n}))},iA=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.3193 4.08435C10.7634 3.63321 11.3678 3.37793 12.0002 3.37793C12.6325 3.37793 13.2369 3.63321 13.681 4.08435C14.0972 4.50716 14.3409 5.06944 14.3695 5.66019C15.3425 6.09553 16.1825 6.79157 16.7977 7.67579C17.4975 8.68151 17.8725 9.88174 17.8724 11.1113C17.8724 11.1112 17.8724 11.1113 17.8724 11.1113V13.9184C17.8724 14.0752 17.9028 14.2304 17.9616 14.3748C18.0205 14.5191 18.1065 14.6497 18.2142 14.7592C18.2142 14.7592 18.2142 14.7592 18.2142 14.7592L19.4436 16.0081C19.6195 16.1868 19.671 16.4537 19.5741 16.685C19.4772 16.9163 19.2509 17.0668 19.0002 17.0668H15.2474V17.3335C15.2474 18.2026 14.9076 19.0381 14.2998 19.6556C13.6916 20.2734 12.8646 20.6224 12.0002 20.6224C11.1358 20.6224 10.3088 20.2734 9.70059 19.6556C9.09272 19.0381 8.75295 18.2026 8.75295 17.3335V17.0668H5.00017C4.7494 17.0668 4.52313 16.9163 4.42625 16.685C4.32937 16.4537 4.38082 16.1868 4.55674 16.0081L5.78612 14.7592C6.00392 14.5379 6.12795 14.2356 6.12795 13.9193V11.1113C6.12795 8.68107 7.56492 6.58554 9.6308 5.66026C9.65945 5.06948 9.90309 4.50717 10.3193 4.08435ZM9.99739 17.0668V17.3335C9.99739 17.8788 10.2107 18.3999 10.5874 18.7826C10.9638 19.165 11.4722 19.3779 12.0002 19.3779C12.5281 19.3779 13.0365 19.165 13.4129 18.7826C13.7896 18.3999 14.0029 17.8788 14.0029 17.3335V17.0668H9.99739ZM17.5146 15.8224L17.3274 15.6322C17.105 15.4062 16.929 15.1385 16.8092 14.8445C16.6894 14.5506 16.6279 14.2359 16.6279 13.9184C16.6279 13.9183 16.6279 13.9184 16.6279 13.9184V11.1113C16.6281 10.1345 16.3301 9.18249 15.7762 8.38654C15.2225 7.59072 14.4407 6.99045 13.5397 6.66659C13.2927 6.5778 13.1279 6.34354 13.1279 6.08104V5.77793C13.1279 5.46832 13.0068 5.17333 12.7942 4.95735C12.5819 4.7417 12.2961 4.62237 12.0002 4.62237C11.7043 4.62237 11.4184 4.7417 11.2062 4.95735C10.9936 5.17333 10.8724 5.46832 10.8724 5.77793V6.08104C10.8724 6.34357 10.7076 6.57786 10.4605 6.66662C8.6658 7.3114 7.37239 9.05526 7.37239 11.1113V13.9193C7.37239 14.5594 7.12192 15.1761 6.67297 15.6322L6.48578 15.8224H17.5146Z",fill:n}))},rA=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.37521 5.17519C7.97116 4.57925 8.77944 4.24444 9.62223 4.24444C10.465 4.24444 11.2733 4.57925 11.8693 5.17519C12.4652 5.77114 12.8 6.57942 12.8 7.42222C12.8 8.26502 12.4652 9.0733 11.8693 9.66925C11.2733 10.2652 10.465 10.6 9.62223 10.6C8.77944 10.6 7.97116 10.2652 7.37521 9.66925C6.77926 9.0733 6.44446 8.26502 6.44446 7.42222C6.44446 6.57942 6.77926 5.77114 7.37521 5.17519ZM9.62223 3C8.44939 3 7.32458 3.46591 6.49525 4.29524C5.66592 5.12457 5.20001 6.24938 5.20001 7.42222C5.20001 8.59507 5.66592 9.71988 6.49525 10.5492C7.32458 11.3785 8.44939 11.8444 9.62223 11.8444C10.7951 11.8444 11.9199 11.3785 12.7492 10.5492C13.5785 9.71988 14.0445 8.59507 14.0445 7.42222C14.0445 6.24938 13.5785 5.12457 12.7492 4.29524C11.9199 3.46591 10.7951 3 9.62223 3ZM9.62222 13C7.8659 13 6.18151 13.6977 4.9396 14.9396C3.6977 16.1815 3 17.8659 3 19.6222C3 19.7872 3.06556 19.9455 3.18224 20.0622C3.29893 20.1789 3.4572 20.2444 3.62222 20.2444H15.6222C15.9659 20.2444 16.2444 19.9659 16.2444 19.6222C16.2444 17.8659 15.5467 16.1815 14.3048 14.9396C13.0629 13.6977 11.3785 13 9.62222 13ZM5.81956 15.8196C6.82809 14.811 8.19595 14.2444 9.62222 14.2444C11.0485 14.2444 12.4164 14.811 13.4249 15.8196C14.2856 16.6803 14.8245 17.8028 14.9639 19H4.28054C4.41996 17.8028 4.9588 16.6803 5.81956 15.8196Z",fill:n}),t.createElement("path",{d:"M16.0169 12.6908C15.758 12.9496 15.758 13.3693 16.0169 13.6281C16.2757 13.887 16.6954 13.887 16.9542 13.6281L18.8225 11.7599L20.6913 13.6286C20.9501 13.8875 21.3698 13.8875 21.6286 13.6286C21.8875 13.3698 21.8875 12.9501 21.6286 12.6913L19.7598 10.8225L21.6286 8.95374C21.8875 8.6949 21.8875 8.27524 21.6286 8.0164C21.3698 7.75756 20.9501 7.75756 20.6913 8.0164L18.8225 9.88517L16.9542 8.0169C16.6954 7.75806 16.2757 7.75806 16.0169 8.0169C15.758 8.27574 15.758 8.6954 16.0169 8.95424L17.8852 10.8225L16.0169 12.6908Z",fill:n}))},aA="channel-subscription-button-module__popper___oCBxq",sA="channel-subscription-button-module__button___P5kXf",oA="channel-subscription-button-module__subscribed___rrr8x",lA="channel-subscription-button-module__text___Vpca3",uA="channel-subscription-button-module__panel___FY60T",cA="channel-subscription-button-module__list___eWYJd",dA="channel-subscription-button-module__listItem___DkZM0",hA="channel-subscription-button-module__switcher___X3s4H",pA="channel-subscription-button-module__listItemIcon___O7HLR",vA="channel-subscription-button-module__listItemTitle___u5f6J",mA=(0,_t.PA)((e=>{let{isUserSubscribed:n,onSubscribe:i,onShowOptions:r,onHideOptions:a,onChangeNotificationType:s,isShowOptions:o,size:l,coordinates:u,userSubscriptionData:c}=e;const d=(0,rn._)(),h=(0,t.useMemo)((()=>({placement:"top",modifiers:[{name:"offset",options:{offset:[0,4]}},{name:"preventOverflow",options:{boundary:d||document.body}},{name:"flip",options:{flipVariations:!1,fallbackPlacements:["top"]}}]})),[d]),p="all"===(null==c?void 0:c.type);return t.createElement(QE,{className:aA,popperOptions:h,portal:!1,visible:o,hidePanel:a,renderButton:e=>t.createElement("button",{ref:e,onClick:n?r:i,className:gt()(sA,{[oA]:n}),"aria-label":n?"ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÑƒ Ð½Ð° ÐºÐ°Ð½Ð°Ð»":"ÐŸÐ¾Ð´Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ Ð½Ð° ÐºÐ°Ð½Ð°Ð»"},n?t.createElement(t.Fragment,null,p?t.createElement(eA,null):t.createElement(tA,null),t.createElement("span",{className:lA},"Ð’Ñ‹ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐ°Ð½Ñ‹"),t.createElement(nA,{color:"#A7B4C4"})):t.createElement("span",{className:lA},"ÐŸÐ¾Ð´Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ")),renderPanel:()=>t.createElement("div",{className:uA},t.createElement("div",{className:cA},t.createElement("button",{className:dA,onClick:s},t.createElement("span",{className:pA},t.createElement(iA,null)),t.createElement("span",{className:vA},"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ"),t.createElement(xt,{classNames:{placement:p?"":hA},size:Lt.SMALL,onChange:s,isActive:p})),t.createElement("button",{className:dA,onClick:i},t.createElement("span",{className:pA},t.createElement(rA,null)),t.createElement("span",{className:vA},"ÐžÑ‚Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ")))),size:l,coordinates:u})})),_A="channel-subscription-module__wrapper___EED70",fA="channel-subscription-module__embed___jtAe3",gA="channel-subscription-module__hidden___jBe0p",yA="channel-subscription-module__fullscreen___fV1oV",bA="channel-subscription-module__bottom___qCBrr",EA="channel-subscription-module__inactive___IMEKX",wA="channel-subscription-module__overlay___Mi4SA",SA="channel-subscription-module__logo___q6gya",AA="channel-subscription-module__logoImg___LovHl",kA="channel-subscription-module__popup___CJM1M",CA="channel-subscription-module__popupShow___b4mw9",PA="channel-subscription-module__optionsShow___hOXDG",TA="channel-subscription-module__header___ZvO0r",IA="channel-subscription-module__body___hqF0V",RA=(0,_t.PA)((()=>{var e;const n=(0,t.useRef)(null),i=(0,t.useRef)(null),r=(0,Dt.Ks)("IChannelSubscriptionPlugin"),{size:a,isMobile:s,coordinates:o,subscribeClick:l,isFullscreen:u,counterHelper:c,subscribeData:d,isUserOwnChannel:h,userSubscriptionData:p,hideOptions:v,toggleOptions:m,isShowOptions:_,isShowSubscribe:f,isUserSubscribed:g,isSubscriptionHidden:y,changeNotificationType:b,isShowSubscriptionPopup:E,inactive:w,isEmbed:S}=r,A=(0,Bu.useControls)(),k=(0,t.useMemo)((()=>{const{type:e,id:t}=d,n="tv"===e?`metainfo/tv/${String(t)}/`:`channel/${String(t)}`;return`${fi.V2}/${n}`}),[d]);if((0,t.useEffect)((()=>{f&&(null==c||c.get("mainChannelSubscriptionShow")())}),[f,c]),!f||h)return null;const C=()=>{n.current&&(clearTimeout(n.current),n.current=null),r.isShowSubscriptionPopup=!1,A.preventHideControls=!1};return t.createElement("div",(0,On.A)({className:gt()(_A,{[fA]:S,[gA]:y,[yA]:u,[EA]:S&&w,[bA]:S&&!A.isShowControls}),onMouseEnter:s?void 0:()=>{n.current=setTimeout((()=>{r.isShowSubscriptionPopup=!0,A.preventHideControls=!0}),200)},onMouseLeave:s||_?void 0:C,ref:i},th.aQ,th.ED),s&&E&&t.createElement("div",{onClick:C,className:wA}),t.createElement("a",{onTouchEnd:s?e=>{e.preventDefault(),r.isShowSubscriptionPopup=!E}:void 0,className:SA,href:k,target:"_blank",rel:"noreferrer","aria-label":"Ð›Ð¾Ð³Ð¾Ñ‚Ð¸Ð¿ ÐºÐ°Ð½Ð°Ð»Ð°"},t.createElement("img",{alt:"Ð›Ð¾Ð³Ð¾Ñ‚Ð¸Ð¿ ÐºÐ°Ð½Ð°Ð»Ð°",className:AA,src:d.avatar||fi.k_})),t.createElement("div",{className:gt()(kA,{[CA]:E,[PA]:_}),"aria-live":"polite"},t.createElement("div",{className:TA},null!==(e=d.name)&&void 0!==e?e:""),t.createElement("div",{className:IA},t.createElement(mA,{size:a,isMobile:s,coordinates:o,isShowOptions:_,isUserSubscribed:g,onSubscribe:()=>{d.id&&l(d.id,d.type)},onShowOptions:m,onHideOptions:v,onChangeNotificationType:()=>{const e="all"===p.type;d.id&&b(d.id,e?"without":"all")},userSubscriptionData:p}))))}));var LA,xA;let OA,NA,DA;class MA extends(LA=k.j8){static get ChannelSubscription(){return RA}constructor(e,t,n,i,r,a,s,o,l,u,c){super(),this._counterHelper=void OA(this),this._isEmbed=void 0,this._justSubscribed=A.sH.box(!1),this._isShowOptions=A.sH.box(!1),this._playOptions=e,this._controls=t,this._advert=n,this._pauseScreen=i,this._fullscreen=r,this._config=a,this._playerSize=s,this._playback=o,this._activities=l,this._counterHelper=u&&u instanceof ps?u.counterHelper:void 0,this._isEmbed=c.value}initHideOptions(){return(0,A.mJ)((()=>this._controls.isShowControls),(e=>{e||(this.isShowOptions=!1,this.isShowSubscriptionPopup=!1)}))}get subscribeData(){var e;return null!==(e=this._playOptions)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&null!==(e=e.tv)&&void 0!==e&&e.id?this.tvSubscribeData:this.authorSubscribeData}get tvSubscribeData(){var e,t,n;return{id:null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.tv)||void 0===e?void 0:e.id,name:null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.tv)||void 0===t?void 0:t.name,avatar:null===(n=this._playOptions)||void 0===n||null===(n=n.data)||void 0===n||null===(n=n.tv)||void 0===n||null===(n=n.appearance)||void 0===n?void 0:n.avatar_image,type:"tv"}}get authorSubscribeData(){var e,t,n;return{id:null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.author)||void 0===e?void 0:e.id,name:null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.author)||void 0===t?void 0:t.name,avatar:null===(n=this._playOptions)||void 0===n||null===(n=n.data)||void 0===n||null===(n=n.author)||void 0===n?void 0:n.avatar_url,type:"userchannel"}}get userSubscriptionData(){return this._config.get("userSubscription")}get userId(){return this._config.get("userId")}get isShowControls(){return this._controls.isShowControls}get isSubscriptionHidden(){var e,t,n;return Boolean((null===(e=this._advert)||void 0===e?void 0:e.isShowAdvertTimer)||(null===(t=this._pauseScreen)||void 0===t?void 0:t.visible)||!this._controls.isShowControls||this._playback.ended||(null===(n=this._activities)||void 0===n||null===(n=n.currentActivities)||void 0===n?void 0:n.length))}set isShowSubscriptionPopup(e){this._controls.activePanel=e?"subscription":""}get isShowSubscriptionPopup(){return"subscription"===this._controls.activePanel}get inactive(){return!this.isShowSubscriptionPopup&&qt.B.isMobile||!this.isShowControls&&!qt.B.isMobile}get counterHelper(){return this._counterHelper}get isEmbed(){return this._isEmbed}get isFullscreen(){return this._fullscreen.isFullscreen}get isUserSubscribed(){return this._config.get("isUserSubscribed")}get justSubscribed(){return this._justSubscribed.get()}set justSubscribed(e){this._justSubscribed.set(e)}get isShowSubscribe(){var e,t;const n=null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.show_subscription,i=null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.appearance)||void 0===t?void 0:t.show_author,r=!qt.B.isMobile||qt.B.isMobile&&qt.B.isAndroid&&this.isFullscreen;return Boolean(i&&n&&(!this.isUserSubscribed||this.isUserSubscribed&&this.justSubscribed)&&!this._isEmbed&&r&&!this._controls.isControlsForcedHidden)}get isMobile(){return qt.B.isMobile}get size(){return this._playerSize.size}get coordinates(){return this._playerSize.coordinates}get isShowOptions(){return this._isShowOptions.get()}set isShowOptions(e){this._isShowOptions.set(e)}get isUserOwnChannel(){return this.subscribeData&&this.subscribeData.id===this.userId}handleFullScreen(){this._fullscreen.handleFullscreen()}subscribeClick(e,t){var n;null===(n=this.counterHelper)||void 0===n||n.get(this.isUserSubscribed?"mainChannelSubscriptionClickUnsubscribe":"mainChannelSubscriptionClickSubscribe")(),this.isUserSubscribed?this.isShowOptions=!1:this.justSubscribed=!0,jr.Ug.emit(fi.L2.SUBSCRIBE_CLICK,{isUserSubscribed:this._config.get("isUserSubscribed"),id:e,type:t})}changeNotificationType(e,t){var n;null===(n=this.counterHelper)||void 0===n||n.get("without"===t?"mainChannelSubscriptionNotifyOff":"mainChannelSubscriptionNotifyOn")(),jr.Ug.emit(fi.L2.CHANGE_NOTIFICATION_TYPE,{id:e,type:t})}toggleOptions(){this.isShowOptions=!this.isShowOptions}hideOptions(){this.isShowSubscriptionPopup=!1,this.isShowOptions=!1,this._controls.preventHideControls=!1}}xA=MA,({e:[OA],c:[DA,NA]}=(0,S.A)(xA,[(0,k.k_)({implement:"IChannelSubscriptionPlugin",ctor_args:["IDataPlugin","IControlsPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IPauseScreenPlugin",optional:!0},"IFullscreenPlugin","IPlayerConfigPlugin","IPlayerSizePlugin","IPlayback",{implement:"IActivitiesPlugin",optional:!0},"IStatisticState","IsEmbed"]})],[[(0,k.o7)(),2,"initHideOptions"],[k.zm,2,"handleFullScreen"],[k.zm,2,"subscribeClick"],[k.zm,2,"changeNotificationType"],[k.zm,2,"toggleOptions"],[k.zm,2,"hideOptions"]],0,void 0,LA)),NA();const BA=()=>t.createElement("svg",{width:"23",height:"18",viewBox:"0 0 23 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M0.893122 14.3298C0.857871 14.364 0.8264 14.395 0.798803 14.4226C1.92511 9.95269 4.54783 8.07833 6.88111 7.28491C9.07145 6.54009 10.9966 6.73603 11.4564 6.78283C11.5076 6.78804 11.5407 6.79141 11.5538 6.79141H12.2538V6.09141V1.4292L21.3103 8.77353L12.2538 16.4783V11.5376V10.9995L11.7339 10.8611C8.62764 10.0345 5.83701 10.9951 3.86988 12.1115C2.88232 12.6719 2.08468 13.2809 1.53344 13.7498C1.25728 13.9847 1.04149 14.1858 0.893122 14.3298Z",stroke:"#F6F6F6",strokeWidth:"1.4"})),FA="share-button-module__shareWrapper___Dg5h6",HA="share-button-module__share___uzg2c",VA="share-button-module__hide___pMkt1",UA=(0,_t.PA)((e=>{let{size:n}=e;const{handleShareButton:i,handleCheckSharePanelWasOpen:r}=rm(),{isShowingShareBtn:a,isHidedShareBtn:s}=im();return a?t.createElement("div",null,t.createElement("div",null,t.createElement("div",{className:gt()({[FA]:!qt.B.isMobile,[VA]:s}),onClick:i,onMouseDown:r},t.createElement(Pc.r,(0,On.A)({tabIndex:s?-1:0,role:"button","aria-label":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ð²Ð¸Ð´ÐµÐ¾",icon:BA,className:HA},th.aQ,{size:n}))))):null})),jA=(e,n)=>t.createElement(cE,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),{},{ref:n,name:"IconCloseIcon",__value:'<path fill="currentColor" d="M8 6.586 2.707 1.293 1.293 2.707 6.586 8l-5.293 5.293 1.414 1.414L8 9.414l5.293 5.293 1.414-1.414L9.414 8l5.293-5.293-1.414-1.414z" />'})),WA=(0,t.forwardRef)(jA);let zA=function(e){return e.SHARE_URL="share-url",e.EMBED_CODE="embed-code",e}({});const $A=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;const i=(0,t.useRef)(),[r,a]=(0,t.useState)(e);(0,t.useEffect)((()=>()=>{(null==i?void 0:i.current)&&clearTimeout(i.current)}),[]);return[r,t=>(null!=i&&i.current&&clearTimeout(i.current),i.current=setTimeout((()=>a(e)),n),a(t))]};let GA=function(e){return e.VK="VK",e.OK="OK",e.TELEGRAM="TELEGRAM",e.WHATS_APP="WHATS_APP",e.EMAIL="EMAIL",e.EMBED_COPY_LINK="EMBED_COPY_LINK",e.EMBED_COPY_ICON="EMBED_COPY_ICON",e.EMBED_COPY_BUTTON="EMBED_COPY_BUTTON",e.COPY_LINK="COPY_LINK",e.COPY_ICON="COPY_ICON",e.COPY_BUTTON="COPY_BUTTON",e}({});function qA(e){try{return window.navigator.clipboard.writeText(e).then((()=>{})).catch((()=>{})),Promise.resolve("Ð¡ÑÑ‹Ð»ÐºÐ° ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°")}catch(t){return((e,t)=>{const n=document.createElement("textarea");if(n.value=e,n.style.position="absolute",n.style.left="-9999px",n.setAttribute("readonly",""),document.body.appendChild(n),t){const t=document.createRange();t.selectNodeContents(n);const i=window.getSelection();i&&(i.removeAllRanges(),i.addRange(t)),n.setSelectionRange(0,e.length)}else n.select();return new Promise(((e,t)=>{try{return document.execCommand("copy"),e("Ð¡ÑÑ‹Ð»ÐºÐ° ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°")}catch(e){return t("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸ ÑÑÑ‹Ð»ÐºÐ¸")}finally{document.body.removeChild(n)}}))})(e,["iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)}}var KA="freyja_char-share-tabs__container_pq2gR",YA="freyja_char-share-tabs__button_28cWv",QA="freyja_char-share-tabs__buttonActive_ErrNL";const XA=e=>{let{currentTab:n=zA.SHARE_URL,hideEmbedCode:i=!1,onTabChanged:r}=e;const[a,s]=(0,t.useState)(n),o=e=>{s(e),r(e)};return i?t.createElement(t.Fragment,null):t.createElement("div",{className:KA},t.createElement("button",{className:gt()(YA,{[QA]:a===zA.SHARE_URL}),onClick:()=>o(zA.SHARE_URL)},"Ð¡ÑÑ‹Ð»ÐºÐ°"),t.createElement("button",{className:gt()(YA,{[QA]:a===zA.EMBED_CODE}),onClick:()=>o(zA.EMBED_CODE)},"ÐšÐ¾Ð´ Ð²ÑÑ‚Ð°Ð²ÐºÐ¸ Ð¿Ð»ÐµÐµÑ€Ð°"))};var ZA="freyja_char-share-embed-preview__previewContainer_4ATwB",JA="freyja_char-share-embed-preview__previewImage_4kb-h",ek="freyja_char-share-embed-preview__previewPlayButton_Zm7gi",tk="freyja_char-share-embed-preview__progressBar_22nGp",nk="freyja_char-share-embed-preview__progressBarPoint_tgkmc",ik="freyja_char-share-embed-preview__progressViewed_r48k-",rk="freyja_char-share-embed-preview__progressCached_IeeJB",ak="freyja_char-share-embed-preview__progressClear_SNhlE";const sk=e=>{let{buttonColor:n="#00A1E7",arrowColor:i="white"}=e;return t.createElement("svg",{width:"46",height:"46",viewBox:"0 0 46 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"3",y:"3",width:"40",height:"40",rx:"8",fill:n}),t.createElement("path",{d:"M19 16V30L29 23L19 16Z",fill:i}))},ok=e=>{let{color:n,thumbnailUrl:i}=e;return t.createElement("div",{className:ZA},t.createElement("img",{className:JA,src:i,alt:"https://static.rutube.ru/static/img/png/player-stubs/countdown-default-bg.png"}),t.createElement("div",{className:ek},t.createElement(sk,{buttonColor:n,arrowColor:yE(n)>128?"black":"white"})),t.createElement("div",{className:tk},t.createElement("div",{className:nk},t.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("circle",{cx:"6",cy:"6",r:"6",fill:"white"}))),t.createElement("div",{className:ik,style:{backgroundColor:n}}),t.createElement("div",{className:rk}),t.createElement("div",{className:ak})))},lk=(e,n)=>t.createElement(cE,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconCheckmarkThin",__value:'<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.244" d="m6 12 4.333 4L19 8" />'})),uk=(0,t.forwardRef)(lk),ck=(e,n)=>t.createElement(cE,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconCopyInBuffer",__value:'<path fill="currentColor" fill-rule="evenodd" d="M12.22 3.3h-.03c-.544 0-.996 0-1.364.031-.383.032-.738.1-1.07.274a2.7 2.7 0 0 0-1.152 1.151c-.173.333-.242.688-.274 1.071-.03.368-.03.82-.03 1.365V7.3h-.11c-.544 0-.996 0-1.364.03-.383.032-.738.1-1.07.274a2.7 2.7 0 0 0-1.152 1.151c-.173.333-.242.688-.274 1.071-.03.368-.03.82-.03 1.365v5.619c0 .545 0 .996.03 1.364.032.383.1.738.274 1.071a2.7 2.7 0 0 0 1.151 1.152c.333.173.688.241 1.071.273.368.03.82.03 1.365.03h3.618c.545 0 .996 0 1.364-.03.383-.032.738-.1 1.071-.273a2.7 2.7 0 0 0 1.152-1.152c.173-.333.241-.688.273-1.07.03-.369.03-.82.03-1.365v-.11h.11c.545 0 .996 0 1.364-.03.383-.032.738-.1 1.071-.273a2.7 2.7 0 0 0 1.152-1.152c.173-.333.241-.688.273-1.07.03-.369.03-.82.03-1.365V7.192c0-.545 0-.997-.03-1.365-.032-.383-.1-.738-.273-1.07a2.7 2.7 0 0 0-1.152-1.152c-.333-.173-.688-.242-1.07-.274-.369-.03-.82-.03-1.365-.03zm3.48 12h.08c.581 0 .974 0 1.277-.025.295-.024.442-.069.542-.12a1.3 1.3 0 0 0 .554-.555c.053-.1.097-.247.121-.542.025-.303.026-.696.026-1.277V7.22c0-.581 0-.975-.026-1.278-.024-.295-.069-.441-.12-.541a1.3 1.3 0 0 0-.555-.555c-.1-.052-.247-.096-.542-.12-.303-.026-.696-.026-1.277-.026h-3.56c-.581 0-.975 0-1.278.026-.295.024-.441.068-.542.12a1.3 1.3 0 0 0-.554.555c-.052.1-.096.246-.12.541-.026.303-.026.697-.026 1.278v.08h2.109c.545 0 .996 0 1.364.03.383.032.738.1 1.071.274a2.7 2.7 0 0 1 1.152 1.151c.173.333.241.688.273 1.071.03.368.03.82.03 1.364v4.11ZM9 8.7h-.78c-.581 0-.975.001-1.278.027-.295.024-.441.068-.541.12a1.3 1.3 0 0 0-.555.555c-.052.1-.096.246-.12.541-.026.303-.026.697-.026 1.278v5.56c0 .581 0 .974.026 1.277.024.295.068.442.12.542a1.3 1.3 0 0 0 .555.554c.1.052.246.097.541.121.303.025.697.026 1.278.026h3.56c.581 0 .974 0 1.277-.026.295-.024.442-.069.542-.12a1.3 1.3 0 0 0 .554-.555c.053-.1.097-.247.121-.542.025-.303.026-.696.026-1.277V11.22c0-.582 0-.975-.026-1.278-.024-.295-.068-.441-.12-.541a1.3 1.3 0 0 0-.555-.555c-.1-.052-.247-.096-.542-.12-.303-.026-.696-.026-1.277-.026z" clip-rule="evenodd" />'})),dk=(0,t.forwardRef)(ck);var hk="freyja_char-share-form__form_3bV-N",pk="freyja_char-share-form__iconWrapper_-oDUX",vk="freyja_char-share-form__button_tPaKn";const mk=(e,n)=>t.createElement(cE,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconError",__value:'<path fill="currentColor" fill-rule="evenodd" d="M9.751 6.538c1.019-1.697 3.479-1.697 4.497 0l5.468 9.113c1.049 1.748-.21 3.971-2.248 3.971H6.532c-2.038 0-3.297-2.223-2.248-3.971zm3.43.64a1.378 1.378 0 0 0-2.362 0L5.35 16.291a1.378 1.378 0 0 0 1.181 2.087h10.936a1.378 1.378 0 0 0 1.181-2.087zM12 9.378c.344 0 .622.278.622.622v3a.622.622 0 0 1-1.244 0v-3c0-.344.278-.622.622-.622m0 6a.622.622 0 0 0 0 1.244h.01a.622.622 0 0 0 0-1.244z" clip-rule="evenodd" />'})),_k=(0,t.forwardRef)(mk),fk=(e,n)=>t.createElement(cE,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconPasswordOff",__value:'<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.244" d="M7.197 7A8.57 8.57 0 0 0 4 12.168C4.766 16.066 8.1 19 12.099 19c1.835 0 3.53-.618 4.901-1.663" /><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.244" d="M9.858 10A2.929 2.929 0 1 0 14 14.142M4 4l16 16M10 5.297A7.5 7.5 0 0 1 12.1 5c3.9 0 7.153 2.984 7.9 6.948A9 9 0 0 1 18.826 15" />'})),gk=(0,t.forwardRef)(fk),yk=(e,n)=>t.createElement(cE,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconPasswordOn",__value:'<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.244" d="M21 12c-.85-3.994-4.557-7-9-7s-8.15 3.006-9 7c.85 3.994 4.557 7 9 7s8.15-3.006 9-7" /><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.244" />'})),bk=(0,t.forwardRef)(yk);var Ek=s(5051),wk=s.n(Ek);const Sk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return isNaN(+e)?`${e}`:(e=+e)>=t?Intl.NumberFormat("en-US").format(e).replace(/,/g," ").replace(/\./g,""):`${e}`.replace(/\./g," ")};var Ak={input:"freyja_char-input__input_OV-wx",input_disabled:"freyja_char-input__input_disabled_kRjED",inputWrapper:"freyja_char-input__inputWrapper_16aM4",textareaWrapper:"freyja_char-input__textareaWrapper_dQrqc",label:"freyja_char-input__label_R4PVl",input_error:"freyja_char-input__input_error_U1cK-",errorText:"freyja_char-input__errorText_J1nYH",shadowTextarea:"freyja_char-input__shadowTextarea_oEVcY",iconWrapper:"freyja_char-input__iconWrapper_BQMGL",iconError:"freyja_char-input__iconError_8QQWR",error:"freyja_char-input__error_mRWob",errorLeft:"freyja_char-input__errorLeft_NZcu5",errorRight:"freyja_char-input__errorRight_-CbbA",length:"freyja_char-input__length_ked7s",length_bottom:"freyja_char-input__length_bottom_GSJjE",lengthWrapper:"freyja_char-input__lengthWrapper_86DfH",realLength:"freyja_char-input__realLength_jiRZZ",maxLength:"freyja_char-input__maxLength_i02mt",required:"freyja_char-input__required_qBQXg"};const kk=e=>{let{id:n,required:i,children:r}=e;return t.createElement("label",{htmlFor:n,className:gt()(Ak.label,{[Ak.required]:i})},r)},Ck=["id","value","maxLength","maxRows","rows","disabled","placeholder","required","style"],Pk=e=>{const{id:n,value:i="",maxLength:r,maxRows:a,rows:s,disabled:o,placeholder:l,required:u,style:c}=e,d=(0,Cr.A)(e,Ck),h=(0,t.useRef)(null),p=(0,t.useRef)(null),v=t.useRef(null),m=t.useCallback((()=>{const e=h.current,t=p.current;if(!t||!e)return;t.value=e.value||l||"x";const n=t.scrollHeight;t.value="x";const i=t.scrollHeight;let r=n;return s&&(r=Math.max(Number(s)*i,r)),a&&(r=Math.min(Number(a)*i,r)),r=Math.max(r,i),r}),[a,l,s]),_=t.useCallback((()=>{const e=m(),t=h.current;e&&t&&v.current!==e&&(v.current=e,t.style.height=`${e}px`)}),[m]),f=((e,n)=>{const i=(0,t.useRef)();return(0,t.useCallback)((function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];i.current&&clearTimeout(i.current),i.current=window.setTimeout((()=>{i.current&&clearTimeout(i.current),e(...r)}),n)}),[e,n])})(_,300);return(0,t.useEffect)((()=>{const e=h.current;if(!e)return;let t;let n;return"undefined"!=typeof ResizeObserver&&(n=new ResizeObserver((()=>{cancelAnimationFrame(t),t=requestAnimationFrame((()=>{_()}))})),n.observe(e)),"object"==typeof window&&window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f),cancelAnimationFrame(t),n&&n.disconnect()}}),[f,_]),(0,t.useEffect)((()=>{_()}),[i,_]),t.createElement(t.Fragment,null,t.createElement("textarea",{className:Ak.shadowTextarea,value:i||"",ref:p}),t.createElement("textarea",(0,On.A)({},d,{placeholder:l,ref:h,id:n,value:i||"",disabled:o,rows:s,maxLength:r,required:u,style:c})))},Tk=["label","type","disabled","multiple","error","maxLength","showLength","value","required","rows","errorPosition","maskChar","isAutoresize","maxRows","showErrorIcon"];const Ik=(0,t.forwardRef)(((e,n)=>{var i;const{label:r,type:a="text",disabled:s=!1,multiple:o=!1,error:l,maxLength:u,showLength:c=!0,value:d,required:h,rows:p,errorPosition:v=null,maskChar:m="",isAutoresize:_,maxRows:f,showErrorIcon:g=!0}=e,y=(0,Cr.A)(e,Tk),[b,E]=(0,t.useState)(!1),[w,S]=(0,t.useState)(0),A=(0,t.useMemo)((()=>{const t=(null==e?void 0:e.id)||(null==e?void 0:e.name);return"undefined"==typeof window?t||Math.random().toString():t||(0,tr.A)()}),[null==e?void 0:e.id,null==e?void 0:e.name]);(0,t.useEffect)((()=>{var e;u&&S(null===(e=d||"")||void 0===e?void 0:e.length)}),[d,u]);const k=()=>{"password"===a&&E((e=>!e))},C=t.createElement("div",{className:gt()(Ak.iconWrapper,Ak.iconError),onClick:k},t.createElement(_k,null)),P=b?gk:bk,T=t.createElement("div",{className:Ak.iconWrapper,onClick:k},t.createElement(P,null)),I=(0,t.useMemo)((()=>({maxHeight:f?18*f:"auto"})),[f]);return t.createElement("div",{className:gt()(Ak.input,{[Ak.input_error]:!!l,[Ak.input_disabled]:s,error:!!l})},"function"==typeof r?r({required:h,id:A}):null!=r?t.createElement(kk,{id:A,required:h},r):null,o&&t.createElement("div",{className:Ak.textareaWrapper},!_&&t.createElement("textarea",(0,On.A)({},y,{id:A,ref:n,value:d||"",disabled:s,rows:p||6,maxLength:u,required:h,style:I})),_&&t.createElement(Pk,(0,On.A)({},y,{id:A,value:d||"",disabled:s,rows:p||6,maxLength:u,required:h,style:I})),c&&!!u&&t.createElement("span",{className:Ak.lengthWrapper},t.createElement("span",{className:Ak.realLength},Sk(String(d||"").length)),t.createElement("span",{className:Ak.maxLength}," Ð¸Ð· ",Sk(u)))),!o&&t.createElement("div",{className:Ak.inputWrapper},t.createElement(wk(),(0,On.A)({},y,{id:A,inputRef:n,mask:null!==(i=y.mask)&&void 0!==i?i:"",value:null!=d?d:"",type:"password"===a&&b?"text":a,disabled:s,maxLength:u,required:h,maskChar:m})),l&&g?C:"password"===a&&T,c&&!!u&&"password"!==a&&!l&&t.createElement("span",{className:Ak.length},t.createElement("span",null,Sk(w)),` Ð¸Ð· ${Sk(u)}`)),!!l&&t.createElement("p",{className:gt()(Ak.errorText,{[Ak[`error${null!=v?v:""}`]]:v})},l))})),Rk=Object.assign(Ik,{Label:kk}),Lk=e=>{let{isCopied:n,onClick:i,value:r,isEmbedPage:a}=e;return t.createElement("div",{className:hk},t.createElement(Rk,{readOnly:!0,value:r,onClick:()=>i(a?GA.EMBED_COPY_LINK:GA.COPY_LINK)}),t.createElement("div",{className:pk},n?t.createElement(uk,{size:"large"}):t.createElement("button",{className:vk,type:"button",onClick:()=>i(a?GA.EMBED_COPY_ICON:GA.COPY_ICON)},t.createElement(dk,{size:"large"}))))};var xk=s(2412),Ok=s.n(xk),Nk=s(6187),Dk=s.n(Nk);Ok().extend(Dk());const Mk=(e,t)=>((e,t)=>{const{cutHoursIfZero:n=!1,emptyLineIfZero:i=!1}=t||{};if(!e)return i?"":n?"00:00":"00:00:00";const r=Ok().duration(e,"seconds").format("HH:mm:ss");return r.startsWith("00")&&n?r.slice(3):r})(e,{cutHoursIfZero:t}),Bk=e=>{if(!e)return 0;const[t,n,i]=e.trim().split(":").reverse();return+t+60*+n+(i?3600*+i:0)},Fk=e=>{let{time:n,onTimeChange:i,showHours:r=!1,fallbackValue:a,error:s}=e;const[o,l]=(0,t.useState)(Mk(n,!r));(0,t.useEffect)((()=>{l(Mk(n,!r))}),[n,r]),(0,t.useEffect)((()=>{i(n)}),[n,i]);return t.createElement(Rk,{value:o,onChange:e=>{const{value:t}=e.currentTarget;l(t);const n=Bk(t);Mk(n,!r)===t&&(void 0===a||n>0)&&i(n)},onBlur:()=>{const e=Bk(o);void 0!==a&&0===e?(i(a),l(Mk(a,!r))):(l(Mk(e,!r)),(void 0===a||e>0)&&i(e))},mask:r?"99:99:99":"99:99",maskChar:"0",error:s})};var Hk="freyja_color-picker__container_boAwS",Vk="freyja_color-picker__inputColumn_8Ju-L",Uk="freyja_color-picker__paletteColumn_iqSAt",jk="freyja_color-picker__label_LjGM1",Wk="freyja_color-picker__inputWrapper_CY4V9",zk="freyja_color-picker__currentItem_gq-NB",$k="freyja_color-picker__input_xcXPK",Gk="freyja_color-picker__currentPaletteItem_xL3Pc",qk="freyja_color-picker__palette_rA3Sr",Kk="freyja_color-picker__paletteItem_p0qou",Yk="freyja_color-picker__active_qc9mT";const Qk=e=>{let{label:n,onColorChanged:i}=e;const[r,a]=(0,t.useState)(mE),s=(0,t.useCallback)((e=>{const t=`#${e.replace("#","")}`;gE(t)&&(null==i||i(t)),a(t)}),[i]),o=(0,t.useCallback)((()=>{gE(r)||(a(mE),null==i||i(mE))}),[r,i]);return t.createElement("div",{className:Hk},t.createElement("div",{className:Vk},t.createElement("span",{className:jk},n),t.createElement("div",{className:Wk},t.createElement(Rk,{type:"text",maxLength:7,showLength:!1,value:r,title:"Ð¦Ð²ÐµÑ‚",onChange:e=>{var t;e.preventDefault(),s(null===(t=e.target)||void 0===t?void 0:t.value)},onBlur:o,className:$k}),t.createElement("div",{className:zk},t.createElement(kE,{color:r,isDisabled:!0,itemClass:Gk,hasBorder:!0})))),t.createElement("div",{className:Uk},t.createElement(RE,{className:qk,itemClass:Kk,itemActiveClass:Yk,onItemClick:(e,t)=>{t.preventDefault(),s(e)},activeColor:r,hasIcon:!0,hasBorder:!0})))};var Xk="freyja_char-embed-settings__embedSettings_RRo-g",Zk="freyja_char-embed-settings__settingsRow_ZOLr1",Jk="freyja_char-embed-settings__withGap_y46io",eC="freyja_char-embed-settings__blockTitle_8FKV-",tC="freyja_char-embed-settings__blockBody_OZ94v",nC="freyja_char-embed-settings__staticWidth_tZOyK",iC="freyja_char-embed-settings__cross_zx2AH",rC="freyja_char-embed-settings__warningMessage_yiiF0",aC="freyja_char-embed-settings__size_vggRS",sC="freyja_char-embed-settings__width_U54ij",oC="freyja_char-embed-settings__height_g-4mv",lC="freyja_char-embed-settings__checkbox_rKfEQ",uC={checkbox:"freyja_char-checkbox__checkbox_GDS9Y",top:"freyja_char-checkbox__top_FoOOx",bottom:"freyja_char-checkbox__bottom_3VwiW",checkboxDisabled:"freyja_char-checkbox__checkboxDisabled_Sh-1y",input:"freyja_char-checkbox__input_wGwSh",title:"freyja_char-checkbox__title_2c6tT",title__regular:"freyja_char-checkbox__title__regular_jpR6Y",title__large:"freyja_char-checkbox__title__large_-VOGq",titleDisabled:"freyja_char-checkbox__titleDisabled_zTKMQ",checkmarkWrapper:"freyja_char-checkbox__checkmarkWrapper_TM1xU"},cC={checkmark:"freyja_char-checkmark__checkmark_jhsTO",checkmark__isChecked:"freyja_char-checkmark__checkmark__isChecked_d7H6I",checkmark__isDisabled:"freyja_char-checkmark__checkmark__isDisabled_dT4c3",checkmark__isInvalid:"freyja_char-checkmark__checkmark__isInvalid_5Dj4-",checkmark__regular:"freyja_char-checkmark__checkmark__regular_MBMq8",icon:"freyja_char-checkmark__icon_xlNLv",checkmark__large:"freyja_char-checkmark__checkmark__large_2vPsT",wrapper:"freyja_char-checkmark__wrapper_LMqLH",icon__isDisabled:"freyja_char-checkmark__icon__isDisabled_JNikn"};const dC=e=>{let{isChecked:n=!1,isValid:i=!0,isDisabled:r=!1,size:a="regular"}=e;return t.createElement("span",{className:gt()(cC.checkmark,cC[`checkmark__${a}`],{[cC.checkmark__isChecked]:n,[cC.checkmark__isDisabled]:r,[cC.checkmark__isInvalid]:!i})},n?t.createElement("div",{className:cC.wrapper},t.createElement("span",{className:gt()(cC.icon,{[cC.icon__isDisabled]:r})})):null)},hC=["title","checked","isValid","disabled","position","onClick","size","id"];const pC=e=>{const{title:n,checked:i,isValid:r=!0,disabled:a=!1,position:s,onClick:o,size:u="regular",id:c}=e,d=(0,Cr.A)(e,hC),h=(0,t.useRef)(null!=c?c:(0,tr.A)());return t.createElement("div",{className:gt()(uC.checkbox,(0,l.A)({[uC.checkboxDisabled]:a},s?{[uC[s]]:s}:{})),onClick:o},t.createElement("div",{className:uC.checkmarkWrapper},t.createElement(dC,{isChecked:i,isDisabled:a,isValid:r,size:u}),t.createElement("input",(0,On.A)({},d,{className:uC.input,type:"checkbox",id:h.current,checked:i,disabled:a}))),n?t.createElement("label",{className:gt()(uC.title,uC[`title__${u}`],{[uC.titleDisabled]:a}),htmlFor:h.current},n):null)},vC=Math.floor(171),mC=e=>{let{onEmbedCodeChanged:n,videoDuration:i,playOptions:r,url:a,showTimecode:s,defaultStartTime:o,pepper:l,videoId:u,onEmbedColorChanged:c}=e;const d=(0,Jd.a3)({value:i/1e3})||"",h=i>=36e5,[p,v]=t.useState(mE),[m,_]=(0,t.useState)(720),[f,g]=(0,t.useState)(405),[y,b]=(0,t.useState)(!1),[E,w]=(0,t.useState)((()=>o)),[S,A]=(0,t.useState)(!1),[k,C]=(0,t.useState)(Math.floor(i/1e3)),[P,T]=(0,t.useState)(""),[I,R]=(0,t.useState)("");(0,t.useEffect)((()=>{const e=i&&Math.floor(i/1e3);n((e=>{var t,n,i;let{settings:r,playOptions:a,url:s,pepper:o,videoId:l}=e;const{embedStart:u,embedEnd:c,embedWidth:d,embedHeight:h,embedColor:p,embedShowAuthor:v,embedShowTitle:m}=r,_=(null==a?void 0:a.video_id)||l||"",f=pE(`${s}/play/embed/${_}`);if(!f)return"";o&&f.searchParams.append("p",o),p!==mE&&f.searchParams.append("skinColor",p.replace("#","")),u>0&&f.searchParams.append("t",u.toString()),c>0&&f.searchParams.append("stopTime",c.toString()),f.pathname+="/";const g={videoUrl:(null==a?void 0:a.video_url)||"",title:(null==a?void 0:a.title)||"",authorUrl:(null==a||null===(t=a.author)||void 0===t?void 0:t.url)||"",name:v&&(null==a||null===(n=a.author)||void 0===n?void 0:n.name)||"",origin:`${(null===(i=pE(null==a?void 0:a.video_url))||void 0===i?void 0:i.origin)||""}/`};return`<iframe width="${d}" height="${h}" src="${f.toString()}" style="border: none;" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>${m?(e=>{const{videoUrl:t,title:n,authorUrl:i,name:r,origin:a}=e;return(r&&i?'\n<p><a href="VIDEO_URL">TITLE</a> Ð¾Ñ‚ <a href="AUTHOR_URL">NAME</a> Ð½Ð° <a href="ORIGIN_URL">RUTUBE</a>':'\n<p><a href="VIDEO_URL">TITLE</a> Ð½Ð° <a href="ORIGIN_URL">RUTUBE</a>').replace("VIDEO_URL",t).replace("TITLE",n).replace("AUTHOR_URL",i).replace("NAME",r).replace("ORIGIN_URL",a)})(g):""}`})({settings:{embedColor:p,embedWidth:m,embedHeight:f,embedStartEnabled:y,embedStart:y&&!P?E:0,embedEndEnabled:S,embedEnd:S&&!I&&k<e?k:0,embedShowAuthor:!1,embedShowTitle:!1},playOptions:r,url:a,pepper:l,videoId:u}))}),[P,I,i,n,p,m,f,y,E,S,k,r,a,l,u]);const L=(0,t.useCallback)((e=>{const t=parseInt(e.target.value);isNaN(t)?console.warn("ÐÐµÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð°Ñ Ð²Ñ‹ÑÐ¾Ñ‚Ð°!"):(_(t),g(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16/9;return Math.floor(e/t)}(t)))}),[]),x=(0,t.useCallback)((e=>{const t=parseInt(e.target.value);isNaN(t)?console.warn("ÐÐµÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð°Ñ ÑˆÐ¸Ñ€Ð¸Ð½Ð°!"):(g(t),_(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16/9;return Math.floor(e*t)}(t)))}),[]),O=(0,t.useCallback)((e=>{v(e),c(e)}),[v,c]),N=e=>t=>{if("start"===e){const e=_E(t,y,i,k,S),n=fE(t,y,i,k,S);w(t),T(`${e}${e&&i?d:""}`),k>t&&R(`${n}${n&&i?d:""}`)}if("end"===e){const e=_E(E,y,i,t,S),n=fE(E,y,i,t,S);C(t),R(`${n}${n&&i?d:""}`),E<t&&T(`${e}${e&&i?d:""}`)}};return(0,t.useEffect)((()=>{const e=_E(E,y,i,k,S),t=fE(E,y,i,k,S);T(`${e}${e&&i?d:""}`),R(`${t}${t&&i?d:""}`)}),[y,S]),t.createElement(t.Fragment,null,t.createElement("div",{className:gt()(Xk)},t.createElement("div",{className:Zk},t.createElement("div",{className:aC},t.createElement("div",{className:eC},"Ð Ð°Ð·Ð¼ÐµÑ€Ñ‹ Ð¿Ð»ÐµÐµÑ€Ð°, px: "),t.createElement("div",{className:tC},t.createElement("div",{className:sC},t.createElement(Rk,{type:"text",maxLength:4,showLength:!1,value:m.toString(),title:"ÑˆÐ¸Ñ€Ð¸Ð½Ð°",onChange:L})),t.createElement("span",{className:iC},"Ã—"),t.createElement("div",{className:oC},t.createElement(Rk,{type:"text",maxLength:4,showLength:!1,value:f.toString(),title:"Ð²Ñ‹ÑÐ¾Ñ‚Ð°",onChange:x})),(m-0<304||f-0<vC)&&t.createElement("div",{className:rC},`ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ ÑˆÐ¸Ñ€Ð¸Ð½Ð° Ð¿Ð»ÐµÐµÑ€Ð° - ${304..toString()}px`)))),t.createElement("div",{className:Zk},t.createElement(Qk,{label:"Ð¦Ð²ÐµÑ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¿Ð»ÐµÐµÑ€Ð° (HEX)",onColorChanged:O})),s&&t.createElement(t.Fragment,null,t.createElement("div",{className:gt()(Zk,Jk)},t.createElement("div",{className:gt()(tC,nC)},t.createElement("div",{className:lC},t.createElement(pC,{id:"embed-start-checkbox",name:"embed-start-checkbox",checked:y,title:y?"Ð’Ñ€ÐµÐ¼Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°:":`Ð’Ñ€ÐµÐ¼Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°: ${(0,Jd.a3)({value:E})}`,onChange:e=>{const{checked:t}=e.currentTarget;b(t)}})),y&&t.createElement(Fk,{showHours:h,time:E,onTimeChange:N("start")}),P&&t.createElement("div",{className:rC},P)),t.createElement("div",{className:gt()(tC,nC)},t.createElement("div",{className:lC},t.createElement(pC,{id:"embed-end-checkbox",name:"embed-end-checkbox",checked:S,title:S?"Ð’Ñ€ÐµÐ¼Ñ ÐºÐ¾Ð½Ñ†Ð°:":`Ð’Ñ€ÐµÐ¼Ñ ÐºÐ¾Ð½Ñ†Ð°: ${d||""}`,onChange:e=>{const{checked:t}=e.currentTarget;A(t)}})),S&&t.createElement(Fk,{showHours:h,time:k,fallbackValue:Math.floor(i/1e3),onTimeChange:N("end")}),I&&t.createElement("div",{className:rC},I))))))};var _C="freyja_char-share-embed__copyButton_lwq8s",fC="freyja_char-share-embed__subtitle_fGXDC",gC="freyja_char-share-embed__row_xA9Wq";const yC=e=>{let{url:n,playOptions:i,onShare:r,showTimecode:a,defaultStartTime:s,pepper:o,videoId:l,onTabChanged:u}=e;const[c,d]=(0,t.useState)(""),[h,p]=$A(!1),[v,m]=t.useState(mE),_=(null==i?void 0:i.duration)||0,f=null==i?void 0:i.thumbnail_url,g=e=>{c&&(qA(c),p(!0),r&&r(e))};return t.createElement(t.Fragment,null,t.createElement("div",{className:gC},t.createElement(ok,{color:v,thumbnailUrl:null!=f?f:"https://static.rutube.ru/static/img/png/player-stubs/countdown-default-bg.png"})),t.createElement("div",{className:gC},t.createElement(XA,{currentTab:zA.EMBED_CODE,onTabChanged:u})),t.createElement("div",{className:gC},t.createElement("p",{className:fC},"ÐšÐ¾Ð´"),t.createElement(Lk,{isCopied:h,value:c,onClick:g,isEmbedPage:!0})),t.createElement("div",{className:gC},t.createElement(mC,{onEmbedCodeChanged:d,videoDuration:_,playOptions:i,defaultStartTime:s,url:n,showTimecode:a,pepper:o,videoId:l,onEmbedColorChanged:m})),t.createElement("button",{className:_C,onClick:()=>g(GA.EMBED_COPY_BUTTON)},h?"ÐšÐ¾Ð´ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½":"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ"))};var bC={title:"freyja_char-share-url__title_JGTVm",buttons:"freyja_char-share-url__buttons_hXICr",icon:"freyja_char-share-url__icon_STA8s",subtitle:"freyja_char-share-url__subtitle_5gKp5",startTime:"freyja_char-share-url__startTime_B7l0u",checkbox:"freyja_char-share-url__checkbox_dhucr",warningMessage:"freyja_char-share-url__warningMessage_Z2jUZ",shareIcon:"freyja_char-share-url__shareIcon_l1YQv","shareIcon--type-facebook":"freyja_char-share-url__shareIcon--type-facebook_6Lw6b","shareIcon--type-ok":"freyja_char-share-url__shareIcon--type-ok_pHl9d","shareIcon--type-mail":"freyja_char-share-url__shareIcon--type-mail_MHq1n","shareIcon--type-telegram":"freyja_char-share-url__shareIcon--type-telegram_LofQ7","shareIcon--type-viber":"freyja_char-share-url__shareIcon--type-viber_g0rX9","shareIcon--type-vk":"freyja_char-share-url__shareIcon--type-vk_Xuj7P","shareIcon--type-whatsapp":"freyja_char-share-url__shareIcon--type-whatsapp_KpBct",copyButton:"freyja_char-share-url__copyButton_z0wx9",row:"freyja_char-share-url__row_qyBWD"},EC="freyja_char-share-button__charShareButton_bEsry";const wC=["windowPosition","width","height"],SC=(e,t)=>{let{windowPosition:n,width:i,height:r}=t,a=(0,Cr.A)(t,wC);const s=(0,l.A)((0,l.A)({location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes",width:i,height:r},a),"windowCenter"===n?((e,t)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-t/2}))(i,r):((e,t)=>({top:(window.screen.height-t)/2,left:(window.screen.width-e)/2}))(i,r));window.open(e,"",Object.entries(s).map((e=>{let[t,n]=e;return`${t}=${n}`})).join(", "))},AC=["children","className","disabled","onClick","link","windowHeight","windowWidth","windowPosition"],kC=e=>{let{children:n,className:i,disabled:r,onClick:a,link:s,windowHeight:o=400,windowWidth:l=550,windowPosition:u="windowCenter"}=e,c=(0,Cr.A)(e,AC);return t.createElement("button",(0,On.A)({},c,{className:gt()(EC,i),disabled:r,onClick:e=>{SC(s,{height:o,width:l,windowPosition:u}),null==a||a(e,s)}}),n)},CC=e=>{const t=Object.entries(e).filter((e=>{let[,t]=e;return null!=t})).map((e=>{let[t,n]=e;return`${encodeURIComponent(t)}=${encodeURIComponent(String(n))}`}));return t.length>0?`?${t.join("&")}`:""},PC=["url","title","image","noParse","noVkLinks"];function TC(e,t){let{title:n,image:i,noParse:r,noVkLinks:a}=t;return`https://vk.com/share.php${CC({url:e,title:n,image:i,noparse:r?1:0,no_vk_links:a?1:0})}`}const IC={windowWidth:660,windowHeight:460},RC=["url","title","description","image"];function LC(e,t){let{title:n,description:i,image:r}=t;return`https://connect.ok.ru/offer${CC({url:e,title:n,description:i,imageUrl:r})}`}const xC={windowWidth:588,windowHeight:480,windowPosition:"screenCenter"},OC=["url","title"];function NC(e,t){let{title:n}=t;return`https://telegram.me/share/url${CC({url:e,title:n})}`}const DC={windowWidth:550,windowHeight:400},MC=["url","title","separator"];function BC(e,t){let{title:n,separator:i=" "}=t;return`${`https://${/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)?"api":"web"}.whatsapp.com/send`}${CC({text:n?`${n}${i}${e}`:e})}`}const FC={windowWidth:550,windowHeight:400},HC=[{SocialButton:e=>{let{url:n,title:i,image:r,noParse:a,noVkLinks:s}=e,o=(0,Cr.A)(e,PC);return t.createElement(kC,(0,On.A)({link:TC(n,{title:i,image:r,noParse:a,noVkLinks:s})},IC,o))},icon:"vk",type:GA.VK},{SocialButton:e=>{let{url:n,title:i,description:r,image:a}=e,s=(0,Cr.A)(e,RC);return t.createElement(kC,(0,On.A)({link:LC(n,{title:i,description:r,image:a})},xC,s))},icon:"ok",type:GA.OK},{SocialButton:e=>{let{url:n,title:i}=e,r=(0,Cr.A)(e,OC);return t.createElement(kC,(0,On.A)({link:NC(n,{title:i})},DC,r))},icon:"telegram",type:GA.TELEGRAM},{SocialButton:e=>{let{url:n,title:i,separator:r}=e,a=(0,Cr.A)(e,MC);return t.createElement(kC,(0,On.A)({link:BC(n,{title:i,separator:r})},FC,a))},icon:"whatsapp",type:GA.WHATS_APP}],VC=e=>{let{type:n}=e;return t.createElement("span",{className:gt()(bC.shareIcon,bC[`shareIcon--type-${n}`])})},UC=e=>{let{url:n,location:i,isMobile:r,playOptions:a,pepper:s,onShare:o,showTimecode:l,defaultStartTime:u,urlParams:c,onTabChanged:d,hideEmbedCode:h}=e;const p=(null==a?void 0:a.duration)||0,v=(0,Jd.a3)({value:p/1e3})||"",m=p>=36e5,_=`ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ ÑÑ‚Ð¾ Ð²Ð¸Ð´ÐµÐ¾ Ð½Ð° RUTUBE: Â«${(null==a?void 0:a.title)||""}Â»`,[f,g]=$A(!1),[y,b]=(0,t.useState)(!1),[E,w]=(0,t.useState)((()=>u)),[S,A]=(0,t.useState)(""),k=(0,t.useCallback)((()=>vE({url:`${n}${i}`,pepper:s,isMobile:r,startTime:y?E:null,urlParams:c})),[n,i,s,r,y,E,c]),[C,P]=(0,t.useState)(k()),T=e=>{o&&o(e)},I=e=>{C&&(qA(C),g(!0),T(e))},R=(0,t.useMemo)((()=>((e,t,n)=>encodeURI(`mailto:?subject=${t}&body=${(null==n?void 0:n.title)||""} â€” ${e}`))(`${n}${i}`,_,a)),[n,i,_,a]);(0,t.useEffect)((()=>{if(S&&y)P("");else{const e=vE({url:`${n}${i}`,pepper:s,isMobile:r,startTime:!S&&y?E:null,urlParams:c});P(e)}}),[r,i,E,n,s,S,y,c,g]);return t.createElement(t.Fragment,null,t.createElement("div",{className:bC.buttons},HC.map(((e,n)=>{let{SocialButton:i,icon:r,type:a}=e;return t.createElement(t.Fragment,{key:n},t.createElement(i,{url:C,title:_,className:bC.icon,onClick:()=>T(a)},t.createElement(VC,{type:r})))})),t.createElement("a",{href:R,className:bC.icon,onClick:()=>T(GA.EMAIL)},t.createElement(VC,{type:"mail"}))),t.createElement("div",{className:bC.row},t.createElement(XA,{hideEmbedCode:h,currentTab:zA.SHARE_URL,onTabChanged:d})),t.createElement("div",{className:bC.row},t.createElement("p",{className:bC.subtitle},"Ð¡ÑÑ‹Ð»ÐºÐ°"),t.createElement(Lk,{isCopied:f,value:C,onClick:I,isEmbedPage:!1})),l&&t.createElement(t.Fragment,null,t.createElement("div",{className:gt()(bC.startTime,bC.row)},t.createElement("div",{className:bC.checkbox},t.createElement(pC,{id:"embed-start-checkbox",name:"embed-start-checkbox",checked:y,title:y?"Ð’Ñ€ÐµÐ¼Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°:":`Ð’Ñ€ÐµÐ¼Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°: ${(0,Jd.a3)({value:E})}`,onChange:e=>{const{checked:t}=e.currentTarget;b(t)}})),y&&t.createElement(Fk,{showHours:m,time:E,onTimeChange:e=>{w(e);const t=_E(e,y,p);A(`${t}${t&&p?v:""}`)}}),S&&y&&t.createElement("div",{className:bC.warningMessage},S))),t.createElement("button",{className:bC.copyButton,onClick:()=>I(GA.COPY_BUTTON)},f?"Ð¡ÑÑ‹Ð»ÐºÐ° ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð°":"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ"))};var jC="freyja_char-share-panel__wrapper_u1aTw",WC="freyja_char-share-panel__header_rdIGJ",zC="freyja_char-share-panel__title_-LaTW",$C="freyja_char-share-panel__closeButton_vmcK4";const GC=e=>{let{url:n,location:i,isMobile:r,showTimecode:a,playOptions:s,pepper:o,urlParams:l,onShare:u,onClickOutside:c,currentTime:d=0,anchorRef:h,containerRef:p,hideEmbedCode:v=!1,videoId:m}=e;const[_,f]=(0,t.useState)(zA.SHARE_URL),g=(0,t.useRef)(null),y=p||g,b=e=>{u&&u(e)};var E,w,S;return E=[y,h],w=c,(0,t.useEffect)((()=>{const e=e=>{if(Array.isArray(E)){if(E.some((t=>{var n;return null===(n=t.current)||void 0===n?void 0:n.contains(e.target)})))return}else if(!E.current||E.current.contains(e.target))return;w&&w(e)};return document.addEventListener("mousedown",e,null==S?void 0:S.mouseHandlerOptions),()=>{document.removeEventListener("mousedown",e)}}),[E,w,S]),t.createElement("div",{ref:y,className:gt()(jC)},t.createElement("div",{className:WC},t.createElement("h3",{className:zC},"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ"),t.createElement("div",{className:$C,onClick:c},t.createElement(WA,{color:"var(--pen-secondary100)",size:"14"}))),_===zA.SHARE_URL&&t.createElement(UC,{url:n,location:i,urlParams:l,isMobile:r,playOptions:s,pepper:o,onShare:b,showTimecode:a,defaultStartTime:d,onTabChanged:f,hideEmbedCode:v}),_===zA.EMBED_CODE&&t.createElement(yC,{url:n,pepper:o,playOptions:s,onShare:b,showTimecode:a,defaultStartTime:d,videoId:m,onTabChanged:f}))},qC="share-popup-module__playerShareBtnPopup___Xmz0t",KC="share-popup-module__raichuPlayerShareScrollContainer___yCQfn",YC="share-popup-module__sharePopupWrapper___jJXVw",QC=(0,_t.PA)((()=>{const{isSharePanelOpen:e,setActivePanel:n,currentTime:i,videoUrl:r,isLive:a,playOptions:s,pepper:o,onShare:l,isEmbed:u}=im(),c=(0,t.useRef)(null),d=Math.round(i),h=(0,t.useMemo)((()=>{if(r)try{return new URL(r)}catch(e){return console.warn("share-popup:",e),{origin:"",pathname:""}}return{origin:"",pathname:""}}),[r]);return(0,mt.Wr)(c,(()=>{c.current&&e&&n("")})),e?t.createElement("div",{className:YC},t.createElement("div",(0,On.A)({ref:c,className:qC},th.Ln),t.createElement("div",{className:KC},t.createElement(GC,{currentTime:d,url:window.location.origin,location:h.pathname,urlParams:(0,R.VZ)(qt.B.isMobile),onClickOutside:()=>n(""),isMobile:qt.B.isMobile,playOptions:s,showTimecode:!a,pepper:o,anchorRef:c,onShare:l,hideEmbedCode:Boolean(u)})))):null}));var XC;let ZC,JC;class eP extends k.j8{static get ShareButton(){return UA}static get SharePopup(){return QC}constructor(e,t,n,i,r,a,s,o){super(),this._data=void 0,this._playback=void 0,this._appearance=void 0,this._controls=void 0,this._layout=void 0,this._counterHelper=void 0,this._isEmbed=void 0,this._banner=void 0,this.__pepper=A.sH.box(""),this._data=e,this._playback=t,this._appearance=n,this._controls=i,this._layout=r,this._counterHelper=s instanceof ps?s.counterHelper:void 0,this._isEmbed=a.value,this._banner=o,this.setActivePanel=this.setActivePanel.bind(this),this.onShare=this.onShare.bind(this)}get isShowingShareBtn(){const e=this._appearance.showShareButton&&this._isEmbed,t=this._appearance.showShareButton&&!this._isEmbed,n=this._layout.isTouchDevice&&t&&this._layout.isFullScreen,i=this._playback.ended&&!this._layout.isTouchDevice;return(e||n)&&!i}get isHidedShareBtn(){var e;return Boolean(null===(e=this._banner)||void 0===e?void 0:e.isShowBanner)}get isEmbed(){return this._isEmbed}get isSharePanelOpen(){return"share"===this._controls.activePanel}get title(){var e;return(null===(e=this._data)||void 0===e?void 0:e.title)||""}get videoUrl(){var e;return(null===(e=this._data)||void 0===e?void 0:e.videoUrl)||""}get currentTime(){return this._playback.currentTime}get playOptions(){var e;return null!==(e=this._data)&&void 0!==e&&e.data?this._data.data:null}get isLive(){var e;return Boolean(null===(e=this._data)||void 0===e?void 0:e.isLive)}get pepper(){return this.__pepper.get()}set pepper(e){this.__pepper.set(e)}get counterHelper(){return this._counterHelper}onShare(e){var t;null===(t=this._counterHelper)||void 0===t||t.get("mainSharingShare")({socialNetwork:e})}setActivePanel(e){this._controls.activePanel=e}}var tP,nP;let iP,rP,aP;var sP;let oP,lP,uP;XC=eP,[JC,ZC]=(0,S.A)(XC,[(0,k.k_)({implement:"ISharePlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},"IPlayback","IAppearancePlugin","IControlsPlugin","IVideoLayoutPlugin","IsEmbed",{implement:"IStatisticState",optional:!0},{implement:"ICommunicationBannerPlugin",optional:!0}]})],[],0,void 0,k.j8).c,ZC(),new(nP=class extends k.j8{constructor(e,t,n,i){super(),this._data=e,this._playerSize=t,this._playback=n,this._isEmbedResolvable=i,(0,A.Gn)({isPosterVisible:A.EW,isPlayButtonVisible:A.EW})}get title(){return this._data.title||""}get thumbnailUrl(){return this._data.poster||""}get playerWidth(){var e;return null===(e=this._playerSize.size)||void 0===e?void 0:e.width}get isPosterVisible(){var e;const{isPlaying:t,wasStarted:n,waiting:i}=this._playback;return!t&&this._data.isTVStream&&!(n&&i)||"rtba"===(null===(e=this._data.data)||void 0===e?void 0:e.origin_type)&&this.thumbnailUrl}get isPlayButtonVisible(){return Boolean(this._playback.paused&&this._playback.wasStarted&&!this._playback.ended&&this._isEmbedResolvable.value)}},[aP,iP]=(0,S.A)(nP,[(0,k.k_)({implement:"IPosterPlugin",ctor_args:["IDataPlugin","IPlayerSizePlugin","IPlayback","IsEmbed"]})],[],0,void 0,k.j8).c,rP=nP,(tP=class extends V{constructor(){super(aP),this.Poster=yv,iP()}})[rP]=void 0,tP);class cP extends k.j8{constructor(e,t,n){var i;super(),this._playbackPlugin=void oP(this),this._eventBus=void 0,this.config=n,this._eventBus=null!==(i=null==t?void 0:t.value)&&void 0!==i?i:jr.Ug,this._playbackPlugin=e}init(){const e=(0,A.mJ)((()=>this._playbackPlugin.duration),(e=>{this._eventBus.emit(fi.L2.DURATION_CHANGE,{duration:e})})),t=this.subscribePlaybackEvent(Ln.p.volumeChange,bi((e=>{this._eventBus.emit(fi.L2.VOLUME_CHANGE,{volume:e,muted:this._playbackPlugin.muted})}),500)),n=this.subscribePlaybackEvent(Ln.p.mute,(e=>{this._eventBus.emit(fi.L2.VOLUME_CHANGE,{volume:this._playbackPlugin.volume,muted:e})})),i=(0,A.mJ)((()=>this._playbackPlugin.buffering),this.handleBuffering.bind(this)),r=(0,A.mJ)((()=>({currentTime:this._playbackPlugin.currentTime,duration:this._playbackPlugin.duration})),(e=>{var t;return this._eventBus.emit(fi.L2.CURRENT_TIME,{videoId:null===(t=this.config)||void 0===t?void 0:t.get("videoId"),time:e.currentTime,currentTime:e.currentTime,duration:e.duration})})),a=(0,A.mJ)((()=>this._playbackPlugin.ended),(e=>{e&&this._endHandler()})),s=this.subscribePlaybackEvent(Ln.p.error,(()=>{this._eventBus.emit(fi.L2.ERROR,{fatal:!1,type:"playback",message:"Some playback error"})}));return()=>[e,t,n,i,r,a,s].forEach((e=>e()))}handleBuffering(){const[e]=this._playbackPlugin.getBuffered();this._eventBus.emit(fi.L2.BUFFERING,{range:e})}subscribePlaybackEvent(e,t){return this._playbackPlugin.on(e,t),()=>{this._playbackPlugin.off(e,t)}}_endHandler(){this._eventBus.emit(fi.L2.PLAY_COMPLETE,{})}}sP=cP,({e:[oP],c:[uP,lP]}=(0,S.A)(sP,[(0,k.k_)({implement:"IAutoPostMessagesPlugin",ctor_args:["IPlayback",{implement:"EventBus",optional:!0},{implement:"IPlayerConfigPlugin",optional:!0}]})],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),lP();let dP=function(e){return e.START="start",e.OPTIONS_REQUEST="options_request",e.BL_REQUEST="bl_request",e.PLAY_START="play_start",e.REWIND="rewind",e.PAUSE="pause",e.UNPAUSE="unpause",e.CHANGE_SM="change_sm",e.CHANGE_Q="change_q",e.CHANGE_QM="change_qm",e.CHANGE_V="change_v",e.TEN_SEC="10sec",e.A_REQUEST="a_request",e.A_START="a_start",e.A_END="a_end",e.END="end",e.BUFFERING_START="buffering_start",e.BUFFERING_END="buffering_end",e.ERROR="error",e}({});var hP;let pP,vP,mP;hP=class extends uP{constructor(e,t,n,i,r,a,s,o,l,u,c){super(e,c,s),this._providerPlugin=void pP(this),this._playOptions=void 0,this._statisticStore=void 0,this._layoutPlugin=void 0,this._advertPlugin=void 0,this._config=void 0,this._pip=void 0,this._cinema=void 0,this._fullscreen=void 0,this._playingHandled=!1,this._providerPlugin=t,this._layoutPlugin=r,this._playOptions=n,this._statisticStore=i,this._advertPlugin=a,this._config=s,this._pip=o,this._cinema=l,this._fullscreen=u}getCommonParameters(){return{currentTime:this._playbackPlugin.currentTime||0,duration:this._playbackPlugin.duration||0}}emit(e,t){this._eventBus.emit(e,(0,l.A)((0,l.A)({},this.getCommonParameters()),t))}initVideo(){const e=(0,A.mJ)((()=>this._playbackPlugin.isPlaying),(e=>{e&&!this._playingHandled&&(this.sendPlayStart(),this._playingHandled=!0)})),t=this.subscribeAdvertEvent(ra.load,this.handleAdvertLoad.bind(this)),n=this.subscribeAdvertEvent(ra.start,this.handleAdvertStart.bind(this)),i=this.subscribeAdvertEvent(ra.end,this.handleAdvertEnd.bind(this)),r=this.subscribeAdvertEvent(ra.skippable,this.handleAdvertSkippable.bind(this)),a=this.subscribeAdvertEvent(ra.error,this.handleAdvertError.bind(this));return()=>[e,t,n,i,r,a].forEach((e=>e()))}pipChangeState(){if(this._pip)return(0,A.mJ)((()=>{var e;return null===(e=this._pip)||void 0===e?void 0:e.isInPiP}),(e=>{this.emit(fi.L2.IS_IN_PIP,{isInPiP:Boolean(e)})}))}cinemaChangeState(){if(this._cinema)return(0,A.mJ)((()=>{var e;return null===(e=this._cinema)||void 0===e?void 0:e.isCinema}),(e=>{this.emit(fi.L2.IS_CINEMA,{isCinema:Boolean(e)})}))}fullscreenChangeState(){if(this._fullscreen)return(0,A.mJ)((()=>{var e;return null===(e=this._fullscreen)||void 0===e?void 0:e.isFullscreen}),(e=>{this.emit(fi.L2.IS_FULLSCREEN,{isFullscreen:Boolean(e)})}))}sendPlayStart(){var e,t,n;const i={video_id:this._config.get("videoId"),qa:this._providerPlugin.autoQuality,sm:this._layoutPlugin.playerMode,yclid:st(),viewid:(null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.view_id)||"",user:this._config.get("userId")||"",cid:this._statisticStore.uuid,pid:this._statisticStore.guid||"",referer:(0,R.If)(),v:this._playbackPlugin.volume};var r,a;null!==(t=this._providerPlugin.activeQuality)&&void 0!==t&&t.width&&(i.q_w=null===(r=this._providerPlugin.activeQuality)||void 0===r?void 0:r.width);null!==(n=this._providerPlugin.activeQuality)&&void 0!==n&&n.height&&(i.q_h=null===(a=this._providerPlugin.activeQuality)||void 0===a?void 0:a.height);this._providerPlugin.type&&(i.tr=this._providerPlugin.type),this._statisticStore.followedLink&&(i.referral_rutube=this._statisticStore.followedLink),this.emit(fi.L2.PLAY_START,i)}handleAdvertSkippable(t){let{name:n,urlTemplate:i}=t;this.emit(fi.L2.AD_SKIPPABLE,{aformat:n,did:(0,e.kJ)(),videoId:this._config.get("videoId"),e:dP.A_REQUEST,axurl:i})}handleAdvertLoad(t){let{name:n,urlTemplate:i}=t;this.emit(fi.L2.AD_REQUEST,{aformat:n,did:(0,e.kJ)(),videoId:this._config.get("videoId"),e:dP.A_REQUEST,axurl:i})}handleAdvertError(t){let{name:n,urlTemplate:i,errorMessage:r}=t;this.emit(fi.L2.AD_ERROR,{aformat:n,did:(0,e.kJ)(),videoId:this._config.get("videoId"),e:dP.ERROR,axurl:i,errorMessage:r})}handleAdvertStart(t){let{name:n,urlTemplate:i}=t;this.emit(fi.L2.ROLL_STATE,{state:"play",type:n}),this.emit(fi.L2.AD_START,{aformat:n,did:(0,e.kJ)(),videoId:this._config.get("videoId"),e:dP.A_START,axurl:i})}handleAdvertEnd(t){let{name:n,urlTemplate:i}=t;this.emit(fi.L2.ROLL_STATE,{state:"complete",type:n}),this.emit(fi.L2.AD_END,{aformat:n,did:(0,e.kJ)(),videoId:this._config.get("videoId"),e:dP.A_END,axurl:i})}subscribeAdvertEvent(e,t){var n;return null===(n=this._advertPlugin)||void 0===n||n.on(e,t),()=>{var n;null===(n=this._advertPlugin)||void 0===n||n.off(e,t)}}},({e:[pP],c:[mP,vP]}=(0,S.A)(hP,[(0,k.k_)({implement:"IAutoPostMessagesPlugin",ctor_args:["IPlayback","IProviderPlugin",{implement:"IDataPlugin",optional:!0},"IStatisticValues","IVideoLayoutPlugin",{implement:"IAdvertPlugin",optional:!0},"IPlayerConfigPlugin",{implement:"PictureInPicturePlugin",optional:!0},{implement:"CinemaModePlugin",optional:!0},{implement:"IFullscreenPlugin",optional:!0},{implement:"EventBus",optional:!0}]})],[[(0,k.o7)(),2,"initVideo"],[(0,k.o7)(),2,"pipChangeState"],[(0,k.o7)(),2,"cinemaChangeState"],[(0,k.o7)(),2,"fullscreenChangeState"]],0,void 0,uP)),vP();const _P="SCREEN_ORIENTATION_LOCK",fP=String(!0);function gP(e){if(!function(){var e;const t=navigator.userAgent.toLowerCase().includes("android"),n=Boolean(null===(e=window)||void 0===e||null===(e=e.screen.orientation)||void 0===e?void 0:e.lock);return t&&n}())return null;return window.screen.orientation.lock(e).then((()=>(Ui(_P,fP),!0))).catch((()=>!1))}var yP;let bP,EP,wP;class SP extends k.j8{constructor(e,t,n){super(),this._isFullscreen=(bP(this),A.sH.box(!1)),this._screenfullElement=A.sH.box(null),this._counterHelper=void 0,this._playback=e,this._pip=n,(0,A.Gn)(this,{screenfullElement:A.EW,isFullscreen:A.EW,handleFullscreen:A.XI,fullScreenEventListener:A.XI,iOsFullScreenListener:A.XI}),this.fullScreenEventListener=this.fullScreenEventListener.bind(this),this.iOsFullScreenListener=this.iOsFullScreenListener.bind(this),this.handleFullscreen=this.handleFullscreen.bind(this),this._counterHelper=t&&t instanceof ps?t.counterHelper:void 0,this.enterFullscreen=this.enterFullscreen.bind(this),this.exitFullscreen=this.exitFullscreen.bind(this)}init(){return null!==_u()&&void 0!==_u()&&_u().isEnabled?_u().on("change",this.fullScreenEventListener):C()&&(this._playback.player.addEventListener("webkitbeginfullscreen",this.iOsFullScreenListener),this._playback.player.addEventListener("webkitendfullscreen",this.iOsFullScreenListener)),()=>{null!==_u()&&void 0!==_u()&&_u().isEnabled?_u().off("change",this.fullScreenEventListener):C()&&(this._playback.player.removeEventListener("webkitbeginfullscreen",this.iOsFullScreenListener),this._playback.player.removeEventListener("webkitendfullscreen",this.iOsFullScreenListener))}}fullScreenEventListener(){var e;this.screenfullElement&&document.fullscreenElement&&document.fullscreenElement!==this.screenfullElement||(this._isFullscreen.set(null===_u()||void 0===_u()?void 0:_u().isFullscreen),null===(e=this._counterHelper)||void 0===e||e.get("mainPlayerModeFullscreen")({isFullScreen:null===_u()||void 0===_u()?void 0:_u().isFullscreen}),this.handleFullscreenLock(null===_u()||void 0===_u()?void 0:_u().isFullscreen),this.handleFramelessMode(null===_u()||void 0===_u()?void 0:_u().isFullscreen))}iOsFullScreenListener(){var e;const t=this._playback.player,n=Boolean("webkitDisplayingFullscreen"in t&&t.webkitDisplayingFullscreen);this._isFullscreen.set(n),null===(e=this._counterHelper)||void 0===e||e.get("mainPlayerModeFullscreen")({isFullScreen:n}),this.handleFullscreenLock(n),this.handleFramelessMode(n)}handleFullscreen(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(!e&&(null===_u()||void 0===_u()||!_u().isFullscreen)||e&&!0===t){const e=this._playback.player;if(C()&&e.webkitEnterFullScreen)e.webkitEnterFullScreen();else if(null!==_u()&&void 0!==_u()&&_u().isEnabled&&this.screenfullElement){var n,i;if(null!==(n=this._pip)&&void 0!==n&&n.isInPiP)this._isFullscreen.set(!0),this._pip.exitFromPiP().then((()=>{var e;_u().request(null!==(e=this.screenfullElement)&&void 0!==e?e:void 0).catch((e=>console.warn(e)))}));else _u().request(null!==(i=this.screenfullElement)&&void 0!==i?i:void 0).catch((e=>console.warn(e)))}}else(!e&&_u().isFullscreen||e&&!1===t)&&this.exitFullscreen();e||jr.Ug.emit(fi.L2.CHANGE_FULLSCREEN,{isFullScreen:_u().isFullscreen})}get isFullscreen(){return this._isFullscreen.get()}get screenfullElement(){return this._screenfullElement.get()}set screenfullElement(e){this._screenfullElement.set(e)}handleFullscreenLock(e){if(e){const{isVertical:e}=this._playback;!function(){gP(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"portrait":"landscape")}(e)}else Vi(_P)===fP&&(null===(t=window)||void 0===t||null===(t=t.screen)||void 0===t||null===(t=t.orientation)||void 0===t||t.unlock(),ji(_P));var t}handleFramelessMode(e){var t,n;e||(null===(t=(n=this._playback).toggleFramelessMode)||void 0===t||t.call(n,!1,!1))}async exitFullscreen(){if(this.isFullscreen)return _u().exit().catch((e=>console.warn(e)))}async enterFullscreen(){if(!this.isFullscreen){const n=this._playback.player;if(C()&&n.webkitEnterFullScreen)n.webkitEnterFullScreen();else if(null!==_u()&&void 0!==_u()&&_u().isEnabled&&this.screenfullElement){var e,t;return null!==(e=this._pip)&&void 0!==e&&e.isInPiP?this._pip.exitFromPiP().then((()=>{var e;_u().request(null!==(e=this.screenfullElement)&&void 0!==e?e:void 0).catch((e=>console.warn(e)))})):_u().request(null!==(t=this.screenfullElement)&&void 0!==t?t:void 0).catch((e=>console.warn(e)))}}}}yP=SP,({e:[bP],c:[wP,EP]}=(0,S.A)(yP,[(0,k.k_)({implement:"IFullscreenPlugin",ctor_args:["IPlayback",{implement:"IStatisticState",optional:!0},{implement:"PictureInPicturePlugin",optional:!0}]})],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),EP();const AP=async e=>{let{url:t}=e;const n=await fetch(t),i=await n.json();return 204===n.status?{message:vw}:i};var kP,CP,PP;let TP,IP,RP,LP;new(PP=class extends(kP=xd){constructor(e,t,n,i,r){super(),this._invalidDefaultSeason=(TP(this),A.sH.box(!1)),this.counterHelper=void 0,this._next=A.sH.box(null),this._previous=A.sH.box(null),this._loadingDirection=A.sH.box(null),this._isEmbed=void 0,this.onClick=e=>{var t;this._seasons.updateCurrentSeason(),null===(t=this.counterHelper)||void 0===t||t.get("mainSeasonsClick")({clicked_url:e.video_url}),this.trackingLinks&&this._isEmbed?window.open(this.trackingLinks.generateTrackingLink({id:e.id,campaign:"serial"})):jr.Ug.emit(fi.L2.RECOMMENDED_VIDEO,{video:e,resourceId:gw})},this._config=t,this._seasons=n,this.trackingLinks=i,this._isEmbed=e.value,this.counterHelper=r&&r instanceof ps?r.counterHelper:void 0,(0,A.Gn)(this,{selectedSeason:A.EW,invalidDefaultSeason:A.EW,onClick:A.XI,loadPrev:A.$Z,loadNext:A.$Z,loadItems:A.$Z})}init(){return(0,A.mJ)((()=>({currentSeason:this._seasons.selectedSeason,videoId:this._config.get("videoId")})),(()=>{(0,A.h5)((async()=>{this.cleanCollection(),await this.loadItems()}))}))}cleanCollection(){this.items=[],this.hasNext=!1,this.hasPrev=!1,this.loadedPages=[],this.loadingDirection=null}async loadItems(){try{this.loading.status=!0;const e=await this.fetch();(0,A.h5)((()=>{"detail"in e||"message"in e?this.error="message"in e?e.message:pw:(this.error=null,this.items=e.results,this.hasPrev=Boolean(e.has_previous),this.hasNext=Boolean(e.has_next),this.next=e.next,this.previous=e.previous,this.loadedPages.push(e.page))}))}catch(e){(0,A.h5)((()=>{this.error=pw}))}finally{(0,A.h5)((()=>{this.loading.status=!1}))}return Boolean(!this.error)}async loadNext(){if(null!==this.next){this.loading.status=!0,this.loadingDirection="next";try{const e=await AP({url:this.next});(0,A.h5)((()=>{"message"in e?this.error=e.message:(this.items=[...this.items,...e.results],this.hasNext=Boolean(e.has_next),this.next=e.next)}))}catch(e){(0,A.h5)((()=>{this.error=pw}))}finally{(0,A.h5)((()=>{this.loading.status=!1}))}}}async loadPrev(){if(null!==this.previous){this.loading.status=!0,this.loadingDirection="prev";try{const e=await AP({url:this.previous});(0,A.h5)((()=>{"message"in e?this.error=e.message:(this.items=[...e.results,...this.items],this.hasPrev=Boolean(e.has_previous),this.previous=e.previous)}))}catch(e){(0,A.h5)((()=>{this.error=pw}))}finally{(0,A.h5)((()=>{this.loading.status=!1}))}}}get isEmbed(){return this._isEmbed}set next(e){this._next.set(e)}get next(){return this._next.get()}set previous(e){this._previous.set(e)}get previous(){return this._previous.get()}get selectedSeason(){return this._seasons.selectedSeason}set selectedSeason(e){this._seasons.selectedSeason=e}get invalidDefaultSeason(){return this._invalidDefaultSeason.get()}set invalidDefaultSeason(e){this._invalidDefaultSeason.set(e)}set loadingDirection(e){this._loadingDirection.set(e)}get loadingDirection(){return this._loadingDirection.get()}fetch(){if(null===this.selectedSeason)throw new Error("Invalid params to fetch episodes");return(async e=>{let{videoId:t,season:n,offset:r,limit:a=10}=e;const s=(0,i.Kj)({limit:a,offset:r}),o=await fetch(`${wp()}/serial/${t}/${n}/?${s.toString()}`),l=await o.json();return 204===o.status?{message:vw}:l})({season:this.selectedSeason,limit:19,offset:-2,videoId:this._config.get("videoId")})}},({e:[TP],c:[LP,IP]}=(0,S.A)(PP,[(0,k.k_)({implement:"ISeasonsEpisodesPlugin",ctor_args:["IsEmbed","IPlayerConfigPlugin","ISeasonsPlugin",{implement:"ITrackingLinksPlugin",optional:!0},"IStatisticState"]})],[[(0,k.o7)(),2,"init"]],0,void 0,kP)),RP=PP,(CP=class extends V{constructor(){super(LP),this.useSeasonsEpisodes=()=>(0,Dt.Ks)("ISeasonsEpisodesPlugin"),this.getSeasonsEpisodes=e=>e("ISeasonsEpisodesPlugin"),IP()}})[RP]=void 0,CP);const xP=()=>(0,Dt.Ks)("ISeasonsPlugin"),OP=()=>(0,Dt.Ks)("ISeasonsViewPlugin"),NP=()=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},t.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M6.62 7c0-.21.17-.38.38-.38h13c.21 0 .38.17.38.38v8c0 .2-.17.38-.38.38h-1.76V10.4c0-.9-.73-1.62-1.62-1.62h-10V7ZM5.38 8.78V7c0-.9.73-1.62 1.62-1.62h13c.9 0 1.62.72 1.62 1.62v8c0 .9-.73 1.62-1.62 1.62h-1.76v1.81c0 .9-.73 1.62-1.62 1.62h-12c-.9 0-1.62-.72-1.62-1.62V10.4c0-.9.73-1.62 1.62-1.62h.76Zm-.76 1.24a.38.38 0 0 0-.38.38v8.03c0 .21.17.38.38.38h12c.21 0 .38-.17.38-.38V10.4a.38.38 0 0 0-.38-.38h-12Zm7.87 4.84c.12-.09.2-.23.2-.4 0-.15-.08-.3-.2-.39l-2.12-1.52a.41.41 0 0 0-.45-.03.48.48 0 0 0-.24.42V16c0 .18.1.34.24.42.14.08.31.08.45-.02l2.12-1.53Zm-1.93.25v-1.28l.89.64-.89.64Z",clipRule:"evenodd"})),DP="seasons-toggle-button-module__wrapper___B2sYK",MP="seasons-toggle-button-module__button___cOhB0",BP="seasons-toggle-button-module__label___yR_fr",FP="seasons-toggle-button-module__isVisible___DHVDL",HP="seasons-toggle-button-module__isFullscreen___klPK_",VP="Ð¡ÐµÐ·Ð¾Ð½Ñ‹ Ð¸ ÑÐµÑ€Ð¸Ð¸",UP=t.createElement(t.Fragment,null,"Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ ÑÐµÑ€Ð¸ÑŽ Ð¸Ð»Ð¸ ÑÐµÐ·Ð¾Ð½",t.createElement("br",null),"Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ‚ÑƒÑ‚"),jP=(0,_t.PA)((0,t.forwardRef)(((e,n)=>{let{buttonSize:i}=e;const r=(0,mt.Ju)(),a=OP(),{isWidgetVisible:s,isToggleLabelVisible:o,isFullscreen:l,size:u}=OP(),{hasSeasons:c}=xP(),{activeOnboarding:d,isShowOnboarding:h}=_d()||{},p=(null==u?void 0:u.width)||0,v="seasons"===d&&h,m=(0,t.useRef)(null);return(0,t.useEffect)((()=>{a.onShowToggleButton()}),[]),c?t.createElement("div",{ref:m,className:DP},t.createElement(Pc.r,{ref:n,"data-testid":"ui-seasons",tabIndex:0,role:"button","aria-label":(0,rd.T)(`ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ ${VP}`),"aria-expanded":s,"aria-controls":"raichuSeasonsPanel",action:"seasons",icon:NP,onClick:()=>{s?a.hide():a.show()},tooltipTitle:t.createElement("div",null,VP),tooltipPlacement:"top",tooltipZIndex:Ve.m_.ControlsTooltipZIndex,label:t.createElement("div",{className:gt()(BP,{[FP]:o,[HP]:l})},VP),size:i,className:v?MP:void 0}),v&&t.createElement(md,{isTouchDevice:r,playerWidth:p,wrapperRef:m,title:UP})):null}))),WP=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},t.createElement("path",{d:"M15.44 5.56c.24.24.24.64 0 .88L9.88 12l5.56 5.56a.62.62 0 0 1-.88.88l-6-6a.62.62 0 0 1 0-.88l6-6a.62.62 0 0 1 .88 0Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))},zP=e=>{let{listRef:n,items:i,loadingDirection:r,direction:a}=e;const s=(0,t.useRef)(0),o="vertical"===a?"scrollHeight":"scrollWidth",l="vertical"===a?"scrollTop":"scrollLeft";(0,t.useLayoutEffect)((()=>{"prev"===r&&s.current&&n.current&&(n.current[l]=n.current[o]-s.current)}),[i,r,n,o,l]);return{handleScroll:()=>{const e=null==n?void 0:n.current;e&&(s.current=e[o]-e[l])}}},$P="shared-module__panel___pJscd",GP="shared-module__panelHidden___PHl8j",qP="shared-module__panelList___LOBfq",KP="shared-module__panelItem___TULYV",YP="shared-module__panelItemStretched___XC5Bg",QP="shared-module__panelItemHover___rnO0N",XP="shared-module__panelError___PaTPG",ZP="shared-module__header___Ftk4s",JP="shared-module__close___omwb6",eT="shared-module__icon___ndIbd",tT="episodes-list-module__back___pekd1",nT=e=>{let{hasNext:n,loading:i,loadMore:r}=e;const a=(0,t.useRef)(null),s=(0,t.useCallback)((e=>{var t,s;a.current&&(null===(t=a.current)||void 0===t||t.disconnect());e&&n&&!i&&(a.current=new IntersectionObserver((e=>{var t;null!==(t=e[0])&&void 0!==t&&t.isIntersecting&&r()}),{threshold:0,rootMargin:"100%"}),null===(s=a.current)||void 0===s||s.observe(e))}),[n,i,r]);return(0,t.useEffect)((()=>()=>{var e;a.current&&(null===(e=a.current)||void 0===e||e.disconnect())}),[]),s},iT=(e,t)=>{if(!e||!t||e<0||t<0)return 0;if(e>=t)return 100;return(e<100?100:e)/t*100},rT=398,aT=(0,_t.PA)((e=>{let{maxHeight:n=rT}=e;const i=Jm().get("videoId"),r=OP(),{isWidgetVisible:a,dropdownPanel:s,hide:o}=r,l=a&&"episodes"===s,u=LP.useSeasonsEpisodes(),{items:c,error:d,loading:h,hasPrev:p,hasNext:v,scrollToCurrent:m,isEmpty:_,selectedSeason:f,loadingDirection:g,loadPrev:y,loadNext:b,onClick:E}=u,w=(0,t.useRef)(null),S=(0,t.useRef)(null),[,A]=(0,t.useState)(!1),k=nT({hasNext:p,loading:h.status,loadMore:y}),C=nT({hasNext:v,loading:h.status,loadMore:b}),{viewedItems:P,resetViewed:T}=Fm({wrapper:w.current,items:c,enabled:!_,options:{rootMargin:"0px 0px 165px 0px"}}),{handleScroll:I}=zP({listRef:S,items:c,loadingDirection:g,direction:"vertical"});return(0,t.useEffect)((()=>{l||T()}),[l,T]),(0,t.useEffect)((()=>{if(!_&&r.scrollToCurrent){var e,t;const a=(null===(e=S.current)||void 0===e?void 0:e.querySelector(`[data-id="${i}"]`))||(null===(t=S.current)||void 0===t?void 0:t.querySelector("[data-id]"));var n;if(a)null===(n=S.current)||void 0===n||n.scrollTo({top:a.offsetTop});r.scrollToCurrent=!1}}),[_,r.scrollToCurrent]),DE({listRef:w,enabled:l,items:c}),t.createElement("div",{className:gt()($P,{[GP]:!l}),ref:e=>{w.current=e,e&&A(!0)},"aria-hidden":!l,"aria-disabled":!l},t.createElement("div",{className:gt()(YP,ZP)},t.createElement("button",{tabIndex:0,className:tT,onClick:()=>{r.dropdownPanel="seasons"},"aria-label":"Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ðº ÑÐ¿Ð¸ÑÐºÑƒ ÑÐµÐ·Ð¾Ð½Ð¾Ð²"},t.createElement(WP,null),t.createElement("span",null,`${f||0} ÑÐµÐ·Ð¾Ð½`)),t.createElement(Pc.r,{tabIndex:0,className:JP,icon:Mv,onClick:o,"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ ÑÐµÐ·Ð¾Ð½Ñ‹ Ð¸ ÑÐµÑ€Ð¸Ð¸","data-close":"true"})),t.createElement("div",{ref:S,className:qP,style:{maxHeight:Math.min(n,rT)},onScroll:I},h&&_?t.createElement(Af,{count:3,loading:!0,mode:"vertical_list",className:KP}):t.createElement(t.Fragment,null,!m&&p&&t.createElement("div",{ref:k,"aria-hidden":!0},t.createElement(Af,{count:1,loading:"prev"===h.direction,mode:"vertical_list",className:KP})),c.map((e=>t.createElement(Bm,{key:e.id,id:e.id,title:`${e.episode||0} ÑÐµÑ€Ð¸Ñ`,description:e.title,descriptionRows:3,thumbnailUrl:e.thumbnail_url,duration:(0,Jd.a3)({value:e.duration}),progress:iT(e.view_position||0,e.duration),className:gt()(KP,QP),hidden:!P[e.id],mode:"vertical_list",ariaLabel:e.id===i?mw:`${e.episode||0} ÑÐµÑ€Ð¸Ñ${null!==f?` ${f} ÑÐµÐ·Ð¾Ð½`:""}`,currentLabel:e.id===i?mw:"",onClick:()=>{E(e),o()}}))),!m&&v&&t.createElement("div",{ref:C,"aria-hidden":!0},t.createElement(Af,{count:1,loading:"next"===h.direction,mode:"vertical_list",className:KP})),!_&&d&&t.createElement("div",{className:gt()(KP,XP)},d))))})),sT="seasons-list-module__seasonsItem___Jd7o0",oT=390,lT=(0,_t.PA)((e=>{let{maxHeight:n=oT}=e;const i=xP(),r=OP(),{selectedSeason:a,currentSeason:s,seasons:o}=i,{isDropdownPanelSeason:l}=r,u=(0,t.useRef)(null),c=(0,t.useRef)(null);DE({listRef:u,enabled:l}),(0,t.useEffect)((()=>{if(l&&u.current&&c.current){u.current.focus();const e=c.current.querySelector('[data-current-season="true"]')||c.current.querySelector("button");e&&c.current.scrollTo({top:e.offsetTop})}}),[l]);return t.createElement("div",{ref:u,className:gt()($P,{[GP]:!l}),"aria-hidden":!l,"aria-disabled":!l,tabIndex:0},t.createElement("div",{className:gt()(KP,YP,ZP)},t.createElement("span",null,"Ð’Ñ‹Ð±Ð¾Ñ€ ÑÐµÐ·Ð¾Ð½Ð°"),t.createElement(Pc.r,{className:JP,icon:Mv,onClick:r.hide,"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ ÑÐµÐ·Ð¾Ð½Ñ‹ Ð¸ ÑÐµÑ€Ð¸Ð¸","data-close":"true"})),t.createElement("div",{ref:c,className:qP,style:{maxHeight:Math.min(n,oT)}},o.map((e=>t.createElement("button",{key:e.number,"aria-label":`${e.number} ÑÐµÐ·Ð¾Ð½${a===e.number?" Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹":""}`,className:gt()(KP,QP,YP,sT),"data-current-season":a===e.number,onClick:()=>(e=>{r.dropdownPanel="episodes",i.selectedSeason=e.number})(e)},t.createElement("span",null,e.number," ÑÐµÐ·Ð¾Ð½"),s===e.number&&t.createElement("span",{className:eT},t.createElement(Hn,null)))))))})),uT="dropdown-panel-module__wrapper___uuWoz",cT="dropdown-panel-module__wrapperInner___C82Wo",dT="dropdown-panel-module__showEpisodes___r_IP5",hT=(0,_t.PA)((()=>{const e=(0,t.useRef)(null),{size:n,dropdownPanel:i}=OP(),r=null!=n&&n.height?n.height-120:void 0;return t.createElement("div",(0,On.A)({className:uT,id:_w},th.Ln,{onMouseDown:e=>{e.preventDefault()}}),t.createElement("div",{ref:e,className:gt()(cT,{[dT]:"episodes"===i})},t.createElement(lT,{maxHeight:r}),t.createElement(aT,{maxHeight:r})),t.createElement("div",{tabIndex:0,onFocus:()=>{var t;const n=null===(t=e.current)||void 0===t?void 0:t.querySelectorAll("button[data-close]")["seasons"===i?0:1];n&&n.focus()}}))})),pT=(0,_t.PA)((e=>{let{buttonSize:n}=e;const i=OP(),{isWidgetVisible:r,size:a,coordinates:s}=i,o=(0,rn._)(),l=(0,t.useMemo)((()=>({placement:"top",modifiers:[{name:"offset",options:{offset:[0,23]}},{name:"preventOverflow",options:{boundary:o||document.body}},{name:"flip",options:{flipVariations:!1,fallbackPlacements:["top"]}}]})),[o]);return t.createElement(QE,{popperOptions:l,visible:r,hidePanel:()=>{i.hide()},renderButton:e=>t.createElement(jP,{ref:e,buttonSize:n}),renderPanel:()=>t.createElement(hT,null),size:a,coordinates:s})})),vT=(0,_t.PA)((e=>{let{buttonSize:n}=e;const{viewMode:i}=OP(),{hasSeasons:r}=xP();return r?"fullscreen"===i?t.createElement(jP,{buttonSize:n}):t.createElement(pT,{buttonSize:n}):null})),mT="episodes-list-module__noScrollbar___FnPh4",_T="episodes-list-module__episodes___b6CkE",fT="episodes-list-module__episodesInner___yllCO",gT="episodes-list-module__noScroll___MbhUY",yT="episodes-list-module__episodesItem___EiLDC",bT="episodes-list-module__episodesPrevLoader___Kampf",ET="episodes-list-module__error___ph4uq",wT=(0,_t.PA)((e=>{let{visible:n}=e;const i=Jm().get("videoId"),r=OP(),a=LP.useSeasonsEpisodes(),{items:s,error:o,loading:l,hasPrev:u,hasNext:c,scrollToCurrent:d,loadPrev:h,loadNext:p,isEmpty:v,selectedSeason:m,onClick:_}=a,[f,g]=(0,t.useState)(!1),y=(0,t.useRef)(null),{handleScroll:b}=zP({listRef:y,items:s,loadingDirection:l.direction,direction:"horizontal"}),E=nT({hasNext:u,loading:l.status,loadMore:h}),w=nT({hasNext:c,loading:l.status,loadMore:p}),{viewedItems:S,resetViewed:A}=Fm({wrapper:y,items:s,enabled:!v&&f,options:{rootMargin:"100%"}});return(0,t.useEffect)((()=>{A()}),[m,A]),(0,t.useEffect)((()=>{v&&g(!1)}),[v]),(0,t.useEffect)((()=>{var e,t;const n=(null===(e=y.current)||void 0===e?void 0:e.querySelector(`[data-id="${i}"]`))||(null===(t=y.current)||void 0===t?void 0:t.querySelector("[data-id]"));if(n&&y.current){const e=parseInt(window.getComputedStyle(y.current).paddingLeft,10);y.current.scrollTo({left:n.offsetLeft-e})}r.scrollToCurrent=!1}),[r.scrollToCurrent]),t.createElement("div",{className:_T},v&&l.status?t.createElement(pr,null):t.createElement(t.Fragment,null,v?t.createElement("div",{className:ET},o):t.createElement("div",{ref:e=>{y.current=e,e&&g(!0)},className:gt()(mT,fT,{[gT]:!n}),onScroll:b},u&&t.createElement("div",{ref:d?void 0:E,className:gt()(yT,bT),style:{gridColumnGap:"8px"}},t.createElement(Af,{count:1,loading:"prev"===l.direction,mode:"horizontal_list",className:yT,width:"100%"})),s.map((e=>t.createElement(Bm,{key:e.id,id:e.id,title:`${e.episode||0} ÑÐµÑ€Ð¸Ñ`,description:e.title,descriptionRows:2,thumbnailUrl:e.thumbnail_url,duration:(0,Jd.a3)({value:e.duration}),progress:iT(e.view_position||0,e.duration),className:yT,hidden:!S[e.id],mode:"horizontal_list",ariaLabel:e.id===i?mw:`${e.episode||0} ÑÐµÑ€Ð¸Ñ${null!==m?` ${m} ÑÐµÐ·Ð¾Ð½`:""}`,currentLabel:e.id===i?mw:"",onClick:()=>{_(e),r.hide()}}))),!d&&c&&t.createElement(t.Fragment,null,t.createElement("div",{ref:w}),"next"===l.direction&&t.createElement(Af,{count:19,loading:!0,mode:"horizontal_list",className:yT})))))})),ST="seasons-fullscreen-module__fullSizeOverlay___bPunR",AT="seasons-fullscreen-module__fade___gqJXN",kT="seasons-fullscreen-module__fadeIn___qeswH",CT="seasons-fullscreen-module__hidden___l1okr",PT="seasons-fullscreen-module__wrapper___vrs7G",TT="seasons-fullscreen-module__wrapperInner___i1ti_",IT="seasons-fullscreen-module__btnClose___pTgmB",RT="seasons-list-module__noScrollbar___Hor5S",LT="seasons-list-module__seasons___xRzhB",xT="seasons-list-module__noScroll____s77C",OT="seasons-list-module__seasonsItem___kO9xI",NT="seasons-list-module__disabled___b3rQ2",DT=(0,_t.PA)((e=>{let{visible:n}=e;const i=OP(),r=xP(),{seasons:a,currentSeason:s}=r,o=(0,t.useRef)(null),l=(0,t.useRef)(null),u=(0,t.useCallback)((e=>{if(!o.current)return;const t=e.offsetLeft,n=e.offsetLeft+e.offsetWidth,i=o.current.scrollLeft,r=o.current.scrollLeft+o.current.offsetWidth-140,a=parseInt(window.getComputedStyle(o.current).paddingLeft,10);let s=0;n>r?s=i+n-r:t<i&&(s=Math.min(t-40,0)),o.current.scroll({left:s-a})}),[]),c=e=>{u(e.target)},d=(0,t.useCallback)((e=>{const t=Number(e.target.id);r.currentSeason=t,r.selectedSeason=t}),[r]);return(0,t.useEffect)((()=>{if(i.scrollToCurrent){if(o.current){const t=o.current.querySelector('[data-current-season="true"]')||o.current.querySelector("button");var e;if(t)null===(e=o.current)||void 0===e||e.scrollTo({left:t.offsetLeft})}i.scrollToCurrent=!1}}),[i]),t.createElement("div",{ref:o,className:gt()(RT,LT,{[xT]:!n}),onScroll:()=>{var e;o.current&&l.current&&(null===(e=o.current)||void 0===e||e.scrollTo({left:l.current.offsetLeft}))}},a.map((e=>t.createElement("button",{key:e.number,id:String(e.number),"data-current-season":s===e.number,"aria-label":`${e.number} ÑÐµÐ·Ð¾Ð½${s===e.number?" Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹":""}`,tabIndex:0,className:gt()(OT,{[NT]:s===e.number}),onClick:d,onFocus:c},e.number," ÑÐµÐ·Ð¾Ð½"))))})),MT=(e,n)=>{const i=(()=>{const e=(0,t.useRef)(!0);return e.current?(e.current=!1,!0):e.current})();(0,t.useEffect)((()=>{if(!i)return e()}),n)},BT=(0,_t.PA)((()=>{const e=(0,t.useRef)(null),n=(0,t.useRef)(null),{isWidgetVisible:i,hide:r,size:a}=OP(),{tabIndex:s}=(0,Bu.useControls)(),o=Math.min(Math.ceil(((null==a?void 0:a.width)||0)/fi.$c),(null==a?void 0:a.height)||0),{fadeIn:l,setFadeIn:u,isAnimating:c}=(e=>{let{defaultValue:n,time:i,onStart:r,onEnd:a}=e;const[s,o]=(0,t.useState)(n),[l,u]=(0,t.useState)(!1);return MT((()=>{let e=setTimeout((()=>{u(!1),a&&a(!0),e=null}),i);return u(!0),r&&r(),()=>{e&&(clearTimeout(e),a&&a(!1))}}),[s]),{isAnimating:l,fadeIn:s,setFadeIn:o}})({defaultValue:i,time:200,onEnd:()=>{l||r()}}),d=(0,t.useCallback)((e=>{e.stopPropagation()}),[]);return(0,t.useEffect)((()=>{u(i),i&&setTimeout((()=>{var t;null===(t=e.current)||void 0===t||t.focus()}),200)}),[i,u]),t.createElement("div",{tabIndex:s,role:"document","aria-label":"Ð’Ñ‹Ð±Ð¾Ñ€ ÑÐµÐ·Ð¾Ð½Ð° Ð¸ ÑÐµÑ€Ð¸Ð¸",ref:e,id:_w,className:gt()(AT,{[CT]:!i,[kT]:l})},t.createElement("div",(0,On.A)({className:gt()(PT,ST)},th.aQ,{onTouchEnd:d}),t.createElement("div",{className:TT,style:{height:`${o}px`}},t.createElement(Pc.r,{ref:n,tabIndex:0,className:gt()(IT),icon:Mv,onClick:()=>{u(!1);const e=document.querySelector(`button[aria-controls="${_w}"]`);e&&e.focus()},"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ ÑÐµÐ·Ð¾Ð½Ñ‹ Ð¸ ÑÐµÑ€Ð¸Ð¸"}),t.createElement(DT,{visible:l&&!c}),t.createElement(wT,{visible:l&&!c}))),t.createElement("div",{tabIndex:0,onFocus:()=>{var t;const i=null===(t=e.current)||void 0===t||null===(t=t.querySelector('[data-current-season="true"]'))||void 0===t?void 0:t.nextElementSibling;var r;i?(i.click(),i.focus()):null===(r=n.current)||void 0===r||r.focus()}}))})),FT=(0,_t.PA)((()=>{const{viewMode:e}=OP();return"fullscreen"===e?t.createElement(BT,null):null}));var HT,VT;let UT,jT,WT,zT;var $T;let GT,qT,KT;new(VT=class extends k.j8{static get SeasonsWidget(){return vT}constructor(e){super(),this._error=(UT(this),A.sH.box("")),this._loading=A.sH.box(!1),this._seasons=A.sH.box([]),this._selectedSeason=A.sH.box(null),this._currentSeason=A.sH.box(null),this._config=e,(0,A.Gn)(this,{handleSuccess:A.XI,handleError:A.XI,fetchSeasons:A.XI,resetSeasons:A.XI,selectedSeason:A.EW,currentSeason:A.EW}),this.fetchSeasons=this.fetchSeasons.bind(this)}refetchSeasons(){return(0,A.mJ)((()=>this._config.get("videoId")),(()=>{this.fetchSeasons()}))}init(){this.fetchSeasons()}fetchSeasons(){this.resetSeasons(),this.loading=!0,(async e=>{let{videoId:t}=e;const n=await fetch(`${wp()}/serial/${t}`);return 204===n.status?{message:"Ð¡ÐµÑ€Ð¸Ð¹Ð½Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½"}:await n.json()})({videoId:this._config.get("videoId")}).then((e=>{"message"in e?this.handleError():this.handleSuccess(e)})).catch((()=>this.handleError()))}handleSuccess(e){const t=e.current_season;this._selectedSeason.set(t),this._currentSeason.set(t),this._seasons.set(e.results),this.loading=!1}handleError(e){this._error.set(e||pw),this.loading=!1}updateCurrentSeason(){this.currentSeason=this.selectedSeason}resetSeasons(){this.error="",this.selectedSeason=null,this.currentSeason=null,this._seasons.set([])}set loading(e){this._loading.set(e)}get loading(){return this._loading.get()}get error(){return this._error.get()}set error(e){this._error.set(e)}set selectedSeason(e){this._selectedSeason.set(e)}get selectedSeason(){return this._selectedSeason.get()}set currentSeason(e){this._currentSeason.set(e)}get currentSeason(){return this._currentSeason.get()}get seasons(){return this._seasons.get()}get hasSeasons(){return null!==this.selectedSeason&&this.seasons.length}},({e:[UT],c:[zT,jT]}=(0,S.A)(VT,[(0,k.k_)({implement:"ISeasonsPlugin",ctor_args:["IPlayerConfigPlugin"]})],[[(0,k.o7)(),2,"refetchSeasons"],[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),WT=VT,(HT=class extends V{constructor(){super(zT),this.SeasonsFullScreen=FT,jT()}})[WT]=void 0,HT);class YT extends k.j8{constructor(e,t,n,i,r,a,s,o,l){super(),this._isWidgetVisible=(GT(this),A.sH.box(!1)),this._dropdownPanel=A.sH.box("episodes"),this._viewMode=A.sH.box("dropdown"),this._toggleButtonShowed=!1,this._scrollToCurrent=!1,this._isEmbed=void 0,this.counterHelper=void 0,this.onShowToggleButton=()=>{var e;this._toggleButtonShowed||(this._toggleButtonShowed=!0,null===(e=this.counterHelper)||void 0===e||e.get("mainSeasonsButtonShow")())},this.props=e,this._playerSize=t,this._playback=n,this._controls=i,this._advert=r,this._fullscreen=a,this._layout=s,this._seasonsList=o,(0,A.Gn)(this,{isWidgetVisible:A.EW,viewMode:A.EW,dropdownPanel:A.EW,allowOnboarding:A.EW,show:A.XI,hide:A.XI}),this._isEmbed=this.props.value,this.counterHelper=l&&l instanceof ps?l.counterHelper:void 0,this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.onShowToggleButton=this.onShowToggleButton.bind(this)}initViewMode(){var e=this;return(0,A.mJ)((()=>{var e;return null===(e=this._playerSize.size)||void 0===e?void 0:e.width}),(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t<500||qt.B.isMobile&&t<1024?e.viewMode="fullscreen":e.viewMode="dropdown"}))}selectSeason(){return(0,A.mJ)((()=>this._seasonsList.currentSeason),(()=>{this.dropdownPanel="episodes"}))}show(){var e;this.isWidgetVisible=!0,this.scrollToCurrent=!0,this.dropdownPanel="episodes",null===(e=this.counterHelper)||void 0===e||e.get("mainSeasonsShow")(),this._controls.preventHideControls=!0}hide(){this.isWidgetVisible=!1,this._controls.preventHideControls=!1}set isWidgetVisible(e){this._isWidgetVisible.set(e)}get isWidgetVisible(){return this._isWidgetVisible.get()}set dropdownPanel(e){this._dropdownPanel.set(e)}get dropdownPanel(){return this._dropdownPanel.get()}set viewMode(e){this._viewMode.set(e)}get viewMode(){return this._viewMode.get()}get isDropdownPanelSeason(){return"seasons"===this.dropdownPanel}set scrollToCurrent(e){this._scrollToCurrent=e}get scrollToCurrent(){return this._scrollToCurrent}get size(){return this._playerSize.size}get coordinates(){return this._playerSize.coordinates}get isShowAdvert(){var e;return"show"===(null===(e=this._advert)||void 0===e?void 0:e.currentState)}get isEmbed(){return this._isEmbed}get isShowControls(){return this._controls.isShowControls}get showOnboardingBeforeEndscreen(){return this._layout.isUserInteracted&&this._playback.progress>80&&this._playback.progress<99}get isToggleLabelVisible(){return this._fullscreen.isFullscreen||!this._isEmbed&&this._layout.isCinema}get isFullscreen(){return this._fullscreen.isFullscreen}get allowOnboarding(){var e;return(null===(e=this._seasonsList.seasons)||void 0===e?void 0:e.length)>0&&!this.isWidgetVisible}}var QT;let XT,ZT,JT;$T=YT,({e:[GT],c:[KT,qT]}=(0,S.A)($T,[(0,k.k_)({implement:"ISeasonsViewPlugin",ctor_args:["IsEmbed","IPlayerSizePlugin","IPlayback","IControlsPlugin",{implement:"IAdvertPlugin",optional:!0},"IFullscreenPlugin","IVideoLayoutPlugin","ISeasonsPlugin","IStatisticState"]})],[[(0,k.o7)(),2,"initViewMode"],[(0,k.o7)(),2,"selectSeason"]],0,void 0,k.j8)),qT();class eI extends k.j8{constructor(){super(),this.__hasBeenInteracted=(XT(this),A.sH.box(!1)),this.__isSaveMode=A.sH.box(!1),(0,A.Gn)(this,{hasBeenInteracted:A.EW,isSaveMode:A.EW})}init(){const e=()=>{this.hasBeenInteracted=!0};return document.addEventListener("keydown",e),document.addEventListener("mousedown",e),document.addEventListener("pointerup",e),document.addEventListener("touchend",e),()=>{document.removeEventListener("keydown",e),document.removeEventListener("mousedown",e),document.removeEventListener("pointerup",e),document.removeEventListener("touchend",e)}}get hasBeenInteracted(){return this.__hasBeenInteracted.get()}set hasBeenInteracted(e){this.__hasBeenInteracted.set(e)}get isSaveMode(){return this.__isSaveMode.get()}set isSaveMode(e){this.__isSaveMode.set(e)}}function tI(){return(0,Dt.Ks)("ReplayWidgetPlugin")}QT=eI,({e:[XT],c:[JT,ZT]}=(0,S.A)(QT,[(0,k.k_)("ISaveModePlugin")],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),ZT();const nI="replay-widget-module__startButton___jRKJ_",iI=(0,_t.PA)((()=>{const[e,n]=(0,t.useState)(fi.Ih),i=tI();if((0,t.useEffect)((()=>{i.showReplayControl();const e=setInterval((()=>{n((t=>{const n=t-1e3;return n||(clearInterval(e),i.isReplayWidgetAlreadyShowed=!0),n}))}),1e3);return()=>{clearInterval(e)}}),[i]),!e)return null;return t.createElement($f,{"data-testid":"replay-button",className:nI,onClick:()=>{i.seekToStart(),i.isReplayWidgetAlreadyShowed=!0}},"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ñ Ð½Ð°Ñ‡Ð°Ð»Ð° (",Math.round(e/1e3),")")})),rI=(0,_t.PA)((()=>{const{isReplayWidgetAvailable:e}=tI();return e?t.createElement(iI,null):null}));var aI,sI;let oI,lI,uI,cI;var dI;let hI,pI,vI;new(sI=class extends k.j8{constructor(e,t,n,i,r,a,s){super(),this._isReplayWidgetAlreadyShowed=(oI(this),A.sH.box(!1)),this._initialTime=A.sH.box(0),this._isShowReplayControlMetricsSent=!1,this._counterHelper=void 0,this._data=e,this._playback=t,this._playerStatus=n,this._controls=i,this._advert=r,this._config=s,this._counterHelper=a&&a instanceof ps?a.counterHelper:void 0,(0,A.Gn)(this,{isReplayWidgetAvailable:A.EW,isReplayWidgetAlreadyShowed:A.EW}),this.seekToStart=this.seekToStart.bind(this)}initialVideoId(){let e;return(0,A.mJ)((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("videoId")}),(()=>{var t;null===(t=e)||void 0===t||t(),e=(0,A.mJ)((()=>({currentTime:this._playback.currentTime,wasStarted:this._playback.wasStarted,isPlaying:this._playback.isPlaying})),(t=>{let{currentTime:n,wasStarted:i,isPlaying:r}=t;i&&((0,A.h5)((()=>this._initialTime.set(n))),this.isReplayWidgetAlreadyShowed=!1),i&&r&&n>0&&e()}))}),{fireImmediately:!0})}hideControlsTooltips(){return(0,A.mJ)((()=>({isReplayWidgetAvailable:this.isReplayWidgetAvailable,isReplayWidgetAlreadyShowed:this.isReplayWidgetAlreadyShowed})),(e=>{let{isReplayWidgetAvailable:t,isReplayWidgetAlreadyShowed:n}=e;this._controls.needToHideTooltips=!(!t||n)}))}seekToStart(){var e,t;this._playback.isPlaying||this._playback.play(),this._playback.progress<100&&this._playback.seek(0),null===(e=this._counterHelper)||void 0===e||e.get("mainReplayWidgetClick")(),null===(t=this._counterHelper)||void 0===t||t.get("mainWatchFromStartClick")()}resetIsShowReplayMetrics(){return(0,A.mJ)((()=>this._controls.data.video_id),(()=>this._isShowReplayControlMetricsSent=!1))}showReplayControlMetrics(){var e;null===(e=this._counterHelper)||void 0===e||e.get("mainWatchFromStartShow")(),this._isShowReplayControlMetricsSent=!0}showReplayControl(){this._isShowReplayControlMetricsSent||this.showReplayControlMetrics()}set isReplayWidgetAlreadyShowed(e){this._isReplayWidgetAlreadyShowed.set(e)}get isReplayWidgetAlreadyShowed(){return this._isReplayWidgetAlreadyShowed.get()}get isShowControls(){return this._controls.isShowControls}get isReplayWidgetAvailable(){var e;return!qt.B.isMobile&&!this._data.isLive&&this._initialTime.get()>60&&this._playback.duration>300&&this._playback.duration-this._initialTime.get()>=fi.Ih/1e3+3&&!this._playerStatus.wasFirstPlay&&!this.isReplayWidgetAlreadyShowed&&!(null!==(e=this._advert)&&void 0!==e&&e.isLoaded)}},({e:[oI],c:[cI,lI]}=(0,S.A)(sI,[(0,k.k_)({implement:"ReplayWidgetPlugin",ctor_args:["IDataPlugin","IPlayback","IPlayerStatusState","IControlsPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IStatisticState",optional:!0},{implement:"IPlayerConfigPlugin",optional:!0}]})],[[(0,k.o7)(),2,"initialVideoId"],[(0,k.o7)(),2,"hideControlsTooltips"],[(0,k.o7)(),2,"resetIsShowReplayMetrics"],[k.zm,2,"showReplayControl"]],0,void 0,k.j8)),uI=sI,(aI=class extends V{constructor(){super(cI),this.ReplayWidget=rI,lI()}})[uI]=void 0,aI);dI=class extends si{constructor(e,t,n,i,r,a,s){hI((super(e,t,n,i,r,a),this.playback=t,this.advert=s,this))}initEvents(){const e=[];return e.push((0,A.mJ)((()=>{var e,t,n,i;return{state:null===(e=this.advert)||void 0===e?void 0:e.currentState,hasItems:!(null===(t=this.advert)||void 0===t||!t.currentItems.length),loaded:null===(n=this.advert)||void 0===n?void 0:n.isLoaded,ended:this.playback.ended,isAdvertEnded:null===(i=this.advert)||void 0===i?void 0:i.isAdvertEnded}}),(e=>{let{state:t,hasItems:n,loaded:i,ended:r,isAdvertEnded:a}=e;a?this.isInfoPrevented=!0:t?(!n&&!r||"show"===t&&i)&&(this.isInfoPrevented=!0):this.isInfoPrevented=!1}))),()=>e.forEach((e=>e()))}initVideoInfo(){const e=this.setNextTimeMark(),t=this.setPreviousTimeMark(),n=this.percentRewind();return()=>[e,t,n].forEach((e=>e()))}setNextTimeMark(){return this.subscribeShortcutsEvent(xn.nextTimeMark,(e=>{let{label:t}=e;this.setActiveInfo({icon:Jn.SEEK_TO_NEXT_TIME_MARK,label:t})}))}setPreviousTimeMark(){return this.subscribeShortcutsEvent(xn.previousTimeMark,(e=>{let{label:t}=e;this.setActiveInfo({icon:Jn.SEEK_TO_PREV_TIME_MARK,label:t})}))}percentRewind(){return this.subscribeShortcutsEvent(xn.percentRewind,(e=>{let{label:t}=e;this.setActiveInfo({label:t})}))}},({e:[hI],c:[vI,pI]}=(0,S.A)(dI,[(0,k.k_)({implement:"IInfoLayerPlugin",ctor_args:["IPlayerSizePlugin","IPlayback","IShortcutsPlugin",{implement:"IExtraActionsPlugin",optional:!0},"IDataPlugin","IVisibilityStatePlugin",{implement:"IAdvertPlugin",optional:!0}]})],[[(0,k.o7)(),2,"initEvents"],[(0,k.o7)(),2,"initVideoInfo"]],0,void 0,si)),pI();const mI=()=>(0,Dt.Ks)("Video360Plugin"),_I=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none"},t.createElement("path",{d:"M1 7L7 1L13 7",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},fI=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"14",viewBox:"0 0 8 14",fill:"none"},t.createElement("path",{d:"M1 13L7 7L0.999999 1",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},gI="video360-controls-module__wrapper___OKeP5",yI="video360-controls-module__wrapperHover___kVjMS",bI="video360-controls-module__arrowWrapper___dgCe3",EI="video360-controls-module__arrowWrapperTop___cMFZg",wI="video360-controls-module__arrowWrapperRight___xSb9r",SI="video360-controls-module__arrowWrapperBottom___ArWub",AI="video360-controls-module__arrowWrapperLeft___sqU4A",kI=(0,_t.PA)((()=>{const e=mI(),[n,i]=(0,t.useState)(!1),r=n?"rgb(90, 104, 119)":"rgba(27, 41, 56, .45)",a=t=>e.rotationDirection=t,s=()=>e.rotationDirection=null;return t.createElement("div",{onPointerDown:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),onMouseMove:()=>i(!0),onMouseLeave:()=>i(!1),className:gt()(gI,{[yI]:n})},t.createElement("div",{className:gt()(bI,EI),onMouseDown:()=>a("up"),onMouseLeave:s,onMouseUp:s},t.createElement(_I,{color:r})),t.createElement("div",{className:gt()(bI,wI),onMouseDown:()=>a("right"),onMouseLeave:s,onMouseUp:s},t.createElement(fI,{color:r})),t.createElement("div",{className:gt()(bI,SI),onMouseDown:()=>a("down"),onMouseLeave:s,onMouseUp:s},t.createElement(_I,{color:r})),t.createElement("div",{className:gt()(bI,AI),onMouseDown:()=>a("left"),onMouseLeave:s,onMouseUp:s},t.createElement(fI,{color:r})))})),CI="video360-module__video360___YtrBS",PI="video360-module__wrapper___rPwFo",TI="video360-module__video___oF36F",II=(0,_t.PA)((()=>{const{windowResize:e,initView:n,player:i,playerMode:r,onPointerDown:a,onPointerMove:s,onPointerUp:o,onTouchEnd:l,onTouchMove:u,onTouchStart:c,isTouchDevice:d}=mI(),h=(0,t.useRef)(null),p=(0,t.useRef)(null),v=(0,t.useRef)(null),[m,_]=(0,t.useState)(!1),f=(0,t.useCallback)((async e=>{const t=h.current;try{await n(h.current,p.current),t&&(t.addEventListener("pointerdown",a),window.addEventListener("pointermove",s),window.addEventListener("pointerup",o),window.addEventListener("resize",e),window.addEventListener("fullscreenchange",e))}catch(e){console.warn(e)}}),[n,a,s,o]);return(0,t.useEffect)((()=>{if(!i)return;const e=()=>_(!0);return i.addEventListener("loadeddata",e),()=>{if(i)return i.removeEventListener("loadeddata",e)}}),[i]),(0,t.useEffect)((()=>{const t=h.current,n=v.current;if(null==t||!t.clientWidth)return;const i=()=>e(t);return"ResizeObserver"in window&&!v.current&&(v.current=new ResizeObserver(i),v.current.observe(t)),m&&f(i),()=>{t&&(t.removeEventListener("pointerdown",a),window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",o),window.removeEventListener("resize",i),window.removeEventListener("fullscreenchange",i),n&&(n.unobserve(t),n.disconnect()),v.current=null)}}),[i,m,h,e,n,a,s,o,f]),(0,t.useEffect)((()=>{const e=h.current;return e&&(e.addEventListener("touchend",l),e.addEventListener("touchstart",c),e.addEventListener("touchmove",u)),()=>{e&&(e.removeEventListener("touchend",l),e.removeEventListener("touchstart",c),e.removeEventListener("touchmove",u))}}),[h,l,c,u]),t.createElement("div",{"data-testid":"video-360",className:CI},t.createElement("div",{className:PI,ref:h},t.createElement("div",{className:TI,ref:p})),!d&&"mini"!==r&&t.createElement(kI,null))}));function RI(e){e.preventDefault(),e.stopImmediatePropagation()}const LI=1e3/60;class xI{constructor(e,t){this.renderer=null,this.scene=null,this.camera=null,this.wrapper=e,this.player=t}async loadLib(){await ys("https://static.rutube.ru/static/player_sdk/three.min.js","THREE")}initCanvas(){const{clientWidth:e=0,clientHeight:t=1}=this.wrapper;return this.camera=new window.THREE.PerspectiveCamera(75,e/t,1,1100),this.renderer=new window.THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(e,t),this.initScene(),this.renderer.domElement}updateCameraPosition(e){if(this.camera){const{x:t,y:n,z:i}=e;this.camera.position.set(t,n,i),this.camera.lookAt(0,0,0)}}render(){this.scene&&this.camera&&this.renderer&&this.renderer.render(this.scene,this.camera)}processClientResize(){try{if(this.camera&&this.renderer&&this.wrapper){const{clientWidth:e=0,clientHeight:t=1}=this.wrapper;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}}catch(e){console.warn(e)}}initScene(){this.scene=new window.THREE.Scene;const e=new window.THREE.SphereGeometry(500,60,40);e.scale(-1,1,1);const t=this.player&&new window.THREE.VideoTexture(this.player);t&&(t.needsUpdate=!0);const n=new window.THREE.MeshBasicMaterial({map:t});n.needsUpdate=!0;const i=new window.THREE.Mesh(e,n);this.scene.add(i)}}var OI;let NI,DI,MI;class BI extends k.j8{static get Video360(){return II}constructor(e,t,n,i){super(),this.threeManager=(NI(this),null),this.isViewInited=!1,this.lastTimeOfAnimation=0,this.isTouchMoving=!1,this.isUserInteracting=!1,this.pointerDownGeoCoords={lat:0,lon:0},this.pointerDownCoords={x:0,y:0,z:0},this.geoCoords={lon:0,lat:0},this._player=A.sH.box(null),this._playerMode=A.sH.box(null),this._rotationDirection=A.sH.box(null),this._hasPlayerControls=A.sH.box(!0),this._isTouchDevice=A.sH.box(!1),this._playback=e,this._videoLayout=t,this._controls=n,this._isEmbed=i,(0,A.Gn)({player:A.EW,playerMode:A.EW,rotationDirection:A.EW,hasPlayerControls:A.EW,isTouchDevice:A.EW})}init(){this.player=this._playback.player;const e=[(0,A.mJ)((()=>this._videoLayout.playerMode),(e=>this.playerMode=e)),(0,A.mJ)((()=>this._videoLayout.isTouchDevice),(e=>this.isTouchDevice=e)),(0,A.mJ)((()=>({isFullScreen:this._controls.isFullScreen,isShowDisclaimers:this._videoLayout.isShowDisclaimers,isShowControls:this._controls.isShowControls,wasStarted:this._playback.wasStarted,ended:this._playback.ended})),(e=>{let{isFullScreen:t,isShowDisclaimers:n,isShowControls:i,wasStarted:r,ended:a}=e;const s=r&&!a,o=this._isEmbed.value&&i;this.hasPlayerControls=s&&(o||n||t)}))];return()=>e.forEach((e=>e()))}get player(){return this._player.get()}set player(e){this._player.set(e)}get playerMode(){return this._playerMode.get()}set playerMode(e){this._playerMode.set(e)}get rotationDirection(){return this._rotationDirection.get()}set rotationDirection(e){this._rotationDirection.set(e)}get isTouchDevice(){return this._isTouchDevice.get()}set isTouchDevice(e){this._isTouchDevice.set(e)}get hasPlayerControls(){return this._hasPlayerControls.get()}set hasPlayerControls(e){this._hasPlayerControls.set(e)}windowResize(){var e;null===(e=this.threeManager)||void 0===e||e.processClientResize()}async initView(e,t){this.threeManager=new xI(e,this.player),await this.threeManager.loadLib();const n=this.threeManager.initCanvas();t&&n&&(t.appendChild(n),this._playback.setMount(!0)),this.renderView()}onPointerDown(e){this.isUserInteracting=!0,this._videoLayout.isPlayPauseSwitchingAvailable=!0,this.pointerDownCoords={x:e.clientX,y:e.clientY,z:0},this.pointerDownGeoCoords=this.geoCoords}onPointerMove(e){if(!this.isUserInteracting)return;const t={x:this.pointerDownCoords.x-e.clientX,y:this.pointerDownCoords.y-e.clientY,z:0};(Math.abs(t.x)>=5||Math.abs(t.y)>=5)&&(this._videoLayout.isPlayPauseSwitchingAvailable=!1,this.geoCoords={lon:.1*t.x+this.pointerDownGeoCoords.lon,lat:.1*t.y+this.pointerDownGeoCoords.lat})}onPointerUp(){this.isUserInteracting=!1}onTouchStart(e){RI(e)}onTouchMove(e){this.isTouchMoving=!0,RI(e)}onTouchEnd(e){this.isTouchMoving||(this._controls.showControls(),this._controls.setHideControlsTimer()),this.isTouchMoving=!1,RI(e)}renderView(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e-this.lastTimeOfAnimation>=LI){var t;const i=this.isViewInited?this.getCameraCoordsForInteraction():this.calculateCameraCoords();var n;if(i)null===(n=this.threeManager)||void 0===n||n.updateCameraPosition(i),this.isViewInited=!0;this.lastTimeOfAnimation=e,null===(t=this.threeManager)||void 0===t||t.render()}requestAnimationFrame((e=>this.renderView(e)))}getCameraCoordsForInteraction(){return this.rotationDirection&&this.rotate(),this.isUserInteracting||this.rotationDirection||this.isTouchMoving?this.calculateCameraCoords():null}calculateCameraCoords(){const{lon:e}=this.geoCoords;let{lat:t}=this.geoCoords;t=Math.max(-85,Math.min(85,t));const n=window.THREE.MathUtils.degToRad(90-t),i=window.THREE.MathUtils.degToRad(e);return this.geoCoords={lon:e,lat:t},{x:50*Math.sin(n)*Math.cos(i),y:50*Math.cos(n),z:50*Math.sin(n)*Math.sin(i)}}rotate(){let{lon:e,lat:t}=this.geoCoords;switch(this.rotationDirection){case"up":t-=1;break;case"down":t+=1;break;case"right":e+=1;break;case"left":e-=1}this.geoCoords={lon:e,lat:t}}}OI=BI,({e:[NI],c:[MI,DI]}=(0,S.A)(OI,[(0,k.k_)({implement:"Video360Plugin",ctor_args:["IPlayback","IVideoLayoutPlugin","IControlsPlugin","IsEmbed"]})],[[(0,k.o7)(),2,"init"],[k.zm,2,"windowResize"],[k.zm,2,"initView"],[k.zm,2,"onPointerDown"],[k.zm,2,"onPointerMove"],[k.zm,2,"onPointerUp"],[k.zm,2,"onTouchStart"],[k.zm,2,"onTouchMove"],[k.zm,2,"onTouchEnd"]],0,void 0,k.j8)),DI();const FI="communicationBanner";function HI(){return(0,Dt.p5)().resolve("ICommunicationBannerPlugin")}const VI="communication-banner-module__container___ekv7l",UI="communication-banner-module__hidden___LmVJF",jI="communication-banner-module__small___HFu_l",WI="communication-banner-module__isFull___kCIUG",zI="banner-buttons-module__buttons___NfBuk",$I="banner-buttons-module__btn___OLrUG",GI="banner-buttons-module__gray___NM31r",qI=(0,t.memo)((e=>{let{data:n,onboardingId:i,handleClick:r}=e;const{color:a,buttonTextColor:s}=HI(),o=(0,t.useCallback)((e=>{e.stopPropagation();const{id:t}=e.currentTarget,[n]=t.split("-");r({actionId:Number(n),onboardingId:i})}),[i,r]);return n.length?t.createElement("div",{className:zI},null==n?void 0:n.sort(((e,t)=>e.sortOrder-t.sortOrder)).map((e=>!e.isFullBody&&t.createElement("button",{id:`${e.actionId}`,key:`${e.url||""}_${e.type||""}_${e.actionId}_${e.sortOrder}`,tabIndex:0,title:`ÐÐ°Ð¶Ð°Ñ‚ÑŒ ${null==e?void 0:e.title} ÐºÐ½Ð¾Ð¿ÐºÑƒ`,className:gt()($I,{[GI]:"cancel_button"===e.type}),style:{background:"external_link"===e.type||"internal_link"===e.type?`${a}`:void 0,color:s},"aria-label":`ÐÐ°Ð¶Ð°Ñ‚ÑŒ ${null==e?void 0:e.title} ÐºÐ½Ð¾Ð¿ÐºÑƒ`,onClick:o},e.title)))):null})),KI="close-banner-module__close___szhz2",YI="close-banner-module__small___uhv95",QI=()=>t.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9999 21.4142L14.707 26.7071L13.2928 25.2928L18.5857 20L13.2928 14.7071L14.707 13.2928L19.9999 18.5857L25.2928 13.2928L26.707 14.7071L21.4141 20L26.707 25.2928L25.2928 26.7071L19.9999 21.4142Z",fill:"#F6F6F6"})),XI=(0,t.memo)((e=>{let{handleClearWatchedBanner:n,onboardingId:i,handleClick:r,width:a}=e;const s=(0,t.useCallback)((e=>{e.stopPropagation(),r({onboardingId:i,isClose:!0}),n()}),[n,r,i]);return t.createElement("button",{tabIndex:0,"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð±Ð°Ð½Ð½ÐµÑ€",title:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð±Ð°Ð½Ð½ÐµÑ€",className:gt()($I,KI,{[YI]:a<=768}),onClick:s},t.createElement(QI,null))})),ZI=e=>{const t=e.match(/\d+/);return t?parseInt(t[0],10):0};const JI="banner-picture-module__img___wB8E7",eR=(0,t.memo)((e=>{let{pictures:n,width:i}=e;const[r,a]=(0,t.useState)(!1),s=(0,t.useCallback)((()=>{a(!0)}),[]),o=(0,t.useMemo)((()=>{if(!n.length)return null;const e=n.map((e=>{const t=ZI(e.type);return t?Number(t):0})).sort(((e,t)=>e-t)),t=n.filter((t=>ZI(t.type)===function(e,t){if(t>e[e.length-1])return e[e.length-1];for(let n=0;n<e.length;n++)if(t<=e[n])return e[n];return null}(e,i)));return t[0]}),[n,i]);return null==o||!o.url||r?null:t.createElement("img",{loading:"lazy","aria-label":"ÐžÐ±Ð»Ð¾Ð¶ÐºÐ°",onError:s,alt:"ÐžÐ±Ð»Ð¾Ð¶ÐºÐ°",src:o.url,className:JI})})),tR="banner-timeout-module__progress___I380Z",nR=e=>{let{progress:n}=e;const{color:i}=HI();return t.createElement("div",{className:tR,"aria-label":"ÐžÑÑ‚Ð°Ð»Ð¾ÑÑŒ Ð´Ð¾ ÑÐºÑ€Ñ‹Ñ‚Ð¸Ñ Ð±Ð°Ð½Ð½ÐµÑ€Ð°"},t.createElement("span",{style:{background:`${i}`,opacity:1,width:`${n}%`,transition:"width .1s ease-in-out"}}))},iR="banner-titles-module__titles___YX5Wf",rR="banner-titles-module__title___ZTiaM",aR="banner-titles-module__subtitle___jNYmc",sR="banner-titles-module__small___Z0fcJ",oR="banner-titles-module__withImg___JvCj_",lR=(0,t.memo)((e=>{let{title:n,subtitle:i,picture:r,width:a}=e;const s=!qt.B.isMobile&&a>768,o=(0,t.useMemo)((()=>{const e=n||null,a=i||null;return{title:e?t.createElement("p",{className:rR,"aria-label":"Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº",dangerouslySetInnerHTML:{__html:e}}):null,subtitle:a&&s?t.createElement("p",{className:gt()(aR,{[oR]:r}),"aria-label":"ÐŸÐ¾Ð´Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº",dangerouslySetInnerHTML:{__html:a}}):null}}),[n,i,s,r]);return o.title||o.title?t.createElement("div",{"aria-label":"Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸",className:gt()(iR,{[sR]:a<=768})},null==o?void 0:o.title,null==o?void 0:o.subtitle):null})),uR=(0,_t.PA)((()=>{var e,n,i,r;const{isBannersHidden:a,handleClick:s,handleBannerClick:o,currentBanner:l,isPaused:u,isBannersAllowed:c,isFullElement:d,timeoutToEnd:h,playerWidth:p,handleClearWatchedBanner:v,isShowButtons:m}=HI(),{progress:_}=(e=>{let{initialTime:n,isPaused:i,onEnd:r}=e;const[a,s]=(0,t.useState)(0),o=(0,t.useRef)(null);return(0,t.useEffect)((()=>{0===a&&o.current&&clearInterval(o.current)}),[a]),(0,t.useEffect)((()=>{s(n)}),[n]),(0,t.useEffect)((()=>()=>{o.current&&clearInterval(o.current)}),[]),(0,t.useEffect)((()=>{if(!(n<=0))return o.current=setInterval((()=>{!i&&a>0&&s((e=>{const t=Math.max(e-.1,0);return 0===t&&r(),t}))}),100),()=>{o.current&&clearInterval(o.current)}})),{progress:a/n*100}})({initialTime:h,isPaused:u||!!a,onEnd:v});(()=>{const e=HI();(0,t.useLayoutEffect)((()=>{var t,n;e.isShowBanner||(e.bannerHeight=0),null!==(t=document.getElementById(FI))&&void 0!==t&&t.offsetHeight&&(e.bannerHeight=(null===(n=document.getElementById(FI))||void 0===n?void 0:n.offsetHeight)||0)}))})(),(e=>{let{isBannersAllowed:n,isBannersHidden:i,currentBanner:r,isPaused:a}=e;const s=(0,t.useRef)(!1),{counterHelper:o}=HI();(0,t.useLayoutEffect)((()=>{n&&!i&&!s.current&&n&&null!=r&&r.onboardingId&&(s.current=!0,null==o||o.get("mainCommunicationBannerShow")({onboardingId:String(null==r?void 0:r.onboardingId),anumsLp:r.elements[0].actions.map((e=>e.sortOrder))}))}),[i,a]),(0,t.useLayoutEffect)((()=>{null!=r&&r.onboardingId&&(s.current=!1)}),[null==r?void 0:r.onboardingId])})({isBannersAllowed:c,isBannersHidden:!!a,currentBanner:l,isPaused:u||!!a});const f=(0,t.useMemo)((()=>{var e;if(l)return!(null==l||null===(e=l.elements[0].actions)||void 0===e||!e.find((e=>e.isFullBody)))||(null==l?void 0:l.elements[0].actions.length)<=0}),[l]);return c&&l?t.createElement("div",{tabIndex:d?0:void 0,"aria-label":"ÐšÐ¾Ð¼Ð¼ÑƒÐ½Ð¸ÐºÐ°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¹ Ð±Ð°Ð½Ð½ÐµÑ€",id:FI,className:gt()(VI,{[UI]:a,[jI]:p&&p<=768,[WI]:!!f&&p&&p>768}),onClick:o,style:{cursor:d&&!qt.B.isMobile&&(null===(e=l.elements[0].actions)||void 0===e?void 0:e.length)>0?"pointer":"default"}},t.createElement(lR,{title:(null==l?void 0:l.elements[0].title)||"",subtitle:(null==l?void 0:l.elements[0].subtitle)||"",picture:!(null==l||null===(n=l.elements[0])||void 0===n||!n.pictures.length),width:p||0}),t.createElement(eR,{pictures:(null==l||null===(i=l.elements[0])||void 0===i?void 0:i.pictures)||[],width:p||0}),t.createElement(XI,{handleClearWatchedBanner:v,onboardingId:null==l?void 0:l.onboardingId,handleClick:s,width:p||0}),m&&t.createElement(qI,{data:null===(r=l.elements[0])||void 0===r?void 0:r.actions,onboardingId:null==l?void 0:l.onboardingId,removeWatchedElement:v,handleClick:s}),!!l.timeout&&!!_&&"on_pause"!==l.startCondition&&t.createElement(nR,{progress:_})):null}));function cR(e){return/^([^/:]*\/|\.\/|\.\.\/)/.test(e)}function dR(e){if("?"===e[0])return e;if(cR(e))return e.startsWith("/")?e:`/${e}`;try{const t=new URL(e.startsWith("//")?`https:${e}`:e);return`${t.pathname}${t.search}${t.hash}`}catch(e){return""}}var hR,pR;let vR;class mR extends(hR=k.j8){constructor(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];super(),this._banners=(vR(this),A.sH.box()),this._hasPassedTime=A.sH.box(!1),this._bannerHeight=A.sH.box(0),this._counterHelper=void 0,this.playerData=e,this.playback=t,this.playerSize=n,this.staticticStore=i,this.appearance=r,this.isEmbed=a,(0,A.Gn)(this,{banners:A.EW,isBannersAllowed:A.EW,isAdvertShowing:A.EW,isBannersHidden:A.EW,isShowBanner:A.EW,isPaused:A.EW,timeoutToEnd:A.EW,isFullElement:A.EW,hasPassedTime:A.EW,bannerHeight:A.EW,handleClick:A.XI.bound,handleClearWatchedBanner:A.XI.bound,handleBannerClick:A.XI.bound})}init(){const e=[];return e.push((0,A.mJ)((()=>this.playback.currentTime),(e=>{var t,n;const i=null===(t=this.banners)||void 0===t?void 0:t.find((e=>{var t;return null===(t=e.startCondition)||void 0===t?void 0:t.includes("after")}));if(this.hasPassedTime||!i||!this.playback.wasStarted)return;const r=Number(null===(n=i.startCondition)||void 0===n?void 0:n.split("_")[1]);e/this.playback.duration*100>=r&&(this.hasPassedTime=!0)}))),e.push((0,A.mJ)((()=>this.hasPassedTime),(e=>{var t,n,i,r;null!==(t=this.banners)&&void 0!==t&&t.length&&(null===(n=this.banners)||void 0===n?void 0:n.length)<=1||!this.playback.wasStarted||!e||null===(i=this.banners)||void 0===i||!i.length||null!==(r=this.banners[0].startCondition)&&void 0!==r&&r.includes("after")||this.banners.reverse()}))),()=>e.forEach((e=>e()))}async handleClick(e){try{var t;const a=null===(t=this.playerData.viewer)||void 0===t?void 0:t.toString(),s=this.staticticStore.getCid(),{onboardingId:o,actionId:u,isClose:c}=e;if(!this.currentBanner)return;const d=this.currentBanner.elements[0],h=d.elementId,p=d.actions,v=p.find((e=>e.actionId===u)),m=p.filter((e=>e.actionId!==u)).map((e=>({actionId:e.actionId,isPressed:!1}))),_=null==v?void 0:v.sortOrder;if(c||v&&["external_link","internal_link","cancel_button"].includes(v.type)){const e=[...m,...v&&!c?[{actionId:u,isPressed:!0}]:[]],t={actionId:u,userId:a,cid:s,onboardingId:o,elements:[{elementId:h,isShown:!!c,isFinished:!0,actions:e}],url:null==v?void 0:v.url};var n,i,r;if(c||null!=v&&v.type.includes("internal")||this.playback.pause(),u&&!c)null===(n=this._counterHelper)||void 0===n||n.get("mainCommunicationBannerClick")((0,l.A)({onboardingId:String(o),numLp:String(u),anumsLp:this.currentBanner.elements[0].actions.map((e=>e.actionId))||[]},_&&{indLp:String(_)}));if(c)null===(i=this._counterHelper)||void 0===i||i.get("mainCommunicationBannerClose")({onboardingId:String(o),anumsLp:this.currentBanner.elements[0].actions.map((e=>e.actionId))||[]});if(null!=v&&v.url)if(null!==(r=v.type)&&void 0!==r&&r.includes("internal")){const e=dR(v.url);this.playback.pause(),jr.Ug.emit(fi.L2.INTERNAL_BTN_BANNER,{url:e})}else window.open((e=>{try{const t=new URL(e);return t.protocol="https:",t.toString()}catch(t){try{return new URL("https://"+e).toString()}catch(t){return console.error("Invalid URL passed to ensureHttps:",e),""}}})(v.url),"_blank");this.handleClearWatchedBanner(),await this.successClickCallback(t)}}catch(e){console.error(e)}}handleClearWatchedBanner(){var e;null===(e=this.banners)||void 0===e||e.splice(0,1)}handleBannerClick(){var e,t;if(!this.isFullElement||!this.currentBanner)return;const n=this.playerWidth>768?null===(e=this.currentBanner)||void 0===e||null===(e=e.elements[0])||void 0===e?void 0:e.actions.find((e=>e.isFullBody)):null===(t=this.currentBanner)||void 0===t||null===(t=t.elements[0])||void 0===t?void 0:t.actions[0];this.handleClick({actionId:Number(null==n?void 0:n.actionId),onboardingId:this.currentBanner.onboardingId}),this.playback.pause()}generateFetchArgs(){var e,t,n,i;return{videoId:String(null===(e=this.playerData)||void 0===e?void 0:e.video_id)||null,category:(null===(t=this.playerData.data)||void 0===t||null===(t=t.category)||void 0===t?void 0:t.short_name)||null,subscribe:"",userId:null===(n=this.playerData.viewer)||void 0===n?void 0:n.toString(),cid:this.staticticStore.getCid(),channelId:String(null===(i=this.playerData.data)||void 0===i||null===(i=i.author)||void 0===i?void 0:i.id)||null}}get timeoutToEnd(){var e,t,n,i,r;if(!this.currentBanner||null!==(e=this.currentBanner.startCondition)&&void 0!==e&&e.includes("on_pause"))return 0;const a=this.playback.duration-1e3;return null===(null===(t=this.currentBanner)||void 0===t?void 0:t.timeout)&&null!==(n=this.currentBanner.startCondition)&&void 0!==n&&n.includes("after")?a:this.currentBanner.timeout&&this.playback.duration<=(null===(i=this.currentBanner)||void 0===i?void 0:i.timeout)+this.playback.duration/Number(null===(r=this.currentBanner)||void 0===r||null===(r=r.startCondition)||void 0===r?void 0:r.split("_")[1])?Math.round(this.playback.duration-this.playback.currentTime):this.currentBanner.timeout||0}get banners(){return this._banners.get()||null}set banners(e){this._banners.set(e)}get bannerHeight(){return this._bannerHeight.get()}set bannerHeight(e){this._bannerHeight.set(e)}get isAdvertShowing(){return!1}get isInPiP(){return!1}get playerWidth(){var e,t;return null!==(e=null===(t=this.playerSize.size)||void 0===t?void 0:t.width)&&void 0!==e?e:this.playerSize.windowWidth}get currentBanner(){return this.banners&&this.banners.length?this.banners[0]:null}get counterHelper(){return this._counterHelper}get isBannersAllowed(){return this.playback.wasStarted&&!this.playback.ended}get isShowBanner(){return this.isBannersAllowed&&!!this.currentBanner&&!this.isBannersHidden}get isPaused(){return this.playback.paused}get isShowButtons(){var e;return!(!(this.currentBanner&&(null===(e=this.currentBanner)||void 0===e||null===(e=e.elements[0].actions)||void 0===e?void 0:e.length)>0&&this.playerWidth>768)||this.isFullElement)}get isBannersHidden(){var e,t;return this.playback.isCommunicationBannerPrevented||!this.playback.wasStarted||this.isAdvertShowing||this.isInPiP||(null===(e=this.currentBanner)||void 0===e||null===(e=e.startCondition)||void 0===e?void 0:e.includes("on_pause"))&&!this.isPaused||(null===(t=this.currentBanner)||void 0===t||null===(t=t.startCondition)||void 0===t?void 0:t.includes("after"))&&!this.hasPassedTime}get isFullElement(){var e,t;if(this.currentBanner)return Boolean(!(null===(e=this.currentBanner.elements[0])||void 0===e||!e.actions.find((e=>e.isFullBody)))||!(null!==(t=this.currentBanner.elements[0])&&void 0!==t&&t.actions.length)||this.playerWidth&&this.playerWidth<=768)}get hasPassedTime(){return this._hasPassedTime.get()}set hasPassedTime(e){this._hasPassedTime.set(e)}get color(){return this.appearance.color||"var(--pen-accent)"}get buttonTextColor(){return"#fff"}}pR=mR,[vR]=(0,S.A)(pR,[],[[(0,k.o7)(),2,"init"]],0,void 0,hR).e,mR.CommunicationBanner=uR,mR.getCommunicationBanner=e=>e("ICommunicationBannerPlugin");s(4924);var _R,fR;let gR,yR,bR;class ER extends(_R=mR){constructor(e,t,n,i,r,a,s,o,l,u,c,d){gR((super(e,n,s,i,l,u.value),this.playerData=e,this._config=t,this.playback=n,this.statisticsStore=i,this.advert=r,this.pip=a,this.playerSize=s,this.embedPlugin=c,this.embedExternalConfig=d,this)),this._counterHelper=o instanceof ps?o.counterHelper:void 0,(0,A.Gn)(this,{fetchBanners:A.L3})}initBanners(){return(0,A.mJ)((()=>({videoId:this.playerData.video_id,isPlayOptionsLoaded:this.playerData.isPlayOptionsLoaded,_:this.playerData.viewer})),(e=>{var t;let{videoId:n,isPlayOptionsLoaded:i}=e;if(this.banners=null,(null===(t=this.embedPlugin)||void 0===t||!t.isEmbedYaos)&&n){if(this.hasPassedTime=!1,this.isSafeMode||!i)return;this.fetchBanners()}}))}*fetchBanners(){const e=yield(async e=>{const t=new URLSearchParams;t.append("platform",qt.B.isMobile?"browser_mobile":"browser");for(const[n,i]of Object.entries(e))"string"==typeof i&&"null"!==i&&t.append(n,i);return fetch(`${Ep()}/api/premier/app/v2.1/onboardings/config/rutube?${t.toString()}`).then((e=>e.ok&&200===e.status?e.json():null)).catch((e=>(console.warn(e),null)))})((0,l.A)({},this.generateFetchArgs()));null!=e&&e.result?this.banners=(e=>{const t=[];let n,i;if(!e.length||!e)return[];for(let o=0;o<=e.length;o++){var r,a,s;"player_banner"===(null===(r=e[o])||void 0===r?void 0:r.type)&&(null!==(a=e[o])&&void 0!==a&&null!==(a=a.startCondition)&&void 0!==a&&a.includes("on_pause")&&!i&&(i=!0,t.unshift(e[o])),null!==(s=e[o])&&void 0!==s&&null!==(s=s.startCondition)&&void 0!==s&&s.includes("after")&&!n&&(n=!0,t.push(e[o])))}return t})(e.result):this.banners=null}get isSafeMode(){const{minAge:e,maxAge:t}=this._config.get("safeModeConfig")||{};return null!=e&&null!=t}get isInPiP(){return!(!this.pip||!this.pip.isInPiP)}get isAdvertShowing(){var e;return!(null===(e=this.advert)||void 0===e||!e.currentAdvert)}async successClickCallback(e){if(this.isEmbed&&e.url){var t;let n=dR(e.url);const i=String(null===(t=this.playerData)||void 0===t?void 0:t.video_id);this.playback.pause(),"?"===n[0]?n=function(e){return`${fi.V2}/video/${e}`}(i)+n:cR(n)&&(n=fi.V2+n),window.open(function(e,t,n){const i=(0,R.Qv)(e);if(!i)return;const r=new URLSearchParams(i.search),a=new URLSearchParams([...r,...gn({utm_campaign:"communication_banner",utm_content:t,type:"video",dist:yn(!0),utm_term:yn(),onboarding_id:n},"",!1)]);return i.search="?"+String(a),String(i)}(n,i,String(e.onboardingId)))}await(async(e,t)=>fetch(`${Ep()}/api/premier/app/v1/onboardings/count/${t||"rutube"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,l.A)({},e))}).catch(console.warn))(e)}generateFetchArgs(){const e=super.generateFetchArgs(),t=this._config.get("userPaidSubscription")||[];return e.subscribe=t.find((e=>e.is_active))?"is_subscribed":"is_not_subscribed",e}get isBannersAllowed(){var e;return!0!==(null==this||null===(e=this.embedExternalConfig)||void 0===e?void 0:e.communicationBannerSkip)&&super.isBannersAllowed}}var wR;let SR,AR,kR;fR=ER,({e:[gR],c:[bR,yR]}=(0,S.A)(fR,[(0,k.k_)({implement:"ICommunicationBannerPlugin",ctor_args:["IDataPlugin","IPlayerConfigPlugin","IPlayback","IStatisticStore",{implement:"IAdvertPlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0},"IPlayerSizePlugin",{implement:"IStatisticState",optional:!0},"IAppearancePlugin","IsEmbed",{implement:"IEmbedPlugin",optional:!0},{implement:"IEmbedExternalConfigPlugin",optional:!0}]})],[[(0,k.o7)(),2,"initBanners"]],0,void 0,_R)),yR();wR=class extends ly{constructor(e,t){SR((super(e),this._dataPlugin=t,this))}initIntervalCounter(){return(0,A.mJ)((()=>this._dataPlugin.data),(e=>{if(!e)return this.stat=[],void(this.statApi=[]);null!=e&&e.stat&&(this.stat=e.stat||[]),null!=e&&e.stat_api&&(this.statApi=e.stat_api||[],at(nt(e.stat_api||[])))}),{fireImmediately:!0})}},({e:[SR],c:[kR,AR]}=(0,S.A)(wR,[(0,k.k_)({implement:"IStatisticStore",ctor_args:["Resolve","IDataPlugin"]})],[[(0,k.o7)(),2,"initIntervalCounter"]],0,void 0,ly)),AR();const CR=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=3735928559^t,i=1103547991^t;for(let t,r=0;r<e.length;r++)t=e.charCodeAt(r),n=Math.imul(n^t,2654435761),i=Math.imul(i^t,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507),i^=Math.imul(n^n>>>13,3266489909),String(4294967296*(2097151&i)+(n>>>0))},PR={production:{embed:{android:"47f3",ios:"5d5d",default:"7fd0"},web:{android:"29b0",ios:"a7d6",default:"fe73"}},development:{embed:{android:"8b85",ios:"d002",default:"592a"},web:{android:"a7cf",ios:"4294",default:"3921"}}},TR=[0,144,240,360,480,720,1080,1440,2160,3072];class IR{constructor(){this._vigoPromise=void 0,this._sdkLoaderPromise=void 0,this._vigoResolver=void 0,this._started=!1,this._sdkLoaderPromise=ys("https://api.vigo.one/html5/Vigo.min.js","initVigo"),this._vigoPromise=new Promise((e=>{this._vigoResolver=e}))}init(e,t){this._sdkLoaderPromise.then((n=>{this._vigoResolver&&this._vigoResolver(n(e,t))})).catch((e=>console.warn(e)))}startPlayback(){this._started=!0,this._vigoPromise.then((e=>e.startPlayback())).catch((e=>console.warn(e)))}bitrateChange(e){this._vigoPromise.then((t=>t.bitrateChange(e))).catch((e=>console.warn(e)))}error(e){this._vigoPromise.then((t=>t.error(e))).catch((e=>console.warn(e)))}suspendCollecting(){this._started&&this._vigoPromise.then((e=>e.suspendCollecting())).catch((e=>console.warn(e)))}resumeCollecting(){this._started&&this._vigoPromise.then((e=>e.resumeCollecting())).catch((e=>console.warn(e)))}endPlayback(){this._started=!1,this._vigoPromise.then((e=>e.endPlayback())).catch((e=>console.warn(e)))}updateHost(e){this._vigoPromise.then((t=>t.updateHost(e))).catch((e=>console.warn(e)))}}s(2946);const RR=(e,t,n)=>{if(e)return 100;const i=n&&n[t],r=null==i?void 0:i.height;return r?TR.findLastIndex((e=>e<=r)):0},LR=e=>{if(!e)return"";const t=("function"==typeof e.levels?e.levels():e.levels)[e.currentLevel];!t||null!=t&&t.url||(t.url="");const{edge:n=""}=HE(t);return n};var xR;let OR,NR,DR;class MR extends k.j8{constructor(e,t,n,i,r){super(),this._dataPlugin=void OR(this),this._playback=void 0,this._provider=void 0,this._vigo=void 0,this._isEmbed=void 0,this._playerVersion=r,this._dataPlugin=e,this._playback=t,this._provider=n,this._vigo=new IR,this._isEmbed=i.value}_initVigo(t){var n;const i=(0,l.A)((0,l.A)({},{player:"HTML5",appVersion:this._playerVersion.value}),{},{svcid:(r=this._isEmbed,PR.production[r?"embed":"web"][C()?"ios":T()?"android":"default"]),cid:(0,e.yk)().replaceAll("-",""),wid:(0,tr.A)().replaceAll("-",""),quality:RR(this._provider.autoQuality,this._provider.activeQualityLevel,this._provider.qualities),host:LR(null===(n=this._provider.provider)||void 0===n?void 0:n.instance),getBytes:()=>1,getBitrate:()=>((e,t)=>{const n=t&&e?t[e]:void 0,i=(null==n?void 0:n.bitrate)||0;return Math.floor(i/100)})(this._provider.activeQualityLevel,this._provider.qualities),contentId:t,deviceId:CR(window.navigator.userAgent)});var r;this._vigo.init(this._playback.player,i)}init(){const e=[];return e.push((0,A.mJ)((()=>({videoId:this._dataPlugin.video_id})),(e=>{let{videoId:t}=e;return t&&this._initVigo(t)}))),e.push((0,A.mJ)((()=>({isPlaying:this._playback.isPlaying})),(e=>{let{isPlaying:t}=e;t?this._vigo.resumeCollecting():this._vigo.suspendCollecting()}))),e.push((0,A.mJ)((()=>({isAutoQuality:this._provider.autoQuality,activeQuality:this._provider.activeQualityLevel,qualities:this._provider.qualities})),(e=>{var t;let{isAutoQuality:n,activeQuality:i,qualities:r}=e;const a=RR(n,i,r);this._vigo.bitrateChange(a);const s=LR(null===(t=this._provider.provider)||void 0===t?void 0:t.instance);s&&this._vigo.updateHost(s)}))),e.push((0,A.mJ)((()=>({wasStarted:this._playback.wasStarted})),(e=>{let{wasStarted:t}=e;t&&this._vigo.startPlayback()}))),e.push((0,A.mJ)((()=>({ended:this._playback.ended})),(e=>{let{ended:t}=e;t&&this._vigo.endPlayback()}))),()=>e.forEach((e=>e()))}}xR=MR,({e:[OR],c:[DR,NR]}=(0,S.A)(xR,[(0,k.k_)({implement:"IVigoPlugin",ctor_args:["IDataPlugin","IPlayback","IProviderPlugin","IsEmbed","PlayerVersion"]})],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),NR();const BR=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.62988 5.99988C4.62988 5.65747 4.90747 5.37988 5.24988 5.37988H11.9999H18.7499C19.0923 5.37988 19.3699 5.65747 19.3699 5.99988V10.4999C19.3699 10.8423 19.0923 11.1199 18.7499 11.1199C18.4075 11.1199 18.1299 10.8423 18.1299 10.4999V6.61988H11.9999H5.86988V17.3799H9.74988C10.0923 17.3799 10.3699 17.6575 10.3699 17.9999C10.3699 18.3423 10.0923 18.6199 9.74988 18.6199H5.24988C4.90747 18.6199 4.62988 18.3423 4.62988 17.9999V5.99988Z",fill:n}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1299 13.4999C12.1299 13.1575 12.4075 12.8799 12.7499 12.8799H18.7499C19.0923 12.8799 19.3699 13.1575 19.3699 13.4999V17.9999C19.3699 18.3423 19.0923 18.6199 18.7499 18.6199H12.7499C12.4075 18.6199 12.1299 18.3423 12.1299 17.9999V13.4999Z",fill:n}),t.createElement("g",{clipPath:"url(#clip0_4430_35593)"},t.createElement("path",{d:"M7.48962 10.8137C7.83479 10.8137 8.11462 10.5339 8.11462 10.1887L8.11462 9.74788L10.2297 11.8629C10.4737 12.107 10.8695 12.107 11.1135 11.8629C11.3576 11.6188 11.3576 11.2231 11.1135 10.979L8.9985 8.86399L9.43936 8.86399C9.78454 8.86399 10.0644 8.58417 10.0644 8.23899C10.0644 7.89382 9.78454 7.61399 9.43936 7.61399L7.48962 7.61399C7.14444 7.61399 6.86462 7.89382 6.86462 8.23899L6.86462 10.1887C6.86462 10.5339 7.14444 10.8137 7.48962 10.8137Z",fill:n})),t.createElement("defs",null,t.createElement("clipPath",{id:"clip0_4430_35593"},t.createElement("rect",{width:"6.8995",height:"6.8995",fill:n,transform:"translate(5.62988 6.37988)"}))))},FR=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.62988 5.99988C4.62988 5.65747 4.90747 5.37988 5.24988 5.37988H11.9999H18.7499C19.0923 5.37988 19.3699 5.65747 19.3699 5.99988V10.4999C19.3699 10.8423 19.0923 11.1199 18.7499 11.1199C18.4075 11.1199 18.1299 10.8423 18.1299 10.4999V6.61988H11.9999H5.86988V17.3799H9.74988C10.0923 17.3799 10.3699 17.6575 10.3699 17.9999C10.3699 18.3423 10.0923 18.6199 9.74988 18.6199H5.24988C4.90747 18.6199 4.62988 18.3423 4.62988 17.9999V5.99988Z",fill:n}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1299 13.4999C12.1299 13.1575 12.4075 12.8799 12.7499 12.8799H18.7499C19.0923 12.8799 19.3699 13.1575 19.3699 13.4999V17.9999C19.3699 18.3423 19.0923 18.6199 18.7499 18.6199H12.7499C12.4075 18.6199 12.1299 18.3423 12.1299 17.9999V13.4999Z",fill:n}),t.createElement("path",{d:"M10.6705 8.84544C10.3254 8.84544 10.0455 9.12526 10.0455 9.47044L10.0455 9.9113L7.9305 7.79626C7.68642 7.55219 7.29069 7.55219 7.04662 7.79626C6.80254 8.04034 6.80254 8.43607 7.04662 8.68015L9.16166 10.7952L8.72079 10.7952C8.37561 10.7952 8.09579 11.075 8.09579 11.4202C8.09579 11.7654 8.37561 12.0452 8.72079 12.0452L10.6705 12.0452C11.0157 12.0452 11.2955 11.7654 11.2955 11.4202L11.2955 9.47044C11.2955 9.12526 11.0157 8.84544 10.6705 8.84544Z",fill:n}))},HR=()=>(0,Dt.p5)().resolve("PictureInPicturePlugin"),VR="picture-in-picture-button-module__button___GFhUk",UR=t.createElement(t.Fragment,null,"ÐœÐ¸Ð½Ð¸-Ð¿Ð»ÐµÐµÑ€ Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ",t.createElement("br",null),"Ð¿Ð¾Ð²ÐµÑ€Ñ… Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð¾ÐºÐ¾Ð½, Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰Ð°Ñ‚ÑŒ",t.createElement("br",null),"Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ ÐµÐ³Ð¾ Ñ€Ð°Ð·Ð¼ÐµÑ€"),jR=(0,_t.PA)((e=>{let{size:n,placement:i,onboardingPlacement:r}=e;const{togglePiP:a,isInPiP:s,enterPipClickStat:o}=HR(),{isShowPiPButton:l,isTouchDevice:u,size:c}=(0,Dt.Ks)("IPictureInPictureViewPlugin"),d=(null==c?void 0:c.width)||0,h=(0,t.useRef)(null),{activeOnboarding:p,isShowOnboarding:v}=_d()||{},m="pip"===p&&v,{tabIndex:_}=(0,Bu.useControls)();if(!l)return null;const f="top"===i?{tooltipTitle:Ve.m_.MiniPlayer,tooltipPlacement:"top",tooltipHideOnClick:!0,tooltipZIndex:Ve.m_.ControlsTooltipZIndex}:{};return t.createElement(t.Fragment,null,t.createElement(Pc.r,(0,On.A)({ref:h,"data-testid":"ui-mini",tabIndex:_,"aria-label":(0,rd.T)("ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð² Ñ€ÐµÐ¶Ð¸Ð¼ Ð¼Ð¸Ð½Ð¸-Ð¿Ð»ÐµÐµÑ€Ð°","I",!0),role:"button",action:"miniPlayer",icon:s?BR:FR,onClick:()=>{a(),s||o()},size:n,className:m?VR:void 0},f)),m&&t.createElement(md,{wrapperRef:h,playerWidth:d,isTouchDevice:u,title:UR,placement:r}))})),WR=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.3486 16C12.3486 15.0869 13.0889 14.3467 14.002 14.3467H32.002H50.002C50.9151 14.3467 51.6553 15.0869 51.6553 16V28C51.6553 28.9131 50.9151 29.6533 50.002 29.6533C49.0889 29.6533 48.3486 28.9131 48.3486 28V17.6533H32.002H15.6553V46.3467H26.002C26.9151 46.3467 27.6553 47.0869 27.6553 48C27.6553 48.9131 26.9151 49.6533 26.002 49.6533H14.002C13.0889 49.6533 12.3486 48.9131 12.3486 48V16Z",fill:n}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.3486 36C32.3486 35.0869 33.0889 34.3467 34.002 34.3467H50.002C50.9151 34.3467 51.6553 35.0869 51.6553 36V48C51.6553 48.9131 50.9151 49.6533 50.002 49.6533H34.002C33.0889 49.6533 32.3486 48.9131 32.3486 48V36Z",fill:n}))},zR="picture-in-picture-overlay-module__overlay___sQhJa",$R="picture-in-picture-overlay-module__overlayInfo___Qd9Z_",GR="picture-in-picture-overlay-module__overlayInfoIcon___Za37e",qR="picture-in-picture-overlay-module__overlayInfoText___uWtJe",KR="picture-in-picture-overlay-module__overlayInfoButton___Kxddt",YR="picture-in-picture-overlay-module__backButton___Swrcp",QR="picture-in-picture-overlay-module__hidden___z_7l2",XR=(0,_t.PA)((()=>{const{goBack:e,showBackStat:n}=HR();return(0,t.useEffect)((()=>{n()}),[n]),t.createElement(Pc.r,{tabIndex:0,role:"button","aria-label":"Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð½Ð° Ð³Ð»Ð°Ð²Ð½ÑƒÑŽ",icon:yf,onClick:e})})),ZR=(0,_t.PA)((()=>{const e=HR(),n=(0,Bu.useControls)(),i=Xm.useEndScreen(),{isShowControls:r}=(0,Bu.useControls)(),a=!r,{isInPiP:s,togglePiP:o}=e;return!s||i.visible?null:t.createElement("div",{className:zR,onClick:()=>{qt.B.isMobile&&(n.isShowControls=!n.isShowControls)}},t.createElement("div",{className:gt()(YR,{[QR]:a})},s&&t.createElement(XR,null)),t.createElement("div",{className:$R},t.createElement("div",{className:GR},t.createElement(WR,null)),t.createElement("div",{className:qR},"Ð’Ð¸Ð´ÐµÐ¾ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾ Ð² Ð¼Ð¸Ð½Ð¸-Ð¿Ð»ÐµÐµÑ€Ðµ"),t.createElement("div",{className:KR},t.createElement("button",{type:"button",onClick:e=>{e.stopPropagation(),o()}},"Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð² Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼"))))}));var JR;let eL,tL,nL;class iL extends k.j8{static get PictureInPictureButton(){return jR}static get PictureInPictureOverlay(){return ZR}constructor(e,t,n,i,r){super(),this._isInPiP=(eL(this),A.sH.box(!1)),this._isEnterToPiPForbidden=A.sH.box(!1),this.counterHelper=void 0,this._config=e,this._data=t,this._userSettings=n,this._playback=i,this.counterHelper=r&&r instanceof ps?r.counterHelper:void 0,(0,A.Gn)({isInPiP:A.EW}),this.enterToPiP=this.enterToPiP.bind(this),this.togglePiP=this.togglePiP.bind(this),this.goBack=this.goBack.bind(this),this.showBackStat=this.showBackStat.bind(this),this.enterPipClickStat=this.enterPipClickStat.bind(this),this.exitPipClickStat=this.exitPipClickStat.bind(this)}initPiPHandlers(){const e=()=>{if(document.pictureInPictureElement){(0,A.h5)((()=>this._isInPiP.set(!0)));const e=document.pictureInPictureElement,t=()=>{(0,A.h5)((()=>this._isInPiP.set(!1))),this._playback.paused&&this._playback.pausedViaPlugin||this._rafPlay(3),this.exitPipClickStat(),this.isWebkitPiPSupported||this._playback.movePlayerBackToContainer()};P()?this._playback.player.addEventListener("webkitpresentationmodechanged",t,{once:!0}):e.addEventListener("leavepictureinpicture",t,{once:!0})}};return document.addEventListener("enterpictureinpicture",e),()=>{document.removeEventListener("enterpictureinpicture",e)}}exitFromPiPonDestroy(){return()=>{this.exitFromPiP()}}_rafPlay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;window.requestAnimationFrame((()=>{this._playback.play().catch((()=>{})),e&&this._rafPlay(e-1)}))}goBack(){var e;jr.Ug.emit(fi.L2.PIP_BACK,null),null===(e=this.counterHelper)||void 0===e||e.get("mainPictureInPictureBackClick")()}showBackStat(){var e;null===(e=this.counterHelper)||void 0===e||e.get("mainPictureInPictureBackShow")()}enterPipClickStat(){var e;null===(e=this.counterHelper)||void 0===e||e.get("mainPictureInPictureEnterClick")()}exitPipClickStat(){var e;null===(e=this.counterHelper)||void 0===e||e.get("mainPictureInPictureExitClick")()}async enterToPiP(){if(this.isPiPAllowed&&this._userSettings.isUserAdult&&!this.isEnterToPiPForbidden)return this.isWebkitPiPSupported?C()?(this._playback.player.webkitSetPresentationMode("picture-in-picture"),new Promise((e=>e()))):this._playback.player.requestPictureInPicture().catch((()=>{console.warn("Video failed to enter Picture-in-picture mode"),this.exitFromPiP(),(0,A.h5)((()=>this._isInPiP.set(!1)))})):(this._playback.movePlayerToBody(),new Promise((e=>window.requestAnimationFrame((()=>{e(this._playback.player.requestPictureInPicture().catch((()=>{console.warn("Video failed to enter Picture-in-picture mode"),this._playback.movePlayerBackToContainer(),this.exitFromPiP(),(0,A.h5)((()=>this._isInPiP.set(!1)))})))})))))}exitFromPiP(){try{if(document.pictureInPictureElement){if(!C()||!this.isWebkitPiPSupported)return document.exitPictureInPicture();this._playback.player.webkitSetPresentationMode("inline")}}catch(e){console.warn(e)}return new Promise((e=>e()))}async togglePiP(){if("pictureInPictureElement"in document)return this.isInPiP?this.exitFromPiP():this.enterToPiP()}get isPiPAllowed(){var e;return!this._config.get("interactiveFragments")&&("pictureInPictureElement"in document&&Boolean(null===(e=this._data.appearance)||void 0===e?void 0:e.mini_player))}get isInPiP(){return this._isInPiP.get()&&this._playback.isInPiP()}get isWebkitPiPSupported(){const e=this._playback.player;return e.webkitSupportsPresentationMode&&e.webkitSupportsPresentationMode("picture-in-picture")&&"function"==typeof e.webkitSetPresentationMode}handlePauseInPiP(){return(0,A.mJ)((()=>({paused:this._playback.paused,isInPiP:this.isInPiP})),(e=>{let{paused:t,isInPiP:n}=e;n&&(P()?"picture-in-picture"===this._playback.player.webkitPresentationMode&&(this._playback.pausedViaPlugin=t):this._playback.pausedViaPlugin=t)}))}get isEnterToPiPForbidden(){return this._isEnterToPiPForbidden.get()}set isEnterToPiPForbidden(e){this._isEnterToPiPForbidden.set(e)}}var rL,aL;let sL,oL,lL;JR=iL,({e:[eL],c:[nL,tL]}=(0,S.A)(JR,[(0,k.k_)({implement:"PictureInPicturePlugin",ctor_args:["IPlayerConfigPlugin","IDataPlugin","IUserSettingsPlugin","IPlayback",{implement:"IStatisticState",optional:!0}]})],[[(0,k.o7)(),2,"initPiPHandlers"],[(0,k.o7)(),2,"exitFromPiPonDestroy"],[(0,k.o7)(),2,"handlePauseInPiP"]],0,void 0,k.j8)),tL();class uL extends(rL=k.j8){constructor(e,t,n,i){super(),this._isTouchDevice=(sL(this),A.sH.box(!1)),this._pip=e,this._fullscreen=t,this._playerSize=n,this._notifications=i,this.isTouchDevice=qt.B.isMobile,(0,A.Gn)(this,{allowOnboarding:A.EW,isShowMobilePiPButton:A.EW,isShowPiPButton:A.EW,isTouchDevice:A.EW})}get allowOnboarding(){return this.isTouchDevice?this.isShowMobilePiPButton:this.isShowPiPButton}get size(){return this._playerSize.size}get isShowMobilePiPButton(){return this.isTouchDevice&&this._pip.isPiPAllowed&&!this._fullscreen.isFullscreen&&!this.isInPiP&&"Enabled"!==this._notifications.autoPlayWithMute&&"NotInitialized"!==this._notifications.autoPlayWithMute}get isShowPiPButton(){return this._pip.isPiPAllowed&&!this._fullscreen.isFullscreen}set isTouchDevice(e){this._isTouchDevice.set(e)}get isTouchDevice(){return this._isTouchDevice.get()}get isInPiP(){return Boolean(this._pip.isInPiP)}togglePiP(){var e;null===(e=this._pip)||void 0===e||e.togglePiP()}}aL=uL,({e:[sL],c:[lL,oL]}=(0,S.A)(aL,[(0,k.k_)({implement:"IPictureInPictureViewPlugin",ctor_args:["PictureInPicturePlugin","IFullscreenPlugin","IPlayerSizePlugin","IDisclaimersPlugin"]})],[[k.zm,2,"togglePiP"]],0,void 0,rL)),oL();class cL{constructor(e,t,n,i){this.__start=void 0,this.__delay=void 0,this.__count=void 0,this.__send=void 0,this.__startTimer=null,this.__start=e,this.__delay=t,this.__count=n,this.__send=i}start(){this.__delay>0&&0===this.__count&&this.handleInfiniteEvent(),this.__count>0&&this.handleEvent()}handleInfiniteEvent(){this.__startTimer&&clearTimeout(this.__startTimer),this.__startTimer=setTimeout((()=>{this.__send(),this.__start=this.__delay,this.handleInfiniteEvent()}),1e3*this.__start)}handleEvent(){this.__startTimer&&clearTimeout(this.__startTimer),this.__count<=0||(this.__startTimer=setTimeout((()=>{this.__send(),this.handleEvent(),this.__start=this.__delay}),1e3*this.__start),this.__count-=1)}stop(){this.__startTimer&&(clearTimeout(this.__startTimer),this.__startTimer=null)}}class dL{constructor(e,t){this.__statistic=void 0,this.__statisticStore=void 0,this.__schedulers=[],this.isStarted=!1,this.isStarted=!1,this.__statistic=e,this.__statisticStore=t}start(e){this.isStarted=!0,this.__statisticStore.intervalEvents.forEach((t=>{try{const n=t.name===Ve.jI.WATCHTIME&&0!==e?parseFloat((t.delay-e%t.delay).toFixed(3)):t.start,i=new cL(n,t.delay,t.count,(()=>{this.send(t)}));this.__schedulers.push(i),i.start()}catch(e){console.warn("Error event parameter",e,t)}}))}send(e){try{var t,n;if(e.name===Ve.jI.WATCHTIME)null===(t=this.__statistic)||void 0===t||t.counterHelper.get("mainIntervalWatchtime")({urlTemplate:e.url_template});if(e.name===Ve.jI.HEARTBEAT)null===(n=this.__statistic)||void 0===n||n.counterHelper.get("mainIntervalHeartbeat")({urlTemplate:e.url_template})}catch(e){console.warn(e)}}stop(){try{this.__schedulers.forEach((e=>e.stop())),this.__schedulers=[],this.isStarted=!1}catch(e){console.warn(e)}}dispose(){this.stop()}}var hL;let pL,vL,mL;class _L extends k.j8{constructor(e,t,n,i){super(),this.__statisticStore=void pL(this),this.__playerStore=void 0,this.__intervalEventsCounter=void 0,this.__statistic=void 0,this.__wt=void 0,this.__reachedQuartiles={first:!1,second:!1,third:!1},this.__statisticStore=t,this.__wt=i,this.__playerStore=n,this.__statistic=e instanceof pt?e:null,this.__intervalEventsCounter=new dL(this.__statistic,this.__statisticStore)}initIntervalEvents(){return(0,A.mJ)((()=>this.__playerStore.isPlaying),(e=>{e?this.__intervalEventsCounter.isStarted||this.__intervalEventsCounter.start(this.__playerStore.currentTime):this.__intervalEventsCounter.stop()}))}intiEvents(){return(0,A.mJ)((()=>{var e,t;return Math.floor((null!==(e=null===(t=this.__wt)||void 0===t?void 0:t.watchTime)&&void 0!==e?e:0)/1e3)}),(e=>{this.__statisticStore.statEvents.filter((t=>{if(t.start===e)return!0;if(0!==t.delay&&void 0!==e){const n=(e-t.start)%t.delay;try{return Object.is(n,0)}catch(e){return!1}}return!1})).forEach((e=>{if(e.count){var t;const n="method_str"in e?e.method_str:e.url_template;null===(t=this.__statistic)||void 0===t||t.counterHelper.get("mainStateventEvent")({urlTemplate:n})}e.count-=1}))}))}initPlaybackQuartileEvents(){return(0,A.mJ)((()=>this.__playerStore.progress),(e=>{var t,n,i;e>=25&&e<50&&!this.__reachedQuartiles.first&&(this.__reachedQuartiles.first=!0,null===(t=this.__statistic)||void 0===t||t.counterHelper.get("mainContentPlaybackFirstQuartile")());e>=50&&e<75&&!this.__reachedQuartiles.second&&(this.__reachedQuartiles.second=!0,null===(n=this.__statistic)||void 0===n||n.counterHelper.get("mainContentPlaybackSecondQuartile")());e>=75&&!this.__reachedQuartiles.third&&(this.__reachedQuartiles.third=!0,null===(i=this.__statistic)||void 0===i||i.counterHelper.get("mainContentPlaybackThirdQuartile")())}))}clear(){return()=>{this.__intervalEventsCounter.dispose()}}}var fL;let gL,yL,bL;hL=_L,({e:[pL],c:[mL,vL]}=(0,S.A)(hL,[(0,k.k_)({implement:"IStatisticEventsPlugin",ctor_args:["IStatisticState","IStatisticStore","IPlayback",{implement:"IStatisticWatchTimePlugin",optional:!0}]})],[[(0,k.o7)(),2,"initIntervalEvents"],[(0,k.o7)(),2,"intiEvents"],[(0,k.o7)(),2,"initPlaybackQuartileEvents"],[(0,k.o7)(),2,"clear"]],0,void 0,k.j8)),vL();fL=class extends mL{constructor(e,t,n,i,r,a,s){super(e,t,n,s),this.__data=void gL(this),this.__config=void 0,this.__isEmbed=void 0,this.isStatLoadSent=!1,this.__statistic=void 0,this.__statistic=e instanceof ps?e:null,this.__data=i,this.__config=r,this.__isEmbed=a.value}initChangeVideo(){return(0,A.mJ)((()=>this.__config.get("videoId")),(()=>{this.isStatLoadSent=!1}))}initAdRuleResponseEvent(){return(0,A.mJ)((()=>({data:this.__data.data})),(e=>{let{data:t}=e;var n;t&&(null===(n=this.__statistic)||void 0===n||n.counterHelper.get("mainAdvertRuleResponse")({ruleId:t.meta.advert_rule_id,section:t.advert.length>0?1:0}))}))}initLoadEvent(){return(0,A.mJ)((()=>({data:this.__data.data,loadEvents:this.__statisticStore.loadEvents})),(e=>{let{data:t,loadEvents:n}=e;const i=(null==n?void 0:n.length)>0;if(t&&i&&!this.isStatLoadSent){var r,a;if(null===(r=this.__statistic)||void 0===r||r.counterHelper.get("mainStatusLoad")(),this.__isEmbed)null===(a=this.__statistic)||void 0===a||a.counterHelper.get("mainStatusEmbedLoad")();this.isStatLoadSent=!0}}))}},({e:[gL],c:[bL,yL]}=(0,S.A)(fL,[(0,k.k_)({implement:"IStatisticEventsPlugin",ctor_args:["IStatisticState","IStatisticStore","IPlayback","IDataPlugin","IPlayerConfigPlugin","IsEmbed",{implement:"IStatisticWatchTimePlugin",optional:!0}]})],[[(0,k.o7)(),2,"initChangeVideo"],[(0,k.o7)(),2,"initAdRuleResponseEvent"],[(0,k.o7)(),2,"initLoadEvent"]],0,void 0,mL)),yL();const EL="activity-button-module__button___YCcD5",wL="activity-button-module__buttonSkip___fnCiE",SL="activity-button-module__buttonSmall___KqDt3",AL="activity-button-module__label___UwdY8",kL="activity-button-module__progressFill___R7spf",CL=(0,_t.PA)((e=>{var n;let{activity:i,isFullscreen:r,isTriggerActivity:a,durationProgress:s,isSmallPlayer:o,onButtonClick:l}=e;const{params:u}=i;return t.createElement("button",{id:null==i?void 0:i.activity_id,className:gt()(EL,{[wL]:"HIDE"!==(null===(n=u.on_click)||void 0===n?void 0:n.strategy),[SL]:o&&!r}),onClick:()=>l(null==u?void 0:u.on_click,null==i?void 0:i.annotation_type)},Boolean(a&&s>0)&&t.createElement("div",{className:gt()(kL),style:{"--progress":s.toString()}}),t.createElement("span",{className:gt()(AL)},null==u?void 0:u.text))})),PL="interactive-layer-module__overlay___Lr5OS",TL="interactive-layer-module__wrapper___UDACb",IL="interactive-layer-module__timeline___tVK3s",RL="interactive-layer-module__progressBar___cYKJv",LL="interactive-layer-module__title___lB3fa",xL="interactive-layer-module__buttons___qjSbm",OL="interactive-layer-module__autoChoiceAnimation___traWT";function NL(e){let{buttons:n,countdownValue:i,onIdle:r}=e;const a=Od(),{hideControlsWithForce:s}=a,[o,l]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),i-600),t=setTimeout((()=>{r()}),i);return()=>{l(!1),clearTimeout(t),clearTimeout(e)}}),[r,i]),(0,t.useEffect)((()=>(s(),()=>{a.forceHideControls=!1})),[a,s]),t.createElement("div",{className:PL},t.createElement("div",{className:TL},t.createElement("div",{className:LL},"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð°Ð»ÑŒÑˆÐµ"),t.createElement("div",{className:gt()(xL,{[OL]:o})},n),t.createElement("div",{className:IL},t.createElement("div",{style:{animationDuration:`${i}ms`},className:RL}))))}const DL="activities-module__buttonsContainer___RvZg7",ML="activities-module__buttonsContainerWithControls___PySSo",BL="activities-module__buttonsContainerColumnLayout___b39jd",FL=(0,_t.PA)((()=>{const{currentActivities:e,controls:n,isFullscreen:i,isActivitiesForcedHidden:r,isSmallPlayer:a,isInteractiveVideo:s,handleButtonClick:o,handleInteractiveTimeout:l,durationProgress:u,triggerActivity:c}=(0,Dt.Ks)("IActivitiesPlugin");var d,h;if(null!=e&&e.length&&!r)return s?t.createElement(NL,{buttons:(d=e=>o(e,"INTERACTIVE"),h=e,h.map((e=>{let{params:{text:n,on_click:i}}=e;return t.createElement("button",{onClick:()=>d(i)},n)}))),countdownValue:1e4,onIdle:()=>l(e[0].params.on_click)}):t.createElement("div",{className:gt()(DL,{[ML]:n.isShowControls,[BL]:a&&i})},null==e?void 0:e.map((e=>e.params&&!r?t.createElement(CL,{activity:e,isFullscreen:i,durationProgress:u,isTriggerActivity:(null==c?void 0:c.activity_id)===e.activity_id,isSmallPlayer:a,onButtonClick:o}):t.createElement(t.Fragment,null))))})),HL=(e,t)=>!(!t||!e)&&(t[0]<=e&&e<=t[1]);var VL;let UL,jL;let WL;class zL extends k.j8{static get Activities(){return FL}constructor(e,t,n,i,r,a,s,o,l,u){var c;super(),this._activities=(UL(this),A.sH.box()),this._currentActivities=A.sH.box([]),this._currentTimeStamp=A.sH.box(null),this._isSkipButtonVisible=A.sH.box(!1),this._isActivitiesForcedHidden=A.sH.box(!1),this._durationProgress=A.sH.box(0),this._triggerActivity=A.sH.box(null),this._counterHelper=void 0,this._timeStampsArr=[],this._isSkipForbidden=!1,this._eventBus=void 0,this._interactiveActivities=A.sH.box(),this._interactiveFragment=A.sH.box(null),this._interactiveStage=A.sH.box(1),this._videoId=void 0,this._userId=void 0,this._playback=e,this._controls=t,this._playerSize=n,this._fullscreen=i,this._config=r,this._advert=s,this._endscreen=o,this._platformSubscription=l,this._eventBus=null!==(c=null==u?void 0:u.value)&&void 0!==c?c:jr.Ug,this._counterHelper=a&&a instanceof ps?a.counterHelper:void 0,(0,A.Gn)(this,{activities:A.EW,currentActivities:A.EW,currentTimeStamp:A.EW,isSkipButtonVisible:A.EW,playerWidth:A.EW,isFullscreen:A.EW,isInteractiveVideo:A.EW,interactiveFragment:A.EW,isSmallPlayer:A.EW,triggerActivity:A.EW})}observeIds(){return(0,A.mJ)((()=>{var e,t;return{videoId:null===(e=this._config)||void 0===e?void 0:e.get("videoId"),userId:null===(t=this._config)||void 0===t?void 0:t.get("userId")}}),(e=>{var t;let{videoId:n,userId:i}=e;this._videoId=n,this._userId=i,n&&(i?(0,A.h5)(this.fetchActivities.bind(this)):null!==(t=this._config)&&void 0!==t&&t.get("interactiveFragments")&&(0,A.h5)(this.prepareActivities.bind(this)))}),{fireImmediately:!0})}initControlsVisible(){return(0,A.mJ)((()=>{var e,t;return{isShowControls:this.controls.isShowControls,isShowAdvertTimer:Boolean(null===(e=this._advert)||void 0===e?void 0:e.isShowAdvertTimer),isEndscreenVisible:Boolean(null===(t=this._endscreen)||void 0===t?void 0:t.visible)}}),(e=>{let{isShowControls:t,isShowAdvertTimer:n,isEndscreenVisible:i}=e;this.isInteractiveVideo||(this.isActivitiesForcedHidden=qt.B.isMobile&&t||n||i)}))}get isInteractiveVideo(){var e;return Boolean(null===(e=this.activities)||void 0===e?void 0:e.some((e=>{let{annotation_type:t}=e;return"INTERACTIVE"===t})))}get interactiveFragment(){return this._interactiveFragment.get()}set interactiveFragment(e){this._interactiveFragment.set(e)}get interactiveStage(){return this._interactiveStage.get()}set interactiveStage(e){this._interactiveStage.set(e)}resetInteractiveFragment(){this._playback.isInteractiveEnded=!1,this.interactiveFragment=1,this.interactiveStage=1,this.currentActivities=[],this.currentTimeStamp=null}initCurrentTimeReaction(){return(0,A.mJ)((()=>1e3*this._playback.currentTime),(e=>{var t,n;null!==(t=this.activities)&&void 0!==t&&t.length?this.interactiveFragment&&this.currentTimeStamp||(HL(e,this.currentTimeStamp)?this.updateAutoTriggerState(e):this.currentTimeStamp=null!==(n=this._timeStampsArr.find(((t,n)=>{var i,r;return"INTERACTIVE"===(null===(i=this.activities)||void 0===i?void 0:i[n].annotation_type)&&(null===(r=this.activities)||void 0===r?void 0:r[n].interactive_fragment)===this.interactiveFragment?e>t[0]:HL(e,t)})))&&void 0!==n?n:null):this.currentTimeStamp=null}))}initTimestampsReaction(){return(0,A.mJ)((()=>this.currentTimeStamp),(e=>{var t;if(this.isSkipButtonVisible=!1,null===(t=this.activities)||void 0===t||!t.length||null==e||!e.length)return void(this.currentActivities=[]);const n=1e3*this._playback.currentTime;let i=!1;this.currentActivities=this.activities.filter((t=>{var r,a,s;const o=t.params,l=null==o?void 0:o.show,u=null==o||null===(r=o.on_click)||void 0===r?void 0:r.strategy,c=t.annotation_type;if(this.interactiveFragment)return!(!e||t.interactive_fragment!==this.interactiveFragment||i)&&("SEEK_TO"===t.activity_type&&(i=!0),function(e,t){let{handleInteractive:n,handlePause:i,handleEnd:r,handleSeekTo:a,sendStatShow:s}=t;switch(e){case"BUTTON":return n(),s(),i();case"SEEK_TO":return a();case"INTERACTIVE_END":return i(),r()}}(t.activity_type,this.getInteractiveHandlers(null==o?void 0:o.on_click)));if(!HL(n,[null!==(a=l.start_position_ms)&&void 0!==a?a:0,null!==(s=l.end_position_ms)&&void 0!==s?s:0]))return!1;if(u&&c){var d,h;this.sendStat(u,c,"show",{nextItemId:null===(d=o.on_click)||void 0===d?void 0:d.video_id}),this.isSkipButtonVisible=!!this.isSkipButton(u,c)||this.isSkipButtonVisible;const e=null===(h=t.params)||void 0===h?void 0:h.progress;"AUTO_TRIGGER"===(null==e?void 0:e.strategy)&&null!=e&&e.duration_ms&&this.setTrigger(t)}return!0}))}))}get activities(){const e=this._activities.get(),t=this._interactiveActivities.get(),n=[];return e&&n.push(...e),t&&n.push(...t),n}set activities(e){this._activities.set(e)}get interactiveActivities(){return this._interactiveActivities.get()}set interactiveActivities(e){this._interactiveActivities.set(e)}get currentActivities(){return this._currentActivities.get()}set currentActivities(e){this._currentActivities.set(e)}get currentTimeStamp(){return this._currentTimeStamp.get()}set currentTimeStamp(e){this._currentTimeStamp.set(e)}get durationProgress(){return this._durationProgress.get()}set durationProgress(e){this._durationProgress.set(e)}get triggerActivity(){return this._triggerActivity.get()}set triggerActivity(e){this._triggerActivity.set(e)}get controls(){return this._controls}set isSkipButtonVisible(e){this._isSkipButtonVisible.set(e)}get isSkipButtonVisible(){return this._isSkipButtonVisible.get()}set isActivitiesForcedHidden(e){this._isActivitiesForcedHidden.set(e)}get isActivitiesForcedHidden(){return this._isActivitiesForcedHidden.get()}get playerWidth(){var e,t;return null!==(e=null===(t=this._playerSize.size)||void 0===t?void 0:t.width)&&void 0!==e?e:0}get isFullscreen(){return this._fullscreen.isFullscreen}get isSmallPlayer(){return this.playerWidth<=375}get hasPartnerHint(){var e,t;return null!==(e=null===(t=this.activities)||void 0===t?void 0:t.some((e=>{let{annotation_type:t}=e;return"PARTNER_HINT"===t})))&&void 0!==e&&e}async fetchActivities(){if(this._videoId&&this._userId){this._timeStampsArr=[];try{var e,t,n;const i=await((e,t,n)=>{const i=(0,R.Qv)(Ep());return i?fetch(`${i.origin}/pangolin/api/web/video/${e}/annotation?client=web&featureUseCount=${t}&author_id=${n}`,{headers:bp(),credentials:"same-origin"}).then((e=>e.json())).catch((e=>(console.warn(e),null))):Promise.reject()})(this._videoId,((e,t)=>{if(!e||!t)return 0;try{var n,i,r;const a=Fi(fi.Ok.ACTIVITIES_USAGE);return null!==(r=(null!==(i=(null!==(n=JSON.parse(a))&&void 0!==n?n:{})[e])&&void 0!==i?i:{})[t])&&void 0!==r?r:0}catch(e){return console.error(e),0}})(null===(e=this._userId)||void 0===e?void 0:e.toString(),this._videoId),null!==(t=null===(n=this._userId)||void 0===n?void 0:n.toString())&&void 0!==t?t:"");this.activities=null==i?void 0:i.activities,this._eventBus.emit(fi.L2.ACTIVITY_CONFIG,{activities:this.activities}),this.prepareActivities()}catch(e){console.warn("Player fail to fetch Activities",e),this.prepareActivities()}}else this.prepareActivities()}refetchInteractiveFragments(){return(0,A.mJ)((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("interactiveFragments")}),this.fetchInteractiveFragments.bind(this))}fetchInteractiveFragments(){const e=this.getInteractiveFragments();e.length?this.interactiveFragment=1:this.interactiveFragment=null,this.interactiveActivities=e}getInteractiveFragments(){var e;const t=null===(e=this._config)||void 0===e?void 0:e.get("interactiveFragments");return t?function(e){const t=(e,t)=>{let{posMs:n,targetMs:i,isButton:r,next:a,num:s}=t;return{annotation_id:"",annotation_type:"INTERACTIVE",activity_id:"",activity_type:r?"BUTTON":"SEEK_TO",interactive_fragment:s,params:{text:e,show:{strategy:r?"INTERACTIVE_SEEK":"INTERACTIVE_SKIP",start_position_ms:n,end_position_ms:n,target_position_ms:i,url:void 0},on_click:{strategy:r?"INTERACTIVE_SEEK":"INTERACTIVE_SKIP",start_position_ms:n,end_position_ms:n,target_position_ms:i,url:void 0,next_interactive_fragment:a},progress:void 0}}};return e.reduce((function(e,i){let{next:r,end:a,num:s,name:o}=i;if(r&&Array.isArray(r)){const i=r.length>1;r.forEach((r=>{if("number"==typeof r){const o=n(r);o&&e.push(t(o.name||"",{posMs:a,targetMs:o.start,isButton:i,next:r,num:s}))}}))}else e.push({annotation_id:"",annotation_type:"INTERACTIVE",activity_id:"",activity_type:"INTERACTIVE_END",interactive_fragment:s,params:{text:o||"",show:{strategy:"AT_TIME",start_position_ms:a}}});return e}),[]);function n(t){return e.find((e=>{let{num:n}=e;return n===t}))}}(t):[]}getInteractiveHandlers(e){return{handleInteractive:()=>(this._playback.isInteractiveActive=!0,!1),handlePause:()=>(this._controls.playback.isPlaying&&(this._playback.isInfoPrevented=!0,this._controls.playback.pause()),!0),handleEnd:()=>(this._playback.isInteractiveEnded=!0,!1),handleSeekTo:()=>(this.handleButtonClick(e,"INTERACTIVE"),!1),sendStatShow:()=>(e&&e.next_interactive_fragment&&this.interactiveFragment,!1)}}skipButtonClick(){var e;const t=null===(e=this.currentActivities)||void 0===e?void 0:e.find((e=>{var t;const n=null===(t=e.params)||void 0===t||null===(t=t.on_click)||void 0===t?void 0:t.strategy,i=e.annotation_type;return this.isSkipButton(n,i)}));var n;t&&this.handleButtonClick(null==t||null===(n=t.params)||void 0===n?void 0:n.on_click,t.annotation_type,!1)}handleInteractiveSeek(e){let{targetMs:t,frag:n}=e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];void 0!==t&&!isNaN(t)&&n&&((0,A.Rn)((()=>{this.currentActivities=[],this.interactiveFragment=n,this.interactiveStage++,this.seek(t/1e3),this.currentTimeStamp=null,this._playback.isInteractiveActive=!1})),i||(this._playback.isInfoPrevented=!0,this._playback.play()),this._controls.hideControls())}handleButtonClick(e,t,n){if(this.clearTrigger(),!e)return;const i=e.strategy,r=this.isSkipButton(i,t);var a;(i&&t&&this.sendStat(i,t,n?"auto":"click",{nextItemId:e.video_id}),r)&&((e,t)=>{if(e&&t)try{var n,i;const r=Fi(fi.Ok.ACTIVITIES_USAGE),a=null!==(n=JSON.parse(r))&&void 0!==n?n:{},s=null!==(i=a[e])&&void 0!==i?i:{},o=s[t],u=(0,l.A)((0,l.A)({},a),{},{[e]:(0,l.A)((0,l.A)({},s),{},{[t]:o+1})});Hi(fi.Ok.ACTIVITIES_USAGE,JSON.stringify(u))}catch(e){console.error(e)}})(null===(a=this._userId)||void 0===a?void 0:a.toString(),this._videoId);switch(i){case"HIDE":this.currentActivities=[];break;case"SEEK_EXACTLY":{const t=null==e?void 0:e.target_position_ms;t&&t>=0&&this.seek(t/1e3);break}case"SEEK_TO_START":this.seek(0);break;case"SEEK_TO_END":this.seek(this._playback.duration);break;case"OPEN_EXTERNAL_URL":case"OPEN_INTERNAL_URL":{const t=e.url;t&&requestAnimationFrame((()=>window.location.assign(t)));break}case"INTERACTIVE_SEEK":return this.handleInteractiveSeek(s());case"INTERACTIVE_SKIP":return this.handleInteractiveSeek(s(),!0);case"SWITCH_VIDEO":{const t=e.video_id;t&&requestAnimationFrame((()=>window.location.assign(`${window.location.origin}/video/${t}`)));break}default:return}function s(){return{targetMs:null==e?void 0:e.target_position_ms,frag:null==e?void 0:e.next_interactive_fragment}}}handleInteractiveTimeout(e){e&&e.next_interactive_fragment&&this.interactiveFragment&&this.handleInteractiveSeek({targetMs:null==e?void 0:e.target_position_ms,frag:null==e?void 0:e.next_interactive_fragment})}sendStat(e,t,n,i){const r=((e,t,n)=>{const i="HIDE"===e,r="click"===n,a="show"===n,s="auto"===n;if("SKIP_INTRO"===t){const t=!["HIDE"].includes(e);if(i&&r)return"mainActivitiesClickIntroWatchButton";if(i&&a)return"mainActivitiesShowIntroWatchButton";if(t&&r)return"mainActivitiesClickIntroSkipButton";if(t&&a)return"mainActivitiesShowIntroSkipButton"}else if("SKIP_TITLES"===t){const t=!["HIDE","SWITCH_VIDEO"].includes(e),n="SWITCH_VIDEO"===e;if(i&&r)return"mainActivitiesClickCreditsWatchButton";if(i&&a)return"mainActivitiesShowCreditsWatchButton";if(n&&r)return"mainActivitiesClickNextEpisodeButton";if(n&&a)return"mainActivitiesShowNextEpisodeButton";if(n&&s)return"mainActivitiesAutoNextEpisodeButton";if(t&&r)return"mainActivitiesClickCreditsSkipButton";if(t&&a)return"mainActivitiesShowCreditsSkipButton"}return null})(e,t,n);var a,s,o,l,u,c,d;r&&(null===(a=this._counterHelper)||void 0===a||null===(s=a.get(r))||void 0===s||s({nextItemId:null==i?void 0:i.nextItemId,userSubscriptionId:null!==(o=null==i?void 0:i.userSubscriptionId)&&void 0!==o?o:(u=null===(l=this._platformSubscription)||void 0===l?void 0:l.activeSubscriptions,null!==(c=null==u||null===(d=u.map((e=>e.subscription_id)))||void 0===d?void 0:d.join(","))&&void 0!==c?c:"")}))}clearTrigger(){this.triggerActivity=null,this.durationProgress=0}prepareActivities(){var e,t;this.fetchInteractiveFragments(),this._timeStampsArr=null!==(e=null===(t=this.activities)||void 0===t?void 0:t.map((e=>{var t,n,i,r;const a=null===(t=e.params)||void 0===t?void 0:t.show,s=null===(n=e.params)||void 0===n?void 0:n.progress,o=null!==(i=null==a?void 0:a.start_position_ms)&&void 0!==i?i:0,l=null!==(r=a.end_position_ms)&&void 0!==r?r:o,u=null==s?void 0:s.duration_ms;return[o,u>0?o+u:l]})))&&void 0!==e?e:[]}seek(e){this._isSkipForbidden?jr.Ug.emit(fi.L2.SUBSCRIPTION_REQUEST,{productCode:fi.JZ.PRY}):(this._playback.seek(e,"skip"),this.checkSkipForbidden())}setTrigger(e){this.durationProgress=0,this.triggerActivity=e}updateAutoTriggerState(e){var t,n;if(!this.triggerActivity)return;const i=null===(t=this.triggerActivity)||void 0===t?void 0:t.params,r=null==i?void 0:i.show,a=null==i?void 0:i.progress,s=null==r?void 0:r.start_position_ms,o=null==a?void 0:a.duration_ms,l=null===(n=this.triggerActivity)||void 0===n?void 0:n.annotation_type;if(!(l&&i&&s&&o))return;const u=s+o;s&&u&&(u<=e?(this.handleButtonClick(i.on_click,l,!0),this.clearTrigger(),this.currentActivities=this.currentActivities.filter((e=>e.annotation_type!==l))):s<=e&&e<u?this.durationProgress=(e-s)/(u-s):this.clearTrigger())}checkSkipForbidden(){this._isSkipForbidden=!1}isSkipButton(e,t){return!(!e||!t)&&(["SKIP_TITLES","SKIP_INTRO"].includes(t)&&"HIDE"!==e)}}var $L;let GL,qL;VL=zL,({e:[UL],c:[WL,jL]}=(0,S.A)(VL,[(0,k.k_)({implement:"IActivitiesPlugin",ctor_args:["IPlayback","IControlsPlugin","IPlayerSizePlugin","IFullscreenPlugin",{implement:"IPlayerConfigPlugin",optional:!0},{implement:"IStatisticState",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"IEndScreenPlugin",optional:!0},{implement:"IPlatformSubscriptionPlugin",optional:!0},{implement:"EventBus",optional:!0}]})],[[(0,k.o7)(),2,"observeIds"],[(0,k.o7)(),2,"initControlsVisible"],[k.zm,2,"resetInteractiveFragment"],[(0,k.o7)(),2,"initCurrentTimeReaction"],[(0,k.o7)(),2,"initTimestampsReaction"],[(0,k.o7)(),2,"refetchInteractiveFragments"],[k.zm,2,"getInteractiveHandlers"],[k.zm,2,"skipButtonClick"],[k.zm,2,"handleInteractiveSeek"],[k.zm,2,"handleButtonClick"],[k.zm,2,"handleInteractiveTimeout"],[k.zm,2,"sendStat"],[k.zm,2,"clearTrigger"]],0,void 0,k.j8)),jL();let KL;class YL extends k.j8{constructor(e,t,n,i,r,a,s,o,l,u,c){super(),this._isShowOnboarding=(GL(this),A.sH.box(!1)),this._activeOnboarding=A.sH.box(null),this._showOnboardingTimeout=A.sH.box(null),this._seasonsProgressDisposer=null,this._isEmbed=void 0,this._isTouchDevice=A.sH.box(!1),this.props=e,this._seasonsView=t,this._seasons=n,this._chapters=i,this._controls=r,this._playback=a,this._pipView=s,this._notifications=o,this._config=l,this._advert=u,this._longPress=c,this._isEmbed=this.props.value,this.isTouchDevice=qt.B.isMobile,(0,A.Gn)(this,{activeOnboarding:A.EW,isShowOnboarding:A.EW})}initVideoId(){return(0,A.mJ)((()=>this._config.get("videoId")),(()=>{this.activeOnboarding=null,this.isShowOnboarding=!1,this.clearHideOnboardingTimer(),this.clearSeasonsProgressOnboarding()}))}initActiveOnboarding(){return(0,A.mJ)((()=>({isChaptersAllowed:this._chapters.allowOnboarding,isSeasonsAllowed:this._seasonsView.allowOnboarding,isSeasonsLoading:this._seasons.loading,isPiPAllowed:this._pipView.allowOnboarding,allowOnboarding:this.allowOnboarding})),(e=>{let{isChaptersAllowed:t,isSeasonsAllowed:n,isSeasonsLoading:i,isPiPAllowed:r,allowOnboarding:a}=e;!i&&a&&null===this.activeOnboarding&&(n?this.activeOnboarding="seasons":t?this.activeOnboarding="chapters":r&&(this.activeOnboarding="pip"))}))}initOnboarding(){return(0,A.mJ)((()=>({activeOnboarding:this.activeOnboarding})),(e=>{let{activeOnboarding:t}=e;if(!t)return;"seasons"===t&&this.startSeasonsProgressOnboarding();const n=`${this.activeOnboarding}-onboarding`;this.showOnboarding(n)}))}disposeSeasonsProgressOnboarding(){return()=>{this.clearSeasonsProgressOnboarding()}}initLongPress(){return(0,A.mJ)((()=>this._longPress.isLongPress),(e=>{e&&(this._controls.preventHideControls=!1,this.isShowOnboarding=!1,this.clearHideOnboardingTimer())}))}startSeasonsProgressOnboarding(){this._seasonsProgressDisposer=(0,A.mJ)((()=>({activeOnboarding:this.activeOnboarding,showOnboardingBeforeEndscreen:this._seasonsView.showOnboardingBeforeEndscreen})),(e=>{let{activeOnboarding:t,showOnboardingBeforeEndscreen:n}=e;if(!t||!n)return;const i=`${this.activeOnboarding}-onboarding-end-screen`;this.showOnboarding(i),this.clearSeasonsProgressOnboarding()}))}clearSeasonsProgressOnboarding(){this._seasonsProgressDisposer&&(this._seasonsProgressDisposer(),this._seasonsProgressDisposer=null)}showOnboarding(e){const t=Fi(e);null!=t||(this.isShowOnboarding=!0,Hi(e,"1"),this._controls.preventHideControls=!0,this.setHideOnboardingTimer())}set activeOnboarding(e){this._activeOnboarding.set(e)}get activeOnboarding(){return this._activeOnboarding.get()}set isShowOnboarding(e){this._isShowOnboarding.set(e)}get isShowOnboarding(){return this._isShowOnboarding.get()}get isShowAdvert(){var e;return"show"===(null===(e=this._advert)||void 0===e?void 0:e.currentState)}set isTouchDevice(e){this._isTouchDevice.set(e)}get isTouchDevice(){return this._isTouchDevice.get()}get allowOnboarding(){const e=!this._isEmbed&&this._controls.isShowControls&&this._playback.isPlaying&&!this.isShowAdvert;return this.isTouchDevice?e&&"Enabled"!==this._notifications.autoPlayWithMute:e}setHideOnboardingTimer(){this.clearHideOnboardingTimer();const e=setTimeout((()=>{this._controls.preventHideControls=!1,this._controls.setHideControlsTimer(),this.isShowOnboarding=!1}),6500);this._showOnboardingTimeout.set(e)}clearHideOnboardingTimer(){const e=this._showOnboardingTimeout.get();e&&(clearTimeout(e),this._showOnboardingTimeout.set(null))}}var QL,XL,ZL;let JL,ex,tx;var nx;let ix,rx;$L=YL,({e:[GL],c:[KL,qL]}=(0,S.A)($L,[(0,k.k_)({implement:"IOnboardingPlugin",ctor_args:["IsEmbed","ISeasonsViewPlugin","ISeasonsPlugin","IChaptersPlugin","IControlsPlugin","IPlayback","IPictureInPictureViewPlugin","IDisclaimersPlugin","IPlayerConfigPlugin",{implement:"IAdvertPlugin",optional:!0},"ILongPressSeekPlugin"]})],[[(0,k.o7)(),2,"initVideoId"],[(0,k.o7)(),2,"initActiveOnboarding"],[(0,k.o7)(),2,"initOnboarding"],[(0,k.o7)(),2,"disposeSeasonsProgressOnboarding"],[(0,k.o7)(),2,"initLongPress"],[[A.XI,A.XI.bound],18,"showOnboarding"],[[A.XI,A.XI.bound],18,"setHideOnboardingTimer"],[[A.XI,A.XI.bound],18,"clearHideOnboardingTimer"]],0,void 0,k.j8)),qL(),new(ZL=class extends(QL=fc){constructor(e,t,n,i){super(n,t instanceof ps?t.counterHelper:void 0),this._domNodeTracker=e,this._pip=i}initDisposerHandler(){return(0,A.mJ)((()=>this._domNodeTracker.isConnected),(e=>{e?(this.isInPiP&&(this.isHalfVisible=!0,this.isFullVisible=!0),this.initObserver(this._domNodeTracker.node)):this.disconnectObserver()}))}sendMetric(e){var t;e in tx.EVENTS&&(null===(t=this._counterHelper)||void 0===t||t.get(tx.EVENTS[e])())}get isInPiP(){var e;return null===(e=this._pip)||void 0===e?void 0:e.isInPiP}},[tx,JL]=(0,S.A)(ZL,[(0,k.k_)({implement:"IVideoStatisticMRCPlugin",ctor_args:["IDomNodeTrackerPlugin","IStatisticState","IVisibilityStatePlugin",{implement:"PictureInPicturePlugin",optional:!0}]})],[],0,void 0,QL).c,ex=ZL,(XL=class extends V{constructor(){super(tx),this.EVENTS={[cc]:"mainMrcHalfVisibleOneSec",[dc]:"mainMrcHalfVisibleTwoSec",[hc]:"mainMrcFullVisibleOneSec",[pc]:"mainMrcFullVisibleTwoSec"},JL()}})[ex]=void 0,XL);let ax;nx=class extends Qp{constructor(e,t,n){ix((super(e,t,n,void 0,void 0,void 0,void 0,void 0,void 0),this._config=e,this)),this.player.muted=!0}loadDataCallback(){const e=()=>{const e=this._config.get("onLoadedData");e&&e()};return this.player.addEventListener("loadeddata",e),()=>{this.player.removeEventListener("loadeddata",e)}}initProv(){return(0,A.mJ)((()=>{var e;return{mount:this.mount,link:null===(e=this.data)||void 0===e?void 0:e.link,player:this.player}}),(e=>{let{mount:t,link:n}=e;t&&n&&this.initProvider(n)}))}initProvider(e){this.provider.isProviderInit&&this.provider.destroy(),e&&this.player&&!this.provider.isProviderInit&&(this.provider.initProvider(e,this,{}),this.wasStarted||setTimeout((()=>{this.playWithHandlePermissions()}),100))}get children(){return this._config.get("children")}},({e:[ix],c:[ax,rx]}=(0,S.A)(nx,[(0,k.k_)({implement:"IPlayback",ctor_args:["IPlayerConfigPlugin",{implement:"IDataPlugin",optional:!0},"IProviderPlugin"]})],[[(0,k.o7)(),2,"loadDataCallback"],[(0,k.o7)(),2,"initProv"]],0,void 0,Qp)),rx();(0,_t.PA)((e=>{var n;let{stubComponent:i,playbackComponent:r}=e;return t.createElement(i,null,(null===(n=function(){const e=(0,Dt.p5)().resolve("IPlayback");if(!(e instanceof ax))throw new Error("PlayerPreviewPlaybackPlugin not found in current player configuration");return e}())||void 0===n?void 0:n.waiting)&&t.createElement(pr,null),t.createElement(r,null))}));const sx="stats-for-nerds-module__root___lh_AP",ox="stats-for-nerds-module__closeButton___WXchp",lx="stats-for-nerds-module__name___WtPU5",ux="stats-for-nerds-module__value___BZUvr",cx="stats-for-nerds-module__copyButton___P26xz",dx=(0,_t.PA)((()=>{const[e,n]=(0,mt.cV)(!1,2e3),{hide:i,copyStatsInBuffer:r,visible:a}=zE(),s=$E();return a?t.createElement("div",{className:sx},t.createElement("div",{className:ox,onClick:()=>{i()}},"[x]"),s.map((e=>{let{label:n,value:i}=e;return t.createElement("div",{key:n},t.createElement("div",{className:lx},n,":"),t.createElement("span",{className:ux},i))})),t.createElement("div",{className:cx,onClick:()=>{r().then((()=>n(!0))).catch((e=>console.info(e)))}},"[",e?"Copied":"Copy","]")):null})),hx=t.memo((()=>t.createElement(dx,null)));var px,vx;let mx,_x,fx,gx;new(vx=class extends k.j8{constructor(e,t,n,i,r,a,s){super(),this.__dataPlugin=void mx(this),this.__videoLayout=void 0,this.__playback=void 0,this.__provider=void 0,this.__extraActions=void 0,this.visible=!1,this._playerVersion=a,this._activites=s,this.__dataPlugin=e,this.__videoLayout=t,this.__playback=n,this.__provider=i,this.__extraActions=r,(0,A.Gn)(this,{visible:A.sH,interactiveFragment:A.EW}),this.copyStatsInBuffer=this.copyStatsInBuffer.bind(this),this.hide=this.hide.bind(this)}hide(){this.visible=!1}init(){var e,t;const n=()=>this.visible=!this.visible,i=()=>{this.copyStatsInBuffer()};return null===(e=this.__extraActions)||void 0===e||e.on(Ft.copyTechInfo,i),null===(t=this.__extraActions)||void 0===t||t.on(Ft.toggleTechInfo,n),()=>{var e,t;null===(e=this.__extraActions)||void 0===e||e.off(Ft.copyTechInfo,i),null===(t=this.__extraActions)||void 0===t||t.off(Ft.toggleTechInfo,n)}}copyStatsInBuffer(){const e=WE(this,{versionName:this._playerVersion.value});return Cn(JSON.stringify(e))}get videoId(){return this.__dataPlugin.video_id||""}get playerMode(){return this.__videoLayout.playerMode}get playerWrapperElement(){return this.__videoLayout.wrapperRef}get bufferedData(){return this.__playback.getBuffered()}get duration(){return this.__playback.duration}get currentTime(){return this.__playback.currentTime}get progress(){return this.__playback.progress}get bandwidthEstimate(){var e;const t=null===(e=this.providerInstance)||void 0===e?void 0:e.bandwidthEstimate;return"function"==typeof t?t():t}get providerInstance(){var e;return null===(e=this.__provider.provider)||void 0===e?void 0:e.instance}get currentLevel(){var e,t;const n=null===(e=this.providerInstance)||void 0===e?void 0:e.levels,i=null===(t=this.providerInstance)||void 0===t?void 0:t.currentLevel;if("number"!=typeof i||!n)return{};const r="function"==typeof n?n()[i]:n[i];return!r||null!=r&&r.url||(r.url=""),r}get isLive(){return this.__dataPlugin.isLive}get isDVR(){return this.__dataPlugin.isDVR}get isAutoQuality(){return this.__provider.autoQuality}get activeQuality(){return this.__provider.activeQualityValue}get volume(){return this.__playback.volume}get muted(){return this.__playback.muted}get versionName(){return this._playerVersion.value}get interactiveFragment(){var e;return`${(null===(e=this._activites)||void 0===e?void 0:e.interactiveFragment)||null} ${this.__playback.isInteractiveEnded?"end":""}`}},({e:[mx],c:[gx,_x]}=(0,S.A)(vx,[(0,k.k_)({implement:"IStatsForNerdsPlugin",ctor_args:["IDataPlugin","IVideoLayoutPlugin","IPlayback","IProviderPlugin",{implement:"IExtraActionsPlugin",optional:!0},"PlayerVersion",{implement:"IActivitiesPlugin",optional:!0}]})],[[(0,k.o7)(),2,"init"]],0,void 0,k.j8)),fx=vx,(px=class extends V{constructor(){super(gx),this.StatsForNerds=hx,_x()}})[fx]=void 0,px);const yx="loader-template-module__wrapper___Rm6Ns",bx="loader-template-module__wrapperLoaded___ALoXk",Ex="loader-template-module__wrapperNoControls___Ve8pL",wx="loader-template-module__posterWrapper___v1GIp",Sx=(0,_t.PA)((0,t.forwardRef)(((e,n)=>{let{children:i,mount:r}=e;const a=(0,Bu.useControls)(),{isPlayerReady:s,waiting:o,isPlaying:l,playWithHandlePermissions:u}=a.playback,c=$h(),{showPoster:d,isTouchDevice:h,data:p,isFullScreen:v}=c,m=nh(),{handlers:_}=gv({});if(d)return t.createElement("div",{className:gt()([yx,wx]),style:{backgroundImage:`url(${p.poster})`}},t.createElement("div",{style:{width:"48px",height:"48px"},onClick:()=>u()},t.createElement(Hn,null)));if(!s)return t.createElement("div",{className:yx,style:{display:"flex",alignItems:"center",justifyContent:"center"}},t.createElement(pr,null));return t.createElement("div",{className:gt()(yx,bx,{[Ex]:!a.isShowControls}),style:{display:r?"flex":"none",justifyContent:"center"},ref:e=>{e&&(c.wrapperRef=e,m.wrapperRef=e)},tabIndex:0,"aria-label":"'Ð’Ð¸Ð´ÐµÐ¾Ð¿Ð»ÐµÐµÑ€ "+(v?" Ð² Ð¿Ð¾Ð»Ð½Ð¾ÑÐºÑ€Ð°Ð½Ð½Ð¾Ð¼ Ñ€ÐµÐ¶Ð¸Ð¼Ðµ":""),onMouseMove:()=>{h||(a.showControls(),l&&""===a.activePanel&&a.setHideControlsTimer())},onMouseLeave:()=>{l&&a.hideControls()},onMouseDown:_.onMouseDown,onTouchStart:_.onTouchStart,onTouchEnd:_.onTouchEnd,onTouchCancel:_.onTouchEnd},o&&t.createElement(pr,null),i)}))),Ax=((0,_t.PA)((e=>{let{controlsComponent:n,controlsInputComponents:i,playbackComponent:r,endScreenComponent:a,settingsComponent:s,captionsComponent:o,pauseScreenComponent:u,seasonsFullScreenComponent:c,stubComponent:d,infoLayerComponent:h,captionsButtonComponent:p,statsForNerdsComponent:v,notificationsComponent:m,counterHelper:_,children:f}=e;const[g,y]=(0,t.useState)(!1),{isTouchDevice:b,isControlsForcedHidden:E}=$h(),{isPlayOptionsLoaded:w}=Ah(),S=(0,t.useCallback)((()=>{null==_||_.get("mainStatusUnload")()}),[_]);return(0,t.useEffect)((()=>(w&&(null==_||_.get("mainStatusLoad")()),window.addEventListener("beforeunload",S),()=>{window.removeEventListener("beforeunload",S)})),[_,S,w]),(0,t.useEffect)((()=>{y(!0)}),[]),t.createElement(d,null,t.createElement(Sx,{_allowVerticalTouchScroll:!1,mount:g},t.createElement(mp,null,t.createElement(Zd,{settingsButton:s})),t.createElement(bv,null,t.createElement(r,null)),o&&t.createElement(o,null),u&&!b&&t.createElement(u,null),n&&!E&&t.createElement(n,{components:(0,l.A)((0,l.A)({},i),{},{settingsComponent:s,captionsButtonComponent:p})}),c&&t.createElement(c,null),a&&t.createElement(a,null),t.createElement(m,null),t.createElement(h,null),t.createElement(v,null),f))})),["startScreenComponent","highlightRutube"]),kx=e=>{let{startScreenComponent:n,highlightRutube:i}=e,r=(0,Cr.A)(e,Ax);return t.createElement(Fg,null,t.createElement(e_,r,t.createElement(n,null),t.createElement(i,null)))},Cx=Le.builder().use(Ue).group("embedChannelSubscription").group("click").event("subscribe").message((()=>({methodName:Ve.jI.EMBED_SUBSCRIBE_CLICK}))).commit().event("author").message((()=>({methodName:Ve.jI.EMBED_AUTHOR_CLICK}))).commit().endGroup().event("subscribe").params().message((e=>{let{params:{channelId:t,subscribe:n}}=e;return{methodName:Ve.t_.EMBED_SUBSCRIBE,resolvers:[{names:["{{channel_id}}"],value:t},{names:["{{subscribe}}"],value:n}]}})).commit().endGroup().build(),Px=Le.builder().use(Ue).group("watchOnRutube").event("clickOld").params().message((e=>{let{params:{clickedUrl:t}}=e;return{methodName:Ve.jI.WATCH_ON_RUTUBE_CLICK,resolvers:[{names:["{{clicked_url}}"],value:t}]}})).commit().event("showOld").message((()=>({methodName:Ve.jI.WATCH_ON_RUTUBE_VIEW}))).commit().event("show").message((()=>({methodName:Ve.t_.WATCH_ON_RUTUBE,action:"show"}))).commit().event("click").params().message((e=>{let{params:{clickedUrl:t}}=e;return{methodName:Ve.t_.WATCH_ON_RUTUBE,resolvers:[{names:["{{clicked_url}}"],value:t}],action:"click"}})).commit().endGroup().build();var Tx;let Ix,Rx;Tx=class extends ps{constructor(e,t,n,i){super(e,t,n,i),this._counterHelper=void 0,this._counterHelper=this.buildCounter()}getCounter(){return super.getCounter().extends(Px).extends(Cx)}buildCounter(){return this.getCounter().build()}get counterHelper(){return this._counterHelper}},[Rx,Ix]=(0,S.A)(Tx,[(0,k.k_)({implement:"IStatisticState",ctor_args:["StatisticNamespace","IStatisticStore","Resolve","IPlaceholdersState"]})],[],0,void 0,ps).c,Ix();var Lx;let xx,Ox,Nx;var Dx;let Mx,Bx;Lx=class extends DA{constructor(e,t,n,i,r,a,s,o,l,u,c,d){super(e,t,n,i,r,a,s,o,l,u,c),this._embedCounterHelper=void xx(this),this.trackingLinks=d,this._embedCounterHelper=u&&u instanceof Rx?u.counterHelper:void 0}get isShowSubscribe(){var e,t;const n=null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.show_subscription,i=null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.appearance)||void 0===t?void 0:t.show_author;return Boolean(i&&n&&this._isEmbed&&!this._controls.isControlsForcedHidden)}get isSubscriptionHidden(){var e;return this._isEmbed&&qt.B.isMobile&&this.isShowControls||Boolean(null===(e=this._advert)||void 0===e?void 0:e.isShowAdvertTimer)||this._playback.ended}subscribeClick(){var e;null===(e=this._embedCounterHelper)||void 0===e||e.get("mainEmbedChannelSubscriptionClickSubscribe"),window.open(this.trackingLinks.generateTrackingLink({campaign:"subscribe",type:"channel"}))}},({e:[xx],c:[Nx,Ox]}=(0,S.A)(Lx,[(0,k.k_)({implement:"IChannelSubscriptionPlugin",ctor_args:["IDataPlugin","IControlsPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IPauseScreenPlugin",optional:!0},"IFullscreenPlugin","IPlayerConfigPlugin","IPlayerSizePlugin","IPlayback",{implement:"IActivitiesPlugin",optional:!0},"IStatisticState","IsEmbed","ITrackingLinksPlugin"]})],[[k.zm,2,"subscribeClick"]],0,void 0,DA)),Ox();var Fx;let Hx,Vx;Dx=class extends fg{static get InputControls(){return{progressBarComponent:C_,mobileButtonsBlockComponent:lf,buttonsBlockComponent:rg,logoButtonComponent:pg,liveBadgeComponent:Ud,tvTimeBlockComponent:Kd}}constructor(e,t,n,i,r,a,s,o,l,u,c,d,h){super(e,t,n,i,r,void 0,a,s,o,l,c,d),this.playback=e,this.data=t,this._isEmbedResolvable=s,this._startScreen=u,this.previewPlugin=c,this._embed=h}getIsShowSettings(){return super.getIsShowSettings()&&!this._startScreen.isShowStartScreen}get isControlsForcedHidden(){var e;return Boolean(super.isControlsForcedHidden||(null===(e=this._embed)||void 0===e?void 0:e.isNakedMode))}},[Bx,Mx]=(0,S.A)(Dx,[(0,k.k_)({implement:"IControlsPlugin",ctor_args:["IPlayback","IDataPlugin","IFullscreenPlugin","IPlayerSizePlugin","IAppearancePlugin","IStatisticState","IsEmbed",{implement:"IAdvertPlugin",optional:!0},"IQualitiesPlugin","IStartScreenPlugin",{implement:"IPreviewPlugin",optional:!0},{implement:"IPosterPlugin",optional:!0},{implement:"IEmbedPlugin",optional:!0}]})],[],0,void 0,fg).c,Mx();Fx=class extends r_{constructor(e,t,n,i,r,a,s,o,l,u,c,d,h,p,v,m){super(e,t,void 0,n,i,r,a,s,u,c,d,h,void 0,p,v,void 0,void 0,m),this._startScreen=o,this._highlightRutube=l}get isShowDisclaimers(){return super.isShowDisclaimers&&!this._startScreen.isShowStartScreen}get isShowStartScreen(){return this._startScreen.isShowStartScreen}get hideAvatarOnFullScreenForSubscribers(){return!1}get showAvatar(){return super.showAvatar||this.isShowStartScreen}},[Vx,Hx]=(0,S.A)(Fx,[(0,k.k_)({implement:"IVideoLayoutPlugin",ctor_args:["IDataPlugin","IPlayback","IPlayerSizePlugin","IAppearancePlugin","IFullscreenPlugin",{implement:"IChannelSubscriptionPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0},"IStartScreenPlugin","IHighlightRutubePlugin",{implement:"IPreviewPlugin",optional:!0},"IStatisticState","IsEmbed","ISaveModePlugin",{implement:"IControlsPlugin",optional:!0},{implement:"ITrackingLinksPlugin",optional:!0},{implement:"IActivitiesPlugin",optional:!0}]})],[],0,void 0,r_).c,Hx();const Ux="highlight-rutube-module__button___N448K",jx="highlight-rutube-module__isTouch___niKtS",Wx="highlight-rutube-module__controls___ZnKGu",zx="highlight-rutube-module__hidden___dtdlD",$x="highlight-rutube-module__slideVertical___LSyU2",Gx="highlight-rutube-module__slideHorizontal___ZX5k1",qx=e=>{let{className:n}=e;return t.createElement("svg",{className:n,width:"92",height:"16",viewBox:"0 0 92 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 8.77552V13.9309H1.35119H2.70238V12.1195V10.3081L6.05813 10.3159L9.78766 10.3236L9.93544 10.4115C10.1133 10.5173 10.2075 10.6779 10.2523 10.9516C10.2704 11.0615 10.2835 11.729 10.2837 12.5362L10.2839 13.9309H11.6351H12.9863L12.9859 12.1273C12.9855 10.1946 12.9858 10.1979 12.8276 9.8656C12.727 9.65419 12.4522 9.3751 12.236 9.26483C12.1393 9.21547 11.9457 9.15162 11.8059 9.12291L11.5516 9.07071L11.7087 9.01933C12.0927 8.89376 12.5209 8.50782 12.7501 8.08075C13.0849 7.4567 13.1634 6.44662 12.9408 5.62471C12.6649 4.60595 11.9543 3.97685 10.7943 3.7244C10.3793 3.63408 9.58103 3.62067 4.59827 3.62041L0 3.62012V8.77552ZM14.6953 7.33697C14.7081 11.4319 14.6988 11.2278 14.8995 11.8043C15.27 12.868 16.0826 13.5497 17.2827 13.8033C17.8582 13.9249 17.6105 13.9291 20.75 13.9291C23.5152 13.9291 23.6409 13.925 24.2172 13.8034C24.865 13.6668 25.45 13.3679 25.863 12.9626C26.3736 12.4616 26.584 12.0369 26.7439 11.1853C26.7836 10.9735 26.7924 10.3996 26.8038 7.27856L26.8171 3.62012H25.4488H24.0806V6.91885C24.0806 10.5434 24.0847 10.4553 23.8968 10.8259C23.7576 11.1005 23.4873 11.305 23.0816 11.4425C22.9581 11.4844 22.6557 11.4909 20.8516 11.4992C18.1405 11.5095 18.5041 11.5089 18.1329 11.333C17.9176 11.231 17.6994 11.0244 17.5888 10.8178C17.4181 10.4985 17.4205 10.5537 17.4199 6.94265L17.4194 3.62012H16.0515H14.6836L14.6953 7.33697ZM28.1891 4.81769V6.01526H30.937H33.6849V9.97309V13.9309H35.112H36.5391V9.97309V6.01526H39.2719H42.0046V4.81769V3.62012H35.0969H28.1891V4.81769ZM43.39 7.27856C43.4013 10.3897 43.4102 10.9741 43.4496 11.1853C43.6036 12.0108 43.8211 12.4588 44.297 12.9309C44.5591 13.1909 44.8071 13.3613 45.1565 13.5217C45.6173 13.7332 45.8731 13.8028 46.503 13.8878C46.97 13.9509 51.9029 13.9515 52.3967 13.8886C53.3072 13.7725 53.9683 13.5057 54.4949 13.0417C54.8557 12.7237 55.1123 12.3266 55.2942 11.8043C55.495 11.2278 55.4856 11.4319 55.4985 7.33697L55.5101 3.62012H54.1429H52.7758L52.7665 7.03028C52.7578 10.2224 52.7537 10.4503 52.7026 10.5943C52.5785 10.9441 52.3383 11.2126 52.0252 11.3515C51.6731 11.5077 51.6349 11.5095 49.3414 11.5004L47.2518 11.492L47.0508 11.4166C46.5504 11.2291 46.3299 11.0034 46.183 10.5281C46.1326 10.3651 46.1283 10.1177 46.1204 6.98647L46.1119 3.62012H44.7443H43.3766L43.39 7.27856ZM57.6724 8.77418V13.9309H62.9851C67.696 13.9309 68.3348 13.9256 68.6245 13.8842C69.619 13.7421 70.2667 13.3889 70.7247 12.7388C71.1643 12.1149 71.3253 11.0501 71.1031 10.236C70.9842 9.80044 70.6819 9.34782 70.3544 9.11508C70.1794 8.99068 69.8982 8.84767 69.7188 8.79176L69.6047 8.75619L69.8835 8.62565C70.484 8.34445 70.8898 7.77464 71.0352 7.00837C71.089 6.72478 71.0804 6.04912 71.019 5.73851C70.8439 4.85248 70.2457 4.15397 69.4231 3.87491C69.1271 3.77446 69.007 3.74356 68.6944 3.68739C68.4665 3.64647 67.8066 3.63966 63.0543 3.62923L57.6724 3.61743V8.77418ZM72.9548 8.77552V13.9309H79.1325H86.0522L86.0541 12.7334L86.056 11.5358H80.4704H75.6268V10.7471V9.95849H80.4698H85.2616V8.77552V7.59255H80.4698H75.6268V6.80391V6.01526H80.4698H86.0547V4.81769V3.62012H79.1338H72.9548V8.77552ZM67.7013 5.95749C68.0471 6.0056 68.2114 6.11548 68.3331 6.38026C68.4321 6.59556 68.4435 6.86855 68.3641 7.1203C68.2927 7.34629 68.1934 7.4645 67.9849 7.57179L67.8594 7.63637L64.1019 7.64423L60.3444 7.65208V6.78986V5.92764L63.9197 5.92822C66.0968 5.92857 67.5757 5.94002 67.7013 5.95749ZM9.86466 6.1255C10.209 6.28857 10.3369 6.56311 10.3066 7.07403C10.2818 7.49418 10.0863 7.77777 9.74418 7.89028C9.65564 7.91937 8.83794 7.92928 5.97982 7.93585L2.70238 7.9442V6.97928V6.01436L5.99564 6.0221L9.66274 6.02987L9.86466 6.1255ZM68.0871 9.96906C68.2372 10.0459 68.3882 10.19 68.4383 10.3043C68.5201 10.491 68.5498 10.7521 68.512 10.9525C68.4513 11.2746 68.3216 11.4458 68.0568 11.5533C67.9254 11.6067 67.7753 11.6091 64.1322 11.6167L60.3444 11.6245V10.7617V9.89876L64.1626 9.90673C67.8194 9.91433 67.9854 9.91698 68.0871 9.96906Z",fill:"#F6F6F6"}),t.createElement("ellipse",{cx:"89.3677",cy:"1.80872",rx:"1.86901",ry:"1.80872",fill:"#FF2D2D"}))},Kx="watch-on-rutube-link-module__button___rR_M3",Yx="watch-on-rutube-link-module__label___k7Mhp",Qx="watch-on-rutube-link-module__logo___btg6U",Xx=["onShow","className"],Zx=(0,_t.PA)((e=>{let{onShow:n,className:i}=e,r=(0,Cr.A)(e,Xx);return(0,t.useEffect)((()=>{n()}),[]),t.createElement("a",(0,On.A)({tabIndex:0,title:"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð° RUTUBE","aria-label":"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð° RUTUBE",className:gt()(Kx,i),target:"_blank",rel:"noreferrer noopener"},r),t.createElement("span",{className:Yx},"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð°"),t.createElement(qx,{className:Qx}))})),Jx=(0,_t.PA)((()=>{const[e,n]=(0,t.useState)(!0),{isShowControls:i,url:r,pause:a,isShowWORButton:s,counterHelper:o}=(0,Dt.Ks)("IHighlightRutubePlugin"),l=(0,t.useCallback)((()=>{n(!1)}),[]),u=(0,t.useCallback)((()=>{null==o||o.get("mainWatchOnRutubeShow")(),null==o||o.get("mainWatchOnRutubeShowOld")()}),[]);return e&&s?t.createElement(Zx,(0,On.A)({onShow:u,onClick:()=>{null==o||o.get("mainWatchOnRutubeClick")({clickedUrl:r}),null==o||o.get("mainWatchOnRutubeClickOld")({clickedUrl:r}),a()}},th.ED,{onAnimationEnd:l,href:r,className:gt()(Ux,{[zx]:i&&qt.B.isMobile,[jx]:qt.B.isMobile,[Wx]:i,[$x]:e&&!qt.B.isMobile,[Gx]:e&&qt.B.isMobile})})):null}));var eO,tO;let nO,iO,rO;new(tO=class extends k.j8{constructor(e,t,n,i,r,a){super(),this.__counterHelper=void 0,this._watchData=e,this._data=t,this._controls=n,this._playback=i,this.trackingLinks=a,this.__counterHelper=r instanceof Rx?r.counterHelper:void 0,this.pause=this.pause.bind(this)}get url(){return this.trackingLinks.generateTrackingLink({campaign:"main_logo"})}pause(){return this._playback.pause()}get isShowControls(){return this._controls.isShowControls}get isShowWORButton(){var e;return!(null===(e=this._data.appearance)||void 0===e||!e.show_logo_with_controls)&&this._watchData.watchTime>=fi.wA&&!this._controls.isControlsForcedHidden}get counterHelper(){return this.__counterHelper}},[rO,nO]=(0,S.A)(tO,[(0,k.k_)({implement:"IHighlightRutubePlugin",ctor_args:["IStatisticWatchTimePlugin","IDataPlugin","IControlsPlugin","IPlayback","IStatisticState","ITrackingLinksPlugin"]})],[],0,void 0,k.j8).c,iO=tO,(eO=class extends V{constructor(){super(rO),this.HighlightRutube=Jx,nO()}})[iO]=void 0,eO);s(1557);function aO(e,t){void 0===t&&(t="Illegal state"),e||function(e){throw new Error("[mobx-utils] "+e)}(t)}var sO=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(sO(Object.getPrototypeOf(e))||[])},oO=function(e){return function(e){var t=sO(e);return t.filter((function(e,n){return t.indexOf(e)===n}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))},lO="pending",uO="fulfilled",cO="rejected";function dO(e){switch(this.state){case lO:return e.pending&&e.pending(this.value);case cO:return e.rejected&&e.rejected(this.value);case uO:return e.fulfilled?e.fulfilled(this.value):this.value}}function hO(e,t){if(aO(arguments.length<=2,"fromPromise expects up to two arguments"),aO("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var n=e;e.then((0,A.XI)("observableFromPromise-resolve",(function(e){n.value=e,n.state=uO})),(0,A.XI)("observableFromPromise-reject",(function(e){n.value=e,n.state=cO}))),n.isPromiseBasedObservable=!0,n.case=dO;var i=!t||t.state!==uO&&t.state!==lO?void 0:t.value;return(0,A.kt)(n,{value:i,state:lO},{},{deep:!1}),n}!function(e){e.reject=(0,A.XI)("fromPromise.reject",(function(t){var n=e(Promise.reject(t));return n.state=cO,n.value=t,n})),e.resolve=(0,A.XI)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var n=e(Promise.resolve(t));return n.state=uO,n.value=t,n}))}(hO||(hO={}));var pO=function(e,t,n,i){var r,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,n,s):r(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};!function(){function e(e,t){var n=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),(0,A.Gn)(this),(0,A.h5)((function(){n.current=t,n.subscription=e.subscribe(n)}))}Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(e.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e}}),Object.defineProperty(e.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(e.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e,this.dispose()}}),pO([A.sH.ref],e.prototype,"current",void 0),pO([A.XI.bound],e.prototype,"next",null),pO([A.XI.bound],e.prototype,"complete",null),pO([A.XI.bound],e.prototype,"error",null)}();var vO=function(){return vO=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},vO.apply(this,arguments)},mO=function(e,t,n,i){var r,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(a<3?r(s):a>3?r(t,n,s):r(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s},_O=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];!function(){function e(e){var t=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:A.sH.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:A.sH.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return t.localValues.has(e)}}),(0,A.Gn)(this),aO((0,A.OB)(e),"createViewModel expects an observable object");var n=oO(this);oO(e).forEach((function(i){var r;if(!n.includes(i)&&i!==A.BQ&&"__mobxDidRunLazyInitializers"!==i){if(aO(-1===_O.indexOf(i),"The propertyname "+i+" is reserved and cannot be used with viewModels"),(0,A.H8)(e,i)){var a=(0,A.Mr)(e,i),s=a.derivation.bind(t),o=null===(r=a.setter_)||void 0===r?void 0:r.bind(t);t.localComputedValues.set(i,(0,A.EW)(s,{set:o}))}var l=Object.getOwnPropertyDescriptor(e,i),u=l?{enumerable:l.enumerable}:{};Object.defineProperty(t,i,vO(vO({},u),{configurable:!0,get:function(){return(0,A.H8)(e,i)?t.localComputedValues.get(i).get():t.isPropertyDirty(i)?t.localValues.get(i):t.model[i]},set:(0,A.XI)((function(n){(0,A.H8)(e,i)?t.localComputedValues.get(i).set(n):n!==t.model[i]?t.localValues.set(i,n):t.localValues.delete(i)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;(0,A.HP)(this.localValues).forEach((function(t){var n=e.localValues.get(t),i=e.model[t];(0,A.Fq)(i)?i.replace(n):(0,A.uz)(i)?(i.clear(),i.merge(n)):(0,A.YQ)(n)||(e.model[t]=n)})),this.localValues.clear()}}),Object.defineProperty(e.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(e.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.localValues.delete(e)}}),mO([A.EW],e.prototype,"isDirty",null),mO([A.EW],e.prototype,"changedValues",null),mO([A.XI.bound],e.prototype,"submit",null),mO([A.XI.bound],e.prototype,"reset",null),mO([A.XI.bound],e.prototype,"resetProperty",null)}();var fO,gO=(fO=function(e,t){return fO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},fO(e,t)},function(e,t){function n(){this.constructor=e}fO(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),yO=(function(e){function t(t,n,i){var r=void 0===i?{}:i,a=r.name,s=void 0===a?"ogm"+(1e3*Math.random()|0):a,o=r.keyToName,l=void 0===o?function(e){return""+e}:o,u=e.call(this)||this;Object.defineProperty(u,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),u._keyToName=l,u._groupBy=n,u._ogmInfoKey=Symbol("ogmInfo"+s),u._base=t;for(var c=0;c<t.length;c++)u._addItem(t[c]);return u._disposeBaseObserver=(0,A.lB)(u._base,(function(e){if("splice"===e.type)(0,A.Rn)((function(){for(var t=0,n=e.removed;t<n.length;t++){var i=n[t];u._removeItem(i)}for(var r=0,a=e.added;r<a.length;r++){var s=a[r];u._addItem(s)}}));else{if("update"!==e.type)throw new Error("illegal state");(0,A.Rn)((function(){u._removeItem(e.oldValue),u._addItem(e.newValue)}))}})),u}gO(t,e),Object.defineProperty(t.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(e){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}}}),Object.defineProperty(t.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=e.prototype.get.call(this,t);return void 0===n&&(n=(0,A.sH)([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),e.prototype.set.call(this,t,n)),n}}),Object.defineProperty(t.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){var i=e.prototype.get.call(this,t);1===i.length?e.prototype.delete.call(this,t):(n===i.length-1||(i[n]=i[i.length-1],i[n][this._ogmInfoKey].groupArrIndex=n),i.length--)}}),Object.defineProperty(t.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=this._groupBy(e),i=this._getGroupArr(n),r={groupByValue:n,groupArrIndex:i.length,reaction:(0,A.mJ)((function(){return t._groupBy(e)}),(function(n,i){var r=e[t._ogmInfoKey];t._removeFromGroupArr(r.groupByValue,r.groupArrIndex);var a=t._getGroupArr(n),s=a.length;a.push(e),r.groupByValue=n,r.groupArrIndex=s}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:r}),i.push(e)}}),Object.defineProperty(t.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}})}(A.Es),function(){function e(e,t,n,i){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"versionChecker",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0});for(var r=this.closest=this.root=e,a=0;a<this.args.length-1&&(r=r.get(t[a]));a++)this.closest=r;this.closestIdx=a}return Object.defineProperty(e.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertCurrentVersion();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])}}),Object.defineProperty(e.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertCurrentVersion(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertCurrentVersion();for(var t=this.args.length,n=this.closest,i=this.closestIdx;i<t-1;i++){var r=new Map;n.set(this.args[i],r),n=r}this.closestIdx=t-1,this.closest=n,n.set(this.args[t-1],e)}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertCurrentVersion(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,n=[t],i=0;i<e-1;i++)t=t.get(this.args[i]),n.push(t);for(i=n.length-1;i>0;i--)0===n[i].size&&n[i-1].delete(this.args[i-1])}}),Object.defineProperty(e.prototype,"assertCurrentVersion",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.versionChecker(this.version))throw new Error("Concurrent modification exception")}}),e}()),bO=function(){function e(){var e=this;Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"currentVersion",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"checkVersion",{enumerable:!0,configurable:!0,writable:!0,value:function(t){return e.currentVersion===t}})}return Object.defineProperty(e.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.currentVersion>=Number.MAX_SAFE_INTEGER&&(this.currentVersion=0),this.currentVersion++,new yO(this.store,e,this.currentVersion,this.checkVersion)}}),e}(),EO=function(){return EO=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},EO.apply(this,arguments)},wO=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,r++)i[r]=a[s];return i};const SO=function(e,t){if(void 0===t&&(t=!1),(0,A.ve)(e))throw new Error("computedFn shouldn't be used on actions");var n=!1,i=0,r="boolean"==typeof t?{keepAlive:t}:t,a=new bO;return function(){for(var t,s=this,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var u,c=a.entry(o);if(c.exists())return c.get().get();if(!r.keepAlive&&!(0,A.Tx)()){!n&&(null!==(t=r.requiresReaction)&&void 0!==t?t:(0,A.sG)().computedRequiresReaction)&&(console.warn("Invoking a computedFn from outside a reactive context won't be memoized and is cleaned up immediately, unless keepAlive is set."),n=!0);var d=e.apply(this,o);return r.onCleanup&&r.onCleanup.apply(r,wO([d],o)),d}var h=(0,A.EW)((function(){return u=e.apply(s,o)}),EO(EO({},r),{name:"computedFn("+(r.name||e.name)+"#"+ ++i+")"}));return c.set(h),r.keepAlive||(0,A.q$)(h,(function(){a.entry(o).delete(),r.onCleanup&&r.onCleanup.apply(r,wO([u],o)),u=void 0})),h.get()}}(((e,t)=>(t.forEach((t=>{const n=JSON.stringify(t.names),i=e.findIndex((e=>JSON.stringify(e.names)===n));-1!==i&&(e[i]=(0,l.A)({},t))})),e)));class AO extends qy{getPlaceholders(){const e=super.getPlaceholders().concat([{names:["{{anc}}"],selector:e=>{var t,n;return null!==(t=null===(n=bg(e).params)||void 0===n?void 0:n.anc)&&void 0!==t?t:""}},{names:["{{is_embed}}"],selector:()=>"1"}]);return SO(e,[{names:["{{id_website}}"],selector:e=>{var t,n;return null!==(t=null===(n=bg(e).params)||void 0===n?void 0:n.idWebsite)&&void 0!==t?t:""}},{names:["{{id_distribution}}"],selector:e=>{var t,n;return null!==(t=null===(n=bg(e).params)||void 0===n?void 0:n.idDistribution)&&void 0!==t?t:""}},{names:["{{yclid_p}}"],selector:e=>{var t,n;return null!==(t=null===(n=bg(e).params)||void 0===n?void 0:n.yclidP)&&void 0!==t?t:""}}])}}const kO="remove-ads-module__button___RnD7G",CO="remove-ads-module__small___Yw3D7",PO=(0,_t.PA)((()=>{const{requestSubscription:e,buttonProps:{isSmall:n,position:i},canDisableAds:r,disableAdsButtonTitle:a,registerSubscriptionCTAShow:s,currentAdvertName:o}=Iy(),l=(0,t.useRef)(void 0);if((0,t.useEffect)((()=>{r&&o!==l.current&&(s(),l.current=o)}),[r,o,s]),!r)return null;return t.createElement("button",{style:{bottom:i},className:gt()(kO,{[CO]:n}),onClick:t=>{t.preventDefault(),e()}},a)})),TO=["preroll","midroll","postroll","mobilepreroll","mobilmidroll","mobilpostroll","midpostroll","mobilemidpostroll"],IO={"ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐºÐ»Ð°Ð¼Ñƒ":"button_ad_off","Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð±ÐµÐ· Ñ€ÐµÐºÐ»Ð°Ð¼Ñ‹ Ð½Ð° RUTUBE":"button_watch_no_ad","Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð° RUTUBE":"button_watch_on_rutube"};var RO;let LO,xO,OO;RO=class extends Uy{static get RemoveAdsButton(){return PO}constructor(e,t,n,i,r,a,s,o,l){LO((super(e,t,n,i,r,a,s,o),this._trackingLinks=l,this)),(0,A.Gn)(this,{disableAdsButtonTitle:A.EW,canDisableAds:A.EW})}get hasRelevantAdvert(){var e,t;const n=null!==(e=null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.advert)&&void 0!==e?e:[],i=this.currentAdvertName,r=i?TO.find((e=>i.startsWith(e))):null,a=n.length>0,s=Boolean(this.currentAdvertName),o=Boolean(r);return a&&s&&o}get hasVisibleAdvert(){var e,t,n,i;const r=(null===(e=this._advert)||void 0===e?void 0:e.currentAdvert)&&"show"===(null===(t=this._advert)||void 0===t?void 0:t.currentState)&&(null===(n=this._advert)||void 0===n?void 0:n.isLoaded)&&!(null!==(i=this._advert)&&void 0!==i&&i.isAdvertEnded);return Boolean(r)&&this.hasRelevantAdvert}get disableAdsButtonTitle(){var e;return(null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.disable_ads_button_title)||null}get canDisableAds(){return super.canDisableAds&&this.hasVisibleAdvert&&null!==this.disableAdsButtonTitle}requestSubscription(){var e,t,n;if(!this.videoUrl)return;var i;null!==(e=this._advertStat)&&void 0!==e&&e.advert&&(null===(i=this._counterHelper)||void 0===i||i.get("mainPlatformSubscriptionClickRemoveAdsButton")(this._advertStat.getCommonParams(this._advertStat.advert)));const r=String(this.disableAdsButtonTitle),a=null===(t=this._trackingLinks)||void 0===t?void 0:t.generateTrackingLink({campaign:IO[r],id:null===(n=this._playOptions)||void 0===n?void 0:n.video_id,additionalParameters:{popup:"premium_purchase",productCode:fi.JZ.RUTUBE},noMobileRedirect:!0});window.open(a,"_blank")}},({e:[LO],c:[OO,xO]}=(0,S.A)(RO,[(0,k.k_)({implement:"IPlatformSubscriptionPlugin",ctor_args:["IPlayerConfigPlugin","IStatisticState","IFullscreenPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IAdvertStatPlugin",optional:!0},"IPlayerSizePlugin",{implement:"IDataPlugin",optional:!0},{implement:"IEmbedPlugin",optional:!0},{implement:"ITrackingLinksPlugin",optional:!0}]})],[[k.zm,2,"requestSubscription"]],0,void 0,Uy)),xO();function NO(e,t){const{width:n,height:i}=e.canvas,{videoWidth:r,videoHeight:a}=t,s=Math.max(n/r,i/a),o=n/s,l=i/s,u=Math.max(0,.5*(r-o)),c=Math.max(0,.5*(a-l));e.drawImage(t,u,c,o,l,0,0,n,i)}async function DO(e,t){const n=document.createElement("canvas"),i=n.getContext("2d"),r=e.videoWidth,a=e.videoHeight;if(!i)return console.info("canvas.getContext(2d) === null"),Promise.reject("canvas.getContext(2d) === null");if(n.width=r,n.height=a,r<=a){i.filter="brightness(30%)",NO(i,e),i.filter="brightness(100%)";const t=r/a*n.height;i.drawImage(e,n.width/2-t/2,0,t,n.height)}else NO(i,e);const s=(e=>{try{let t;t=-1!==e.split(",")[0].indexOf("base64")?window.atob(e.split(",")[1]):decodeURI(e.split(",")[1]);const n=e.split(",")[0].split(":")[1].split(";")[0],i=[];for(let e=0;e<t.length;e++)i[e]=t.charCodeAt(e);return new window.Blob([new Uint8Array(i)],{type:n})}catch(e){return new window.Blob}})(n.toDataURL("image/jpeg",.7)),o=new FormData;o.append("file",s);const l=await(async(e,t)=>{const n=await fetch(`/api/video/${e}/thumbnail/`,{method:"POST",body:t});return await n.json()})(t,o);return null==l?void 0:l.thumbnail_url}const MO=()=>t.createElement("svg",{width:"220px",height:"150px",viewBox:"0 0 220 150",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fill:"red",stroke:"red",strokeWidth:"1",transform:"scale(1,-1) translate(0,-150)",d:" M112.730712890625 55.846142578125C113.76005859375 54.875830078125 114.40107421875 53.503125 114.40107421875 51.980712890625S113.760205078125 49.085595703125 112.733349609375 48.1177734375L112.730712890625 48.115283203125C111.715576171875 47.13603515625 110.33203125 46.532666015625 108.807568359375 46.532666015625S105.89970703125 47.13603515625 104.8828125 48.11689453125L80.769140625 70.03828125C79.76923828125 71.02265625 79.149755859375 72.3908203125 79.149755859375 73.9037109375S79.76923828125 76.784765625 80.768408203125 77.768408203125L80.769140625 77.769140625C81.79541015625 78.722900390625 83.175439453125 79.308251953125 84.69228515625 79.308251953125S87.58916015625 78.722900390625 88.6189453125 77.765771484375z M114.346142578125 49.6154296875C112.730712890625 47.077001953125 110.07685546875 48.230859375 107.422998046875 49.6154296875V49.6154296875C105.666357421875 50.53681640625 104.488623046875 52.34765625 104.488623046875 54.433740234375C104.488623046875 55.662890625 104.8974609375 56.79638671875 105.586669921875 57.705908203125L133.96142578125 101.884716796875C134.998095703125 103.522265625 136.8 104.59365234375 138.852099609375 104.59365234375C139.89609375 104.59365234375 140.875341796875 104.316357421875 141.720263671875 103.83134765625L141.692138671875 103.846142578125C143.337451171875 102.894140625 144.4265625 101.14248046875 144.4265625 99.1365234375C144.4265625 98.106005859375 144.13916015625 97.142724609375 143.640087890625 96.322265625z M208.3845703125 150H10.846142578125C10.56357421875 150.028564453125 10.23544921875 150.04482421875 9.903515625 150.04482421875C4.423095703125 150.04482421875 -0.01962890625 145.602099609375 -0.01962890625 140.1216796875C-0.01962890625 139.902978515625 -0.01259765625 139.685888671875 0.001318359375 139.470556640625L-0.000146484375 10.03828125C-0.010107421875 9.87451171875 -0.0158203125 9.68291015625 -0.0158203125 9.49013671875C-0.0158203125 4.20087890625 4.271923828125 -0.08671875 9.56103515625 -0.08671875C10.014111328125 -0.08671875 10.460009765625 -0.055224609375 10.89638671875 0.00556640625L208.384423828125 -0.000146484375C208.77041015625 -0.055224609375 209.216162109375 -0.08671875 209.669384765625 -0.08671875C214.958642578125 -0.08671875 219.246240234375 4.201025390625 219.246240234375 9.49013671875C219.246240234375 9.68291015625 219.24052734375 9.87451171875 219.229248046875 10.064501953125L219.230419921875 139.499853515625C219.24287109375 139.6857421875001 219.24990234375 139.90283203125 219.24990234375 140.1216796875C219.24990234375 145.602099609375 214.807177734375 150.04482421875 209.3267578125 150.04482421875C208.99482421875 150.04482421875 208.66669921875 150.028564453125 208.34326171875 149.996630859375zM150.69228515625 138.461572265625H173.07685546875V126.92314453125H150.922998046875zM161.538427734375 115.3845703125V34.615283203125H57.69228515625V115.3845703125zM92.30771484375 138.461572265625H126.92314453125V126.92314453125H92.30771484375zM47.07685546875 138.461572265625H69.230712890625V126.92314453125H47.07685546875zM46.153857421875 34.6154296875H11.538427734375V115.384716796875H46.153857421875zM69.230712890625 11.538427734375H47.07685546875V23.07685546875H69.230712890625zM126.92314453125 11.538427734375H92.30771484375V23.07685546875H126.92314453125zM173.07685546875 11.538427734375H150.922998046875V23.07685546875H173.07685546875zM207.69228515625 34.6154296875H173.07685546875V115.384716796875H207.69228515625z"})),BO="snapshot-button-module__wrapperSnapshot___tjQ6b",FO=(0,_t.PA)((()=>{const{sendSnapshot:e,blackRabbit:n}=(0,Dt.Ks)("ISnapshotPlugin");if(n)return t.createElement("button",{type:"button",className:BO,onClick:()=>{e()}},t.createElement(MO,null))}));var HO,VO;let UO,jO,WO;new(VO=class extends k.j8{constructor(e,t){super(),this._playback=e,this._playOptions=t,this.sendSnapshot=this.sendSnapshot.bind(this)}get blackRabbit(){var e;return null===(e=this._playOptions)||void 0===e?void 0:e.black_rabbit}sendSnapshot(){var e;return null!==(e=this._playOptions)&&void 0!==e&&e.video_id?DO(this._playback.player,this._playOptions.video_id):null}},[WO,UO]=(0,S.A)(VO,[(0,k.k_)({implement:"ISnapshotPlugin",ctor_args:["IPlayback","IDataPlugin"]})],[],0,void 0,k.j8).c,jO=VO,(HO=class extends V{constructor(){super(WO),this.SendSnapshotButton=FO,UO()}})[jO]=void 0,HO);const zO=()=>(0,Dt.Ks)("IStartScreenPlugin"),$O="background-image-module__poster___cOxTl",GO=(0,_t.PA)((()=>{const{thumbnailUrl:e,title:n,playerWidth:i,play:r}=zO();if(e)return t.createElement(sv,{"data-testid":"ui-poster",id:"raichuVideoPoster",src:e,className:$O,playerWidth:i,alt:n,onClick:()=>{r()}})})),qO="play-button-module__controlBtn___g38Bi",KO="play-button-module__controlBtnStartScreen___bGXZV",YO="play-button-module__startScreen___mHIFK",QO=(0,_t.PA)((()=>{const{color:e}=ib(),n=zO();return t.createElement("div",{className:gt()(qO,KO)},t.createElement(R_,{action:"play",bgColor:e,withBg:!0,big:!0,onClick:()=>{n.play()},className:"front-control",tooltipDisabled:!0,wrapperClassName:YO}))})),XO="start-screen-module__startScreenWrapper___jRKa_",ZO=(0,_t.PA)((()=>{const{isShowStartScreen:e,videoRedirectUrl:n,needToShowLogo:i,counterHelper:r}=zO(),a=(0,t.useCallback)((()=>{null==r||r.get("mainWatchOnRutubeShow")(),null==r||r.get("mainWatchOnRutubeShowOld")()}),[]);return e?t.createElement("div",{className:gt()(XO),"data-testid":"start-screen"},t.createElement(GO,null),i&&t.createElement(Zx,{href:n,onClick:()=>{null==r||r.get("mainWatchOnRutubeClick")({clickedUrl:n}),null==r||r.get("mainWatchOnRutubeClickOld")({clickedUrl:n})},onShow:a}),t.createElement(QO,null)):null}));var JO,eN;let tN,nN,iN;new(eN=class extends k.j8{constructor(e,t,n,i,r){super(),this.__data=void 0,this.__playbackPlugin=void 0,this.__playerSize=void 0,this.__counterHelper=void 0,this.trackingLinks=r,this.__data=e,this.__playbackPlugin=t,this.__playerSize=n,this.__counterHelper=i instanceof Rx?i.counterHelper:void 0,this.play=this.play.bind(this)}play(){return this.__playbackPlugin.play()}get videoUrl(){var e,t;return null!==(e=null===(t=this.__data.data)||void 0===t?void 0:t.video_url)&&void 0!==e?e:""}get needToShowLogo(){var e;return Boolean(null===(e=this.__data.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.show_logotype)}get videoRedirectUrl(){return this.trackingLinks.generateTrackingLink({campaign:"main_logo"})}get title(){return this.__data.title||""}get thumbnailUrl(){return this.__data.poster||""}get playerWidth(){var e;return null===(e=this.__playerSize.size)||void 0===e?void 0:e.width}get wasStarted(){return this.__playbackPlugin.wasStarted}get isShowStartScreen(){var e;return Boolean(this.thumbnailUrl)&&!this.wasStarted&&!(null!==(e=this.__data.appearance)&&void 0!==e&&e.auto_start)}get counterHelper(){return this.__counterHelper}},[iN,tN]=(0,S.A)(eN,[(0,k.k_)({implement:"IStartScreenPlugin",ctor_args:["IDataPlugin","IPlayback","IPlayerSizePlugin","IStatisticState","ITrackingLinksPlugin"]})],[],0,void 0,k.j8).c,nN=eN,(JO=class extends V{constructor(){super(iN),this.StartScreen=ZO,tN()}})[nN]=void 0,JO);const rN=function(e,n){function i(n,i){const r=Object.assign({onInitStarted:Function.prototype,onInitCompleted:Function.prototype},null==e?void 0:e.hooks);function a(e,i){const r=function(e){const n=t.useRef();return t.useEffect((()=>{n.current=e})),n.current}(e);t.useEffect((()=>{var t;r&&i&&(null===(t=n.update)||void 0===t||t.call(n,i.resolve,e,r))}),[e])}const s=t.memo((function(e){const s=function(e){const[i,a]=t.useState();return t.useEffect((()=>{r.onInitStarted(e);const t=new k.sy;return n.create(t,e),(async()=>{try{await t.boot(),a(t)}catch(e){console.error(e)}})(),r.onInitCompleted(e),()=>{(async()=>{try{await t.shutdown()}catch(e){console.error(e)}})()}}),[]),i}(e);return a(e,s),s?t.createElement(na.o.Provider,{value:s},t.createElement(i)):null}));return s.displayName=`${n.name}PlayerPluginContainer`,s}return e&&n?i(e,n):e&&!n?function(t){return i(e,t)}:!e&&n?function(e){return i(e,n)}:"makeDiRoot: invalid arguments"}({name:"EmbedPlayer",create:function(e,t){e.registerConstant("Resolve",e.resolve).registerConstant("InitialProps",(0,l.A)((0,l.A)({},t),{},{ts:Date.now(),userPaidSubscription:[]})).registerConstant("StatisticNamespace","Raichu Metrics").registerConstant("ExternalEventsNamespace","player").registerConstant("IsEmbed",!0).registerConstant("IsPreview",!1).registerConstant("LoggerNamespace","player-embed").registerPlugin(ic).registerPlugin(lc).registerPlugin(Sc).registerPlugin(F).registerPlugin(Zc).registerPlugin(Rd).registerPlugin(hn).registerPlugin(_n).registerPlugin(Nx).registerPlugin(Bx).registerPlugin(AO).registerPlugin(Vx).registerPlugin(Ag).registerPlugin(wn).registerPlugin(D).registerPlugin(Xm).registerPlugin(hS).registerPlugin(In).registerPlugin(wP).registerPlugin(si).registerPlugin(oS).registerPlugin(mv).registerPlugin(ci).registerPlugin(ZS).registerPlugin(eg).registerPlugin(mi).registerPlugin(Ai).registerPlugin(Uw).registerPlugin(ky).registerPlugin(mP).registerPlugin(ko).registerPlugin(Li).registerPlugin(aP).registerPlugin(Gi).registerPlugin(JT).registerPlugin(LP).registerPlugin(zT).registerPlugin(KT).registerPlugin(JC).registerPlugin(iN).registerPlugin(Dg).registerPlugin(Rx).registerPlugin(kR).registerPlugin(Xi).registerPlugin(gx).registerPlugin(ar).registerPlugin(Vr).registerPlugin(Cw).registerPlugin($r).registerPlugin(Kg).registerPlugin(Bw).registerPlugin(Xw).registerPlugin(OO).registerPlugin(Qp).registerPlugin(nw).registerPlugin(hw).registerPlugin(S_).registerPlugin(bL).registerPlugin(tx).registerPlugin(rO).registerPlugin(MI).registerPlugin(DR).registerPlugin(WO).registerPlugin(WL).registerPlugin(Qr).registerPlugin(bR).registerPlugin(ea).registerConstant("PlayerVersion","2.85.0-embed")},update:function(e,t){const n=e("IPlayerConfigPlugin"),i=n.get("videoId");mi.assertInstance(n),i!==t.videoId&&n.set("ts",Date.now()),n.setBulk([{key:"videoId",value:t.videoId},{key:"userId",value:t.userId}])},hooks:{onInitStarted:t=>{let{videoId:n}=t;jr.Ug.emit(fi.L2.INIT,{videoId:n,clientId:(0,e.yk)()})},onInitCompleted:t=>{let{videoId:n}=t;jr.Ug.emit(fi.L2.READY,{videoId:n,clientId:(0,e.yk)()})}}}),aN=rN((()=>{var e;return t.createElement(w,{forceThemeId:"dark2021"},t.createElement(kx,{playbackComponent:Qp.Playback,controlsComponent:Bx.Controls,settingsComponent:nw.VideoSettings,controlsInputComponents:(0,l.A)((0,l.A)({},Bx.InputControls),{},{captionsButtonComponent:Zc.CaptionButton,seasonsWidgetComponent:zT.SeasonsWidget,chaptersButtonComponent:Rd.ChapterButton}),captionsComponent:Zc.Captions,endScreenComponent:Xm.EndScreen,pauseScreenComponent:eg.PauseScreen,seasonsFullScreenComponent:zT.SeasonsFullScreen,stubComponent:Vr.StubPluginView,infoLayerComponent:si.InfoLayerPluginView,advertComponent:ic.Advert,contextMenuComponent:hn.ContextMenu,video360Component:MI.Video360,activitiesComponent:WL.Activities,statsForNerdsComponent:gx.StatsForNerds,notificationsComponent:XS.Notifications,sharePopupComponent:JC.SharePopup,shareButtonComponent:JC.ShareButton,counterHelper:null===(e=vs())||void 0===e?void 0:e.counterHelper,channelSubscriptionComponent:Nx.ChannelSubscription,removeAdsButtonComponent:OO.RemoveAdsButton,startScreenComponent:iN.StartScreen,highlightRutube:rO.HighlightRutube,posterComponent:aP.Poster,snapshotButton:WO.SendSnapshotButton,communicationBannerComponent:bR.CommunicationBanner}))})),sN=()=>{const[e,n]=(0,t.useState)((0,i.uT)()),r=(()=>{const[e,n]=(0,t.useState)((0,i.DU)());return(0,t.useEffect)((()=>{const e=e=>{var t;if("string"!=typeof e.data)return;let i;try{i=JSON.parse(e.data)}catch(e){return}if("player:changeVideo"!==(null===(t=i)||void 0===t?void 0:t.type))return;const{id:r,params:a}=i.data,{hash:s}=a||{};n(r||s)};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),e})(),a=()=>{n(!1)};return r?e?t.createElement(o,{handleStubPlay:a,backgroundImage:r?`/api/video/${r}/thumbnail/?redirect=1`:""}):t.createElement(aN,{videoId:r}):null};!function(e,t,n,i,r,a,s){e[i]=e[i]||[],null===(a=e[i])||void 0===a||a.push({"gtm.start":(new Date).getTime(),event:"gtm.js"});const o=t.getElementsByTagName(n)[0],l=t.createElement(n);l.async=!0,l.src="https://www.googletagmanager.com/gtm.js?id=GTM-PS8LV5W",null===(s=o.parentNode)||void 0===s||s.insertBefore(l,o)}(window,document,"script","dataLayer"),console.info("Version: 2.85.0-embed");const oN=document.getElementById("app");(0,e.Vy)().catch((e=>console.info("initFingerprint catch",e))).then((()=>{if(oN){(0,n.H)(oN).render(t.createElement(sN,null))}})).catch((e=>console.info("Embed init failed",e)))})()})();